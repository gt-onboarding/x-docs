---
title: 使用与生成仅限应用的 Bearer 令牌
sidebarTitle: 生成与使用仅限应用的 Bearer 令牌
---

<div id="using-and-generating-an-app-only-bearer-token">
  ### 使用和生成仅限应用的 Bearer Token
</div>

Bearer Token 可为开发者在使用 X API 时提供更安全的接入方式，并且是 OAuth 2.0 的核心功能之一。

使用 Bearer Token 的身份验证也称为仅限应用的身份验证。Bearer Token 是一种未指定格式的字节数组，你可以通过使用诸如 curl 命令之类的脚本生成。你也可以在开发者门户中，前往应用设置的“密钥与令牌”部分获取 Bearer Token。关于此功能的更多信息请参见 [OAuth 的官方文档](https://oauth.net/2/bearer-tokens/)。

<div id="when-are-they-used">
  #### 何时使用？
</div>

需要使用 Bearer Token 的产品包括：

- [Engagement API](/zh/x-api/enterprise-gnip-2.0/fundamentals/engagement-api)
- [Account Activity API](/zh/x-api/enterprise-gnip-2.0/fundamentals/account-activity)
- 其他使用 OAuth 2.0 Bearer Token 进行认证的 API，例如 v2 和 Labs 端点。

<div id="prerequisites">
  #### 先决条件
</div>

你需要先[注册开发者账号](https://developer.x.com/en/portal/petition/essential/basic-info)，并创建一个[X App](/zh/resources/fundamentals/developer-apps)。完成后，还需要在[开发者门户](/zh/resources/fundamentals/developer-portal)中获取 API 密钥。请按以下步骤进行：

1. 在 developer.x.com 登录你的 X 账号。
2. 前往 [X App 仪表板](https://developer.x.com/content/developer-twitter/en/apps)，打开你希望为其生成访问令牌的 X App。
3. 进入“keys and tokens”页面。
4. 你将在该页面找到 API keys、用户 Access Tokens 和 Bearer Token。

<div id="how-to-generate-a-bearer-token">
  ### 如何生成 Bearer Token
</div>

你可以在应用的“Keys and Tokens”中找到该应用的 Bearer Token。

将以下 cURL 请求复制到命令行中，并将其中的消费者 API 密钥替换为你先前从 [X App](/zh/resources/fundamentals/developer-apps) 获取的值。请注意，本页示例所用的消费者 API 密钥已停用，无法用于真实请求。

- **API key** `<API key>`，例如 `xvz1evFS4wEEPTGEFPHBog`
- **API secret key** `<API secret key>`，例如 `L8qq9PZyRg6ieKGEKhZolGC0vJWLw8iEJ88DRdyOg`

  ```bash
  curl -u "$API_KEY:$API_SECRET_KEY" \
  --data 'grant_type=client_credentials' \
  'https://api.x.com/oauth2/token'
  ```

以下是填入你的 API 密钥后，curl 请求的示例：

```bash
   curl -u 'xvz1evFS4wEEPTGEFPHBog:L8qq9PZyRg6ieKGEKhZolGC0vJWLw8iEJ88DRdyOg' \
  --data 'grant_type=client_credentials' \
  'https://api.x.com/oauth2/token'
```

下面是响应示例。请注意，这是一个已停用的 Bearer Token：

`{"token_type":"bearer","access_token":"AAAAAAAAAAAAAAAAAAAAAMLheAAAAAAA0%2BuSeid%2BULvsea4JtiGRiSDSJSI%3DEUifiRBkKG5E2XzMDjRfl76ZC9Ub0wnz4XsNiRVBChTYbJcE3F"}`

用于通过 OAuth 2.0 访问资源进行身份验证的 Bearer Token 为：

`AAAAAAAAAAAAAAAAAAAAAMLheAAAAAAA0%2BuSeid%2BULvsea4JtiGRiSDSJSI%3DEUifiRBkKG5E2XzMDjRfl76ZC9Ub0wnz4XsNiRVBChTYbJcE3F`