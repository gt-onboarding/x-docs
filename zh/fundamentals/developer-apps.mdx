---
title: 开发者应用
icon: wrench
---

<div id="overview">
  ## 概览
</div>

如果你已有应用，可通过[开发者门户的 App 页面](https://developer.x.com/en/portal/projects-and-apps)查看、编辑或删除它们。

访问 X API 和 X 广告 API 需要一组[身份验证](/zh/resources/fundamentals/authentication)凭据（亦称密钥和令牌），你必须在每个请求中携带。具体凭据的形式取决于你所使用端点所要求的身份验证类型。

以下是你可在应用中生成的不同凭据及其用法：

- **[API Key 和 Secret](/zh/resources/fundamentals/authentication#api-key-and-secret)：** 本质上是你的应用的用户名和密码。你将使用它们对需要 [OAuth 1.0a 用户上下文](/zh/resources/fundamentals/authentication#oauth-1-0a-2)的请求进行身份验证，或用以生成其他令牌，例如用户访问令牌或应用访问令牌。

- **[访问令牌和密钥](/zh/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow)：** 一般而言，访问令牌代表你所代为发起请求的用户。通过开发者门户生成的访问令牌代表该应用的所有者。你将使用它们对需要 [OAuth 1.0a 用户上下文](/zh/resources/fundamentals/authentication#oauth-1-0a-2)的请求进行身份验证。若需代表其他用户发起请求，你需要使用三段式 OAuth 流程以获取对方授权。

- **[Client ID 和 Client Secret](/zh/resources/fundamentals/authentication#oauth-2-0)：** 这些凭据用于通过 OAuth 2.0 身份验证获取用户访问令牌。与 OAuth 1.0a 类似，用户访问令牌用于对涉及私有用户账户信息或代表其他账户执行操作的请求进行身份验证，但具备更细粒度的作用域，可更好地控制客户端应用对用户的访问权限。

- **[仅应用访问令牌](/zh/resources/fundamentals/authentication#bearer-token-also-known-as-app-only)：** 当你向仅返回 X 上公开可用信息的端点发起请求时，使用此令牌。

除生成发起 X API 请求所需的密钥和令牌外，你还可以设置访问[权限](/zh/resources/fundamentals/developer-apps#app-permissions)、记录应用的用例或目的、定义[回调 URL](/zh/resources/fundamentals/developer-apps#callback-urls)，并在[管理控制台](https://developer.x.com/en/portal/projects-and-apps)中修改与你的应用开发者环境相关的其他设置。

<div id="apps-and-projects">
  ### 应用与项目
</div>

您可以使用应用和[项目](/zh/resources/fundamentals/projects)，按用例来组织您在 X 开发者平台上的工作。每个项目在 Free X API 方案下可包含一个应用，在 Basic 方案下最多可包含两个应用，在 Pro 方案下最多可包含三个应用。

如果您希望访问新的 [X API v2](/zh/x-api/introduction) 端点，则必须使用隶属于某个项目的应用所提供的密钥和令牌。

如果您有在我们推出“项目”之前创建的应用，它们会显示在名为“独立应用”的部分。“独立应用”是指不在项目结构内的应用。如果您将独立应用关联到某个项目，随后即可向 v2 端点发起请求。

<div id="developer-portal-dashboard">
  ### 开发者门户仪表板
</div>

您可以[访问仪表板](https://developer.x.com/content/developer-twitter/en/apps)来管理与您账户关联的应用。欲了解更多，请参阅我们关于[开发者门户](/zh/resources/fundamentals/developer-portal)的文档页面。该仪表板可帮助开发者快速、便捷地完成以下任务：

- 查看您现有的独立应用及其对应的 App ID。
- 创建新的项目、应用或独立应用。
- 删除未使用的项目或应用。
- 查看或更新特定应用的设置，包括名称、描述、网站、回调 URL，以及[权限](/zh/resources/fundamentals/developer-apps#app-permissions)。
- 重新生成应用的专用凭证，例如 API Key 与 Secret、App Access Token，以及应用所有者的用户 Access Token。

<div id="signing-up-for-access">
  ### 注册访问权限
</div>

如果你已有 X 应用，并已在 developer.x.com 登录你的 X 账户，可通过 X 的 [App dashboard](https://developer.x.com/content/developer-twitter/en/portal/projects-and-apps) 查看和编辑你的应用。请注意，你**无需**注册新账户即可管理先前在 developer.x.com 上创建的所有应用。

如果你需要创建新的 X 应用，需先[注册开发者账户](https://developer.x.com/en/portal/petition/essential/basic-info)。如果你属于[团队账户](/zh/resources/fundamentals/developer-portal#team-management)，必须被授予管理员角色才能创建新应用。

<div id="automated-account-labeling-for-bots">
  ### 机器人账户的“自动化账户”标注
</div>

你可以为你的机器人账户添加“自动化账户”标注，让 X 上的用户知道你的机器人是自动化账户。这些机器人通过 X API 执行预设操作。为机器人添加“自动化账户”标注有助于与你的受众建立信任，提升账户可信度，并将其与垃圾机器人区分开来。这有助于 X 上的用户在与机器人互动时更好地理解你账户的目的。

要为你的机器人账户添加标注，请按以下步骤操作：

1. 前往账户设置
2. 选择“Your account”
3. 选择“Automation”
4. 选择“Managing account”
5. 接着，选择运行你机器人账户的 X 账户
6. 输入密码登录
7. 最后，你应当会看到标注已应用到你账户的确认信息。

---

<div id="app-management">
  ## 应用管理
</div>

<div id="introduction">
  ### 介绍
</div>

[X 应用仪表板](https://developer.x.com/en/portal/projects-and-apps) 允许开发者快速、轻松地完成以下任务：

- 查看你现有的应用和[项目](/zh/resources/fundamentals/projects)及其关联的 App ID。
- 创建新项目或独立应用。
- 删除项目、应用或独立应用。
- 进入某个应用的设置以打开该应用的设置。在设置中，你可以查看应用详情、密钥与令牌，以及权限。
- 将应用的用户身份验证设置更新为使用 OAuth 1.0a 或 OAuth 2.0。

<Note>
  **注意：**

  所有应用密钥和令牌已无法在开发者门户中查看，生成后必须妥善保存。我们建议使用密码管理器存储你的密钥和令牌。

  你可以显示 API Key 提示，以帮助你将凭据与其对应的应用匹配。
</Note>

<div id="app-settings">
  ### 应用设置
</div>

<div id="app-details">
  #### 应用详情
</div>

在这里，您可以编辑应用图标、应用名称、应用描述、网站 URL、[回调 URL/重定向 URI](/zh/resources/fundamentals/developer-apps#callback-urls)、服务条款 URL、隐私政策 URL、组织名称、组织 URL，以及该应用的目的或使用场景。

OAuth 2.0 和 OAuth 1.0a 是身份验证方式，允许用户使用 X 登录您的应用。它们还允许您的应用代表已认证用户发起特定请求。您可以为应用启用其中一种或两种方式。

务必保持这些信息为最新。您的应用名称和网站 URL 将在应用以编程方式创建的任何帖子（Tweet）的元数据中显示为来源。如果您更改了某个 X 应用的使用场景，请务必在这些设置中更新，以确保遵守[开发者条款](https://developer.x.com/content/developer-twitter/en/developer-terms/agreement-and-policy)。

如果您的应用带有“已暂停”标签，原因是其违反了一项或多项 X 的[开发者条款](https://developer.x.com/en/developer-terms.html)，例如我们的[自动化规则](https://help.x.com/en/rules-and-policies/twitter-automation)。开发者平台政策团队将通过设置在应用所有者 X 账号上的电子邮箱与开发者沟通。要查看该邮箱，请前往[X 账号设置](https://x.com/settings/your_twitter_data/account)。关于暂停的通知邮件将发送至该邮箱，邮件标题类似于“Application suspension notice”，并包含下一步操作的具体说明。若需与 X 团队配合处理暂停事宜，请查收邮件获取具体指引，或使用我们的[平台帮助表单](https://help.x.com/forms/platform)。

<div id="keys-and-tokens">
  #### 密钥与令牌
</div>

在项目中的某个应用内，或通过独立应用，您可以查看、重新生成或撤销以下令牌：

- [API Key（Consumer Key）和 API Secret（Consumer Secret）](/zh/resources/fundamentals/authentication#api-key-and-secret)
- [App Access Token](/zh/resources/fundamentals/authentication#bearer-token-also-known-as-app-only)
- [User Access Token 和 Access Token Secret](/zh/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) -
  开发者门户中可用的 Access Token 和 Secret 对应于拥有该应用的用户。

**请注意**：如果您希望代表其他用户发起请求（也就是说，不是拥有该应用的用户），需要使用 [OAuth 1.0a 三方 OAuth 流程](https://developer.x.com/resources/fundamentals/authentication/obtaining-user-access-tokens) 或 OAuth 2.0 的[带 PKCE 的授权码流程](/zh/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2)来生成一组用户 Access Token。随后，您应在对 API 的请求中使用这些用户特定的令牌。

<div id="user-authentication-settings">
  #### 用户身份验证设置
</div>

你可以将应用的身份验证设置为 OAuth 1.0a 或 OAuth 2.0。OAuth 2.0 仅适用于 X API v2。OAuth 2.0 允许你选择更细粒度的特定权限范围（scopes），以代表用户授予相应权限。OAuth 1.0a 可用于 X API v1.1 和 v2，并采用较为宽泛的授权与粗粒度的权限范围。

<div id="oauth-10a-application-user-permissions">
  #### OAuth 1.0a 应用-用户权限
</div>

如果你是该应用的所有者，你可以调整该应用的权限（仅限读取；读取和写入；或读取、写入及私信）。这将决定你通过 X API 可访问的资源和事件（注意：某些资源需要直接向 X 申请额外权限）。

你还可以在此页面开启或关闭应用请求用户电子邮箱地址的能力（这要求在“应用详情”页面提供服务条款 URL 和隐私政策 URL）。

<div id="oauth-20-type-of-app">
  #### OAuth 2.0 应用类型
</div>

如果你选择使用 OAuth 2.0 作为用户身份验证方法，则需要选择要创建的应用类型。可选项包括 Native App、Single Page App、Web App、Automated App 或 bot。Native App 和 Single Page App 属于公开客户端，Web App 与 Automated App 或 bot 属于机密客户端。

机密客户端会与授权服务器安全地完成认证，并妥善保存你的客户端密钥。公开客户端通常在浏览器或移动设备上运行，无法使用你的客户端密钥。如果你选择的应用类型是机密客户端，我们将向你提供一个客户端密钥。

---

<div id="app-permissions">
  ## 应用权限
</div>

<div id="oauth-10a-app-permissions">
  ### OAuth 1.0a 应用权限
</div>

应用权限描述 OAuth 1.0a 应用与用户之间身份验证的访问级别。你可以在 [X App](/zh/resources/fundamentals/developer-apps) 的应用设置中为每个应用配置权限。

共有三个权限级别：

1. 仅读取
2. 读取和写入
3. 读取、写入，以及访问私信

另有一项附加权限可用于请求查看用户的电子邮箱地址——该权限可与上述任意一个级别组合。

如果权限级别发生变更，已签发给该 X 应用的所有用户令牌都必须作废，用户需重新授权该应用，令牌才能继承更新后的权限。

最佳实践是仅请求应用或服务为完成任务所需的、对用户账号数据的最低访问级别。

<div id="read-only">
  ### 只读
</div>

此权限级别允许对 X 资源进行读取访问，包括（例如）用户的帖子、首页时间线和个人资料信息。它不允许读取用户的私信，也不允许更新任何元素或对象。

<div id="read-and-write">
  ### 读取与写入
</div>

此权限级别允许对 X 资源进行读取和写入访问。除读取访问外，还可发布帖子、关注用户，或更新用户个人资料信息的部分内容。还可代表进行身份验证的用户隐藏回复。此权限级别不允许访问任何私信（包括读取、写入或删除）。

<div id="read-write-and-access-direct-messages">
  ### 读取、写入和访问私信
</div>

此权限级别包含上述所有权限，并另外允许代表用户读取、写入和删除私信。

- [POST /2/dm\_conversations/:dm\_conversation\_id/messages](/zh/x-api/direct-messages/send-a-new-message-to-a-dm-conversation)
- [POST /2/dm\_conversations/](/zh/x-api/direct-messages/create-a-new-dm-conversation)
- [POST /2/dm\_conversations/with/:participant\_id/messages](/zh/x-api/direct-messages/send-a-new-message-to-a-user)
- [GET /2/dm\_conversations/with/:user\_id/dm\_events](/zh/x-api/direct-messages/get-dm-events-for-a-dm-conversation)
- [GET /2/dm\_conversations/:dm\_conversation\_id/dm\_events](/zh/x-api/direct-messages/get-dm-events-for-a-dm-conversation-1)
- [GET /2/dm\_events](/zh/x-api/direct-messages/get-recent-dm-events)

<div id="determining-permissions">
  ### 确定权限
</div>

所有已验证的 API 请求都会在 HTTP 响应中返回一个 `x-access-level` 头部。该头部的值表示当前生效的权限级别。可能的取值为：read、read-write 和 read-write-directmessages。

<div id="callback-urls">
  ## 回调 URL
</div>

OAuth 1.0a 用户上下文和 OAuth 2.0 授权码（含 PKCE）这两种身份验证方式，允许开发者代表完成特定登录流程的不同 X 用户发起请求。目前，你可以使用以下两种流程让用户授权你的应用：

- [OAuth 2.0 授权码流程（含 PKCE）](/zh/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2)
- [OAuth 1.0a 三方 OAuth 流程](/zh/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow)（以及独立的[使用 X 登录](/zh/resources/fundamentals/authentication#log-in-with-x)流程）

当用户完成这些流程、成功登录并向开发者的 App 授权后，需要被重定向到某个网页或位置。这个后续网页或位置称为回调 URL。

在为潜在用户配置这些流程时，开发者必须在发往上述流程所涉及的身份验证端点的请求中传递回调 URL。比如，使用 OAuth 1.0a 用户上下文的开发者在请求 [GET oauth/request\_token](/zh/resources/fundamentals/authentication#post-oauth-request-token) 端点时必须传递 `callback_url` 参数。同样，使用 OAuth 2.0 授权码（含 PKCE）的开发者在向 GET oauth2/authorize 端点发起请求时必须传递 `redirect_uri` 参数。

除了传递这些参数外，开发者还必须确保已将该回调 URL 添加到其 [App](/zh/resources/fundamentals/developer-apps) 的回调 URL 允许列表中，该列表可在[开发者门户](/zh/resources/fundamentals/developer-portal)的 App 设置页面找到。

如果配置正确，作为这些流程的一部分，用户在成功登录 X 后将被重定向到回调 URL。

<div id="things-to-keep-in-mind">
  ### 注意事项
</div>

在设置回调 URL 时，请留意以下几点：

**对查询参数进行 HTTP 编码**

由于您会通过 `callback_url` 或 `redirect_uri` 参数将回调 URL 作为查询参数传递，请确保对该 URL 进行 HTTP 编码。

**回调 URL 限制**

X Apps 控制台中的回调 URL 有硬性上限：最多 10 个。您的回调 URL 必须与您在 Apps 控制台允许列表中添加的回调 URL，以及在授权流程中使用的参数严格一致、精确匹配。

如果您希望在回调 URL 中包含与请求相关的数据，可以使用 `state` 参数来存储在用户重定向后需要包含的数据。可以将数据直接编码在 `state` 参数中，或将该参数用作会话 ID，在服务器上存储状态。

**不要使用 localhost 作为回调 URL**
请勿使用 localhost；请在本地使用自定义主机，或使用 http(s)://127.0.0.1

**自定义协议 URL**
如果您想利用移动端深度链接，可使用包含路径和域名部分的自定义协议 URL，例如 twitter://callback/path。不过，我们确实有一份禁止使用的协议列表，您需要避免使用。您可以在下方查看该列表。

**禁止的协议**

|    |    |
|:----------|:----------|
| `vbscript` | `ldap` |
| `javascript` | `mailto` |
| `vbs` | `mmst` |
| `data` | `mmsu` |
| `mocha` | `msbd` |
| `keyword` | `rtsp` |
| `livescript` | `mso-offdap` |
| `ftp` | `snews` |
| `file` | `news` |
| `gopher` | `nntp` |
| `acrobat` | `outlook` |
| `callto` | `stssync` |
| `daap` | `rlogin` |
| `itpc` | `telnet` |
| `itms` | `tn3270` |
| `firefoxurl` | `shell` |
| `hcp` | `sip` |

<div id="error-example">
  ### 错误示例
</div>

如果你使用的回调 URL 未在开发者门户的应用设置中正确添加，你将收到以下错误消息：

**OAuth 1.0a**

```json HTTP 403 - Forbidden

{
  "errors": [
    {
      "code":415,"message":"Callback URL not approved for this client application. Approved callback URLs can be adjusted in your application settings."
    }
  ]
}
```

或

```xml
<?xml version="1.0" encoding="UTF-8"?>
<hash>
<error>Callback URL not approved for this client application. Approved callback URLs can be adjusted in your application settings</error>
<request>/oauth/request_token</request>
</hash>
```

**OAuth 2.0**

```json HTTP 400

{
  "error": "invalid_request",
  "error_description": "Value passed for the redirect uri did not match the uri of the authorization code."
}
```

**故障排查**

如果出现错误，请确保在认证请求中使用的回调 URL 已进行 HTTP 编码，并且与该应用（即你在请求中使用其密钥和令牌的应用）已加入允许列表的某个回调 URL 完全匹配。