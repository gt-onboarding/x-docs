---
title: ä½¿ç”¨ X API v2 æ¢ç´¢ç”¨æˆ·çš„å¸–å­ä¸æåŠ
description: "â€œç”¨æˆ·å¸–å­æ—¶é—´çº¿â€å’Œâ€œç”¨æˆ·æåŠæ—¶é—´çº¿â€ç«¯ç‚¹å…è®¸å¼€å‘è€…æ£€ç´¢æŸç”¨æˆ·å‘å¸ƒçš„å…¬å…±å¸–å­ï¼Œæˆ–æåŠè¯¥ç”¨æˆ·çš„å…¬å…±å¸–å­ã€‚"
sidebarTitle: æ¢ç´¢ç”¨æˆ·çš„å¸–å­
mode: wide
---

<div id="introduction">
  ## ä»‹ç»
</div>

[æœ€è¿‘æœç´¢ç«¯ç‚¹](/zh/x-api/posts/search/introduction)ä»…æ”¯æŒè·å–è¿‡å» 7 å¤©å†…å‘å¸ƒçš„å¸–å­ï¼›è€Œç”¨æˆ·å¸–å­æ—¶é—´çº¿å’Œç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹åˆ™å…è®¸ä½ é’ˆå¯¹å·²æˆæƒç”¨æˆ·ï¼ˆé€šè¿‡ç”¨æˆ· IDï¼‰æ£€ç´¢æ—©äº 7 å¤©çš„å¸–å­å’ŒæåŠã€‚å¼€å‘è€…å¯ä»¥ä½¿ç”¨è¿™äº›ç«¯ç‚¹ç ”ç©¶æŸä¸ªç”¨æˆ·æ—¶é—´çº¿æˆ–æåŠä¸­çš„è¯é¢˜ã€å®ä½“å’Œæƒ…æ„Ÿã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ç”¨æˆ·å¸–å­æ—¶é—´çº¿å’Œç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹æ¥æ¢ç´¢æŸä¸ªç”¨æˆ·çš„å¸–å­ä¸æåŠã€‚
Â 

<div id="prerequisites">
  ## å…ˆå†³æ¡ä»¶
</div>

- è¦ä½¿ç”¨ç”¨æˆ·æ¨æ–‡æ—¶é—´çº¿å’Œç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹ï¼Œæ‚¨éœ€è¦æ‹¥æœ‰æœ‰æ•ˆçš„å¼€å‘è€…è´¦æˆ·ã€‚
- æ‚¨è¿˜éœ€è¦åˆ›å»ºä¸€ä¸ª[é¡¹ç›®](/zh/resources/fundamentals/projects)ã€‚
- æ‚¨å¿…é¡»å·²[æ³¨å†Œ](https://developer.x.com/en/portal/petition/essential/basic-info)å¼€å‘è€…è´¦æˆ·ï¼Œå¹¶å·²å¯ç”¨[æ–°çš„å¼€å‘è€…é—¨æˆ·ä½“éªŒ](https://developer.x.com/en/portal/opt-in.html)ã€‚
- éœ€è¦åœ¨[å¼€å‘è€…é—¨æˆ·](/zh/resources/fundamentals/developer-portal)ä¸­åˆ›å»ºçš„å¼€å‘è€…åº”ç”¨å·²å…³è”åˆ°[é¡¹ç›®](/zh/resources/fundamentals/projects)ï¼Œå¹¶å…·å¤‡æœ‰æ•ˆçš„å¯†é’¥ä¸ä»¤ç‰Œï¼Œæ–¹å¯è®¿é—®ã€‚
- æ‚¨çš„åº”ç”¨åœ¨ [X å¼€å‘è€…é—¨æˆ·](/zh/resources/fundamentals/developer-portal)ä¸­çš„ Bearer Tokenã€‚
- å¦‚æœæ‚¨å°šæœªè·å¾—æ‰¹å‡†çš„å¼€å‘è€…è´¦æˆ·ï¼Œæ‚¨å¯ä»¥[ç”³è¯·è®¿é—®æƒé™](https://developer.x.com/en/apply-for-access)ã€‚

<div id="approved-developer-account">
  ## å·²è·æ‰¹å‡†çš„å¼€å‘è€…è´¦å·
</div>

å¦‚æœä½ å°šæœªæ‹¥æœ‰ï¼Œå¯ä»¥[ç”³è¯·è®¿é—®æƒé™](https://developer.x.com/en/apply-for-access)ã€‚

<div id="create-a-project-and-connect-an-app">
  ## åˆ›å»ºé¡¹ç›®å¹¶è¿æ¥åº”ç”¨
</div>

åœ¨[å¼€å‘è€…é—¨æˆ·](https://developer.x.com/en/portal/dashboard)ä¸­ï¼Œç‚¹å‡»åˆ›å»ºæ–°é¡¹ç›®ã€‚

<Frame>
  <img src="/images/projects.png.twimg.1920.png" />
</Frame>

ä¸ºå…¶å‘½åï¼Œé€‰æ‹©åˆé€‚çš„ä½¿ç”¨åœºæ™¯ï¼Œå¹¶æä¾›é¡¹ç›®æè¿°ã€‚æ¥ä¸‹æ¥ï¼Œä½ å¯ä»¥åˆ›å»ºæ–°åº”ç”¨ï¼Œæˆ–è¿æ¥ç°æœ‰[åº”ç”¨](/zh/resources/fundamentals/developer-apps)ï¼ˆåº”ç”¨æ˜¯ç”¨äºå­˜æ”¾ API å¯†é’¥çš„å®¹å™¨ï¼Œä½ éœ€è¦å®ƒæ¥å‘ X API å‘èµ· HTTP è¯·æ±‚ï¼‰ã€‚

<Frame>
  <img src="/images/add-your-app.png.twimg.1920.png" />
</Frame>

ç‚¹å‡»â€œæ”¹ä¸ºåˆ›å»ºæ–°åº”ç”¨â€ï¼Œå¹¶ä¸ºåº”ç”¨å‘½åä»¥åˆ›å»ºä¸€ä¸ªæ–°åº”ç”¨ã€‚

<Frame>
  <img src="/images/last-step-name-your-app.png.twimg.1920.png" />
</Frame>

ç‚¹å‡»å®Œæˆåï¼Œä½ å°†è·å¾— API key å’Œ Bearer tokenï¼Œéšåå³å¯ä½¿ç”¨å®ƒä»¬è¿æ¥åˆ° X API v2 çš„æ–°ç«¯ç‚¹ã€‚

<Frame>
  <img src="/images/here-are-your-keys.png.twimg.1920.png" />
</Frame>

ç‚¹å‡» API keyã€API secret key å’Œ Bearer token æ—çš„ (+)ï¼Œå¹¶å°†è¿™äº›å€¼å¤åˆ¶åˆ°æœ¬åœ°è®¾å¤‡çš„å®‰å…¨ä½ç½®ã€‚ä½ å°†åœ¨ä¸‹ä¸€æ­¥è¿›è¡Œ API è°ƒç”¨æ—¶ç”¨åˆ°å®ƒä»¬ã€‚

æ³¨æ„ï¼šä¸Šæ–¹æˆªå›¾ä¸­çš„å¯†é’¥å·²éšè—ï¼Œä½†åœ¨ä½ çš„å¼€å‘è€…é—¨æˆ·ä¸­ï¼Œä½ å°†èƒ½å¤Ÿçœ‹åˆ° API keyã€API secret key å’Œ Bearer token çš„å®é™…å€¼ã€‚
Â 

<div id="how-to-get-the-user-id-for-a-user-to-use-in-the-user-tweet-timeline-and-user-mention-timeline-endpoints">
  ## å¦‚ä½•è·å–ç”¨æˆ· IDï¼Œä»¥ç”¨äºç”¨æˆ·æ¨æ–‡æ—¶é—´çº¿ä¸ç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹
</div>

ç”¨æˆ·æ¨æ–‡æ—¶é—´çº¿ä¸ç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹æ”¯æŒä½¿ç”¨ç”¨æˆ· ID è·å–å¸–å­ã€‚è¦é€šè¿‡ç”¨æˆ·åè·å–ç”¨æˆ· IDï¼Œä½ å¯ä»¥ä½¿ç”¨æ–°çš„ [ç”¨æˆ·æŸ¥è¯¢ç«¯ç‚¹ v2](/zh/x-api/users/lookup/quickstart/user-lookup)ã€‚å°† USER\_NAME æ›¿æ¢ä¸ºç›®æ ‡ç”¨æˆ·åï¼Œå°† XXXXXX æ›¿æ¢ä¸ºä½ åœ¨ä¸Šæ–‡è·å–çš„ bearer tokenã€‚

```bash
  curl --request GET 'https://api.x.com/2/users/by/username/USER_NAME --header 'Authorization: Bearer XXXXXX'
```

ä½ ä¼šåœ¨å¦‚ä¸‹å“åº”ä¸­çœ‹åˆ°ç”¨æˆ· IDï¼š

```json
{
   "data": {
       "id": "2244994945",
       "name": "Developers",
       "username": "XDevelopers"
   }
}
```

<div id="connecting-to-the-user-tweet-timeline-and-user-mention-timeline-endpoints">
  ## è¿æ¥ç”¨æˆ·æ¨æ–‡æ—¶é—´çº¿å’Œç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹
</div>

è¦è·å–æŸä¸ªç”¨æˆ·çš„æ¨æ–‡æ—¶é—´çº¿ï¼Œè¯·åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹ curl å‘½ä»¤ï¼ˆè¯·å°† USER\_ID æ›¿æ¢ä¸ºç›®æ ‡ç”¨æˆ·çš„ç”¨æˆ· IDï¼Œå°† XXXXXX æ›¿æ¢ä¸ºä½ åœ¨ä¸Šæ–‡è·å–çš„ Bearer ä»¤ç‰Œï¼‰ï¼š

```bash
curl --request GET 'https://api.x.com/2/users/USER_ID/tweets' --header 'Authorization: Bearer XXXXXX'
```

è¿™äº›è¯·æ±‚çš„ JSON å“åº”é»˜è®¤åŒ…å«å¸–å­çš„ ID å’Œæ–‡æœ¬ï¼ˆç¤ºä¾‹å¦‚ä¸‹ï¼‰ã€‚

```yaml
{
   "id": "1334200897081987072",
   "text": "ğŸ‘€ If you are new to the X API v2, check out this step-by-step guide to making your first request https://t.co/4rZqThpSbp"
}
```

å¦‚æœå¸Œæœ›åœ¨å“åº”ä¸­è¿”å›æ›´å¤šå­—æ®µï¼ˆä¾‹å¦‚ç”¨æˆ·ä¿¡æ¯ã€é¢å¤–çš„æ¨æ–‡å­—æ®µï¼Œå¦‚ä¸Šä¸‹æ–‡æ³¨é‡Šç­‰ï¼‰ï¼Œéœ€è¦åœ¨è¯·æ±‚ä¸­æ˜¾å¼æŒ‡å®šè¿™äº›å­—æ®µã€‚å‚é˜…[å…³äºä½¿ç”¨å­—æ®µä¸æ‰©å±•çš„æŒ‡å—](/zh/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions)äº†è§£å¦‚ä½•æ“ä½œã€‚

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä»»æ„ç¼–ç¨‹è¯­è¨€è·å–è¿™äº›å¸–å­ã€‚æŸ¥çœ‹æˆ‘ä»¬åœ¨ GitHub ä»“åº“ä¸­çš„ Pythonã€Nodeï¼ˆJavaScriptï¼‰ã€Java å’Œ Ruby ç¤ºä¾‹ä»£ç ï¼Œæ¶µç›–ç”¨æˆ·æ¨æ–‡æ—¶é—´çº¿å’Œç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹ï¼š[GitHub repository](https://github.com/xdevplatform/Twitter-API-v2-sample-code)ã€‚
Â 

<div id="exploring-the-users-posts">
  ## æ¢ç´¢ç”¨æˆ·çš„å¸–å­
</div>

åœ¨æŒæ¡å¦‚ä½•é€šè¿‡ç”¨æˆ·æ¨æ–‡æ—¶é—´çº¿ç«¯ç‚¹å’Œç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹è·å–å¸–å­ä¹‹åï¼Œä½ å°±å¯ä»¥å¼€å§‹æ¢ç´¢ä»–ä»¬çš„å¸–å­äº†ã€‚æ¯”å¦‚ï¼Œå¦‚æœä½ æƒ³è¯†åˆ«ç”¨æˆ·æåŠä¸­å‡ºç°çš„å¸¸è§å‘½åå®ä½“ï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

åœ¨ API è¯·æ±‚ä¸­ï¼ŒæŒ‡å®šåœ¨æ¨æ–‡å“åº”é‡Œè¿”å› `context_annotations` å¯¹è±¡ï¼š

```bash
curl --request GET 'https://api.x.com/2/users/USER_ID/mentions?tweet.fields=context_annotations' --header 'Authorization: Bearer XXXXXX'
```

åœ¨å“åº”ä¸­ï¼Œä½ å¯ä»¥æŸ¥çœ‹æåŠé‡Œæ˜¯å¦å­˜åœ¨å‘½åå®ä½“ã€‚ä¾‹å¦‚ï¼š

```json
{
   "domain": {
       "id": "47",
       "name": "Brand",
       "description": "Brands and Companies"
   },
   "entity": {
       "id": "783214",
       "name": "X"
   }
}
```

å¦‚æœä½ æƒ³äº†è§£ä½ çš„æåŠä¸­å‡ºç°äº†å“ªäº›çƒ­é—¨å®ä½“ï¼Œå¯ä»¥åœ¨è§£ææ¯æ¡æåŠä¸­çš„æ¨æ–‡æ—¶å¯¹çƒ­é—¨å®ä½“è¿›è¡Œè®¡æ•°ã€‚

å¦‚æœä½ æƒ³è·å–æ—¶é—´çº¿ä¸­æ‰€æœ‰åŒ…å«åª’ä½“çš„å¸–å­çš„é¢„è§ˆå›¾ç‰‡ URLï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

åœ¨ API è¯·æ±‚ä¸­ï¼ŒæŒ‡å®šåœ¨ `media.fields` ä¸­è¿”å› `preview_image_url`ï¼Œå¹¶æ·»åŠ  `expansions=attachments.media_keys` æ‰©å±•ï¼š

```bash
curl --request GET 'https://api.x.com/2/users/2244994945/mentions?max_results=100&media.fields=preview_image_url&expansions=attachments.media_keys' --header 'Authorization: Bearer XXXXXX'
```

åœ¨å“åº”ä¸­ï¼Œä½ ä¼šåœ¨ `includes` å¯¹è±¡ä¸­çœ‹åˆ° `preview_image_url`ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```json
{
   "includes": {
       "media": [
           {
               "media_key": "16_1334657439640121344",
               "preview_image_url": "https://pbs.twimg.com/tweet_video_thumb/EoWn3rqU8AAtFWL.jpg",
               "type": "animated_gif"
           }
       ]
   }
}
```

åœ¨äº†è§£å¦‚ä½•æµè§ˆç”¨æˆ·çš„å¸–å­ä¹‹åï¼Œä½ è¿˜å¯ä»¥ç»“åˆå…¶ä»– API å’ŒæœåŠ¡å¯¹è¿™äº›å¸–å­åšæ›´å¤šå¤„ç†ã€‚ä»¥ä¸‹æ˜¯åœ¨ä½¿ç”¨ç”¨æˆ·æ¨æ–‡æ—¶é—´çº¿ç«¯ç‚¹å’Œç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹æ—¶å¯éšæ‰‹å‚è€ƒçš„ä¸€äº›èµ„æºã€‚

<div id="resources">
  ## èµ„æº
</div>

- è¿›ä¸€æ­¥äº†è§£[ç”¨æˆ·å¸–å­æ—¶é—´çº¿ä¸ç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹](/zh/x-api/posts/timelines/introduction)ã€‚
- æŸ¥çœ‹[ç”¨æˆ·å¸–å­æ—¶é—´çº¿ç«¯ç‚¹çš„ API å‚è€ƒ](/zh/x-api/posts/user-posts-timeline-by-user-id)ï¼Œäº†è§£å¯ç”¨åŠŸèƒ½ã€‚
- æŸ¥çœ‹[ç”¨æˆ·æåŠæ—¶é—´çº¿ç«¯ç‚¹çš„ API å‚è€ƒ](/zh/x-api/posts/user-mention-timeline-by-user-id)ï¼Œäº†è§£å¯ç”¨åŠŸèƒ½ã€‚
- æµè§ˆæˆ‘ä»¬çš„å…¶ä»–[æ•™ç¨‹](/zh/tutorials)ä»¥è·å–çµæ„Ÿã€‚