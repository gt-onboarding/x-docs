---
title: Postman 快速入门
description: "本教程将介绍 Postman 的基本概念，以及如何快速完成设置。"
mode: wide
---

<div id="introduction">
  ## 介绍
</div>

Postman 是一款桌面端与网页版应用，可通过图形界面向 API 发起请求。我们建议在探索 API 的功能以及为您的应用排查问题时，将 Postman 与 X API、X 广告 API 以及 Labs 端点配合使用。 

我们目前提供两个 Postman 集合：

<CardGroup cols={2}>
  <Card title="X API v2 Collection" icon="code" iconType="solid" href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400" horizontal />

  <Card title="X Ads API Collection" icon="code" iconType="solid" href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87" horizontal />
</CardGroup>

<div id="prerequisites">
  ### 先决条件
</div>

在开始使用 X 的 Postman 集合之前，您需要确认已具备所选 X 开发者平台工具所需的相应访问权限和凭据。您可以在我们的[“入门”页面](/zh/resources/platform-overview)了解如何获取访问权限的更多信息。

当您已拥有[开发者账户](https://developer.x.com/en/portal/petition/essential/basic-info)、完成[开发者 App](/zh/resources/fundamentals/developer-apps)的设置、获取一组[身份验证](/zh/resources/fundamentals/authentication)密钥和令牌，并已正确配置环境以便向计划使用的特定 API 发起请求后，即可按照以下步骤开始。
 

<div id="getting-started-with-xs-postman-collections">
  ## 使用 X 的 Postman 集合入门
</div>

<div id="step-one-add-one-of-the-x-postman-collections-to-your-account">
  ### 第一步：将 X 的某个 Postman 集合添加到你的账户
</div>

虽然你可以在 Postman 中手动构建所需的具体端点，但我们已为你完成了大部分工作，预先构建了一套可直接使用的相关 API 集合。只需点击前文“Postman collections”部分中的任一链接，与所选 API 对应的所有端点就会被添加到你的 Postman 应用中。这些集合也可在 [Postman API network](https://explore.postman.com/) 获取。每个端点都会自动包含可用的参数、示例响应以及已配置好的认证方式，你只需添加凭据和参数值即可开始体验功能。

在本示例中，我们将使用 X 的 [API v2 collection](https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400)。 
 

<div id="step-two-add-your-keys-and-tokens-as-environmental-variables">
  ### 第二步：将你的密钥和令牌添加为环境变量
</div>

当你将该集合添加到你的 Postman 实例时，会自动创建一个名为“X API v2”的环境，你需要在其中添加你的密钥和令牌。本步骤将引导你把开发者应用中的密钥和令牌添加到“X API v2”环境。

要将密钥和令牌添加到“X API v2”环境，点击 Postman 右上角的“Manage Environments”按钮（或通过右上角的设置进入环境管理）。

<Frame>
  <img src="/images/using-postman-1.png.twimg.1920.png" alt="此图展示了 Postman 控制台中被高亮的“Manage Environments”按钮。" />
</Frame>

在环境列表中，点击“X API v2”。

接下来，在表格中为你通过 Apps 控制台生成的所有密钥和令牌添加变量。下面是表格应有的示例：

| VARIABLE | INITIAL VALUE | CURRENT VALUE |
| :--- | :--- | :--- |
| consumer\_key | `QAktM6W6DF6F7XXXXXX` | `QAktM6W6DF6F7XXXXXX` |
| consumer\_secret | `AJX560A2Omgwyjr6Mml2esedujnZLHXXXXXX` | `AJX560A2Omgwyjr6Mml2esedujnZLHXXXXXX` |
| access\_token | `1995XXXXX-0NGqVhk3s96IX6SgT3H2bbjOPjcyQXXXXXXX` | `1995XXXXX-0NGqVhk3s96IX6SgT3H2bbjOPjcyQXXXXXXX` |
| token\_secret | `rHVuh7dgDuJCOGeoe4tndtjKwWiDjBZHLaZXXXXXX` | `rHVuh7dgDuJCOGeoe4tndtjKwWiDjBZHLaZXXXXXX` |
| bearer\_token | `AAAAAAAAAAAAAAAAAAAAAL9v6AAAAAAA99t03huuqRYg0mpYAAFRbPR3XXXXXXX` | `AAAAAAAAAAAAAAAAAAAAAL9v6AAAAAAA99t03huuqRYg0mpYAAFRbPR3XXXXXXX` |

请注意，上表中的密钥和令牌均为示例，不能用于实际请求。

当你将凭据添加为变量并确保已选择 X API v2 环境后，即可向 X API v2 集合发起请求。这是因为各端点的“Authorization”选项卡都已设置为自动继承该环境中的变量。

如需在 Postman 中使用用户访问令牌，请跳转至 XXXX 查看详细说明。

### 第三步：选择端点 

接下来，从集合中选择一个端点并开始构建请求。你可以在右侧导航中选择端点。如下所示：

<Frame>
  <img src="/images/using-postman-2.png.twimg.1920.png" alt="此图显示在“X API v2”部分的“Post Lookup”下拉菜单中选中了“Single Post”请求。" />
</Frame>

在本示例中，我们将使用 X API v2 > Post Lookup > Single Post 端点。 

<div id="step-four-add-values-to-the-params-tab">
  #### 第四步：在 Params 选项卡中添加值
</div>

接下来请前往 Params 选项卡。您应会看到一组未激活的参数及其说明，解释每个参数的作用，以及可在请求中传递的所有潜在取值列表。

在此示例中，我们将启用 `expansions` 和 `tweet.fields` 查询参数，并添加以下取值：

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `tweet.fields` | `created_at,attachments` |
| expansions | author\_id |

除添加查询参数外，我们还需要添加必填的 Path Variable：`id`。由于此端点返回帖子，我们需要添加一个有效的帖子 ID 作为其值。

您可以通过访问 x.com，点击一条帖子，然后查看其 URL 来找到帖子 ID。例如，以下 URL 的帖子 ID 为 `1228393702244134912`：

`https://x.com/XDevelopers/status/1228393702244134912`

在 Params 选项卡中，向下滚动，越过所有查询参数，找到“Path Variables”部分。我们将把您要使用的帖子 ID 作为值添加到 `id` 键中。

如果您已正确输入本步骤中的所有内容，Params 选项卡应如下所示：

<Frame>
  <img src="/images/using-postman-3.png.twimg.1920.png" alt="此图显示已根据本页先前说明填写完成的“Params”表格。" />
</Frame>

<div id="step-five-send-your-request-and-review-your-response">
  #### 第五步：发送请求并查看响应
</div>

现在你的请求已完成设置，可以点击“Send”按钮。

如果一切配置正确，你将收到如下负载：

```json
{
    "data": {
        "author_id": "2244994945",
        "text": "What did the developer write in their Valentine’s card?\n  \nwhile(true) {\n    I = Love(You);  \n}",
        "id": "1228393702244134912",
        "created_at": "2020-02-14T19:00:55.000Z"
    },
    "includes": {
        "users": [
            {
                "username": "XDevelopers",
                "name": "Developers",
                "id": "2244994945"
            }
        ]
    }
}
```

<div id="generating-a-user-access-token-with-postman">
  ### 使用 Postman 生成用户访问令牌：
</div>

<div id="using-oauth-10a-to-generate-a-user-access-token">
  #### 使用 OAuth 1.0a 生成用户访问令牌
</div>

请查看 [OAuth 1.0a 流程测试集合](https://www.postman.com/xapidevelopers/workspace/twitter-s-public-workspace/collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400?ctx=documentation) 中采用的三步流程。

<div id="using-oauth-20-to-generate-a-user-access-token">
  #### 使用 OAuth 2.0 生成用户访问令牌
</div>

如果你想在 Postman 中生成 OAuth 2.0 用户访问令牌，可以将其与 X 的 [API v2 Postman collection](https://www.postman.com/xapidevelopers/workspace/twitter-s-public-workspace/collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400?ctx=documentation) 搭配使用。

在工作区中点击该 collection，切换到名为“Auth”的选项卡，将类型选择为 “OAuth 2.0”。然后在“Configure New Token”下的“Configuration Options”中，将“Grant Type”更新为“Authorization Code (With PKCE)”。

请将 Callback URL 更新为与你的应用关联的回调 URL。此外，还需要更新以下参数：

- Auth URL - https://x.com/i/oauth2/authorize
- Access Token URL - https://api.x.com/2/oauth2/token
- Client ID - 来自开发者门户的 OAuth 2.0 Client ID
- Client Secret - 如果你使用的是机密客户端
- Scope - 与要访问的端点相匹配的作用域。例如 “tweet.read users.read”
- 你的 Callback URL（也称为重定向 URL）。必须与应用的身份验证设置中配置的值一致。
- State - state

准备就绪后，点击“Get New Access Token”生成访问令牌。若出现提示出错的对话框，可能需要点击返回按钮先登录。随后在对话框中点击“Authorize app”为你的应用授权访问你的账户。

授权完成后，你会被重定向回 Postman，在那里可以看到你的令牌，并点击“Use Token”按钮，以代表已授权用户开始发起请求。

你现在可以使用该 Postman collection 了。

<div id="whats-next">
  ## 接下来
</div>

在 Postman 中点击“Code”按钮，可以将我们刚刚创建的请求转换为你选择的语言（如 Python、Node 或 Ruby），帮助你快速上手。Postman 还有[完善的文档](https://learning.getpostman.com/)，可能对你有所帮助。我们在 [GitHub](https://github.com/xdevplatform) 上也提供了示例代码，能帮助你更快与这些端点集成。