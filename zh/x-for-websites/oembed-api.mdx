---
title: oEmbed API
description: "oEmbed API 以与 [oEmbed](http://oembed.com/) 兼容的格式返回简洁的嵌入式 HTML。"
mode: wide
---

您可以使用 oEmbed API 以编程方式获取嵌入内容，例如 [推文](https://developer.x.com/en/docs/twitter-for-websites/embedded-tweets/overview) 和 [时间线](https://developer.x.com/en/docs/twitter-for-websites/timelines/overview)。

oEmbed API 的响应会返回一个 HTML 片段，当[在页面中加载 X 的小部件 JavaScript 时](https://developer.x.com/web/javascript/loading)会被自动识别。

请注意，该 API 更适合批量处理任务；如需嵌入内容，建议使用我们功能完善的 [publish.x.com](https://publish.x.com/#) 工具。

<Tabs>
  <Tab title="Embedded timelines">
    当[在页面中包含 X 的小部件 JavaScript](https://developer.x.com/web/javascript/loading)时，返回的 HTML 片段会自动被识别为[嵌入式时间线](https://developer.x.com/en/docs/twitter-for-websites/timelines/overview)。

    oEmbed 端点允许通过在 HTML 标记中设置相应属性，来自定义嵌入式时间线的最终外观；这些属性将由默认随 HTML 响应一起提供的 X JavaScript 进行解析。随着 X 增加新功能或调整时间线的呈现方式，返回标记的格式可能会随时间发生变化。

    对于由时间线 URL 指定的 X 时间线，将以兼容 [oEmbed](https://oembed.com/) 的 JSON 格式返回。支持用户时间线和列表时间线。建议在你的服务器上缓存该时间线标记，最长不超过 cache\_age 属性指定的缓存时长。

    ## 资源 URL

    _https://publish.x.com/oembed_

    ## 资源信息

    |     |     |
    | :--- | :--- |
    | 响应格式 | JSON |
    | 需要认证？ | 否 |
    | 是否速率限制 | 否 |

    ## 参数

    | 名称 | 说明 | 示例 |
    | :--- | :--- | :--- |
    | **url** | 要嵌入的 X 时间线的 URL | \* https://x.com/TwitterDev<br /> \* https://x.com/TwitterDev/lists/national-parks |
    | limit | 显示最多 N 条，其中 N 的取值为 1 到 20（含） | 6 |
    | maxwidth | 设置小部件的最大宽度。必须在 180 到 1200（含）之间 | 300 |
    | maxheight | 设置小部件的最大高度。必须大于 200 | 400 |
    | omit\_script | 在响应中不包含 script 元素 | 1 |
    | lang | 支持的 X [语言代码](/zh/en/docs/twitter-for-websites/twitter-for-websites-supported-languages/overview "Twitter language code") | es |
    | theme | 当设置为 dark 时，时间线以深色背景配浅色文本显示 | dark |
    | chrome | 使用空格分隔的标记移除时间线显示组件<br /><br />\* noheader - 隐藏页眉<br />\* nofooter - 隐藏页脚（如果可见）<br />\* noborders - 移除所有边框：小部件周围、推文之间以及推文内部<br />\* noscrollbar - 裁剪并隐藏时间线滚动条（如果可见）<br />\* transparent - 移除背景颜色 | noheader%20nofooter |
    | aria\_polite | 为添加到时间线的推文设置更强提示的 [ARIA 实时区域礼貌级别](https://www.w3.org/TR/wai-aria/states_and_properties#aria-live) 值 | assertive |
    | dnt | 当设置为 true 时，你网站上的时间线及其嵌入页不会用于包括[个性化建议](https://support.x.com/articles/20169421)和[个性化广告](https://support.x.com/articles/20170405)在内的用途 | true |

    ## 示例请求

    ```bash
    curl --request GET --url 'https://publish.x.com/oembed?url=https%3A%2F%2Ftwitter.com%2FInterior%2Fstatus%2F507185938620219395'
    twurl -H publish.x.com "/oembed?url=https://x.com/Interior/status/463440424141459456"
    ```

    ## 示例响应

    ```json

    {
      "url": "https://x.com/TwitterDev",
      "title": "",
      "html": "<a class=\"twitter-timeline\" href=\"https://x.com/TwitterDev\">Tweets by TwitterDev</a>\n<script async src=\"//platform.x.com/widgets.js\" charset=\"utf-8\"></script>",
      "width": null,
      "height": null,
      "type": "rich",
      "cache_age": "3153600000",
      "provider_name": "Twitter",
      "provider_url": "https://x.com",
      "version": "1.0"
    }
    ```
  </Tab>

  <Tab title="Embedded Tweets">
    当页面已包含 [X 的小部件 JavaScript](https://developer.x.com/web/javascript/loading) 时，返回的 HTML 片段会被自动识别为[嵌入式推文](https://developer.x.com/web/embedded-tweets)。

    oEmbed 端点允许通过在 HTML 标记中设置相应属性，来自定义嵌入式推文的最终呈现；这些属性将由默认随 HTML 响应返回并捆绑的 X 的 JavaScript 进行解析。随着 X 添加新功能或调整其推文呈现方式，返回的标记格式可能会随时间变化。

    推文回退标记应在你的服务器上进行缓存，最长不超过 `cache_age` 属性所指定的建议缓存时长。

    ## 资源 URL

    _https://publish.x.com/oembed_

    ## 资源信息

    |     |     |
    | :--- | :--- |
    | 响应格式 | JSON |
    | 是否需要认证？ | 否  |
    | 是否受速率限制 | 否  |

    ## 参数

    | 名称 | 默认值 | 说明 |
    | :--- | :--- | :--- |
    | `url`必填  <br />字符串 |     | 要嵌入的推文的 URL |
    | `maxwidth`  <br />整数 `[220..550]` | `325` | 渲染推文的最大宽度（整像素）。若提供的值低于或高于允许范围，将分别返回为该范围的最小或最大支持宽度；重置后的宽度值会体现在返回的 `width` 属性中。请注意，X 不支持 oEmbed 的 `maxheight` 参数。推文本质为文本，因此高度不可预测，无法像图像或视频那样缩放。相应地，oEmbed 响应不会提供 `height` 的值。需要为推文保持一致高度的实现应参考下方的 `hide_thread` 和 `hide_media` 参数。 |
    | `hide_media`  <br />布尔、字符串或整数 | `false` | 设为 `true`、`"t"` 或 `1` 时，推文中的链接不会展开为照片、视频或链接预览。 |
    | `hide_thread`  <br />布尔、字符串或整数 | `false` | 设为 `true`、`"t"` 或 `1` 时，当所请求的推文是回复另一条推文时，不会显示会话中上一条推文的折叠版本。 |
    | `omit_script`  <br />布尔、字符串或整数 | `false` | 设为 `true`、`"t"` 或 `1` 时，不会返回用于加载 `widgets.js` 的 `<script>`。你的网页应自行引用 `widgets.js`，以供所有 X 小组件（包括[嵌入式推文](https://developer.x.com/web/embedded-tweets)）使用。 |
    | `align`  <br />枚举 `{left,right,center,none}` | `none` | 指定嵌入推文相对于父元素在页面中左、右或居中浮动。 |
    | `lang`  <br />枚举（[语言](https://developer.x.com/en/docs/twitter-for-websites/twitter-for-websites-supported-languages/overview)） | `en` | 按指定的[嵌入式推文支持的 X 语言](https://developer.x.com/web/overview/languages)返回 HTML 和渲染后的推文。 |
    | `theme`  <br />枚举 `{light, dark}` | `light` | 设为 `dark` 时，推文将以浅色文字配深色背景显示。 |
    | `dnt`  <br />布尔 | `false` | 设为 `true` 时，你站点上的推文及其嵌入页面不会用于包括[个性化建议](https://support.x.com/articles/20169421)和[个性化广告](https://support.x.com/articles/20170405)在内的用途。 |

    ## 示例请求

    ```bash
    curl --request GET --url 'https://publish.x.com/oembed?url=https%3A%2F%2Ftwitter.com%2Ftwiterdev'
    twurl -H publish.x.com "/oembed?url=https://x.com/TwitterDev"
    ```

    ## 示例响应

    ```json
    {
      "url": "https:\/\/twitter.com\/Interior\/status\/463440424141459456",
      "author_name": "US Department of the Interior",
      "author_url": "https:\/\/twitter.com\/Interior",
      "html": "<blockquote class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\">很难有比这更美的落日了，映照在<a href=\"https:\/\/twitter.com\/GrandTetonNPS?ref_src=twsrc%5Etfw\">@GrandTetonNPS<\/a>上空。<a href=\"https:\/\/twitter.com\/hashtag\/nature?src=hash&amp;ref_src=twsrc%5Etfw\">#自然<\/a> <a href=\"https:\/\/twitter.com\/hashtag\/sunset?src=hash&amp;ref_src=twsrc%5Etfw\">#日落<\/a> <a href=\"http:\/\/t.co\/YuKy2rcjyU\">pic.x.com\/YuKy2rcjyU<\/a><\/p>&mdash; US Department of the Interior (@Interior) <a href=\"https:\/\/twitter.com\/Interior\/status\/463440424141459456?ref_src=twsrc%5Etfw\">2014年5月5日<\/a><\/blockquote>\n<script async src=\"https:\/\/platform.x.com\/widgets.js\" charset=\"utf-8\"><\/script>\n",
      "width": 550,
      "height": null,
      "type": "rich",
      "cache_age": "3153600000",
      "provider_name": "Twitter",
      "provider_url": "https:\/\/twitter.com",
      "version": "1.0"
    }
    ```
  </Tab>
</Tabs>