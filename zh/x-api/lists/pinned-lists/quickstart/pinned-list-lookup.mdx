---
title: 置顶列表查找
sidebarTitle: 置顶列表查找
---

import { Button } from '/snippets/zh/button.mdx';

<Note>
  **请注意：** 本指南假设你已先完成[快速入门概览](/zh/x-api/lists/pinned-lists#getting-started-with-the-pinned-list-endpoint-group)中的先决条件。
</Note>

<div id="steps-to-build-a-pinned-list-lookup-request">
  ### 构建置顶列表查询请求的步骤
</div>

**步骤一：在 Postman 中选择 List 端点集合**

在将 X API v2 集合加载到 Postman 后，导航到“List”文件夹，选择其中的“Pinned Lists”文件夹，然后选择“User's pinned Lists”。

**步骤二：确定并指定用户**

要检索某个用户的置顶列表，必须在请求中指定其用户 ID。该用户 ID 必须与进行身份验证的用户的 ID 相同，这意味着在为请求进行认证时，必须传递与该用户 ID 关联的访问令牌（Access Tokens）。在本例中，你可以指定你自己的用户 ID。你可以通过两种方式找到你的 ID：

1. 使用按用户名查询的[users lookup](/zh/x-api/users/lookup/introduction)端点，传入一个用户名即可获得 id 字段。
2. 查看你的访问令牌（Access Token），其中的数字部分就是你的用户 ID。

在 Postman 中，导航到“Params”选项卡，将此用户 ID 填入 `id` 参数的“Value”列。

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | 2244994945（user ID） |

**步骤三：确定并指定希望检索的字段**

如果在完成步骤三后点击“Send”按钮，你将在响应中收到默认的[List 对象](/zh/x-api/fundamentals/data-dictionary#list)字段：`id` 和 `name`。

如果希望接收除 `id` 和 `name` 之外的其他字段，需要在请求中通过[`field`](/zh/x-api/fundamentals/fields) 和/或 [`expansion`](/zh/x-api/fundamentals/expansions)参数来指定。

在本练习中，我们将从不同对象请求三组附加字段：

- 主 List 对象中的附加 `follower_count` 字段。
- 使用 expansion 参数获取完整的[user 对象](/zh/x-api/fundamentals/data-dictionary#user)。
- 关联用户对象中的附加 `tweet.created_at` 字段。

在 Postman 中，导航到“Params”选项卡，并在“Query Params”表中添加以下键值对：

|     |     |     |
| :--- | :--- | :--- |
| Key | Value | Returned fields |
| list.fields | follower\_count | `follower_count` |
| expansions | owner\_id | `includes.users.id,  <br/>includes.users.name,  <br/>includes.users.username` |
| user.fields | created\_at | `includes.users.created_at` |

此时你应当在“Send”按钮旁看到类似的 URL：

`https://api.x.com/2/users/2244994945/pinned_lists?expansions=owner_id&list.fields=follower_count&user.fields=created_at`

**步骤四：发起请求并查看响应**

完成所有设置后，点击“Send”按钮，你将收到与以下示例相似的响应：

```
{
  "data": [
    {
      "follower_count": 0,
      "id": "1454155907651158017",
      "name": "test list",
      "owner_id": "2244994945"
    }
  ],
  "includes": {
    "users": [
      {
        "username": "TwitterDev",
        "id": "2244994945",
        "created_at": "2013-12-14T04:35:55.000Z",
        "name": "Twitter Dev"
      }
    ]
  },
  "meta": {
    "result_count": 1
  }
}
```