---
title: 列表成员查找
sidebarTitle: 列表成员查找
---

import { Button } from '/snippets/zh/button.mdx';

<div id="list-members-lookup-standard-v11-compared-to-x-api-v2">
  ### 列表成员查询：标准版 v1.1 与 X API v2 对比
</div>

如果您一直在使用标准版 v1.1 的 [GET lists/members](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/create-manage-lists/api-reference/get-lists-members) 和 [GET lists/memberships](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/create-manage-lists/api-reference/get-lists-memberships) 端点，本指南旨在帮助您理解标准版 v1.1 与 X API v2 列表成员端点之间的相似与差异。

- **相似点**
  - 身份验证方式
- **差异点**
  - 端点 URL
  - 速率限制
  - 应用与项目要求
  - 每次请求可返回的数据对象上限
  - 响应数据格式
  - 请求参数

<div id="similarities">
  #### 相似之处
</div>

**身份验证**

这两个版本的端点均支持 [OAuth 1.0a 用户上下文](/zh/resources/fundamentals/authentication#oauth-1-0a-2) 和 [仅限应用](/zh/resources/fundamentals/authentication#oauth-2-0)。因此，如果你此前使用的是标准 v1.1 中的某个列表成员端点，迁移到 X API v2 后可以继续使用相同的身份验证方式。

取决于你所使用的身份验证库/包，“仅限应用”通常是最易上手的方式，并且只需通过一个简单的请求头即可设置。要了解如何生成“仅限应用”的访问令牌，请参阅[此指南](/zh/resources/fundamentals/authentication#bearer-token-also-known-as-app-only)。

<div id="differences">
  #### 差异
</div>

**端点 URL**

- 标准 v1.1 端点：
  - GET https://api.x.com/1.1/lists/members.json
    （查询指定列表的成员）
  - GET https://api.x.com/1.1/lists/memberships.json
    （查询某用户所加入的列表）
- X API v2 端点：
  - GET https://api.x.com/2/lists/:id/members
    （查询指定列表的成员）

  - GET https://api.x.com/2/users/:id/list\_memberships
    （查询某用户所加入的列表）

**速率限制**

|     |     |
| :--- | :--- |
| **标准 v1.1** | **X API v2** |
| /1.1/lists/members.json<br /><br />使用 OAuth 1.0a 用户上下文每 15 分钟 900 次请求<br /><br />仅应用模式每 15 分钟 15 次请求 | /2/lists/:id/members<br /><br />使用 OAuth 1.0a 用户上下文每 15 分钟 900 次请求<br /><br />使用 OAuth 2.0 授权码（含 PKCE）每 15 分钟 900 次请求<br /><br />仅应用模式每 15 分钟 900 次请求 |
| /1.1/lists/memberships.json<br /><br />使用 OAuth 1.0a 用户上下文每 15 分钟 15 次请求<br /><br />仅应用模式每 15 分钟 15 次请求 | /2/users/:id/list\_memberships<br /><br />使用 OAuth 1.0a 用户上下文每 15 分钟 15 次请求<br /><br />使用 OAuth 2.0 授权码（含 PKCE）每 15 分钟 15 次请求<br /><br />仅应用模式每 15 分钟 15 次请求 |

**应用与项目要求**

在对请求进行身份验证时，X API v2 端点要求你使用与[项目](/zh/resources/fundamentals/projects)关联的[开发者应用](/zh/resources/fundamentals/developer-apps)的凭据。所有 X API v1.1 端点均可使用独立应用或与项目关联的应用的凭据。

**每个请求的数据对象限制**

标准 v1.1 的 /1.1/lists/members 端点允许每个请求返回最多 5000 个用户。新的 v2 端点允许每个请求返回最多 100 个用户。默认返回 100 个用户对象；如需更改结果数量，你需要传入查询参数 max\_results=，取值为 1–100。随后，可将响应负载中返回的 next\_token 在下一次请求中作为 pagination\_token 查询参数传入以进行分页。

此外，/1.1/lists/memberships 端点允许每个请求返回最多 1000 个列表。对应的 v2 端点每个请求最多允许 100 个列表。默认返回 100 个列表对象；使用与 /1.1/lists/members 相同方式的查询参数 max\_results= 和 pagination\_token 来更改结果数量。

**响应数据格式**

标准 v1.1 与 X API v2 端点版本之间最大的区别之一是你如何选择在负载中返回哪些字段。

对于标准端点，默认会返回许多响应字段，然后你可以使用参数来指定应在负载中返回哪些附加字段或字段集。

X API v2 版本 /users/:id/list\_memberships 将默认返回列表的 id 和 name 字段。若需请求其他字段或对象，你需要使用 [fields](/zh/x-api/fundamentals/fields) 和 [expansions](/zh/x-api/fundamentals/expansions) 参数。你从该端点请求的任何列表字段都会返回在主列表对象中。任何扩展的对象和字段都会在响应中的 includes 对象内返回。随后，你可以通过匹配主对象与扩展对象中的 ID，将任何扩展对象关联回主列表对象。

以下是可能的列表字段和扩展示例：

- created\_at

- follower\_count

- member\_count

- owner\_id

- description

- private

|     |     |
| :--- | :--- |
| **端点** | **扩展** |
| /2/lists/:id/members | pinned\_tweet\_id |
| /2/users/:id/list\_memberships | owner\_id |

建议你阅读各自的指南以进一步了解这些新参数，或参考我们的[如何使用 fields 和 expansions](/zh/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions)指南。 

我们还整理了一份[数据格式迁移指南](/zh/x-api/migrate/data-format-migration)，可帮助你将标准 v1.1 字段映射到较新的 v2 字段。本指南还将提供你在发起 v2 请求时为返回特定字段所需传递的具体 expansion 和 field 参数。 

除了请求某些字段的方式发生变化外，X API v2 还为 API 返回的对象引入了新的 JSON 设计，包括 [Post](/zh/x-api/fundamentals/data-dictionary#tweet) 和 [user](/zh/x-api/fundamentals/data-dictionary#user) 对象。

- 在 JSON 根级别，标准端点会在 statuses 数组中返回 Post 对象，而 X API v2 返回 data 数组。 

- X API v2 的 JSON 不再引用转推和引用的“statuses”，而是引用转推和引用的 Tweets。许多旧版和已弃用字段（例如 contributors 和 user.translator\_type）正被移除。 

- X API v2 不再在 Post 对象中使用 favorites、在 user 对象中使用 favourites，而统一使用术语 like。 

- X 采用的约定是：无值的 JSON 字段（例如 null）不会写入负载。仅当 Post 和 user 的属性为非空值时才会包含。

**请求参数**

以下标准 v1.1 请求参数在 X API v2 中具有对应项：

**列表成员查询**

|     |     |
| :--- | :--- |
| **标准 v1.1** | **X API v2** |
| list\_id | id  |
| slug | 无对应项 |
| owner\_screen\_name | 无对应项 |
| owner\_id | 无对应项 |
| count | max\_results |
| cursor | pagination\_token |
| include\_entities | 无对应项 |
| skip\_status | 无对应项 |

**列表成员关系查询**

|     |     |
| :--- | :--- |
| **标准 v1.1** | **X API v2** |
| user\_id | id  |
| screen\_name | 无对应项 |
| count | max\_results |
| cursor | pagination\_token |