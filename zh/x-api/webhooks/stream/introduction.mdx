---
title: 过滤流 Webhooks API
sidebarTitle: 简介
---

import { Button } from '/snippets/zh/button.mdx';

<div id="overview">
  ## 概览
</div>

过滤流端点组使开发者能够筛选公共帖子的实时流。该端点组包含多个端点，支持你创建和管理规则，并应用这些规则来过滤流以返回匹配的公共帖子。通过该端点组，用户可以监听特定主题与事件、监测有关竞赛的讨论、了解趋势如何演变，等等。

开发者可以使用 REST [rules endpoint](/zh/x-api/posts/filtered-stream#post-2-tweets-search-stream-rules) 添加或移除规则，以筛选符合特定条件的帖子。这些[rules](/zh/x-api/posts/filtered-stream#building-rules-for-filtered-stream)可使用运算符来匹配帖子的属性，例如关键词、话题标签（hashtag）和 URL。运算符与规则子句可结合布尔逻辑和括号使用，以进一步细化过滤的匹配行为。

添加好一组规则后，你可以注册你的 webhook，X 将开始以 JSON 格式投递 [Post objects](/zh/x-api/fundamentals/data-dictionary#tweet)。你的 webhook 只会接收与规则匹配的内容。

此端点支持已编辑的帖子。你的 webhook 将接收与一个或多个过滤器匹配的已编辑帖子及其编辑历史，其中包含一个帖子 ID 数组。对于没有编辑历史的帖子，该数组仅包含一个 ID。对于已编辑的帖子，该数组包含多个 ID，按升序排列，反映各次编辑的顺序，数组最后一个位置为最新版本。要了解帖子编辑的工作方式，请参阅 [Posts edits fundamentals](/zh/x-api/fundamentals/edit-posts) 页面。

**注意：** 此端点组在规则设置方面与 [v2 filtered stream endpoint](/zh/x-api/posts/filtered-stream/introduction) 类似。唯一不同在于匹配规则的帖子之投递机制。

- 使用 v2 filtered stream endpoint 时，你需要建立持久连接并监听与规则匹配的帖子。
- 使用本过滤流 webhook 端点时，你只需注册 webhook，X 会将与规则匹配的帖子投递到你的 webhook。

这免除了处理因客户端掉线或我们服务正常重启导致的服务端断开所带来的断连问题。由于我们可能会以每秒数百个事件的速率进行投递，你的 webhook 服务器必须能够处理这些并发的连接尝试。

此端点目前向 Enterprise 开发者开放，并支持以下配置：

- 每个项目 25,000+ 条规则
- 构建规则时可使用所有运算符
- 规则长度最多 2048 个字符
- 申请 Enterprise 访问请[点击此处](https://developer.x.com/en/products/x-api/enterprise/enterprise-api-interest-form)

过滤流返回的帖子将计入每月的[推文上限（帖子上限）](/zh/x-api/fundamentals/post-cap)。

<Note>
  **账户设置**

  要访问这些端点，你需要：

  - 一个已获批准的[开发者账户](https://developer.x.com/en/portal/petition/essential/basic-info)。
  - 使用位于[项目](/zh/resources/fundamentals/projects)中的[开发者 App](/zh/resources/fundamentals/developer-apps)的密钥和令牌进行身份验证。

  在我们的[入门指南](/zh/x-api/getting-started/getting-access)中了解如何获取 X API v2 端点的访问权限。
</Note>

<div className="flex">
  <Button href="/zh/x-api/posts/filtered-stream/quickstart">
    快速开始
  </Button>
</div>