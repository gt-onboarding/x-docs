---
title: 构建查询
sidebarTitle: 构建查询
---

<div id="building-queries-for-search-posts">
  ## 构建“搜索帖子”的查询
</div>

搜索端点通过 GET 请求接收单个查询，并返回与该查询匹配的一组历史帖子。查询由一组运算符组成，用于匹配帖子中的多种属性。 

<div id="table-of-contents">
  ### 目录
</div>

- [构建查询](#build)
- [查询限制](#limits)
- [运算符可用性](#availability)
- [运算符类型：可独立使用与需配合使用](#types)
- [布尔运算符与分组](#boolean)
- [运算顺序](#order-of-operations)
- [标点、变音符号与大小写敏感](#punctuation)
- [特异性与效率](#specificity)
- [转发引用（Quote Tweet）匹配行为](#quote-tweets)
- [迭代式构建查询](#iterative)
- [将查询添加到请求中](#adding-a-query)
- [查询示例](#examples)
- [运算符列表](#list)

<div id="building-a-query">
  ### 构建查询
</div>

<div id="query-limitations">
  #### 查询限制
</div>

根据您所使用的[访问级别](/zh/x-api/getting-started/about-x-api)，查询将受到限制。

如果您拥有 Basic 或 Pro 访问权限，则在“最近搜索”端点中，查询最长可为 512 个字符。

如果您拥有 Pro 访问权限，则在“全档案搜索”端点中，查询最长可为 1,024 个字符。 

<div id="operator-availability">
  #### 运算符可用性
</div>

尽管大多数运算符对所有开发者均可用，但也有一些仅限特定访问级别。我们在[运算符列表](/zh/x-api/posts/search/integrate/build-a-query)表格中使用以下标签标注每个运算符的可用访问级别：

- **核心运算符：** 适用于任何[项目](/zh/resources/fundamentals/projects)。
- **高级运算符：** 适用于具有特定访问级别的项目。

<div id="operator-types-standalone-and-conjunction-required">
  #### 运算符类型：独立型与需连用型
</div>

**独立型运算符** 可以单独使用，或与任何其他运算符（包括那些需要连用的运算符）一起使用。

例如，以下查询可以正常工作，因为它使用了独立型的 `#hashtag` 运算符：

`#xapiv2`

**需连用型** 运算符不能在查询中单独使用；只有当查询中至少包含一个独立型运算符时才能使用。原因是单独使用这些运算符过于宽泛，会匹配到极其大量的帖子。

例如，以下查询不受支持，因为它们只包含需连用型运算符：

`has:media`

`has:links OR is:retweet`

如果我们加入一个独立型运算符，比如短语 `"X data"`，该查询就能正常工作。

`"X data" has:mentions (has:media OR has:links)`

<div id="boolean-operators-and-grouping">
  #### 布尔运算符与分组
</div>

如果你希望在单个查询中组合多个运算符，可以使用以下方式：

|     |     |
| :--- | :--- |
| **AND 逻辑** | 连续的运算符之间以空格分隔时，将采用布尔 “AND” 逻辑，即只有同时满足两个条件才会匹配帖子。例如，`snow day #NoSchool` 将匹配同时包含术语 snow、day 以及话题标签 #NoSchool 的帖子。 |
| **OR 逻辑** | 连续的运算符之间以 OR 连接时，将采用 OR 逻辑，即任一条件满足即可匹配帖子。例如，指定 `grumpy OR cat OR #meme` 将匹配任何至少包含术语 grumpy 或 cat，或话题标签 #meme 的帖子。 |
| **NOT 逻辑，取反** | 在关键字（或任何运算符）前添加短横线 (-) 可对其取反（NOT）。例如，`cat #meme -grumpy` 将匹配包含话题标签 #meme 和术语 cat 的帖子，但前提是它们不包含术语 grumpy。一个常见的查询子句是 `-is:retweet`，它不会匹配转推，因此只匹配原创帖子、引用推文和回复。所有运算符都可以取反，但被取反的运算符不能单独使用。 |
| **分组** | 可以使用括号对运算符进行分组。例如，`(grumpy cat) OR (#meme has:images)` 将返回包含术语 grumpy 和 cat 的帖子，或包含图像且带有话题标签 #meme 的帖子。注意，先应用 AND，再应用 OR。 |

**关于取反的说明**

运算符 `-is:nullcast` 必须始终以取反形式使用。

被取反的运算符不能单独使用。

不要对一组用括号括起来的运算符整体取反。请取反每个单独的运算符。例如，与其使用 `skiing -(snow OR day OR noschool)`，建议使用 `skiing -snow -day -noschool`。 

<div id="order-of-operations">
  #### 运算顺序
</div>

当同时使用 AND 和 OR 时，查询的评估遵循以下顺序：

1. 先合并通过 AND 逻辑连接的运算符
2. 再应用通过 OR 逻辑连接的运算符

例如：

- `apple OR iphone ipad` 将按 `apple OR (iphone ipad)` 进行评估
- `ipad iphone OR android` 将按 `(iphone ipad) OR android` 进行评估

为消除歧义并确保查询按预期评估，请在合适的位置使用括号对术语进行分组。

例如：

- `(apple OR iphone) ipad`
- `iphone (ipad OR android)`

<div id="punctuation-diacritics-and-case-sensitivity">
  #### 标点、变音符号与大小写敏感性
</div>

如果你在关键词或话题标签查询中使用带重音或变音符号的字符，系统会同时匹配包含这些重音/变音字符的术语和使用对应普通字符的术语的帖子文本。例如，包含关键词 `Diacrítica` 或话题标签 `#cumpleaños` 的查询，既会匹配 _Diacrítica_ 或 _#cumpleaños_，也会匹配不含重音 í 或 eñe 的 _Diacritica_ 或 _#cumpleanos_。

带重音或变音符号的字符与普通字符按相同方式处理，不被视为词边界。例如，使用关键词 `cumpleaños` 的查询只会匹配包含单词 _cumpleaños_ 的活动，不会匹配包含 _cumplea_、_cumplean_ 或 _os_ 的活动。

所有运算符的评估均不区分大小写。例如，查询 `cat` 会匹配包含以下任意形式的帖子：_cat_、_CAT_、_Cat_。

[过滤流](/zh/x-api/posts/filtered-stream) 的匹配行为与搜索帖子不同。在[构建过滤流规则](/zh/x-api/posts/filtered-stream#building-rules-for-filtered-stream)时，请注意，包含重音或变音符号的关键词和话题标签只会匹配同样包含相应重音/变音的术语，不会匹配使用普通字符的术语。

例如，包含关键词 `Diacrítica` 或话题标签 `#cumpleaños` 的过滤流规则只会匹配 _Diacrítica_ 和 _#cumpleaños_，不会匹配不含重音 í 或 eñe 的 _Diacritica_ 或 _#cumpleanos_

<div id="specificity-and-efficiency">
  #### 具体性与效率
</div>

当你开始构建查询时，请牢记以下几点。

- 不建议使用宽泛、单独的运算符（例如单个关键词或 #hashtag）进行查询，因为这很可能匹配到海量帖子。构建更健壮的查询将得到更为具体的一组匹配帖子，并有望减少返回数据中的噪声，从而降低你为获取有价值洞察所需的筛选成本。 
  - 例如，如果你的查询只是关键词 `happy`，你每天可能会得到 200,000–300,000 条帖子。
  - 添加更多条件运算符会缩小搜索结果范围，例如 `(happy OR happiness) place_country:GB -birthday -is:retweet`
- 编写高效的查询还有助于遵守查询字符长度限制。字符计数包含整个查询字符串，包括空格和运算符。
  - 例如，以下查询长度为 59 个字符：`(happy OR happiness) place_country:GB -birthday -is:retweet`

<div id="quote-tweet-matching-behavior">
  #### 引用推文的匹配行为
</div>

使用 Search Posts 端点时，运算符不会匹配被引用的原始帖子内容，但会匹配引用推文中包含的内容。

不过，请注意，[过滤流](/zh/x-api/posts/filtered-stream) 将同时匹配被引用的原始帖子内容和引用推文的内容。

<div id="iteratively-building-a-query">
  #### 迭代构建查询
</div>

<div id="test-your-query-early-and-often">
  ##### 及早且频繁地测试你的查询
</div>

首次就让查询返回“正确”的结果并不常见。X 上的内容极为庞杂，许多细节一开始未必显而易见，而上文所述的查询语法也可能难以直接契合你的目标搜索。因此，在构建查询时，定期进行测试至关重要。

在本节中，我们将从以下查询开始，并根据测试得到的结果进行调整： 

`happy OR happiness`

<div id="use-results-to-narrow-the-query">
  ##### 使用结果来收窄查询范围
</div>

在测试查询时，你应当浏览返回的帖子，检查其中是否包含你期望获取的数据。先从一个范围较宽、匹配更全面的查询开始，有助于先审阅结果，再逐步收窄查询以过滤掉不需要的内容。  

当我们测试示例查询时，注意到返回的帖子包含多种不同语言。在这种情况下，我们只希望接收英文帖子，因此添加 `lang:` 运算符：

`(happy OR happiness) lang:en`

测试返回了许多祝人生日快乐的帖子，因此我们将添加 `-birthday` 作为否定关键字运算符。同时我们只想接收原创帖子，所以添加否定运算符 `-is:retweet`：

`(happy OR happiness) lang:en -birthday -is:retweet`

<div id="adjust-for-inclusion-where-needed">
  ##### 按需放宽筛选范围
</div>

如果你发现未收到预期的数据，并且确定有应当返回的现有帖子存在，你可能需要通过移除可能过滤掉目标数据的运算符来放宽查询。

在我们的示例中，我们注意到个人时间线中还有其他表达目标情绪的帖子，但未出现在测试结果中。为提高覆盖范围，我们将添加关键词 `excited` 和 `elated`。

`(happy OR happiness OR excited OR elated) lang:en -birthday -is:retweet`

<div id="adjust-for-popular-trendsbursts-over-the-time-period">
  ##### 根据该时间段内的流行趋势/热点进行调整
</div>

在 X 上，趋势更迭很快。维护查询应是一个持续的过程。如果你计划长期使用某个查询，建议定期查看收到的数据，以判断是否需要调整。

在我们的示例中，我们注意到开始收到一些祝福“happy holidays”的帖子。由于我们不希望这些帖子出现在结果中，我们将添加一个取反的 `-holidays` 关键词。

`(happy OR happiness OR excited OR elated) lang:en -birthday -is:retweet -holidays`

<div id="adding-a-query-to-your-request">
  ### 将查询添加到你的请求中
</div>

要在请求中添加查询，必须使用 `query` 参数。与任何查询参数一样，请确保对你编写的查询进行 HTTP 编码。

下面是一个使用 cURL 命令的示例，并包含了 `tweet.fields` 和 `max_results` 参数。如果你希望直接使用此命令，请务必将 `$BEARER_TOKEN` 替换为你自己的 [Bearer Token](/zh/resources/fundamentals/authentication#oauth-2-0)：

```bash
curl https://api.x.com/2/tweets/search/recent?query=cat%20has%3Amedia%20-grumpy&tweet.fields=created_at&max_results=100 -H "Authorization: Bearer $BEARER_TOKEN"
```

<div id="query-examples">
  ### 查询示例
</div>

<div id="tracking-a-natural-disaster">
  #### 追踪一次自然灾害
</div>

以下查询会匹配由气象机构和监测站发布的、讨论 2017 年袭击休斯敦的哈维飓风的原始帖子。

以下是不进行 HTTP 编码时的查询：

`has:geo (from:NWSNHC OR from:NHC\_Atlantic OR from:NWSHouston OR from:NWSSanAntonio OR from:USGS\_TexasRain OR from:USGS_TexasFlood OR from:JeffLindner1) -is:retweet`

以下是包含 HTTP 编码、查询参数以及“近期搜索”URI 的查询：

`https://api.x.com/2/tweets/search/recent?query=-is%3Aretweet%20has%3Ageo%20(from%3ANWSNHC%20OR%20from%3ANHC\_Atlantic%20OR%20from%3ANWSHouston%20OR%20from%3ANWSSanAntonio%20OR%20from%3AUSGS\_TexasRain%20OR%20from%3AUSGS_TexasFlood%20OR%20from%3AJeffLindner1)`

<div id="reviewing-the-sentiment-of-a-conversation">
  #### 审视对话的情感倾向
</div>

下一条规则可用于更好地理解围绕话题标签 _#nowplaying_ 展开的对话情感，但范围仅限于在北美发布的帖子。

下面是在未进行 HTTP 编码时两条不同查询（分别针对正向和负向）的示例：

`#nowplaying (happy OR exciting OR excited OR favorite OR fav OR amazing OR lovely OR incredible) (place\_country:US OR place\_country:MX OR place_country:CA) -horrible -worst -sucks -bad -disappointing`

`#nowplaying (horrible OR worst OR sucks OR bad OR disappointing) (place\_country:US OR place\_country:MX OR place_country:CA) -happy -exciting -excited -favorite -fav -amazing -lovely -incredible`

下面是在包含 HTTP 编码、查询参数以及“近期搜索”URI 时的查询示例：

`https://api.x.com/2/tweets/search/recent?query=%23nowplaying%20(happy%20OR%20exciting%20OR%20excited%20OR%20favorite%20OR%20fav%20OR%20amazing%20OR%20lovely%20OR%20incredible)%20(place\_country%3AUS%20OR%20place\_country%3AMX%20OR%20place_country%3ACA)%20-horrible%20-worst%20-sucks%20-bad%20-disappointing`

`https://api.x.com/2/tweets/search/recent?query=%23nowplaying%20(horrible%20OR%20worst%20OR%20sucks%20OR%20bad%20OR%20disappointing)%20(place\_country%3AUS%20OR%20place\_country%3AMX%20OR%20place_country%3ACA)%20-happy%20-exciting%20-excited%20-favorite%20-fav%20-amazing%20-lovely%20-incredible`

<div id="find-posts-that-relate-to-a-specific-post-annotation">
  #### 查找与特定帖子注解相关的帖子
</div>

此规则用于搜索原始帖子：帖子包含非猫类宠物的图片，且帖子检测到的语言为日语。为此，我们使用 `context:` 运算符来利用[帖子注解](/zh/x-api/fundamentals/post-annotations)功能。我们首先通过[帖子查询](/zh/x-api/posts/lookup/introduction)端点，并使用 `tweet.fields=context_annotations` 字段参数，来确定查询所需的 domain.entity ID：

- 与猫相关的帖子会返回 `domain` 66（兴趣与爱好类别），以及 entity 852262932607926273（Cats）。
- 与宠物相关的帖子会返回 `domain` 65（兴趣与爱好垂类），以及 entity 852262932607926273（Pets）。

以下是未进行 HTTP 编码的查询示例：

`context:65.852262932607926273 -context:66.852262932607926273 -is:retweet has:images lang:ja`

以下是包含 HTTP 编码、query 参数以及最近搜索 URI 的查询示例：

`https://api.x.com/2/tweets/search/recent?query=context%3A65.852262932607926273%20-context%3A66.852262932607926273%20-is%3Aretweet%20has%3Aimages%20lang%3Aja`

可试用[查询构建工具](https://developer.x.com/apitools/query?query=)以获取更多支持。 

<div id="operators">
  ### 运算符
</div>

<Note>**注意：** 某些运算符提供了替代名称（别名）。</Note>

| **运算符** | **类型** | **说明** |
|:-------------|:---------|:-----------------|
| `keyword` | 独立 | 匹配帖子正文中的关键词。这是基于分词的匹配，表示你的关键词字符串会与帖子正文的分词文本进行比对。分词会基于标点、符号以及 Unicode 基本平面的分隔符字符来拆分单词。<br /><br />例如，正文为“I like coca-cola”的帖子将被拆分为以下词元：I、like、coca、cola。随后这些词元会与查询中使用的关键词字符串进行比较。若要匹配包含标点（例如 coca-cola）、符号或分隔符字符的字符串，必须用双引号将关键词括起来。<br /><br />示例：`pepsi OR cola OR "coca cola"` |
| `emoji` | 独立 | 匹配帖子正文中的表情符号。与关键词类似，表情符号也采用分词匹配，表示你的表情符号会与帖子正文的分词文本进行比对。<br /><br />请注意，如果某个表情符号存在变体，则必须用双引号括起来再加入查询。<br /><br />示例：`(😃 OR 😡) 😬` |
| `"exact phrase match"` | 独立 | 匹配帖子正文中的精确短语。<br /><br />示例：`("X API" OR #v2) -"recent search"` |
| `#` | 独立 | 匹配任何包含已识别话题标签的帖子（前提是该话题标签在帖子中被识别为实体）。<br /><br />此运算符执行精确匹配，而非分词匹配，这意味着规则 `#thanku` 将匹配带有完全相同话题标签 #thanku 的帖子，但不会匹配带有话题标签 #thankunext 的帖子。<br /><br />示例：`#thankunext #fanart OR @arianagrande` |
| `@` | 独立 | 匹配任何提及指定用户名的帖子（当该用户名被识别为实体时，包含 @ 字符）。<br /><br />示例：`(@XDevelopers OR @API) -@X` |
| `$` | 独立 | 匹配任何包含指定“现金标签”的帖子（其词元的首字符为 $）。<br /><br />请注意，现金标签运算符依赖 X 的“symbols”实体抽取来匹配现金标签，而不是尝试从正文中抽取。<br /><br />示例：`$twtr OR @XDevelopers -$fb` |
| `from:` | 独立 | 匹配来自特定用户的帖子。<br />取值可以是用户名（不包含 @ 字符）或该用户的数值型用户 ID。<br /><br />每个 `from:` 运算符只能传入一个用户名/ID。<br /><br />示例：`from:XDevelopers OR from:API -from:X` |
| `to:` | 独立 | 匹配回复给特定用户的帖子。<br />取值可以是用户名（不包含 @ 字符）或该用户的数值型用户 ID。<br /><br />每个 `to:` 运算符只能传入一个用户名/ID。<br /><br />示例：`to:XDevelopers OR to:API -to:X` |
| `url:` | 独立 | 对帖子中任何格式正确的 URL 执行分词匹配。<br /><br />该运算符会匹配 `url` 与 `expanded_url` 两个字段的内容。例如，包含“You should check out X Developer Labs: https://t.co/c0A36SWil4”（短链接会重定向到 https://developer.twitter.com）的帖子，将匹配以下两条规则：<br /><br />`from:XDevelopers url:"https://developer.twitter.com"`（因为会匹配 `entities.urls.expanded_url` 的内容）<br /><br />`from:XDevelopers url:"https://t.co"`（因为会匹配 `entities.urls.url` 的内容）<br /><br />包含标点或特殊字符的词元或短语应使用双引号（例如 `url:"/developer"`）。同样地，若要匹配特定协议，也需用双引号括起（例如 `url:"https://developer.twitter.com"`）。 |
| `retweets_of:` | 独立 | 匹配对指定用户的转发。取值可以是用户名（不包含 @ 字符）或该用户的数值型用户 ID。<br /><br />每个 `retweets_of:` 运算符只能传入一个用户名/ID。<br /><br />示例：`retweets_of:twitterdev OR retweets_of:twitterapi` |
| `in_reply_to_tweet_id:` | 独立使用 | _可用别名：_ `in_reply_to_status_id:`<br />匹配对指定帖子的回复。<br /><br />示例：`in_reply_to_tweet_id:1539382664746020864` |
| `retweets_of_tweet_id:` | 独立使用 | _可用别名：_ `retweets_of_status_id:`<br />匹配对指定帖子进行的显式（原生）转发。请注意，所用帖子 ID 应为原始帖子的 ID，而不是转发帖的 ID。<br /><br />示例：`retweets_of_tweet_id:1539382664746020864` |
| `quotes_of_tweet_id:` | 独立使用 | _可用别名：_ `quotes_of_status_id:`<br />匹配对指定帖子进行的引用。请注意，所用帖子 ID 应为原始帖子的 ID，而不是引用帖的 ID。<br /><br />示例：`quotes_of_tweet_id:1539382664746020864` |
| `context:` | 独立使用 | 匹配具有特定域 ID/实体 ID 对的帖子。要了解此运算符的更多信息，请访问我们的[注解](/zh/x-api/fundamentals/post-annotations)页面。<br /><br />每个 `context:` 运算符只能传入一个域/实体。<br /><br />`context:domain_id.entity_id`<br /><br />但可以使用 OR 运算符组合多个域/实体：<br /><br />`(context:47.1139229372198469633 OR context:11.1088514520308342784)`<br /><br />示例：<br />`context:10.799022225751871488`（`domain_id.entity_id` 将返回匹配该特定域-实体对的帖子） |
| `entity:` | 独立使用 | 匹配具有特定实体字符串值的帖子。要了解此运算符的更多信息，请访问我们的[注解](/zh/x-api/fundamentals/post-annotations)页面。<br />**请注意**，这仅适用于最近搜索。<br /><br />只能传入一个 `entity:` 运算符。<br /><br />`entity:"string declaration of entity/place"`<br /><br />示例：`entity:"Michael Jordan" OR entity:"Barcelona"` |
| `conversation_id:` | 独立使用 | 匹配共享相同会话 ID 的帖子。会话 ID 会被设置为开启会话的那条帖子的帖子 ID。随着对该帖子的回复（包括对回复的回复）发布，`conversation_id` 会被添加到其 JSON 负载中。<br /><br />每个 `conversation_id:` 运算符只能传入一个会话 ID。<br /><br />示例：`conversation_id:1334987486343299072 (from:XDevelopers OR from:api)` |
| `list:` | 独立使用 | **新增** 匹配由指定列表成员发布的帖子。<br /><br />例如，若 @XDevelopers 和 @api 是列表 123 的成员，且你在查询中包含 `list:123`，则响应只会包含这些账号发布的帖子。你可以通过[List 查询](/zh/x-api/lists/list-lookup/introduction)端点找到列表 ID。<br /><br />**请注意**，每个查询只能使用一个 `list:` 运算符，且每个 `list:` 运算符只能指定一个列表。<br /><br />示例：`list:123` |
| `place:` | 独立使用 | 匹配带有指定位置或 X 地点 ID 的帖子。多词地点名称（“New York City”“Palo Alto”）应使用引号括起来。<br /><br />每个 `place:` 运算符只能传入一个地点。<br /><br />注意：有关如何获取 X 地点 ID，请参见 [GET geo/search](https://developer.x.com/content/developer-twitter/en/docs/geo/places-near-location/api-reference/get-geo-search) 标准 v1.1 端点。<br /><br />注意：此运算符不会匹配转发，因为转发的地点信息附加在原始帖子上。它也不会匹配附加在被引用原帖上的地点信息。<br /><br />示例：`place:"new york city" OR place:seattle OR place:fd70c22040963ac7` |
| `place_country:` | 独立使用 | 匹配带有地点/位置标签且其关联国家代码与给定 ISO alpha-2 字符代码相符的帖子。<br /><br />你可以在维基百科上找到有效的 ISO 代码列表：[Wikipedia](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)。<br /><br />每个 `place_country:` 运算符只能传入一个 ISO 代码。<br /><br />注意：此运算符不会匹配转发，因为转发的地点附加在原始帖子上。它也不会匹配引用推文的原始帖子所附的地点。<br /><br />示例：`place_country:US OR place_country:MX OR place_country:CA` |
| `point_radius:` | 独立使用 | 存在时，匹配帖子的 `place.geo.coordinates` 对象；在 X 中，匹配地点地理多边形，且要求地点多边形完全位于所定义区域内。<br /><br />`point_radius:[longitude latitude radius]`<br /><br />- 支持的半径单位为英里（mi）和千米（km）<br />- 半径必须小于 25mi<br />- 经度范围为 ±180<br />- 纬度范围为 ±90<br />- 所有坐标均为十进制度<br />- 规则参数置于方括号内，使用空格分隔<br /><br />每个 `point_radius:` 运算符只能传入一个地理多边形。<br /><br />注意：此运算符不会匹配转发，因为转发的地点附加在原始帖子上。它也不会匹配引用推文的原始帖子所附的地点。<br /><br />示例：`point_radius:[2.355128 48.861118 16km] OR point_radius:[-41.287336 174.761070 20mi]` |
| `bounding_box:` | 独立使用 | 可用别名：`geo_bounding_box:`<br />存在时，匹配帖子的 place.geo.coordinates 对象；在 X 中，匹配地点地理多边形，且要求地点多边形完全位于所定义区域内。<br /><br />`bounding_box:[west_long south_lat east_long north_lat]`<br /><br />- `west_long south_lat` 表示边界框的西南角，其中 `west_long` 为该点经度，`south_lat` 为该点纬度。<br />- `east_long north_lat` 表示边界框的东北角，其中 `east_long` 为该点经度，`north_lat` 为该点纬度。<br />- 边界框的宽度和高度必须小于 25mi<br />- 经度范围为 ±180<br />- 纬度范围为 ±90<br />- 所有坐标均为十进制度。<br />- 规则参数置于方括号内，使用空格分隔。<br /><br />每个 `bounding_box:` 运算符只能传入一个地理多边形。<br /><br />注意：此运算符不会匹配转发，因为转发的地点附加在原始帖子上。它也不会匹配引用推文的原始帖子所附的地点。<br /><br />示例：`bounding_box:[-105.301758 39.964069 -105.178505 40.09455]` |
| `is:retweet` | 需与其他条件合用 | 匹配与其余规则一致的转发。此运算符仅查找真正的转发（例如通过转发按钮生成的）。引用推文不会被此运算符匹配。<br /><br />示例：`data @XDevelopers -is:retweet` |
| `is:reply` | 需与其他条件合用 | 仅投递与规则匹配的明确回复。也可取反以从投递中排除与查询匹配的回复。<br /><br />注意：此运算符也可用于过滤流端点。与过滤流一起使用时，此运算符会匹配对原始帖子的回复、引用推文中的回复，以及转发中的回复。<br /><br />示例：`from:XDevelopers is:reply` |
| `is:quote` | 需与其他条件合用 | 返回所有引用推文，也称为带评论的帖子。<br /><br />示例：`"sentiment analysis" is:quote` |
| `is:verified` | 需与其他条件合用 | 仅投递作者经 X 认证的帖子。<br /><br />示例：`#nowplaying is:verified` |
| `-is:nullcast` | 需要合取 | 移除仅在 ads.twitter.com 上为推广而创建且其 `"source":"Twitter for Advertisers (legacy)"` 或 `"source":"Twitter for Advertisers"` 的帖子。<br />此运算符必须取反。<br /><br />有关 Nullcast 帖子的更多信息，请参阅我们的[帖子可用性](https://developer.x.com/content/developer-twitter/en/docs/twitter-api/v1/tweets/post-and-engage/guides/tweet-availability)页面。<br /><br />示例：`"mobile games" -is:nullcast` |
| `has:hashtags` | 需要合取 | 匹配至少包含一个话题标签的帖子。<br /><br />示例：`from:XDevelopers -has:hashtags` |
| `has:cashtags` | 需要合取 | 匹配包含股票标签符号（以“$”开头的符号，例如 `$tag`）的帖子。<br /><br />示例：`#stonks has:cashtags` |
| `has:links` | 需要合取 | 匹配正文中包含链接或媒体的帖子。<br /><br />示例：`from:XDevelopers announcement has:links` |
| `has:mentions` | 需要合取 | 匹配提及其他 X 用户的帖子。<br /><br />示例：`#nowplaying has:mentions` |
| `has:media` | 需要合取 | 可用别名：`has:media_link`<br />匹配包含媒体对象（如照片、GIF 或视频）的帖子，由 X 判定。不匹配由 Periscope 创建的媒体，或带有指向其他媒体托管站点链接的帖子。<br /><br />示例：`(kittens OR puppies) has:media` |
| `has:images` | 需要合取 | 匹配包含可识别图像 URL 的帖子。<br /><br />示例：`#meme has:images` |
| `has:video_link` | 需要合取 | 可用别名：`has:videos`<br />匹配包含原生 X 视频（直接上传到 X）的帖子。不匹配由 Periscope 创建的视频，或带有指向其他视频托管站点链接的帖子。<br /><br />示例：`#icebucketchallenge has:video_link` |
| `has:geo` | 需要合取 | 匹配包含由 X 用户提供的、特定于帖子的地理定位数据的帖子。可以是以 X 地点形式提供的位置，包含相应的显示名称、地理多边形及其他字段；也可能在少数情况下为经纬度坐标。<br /><br />注意：基于地点（帖子地理）的匹配运算符仅会包含原始帖子的匹配结果。转帖不包含任何地点数据。<br /><br />示例：`recommend #paris has:geo -bakery` || `lang:` | 需与其他条件连用 | 匹配被 X 判定为某种特定语言的帖子（且仅在该帖子已被判定语言的情况下）。请注意，每条帖子目前仅会被判定为一种语言，因此用 AND 同时指定多种语言将不会返回任何结果。<br /><br />每个 `lang:` 运算符只能传递一个 BCP 47 语言标识符。<br /><br />注意：如果无法进行语言判定，结果为 “und”（未定义）。<br /><br />示例：`recommend #paris lang:en`<br /><br />下方列出了当前支持的语言及其对应的 BCP 47 语言标识符：<br /><br />阿姆哈拉语: `am` | 德语: `de` | 马拉雅拉姆语: `ml` | 斯洛伐克语: `sk`<br />阿拉伯语: `ar` | 希腊语: `el` | 迪维希语: `dv` | 斯洛文尼亚语: `sl`<br />亚美尼亚语: `hy` | 古吉拉特语: `gu` | 马拉地语: `mr` | 索拉尼库尔德语: `ckb`<br />巴斯克语: `eu` | 海地克里奥尔语: `ht` | 尼泊尔语: `ne` | 西班牙语: `es`<br />孟加拉语: `bn` | 希伯来语: `iw` | 挪威语: `no` | 瑞典语: `sv`<br />波斯尼亚语: `bs` | 印地语: `hi` | 奥里亚语: `or` | 他加禄语: `tl`<br />保加利亚语: `bg` | 拉丁化印地语: `hi-Latn` | 旁遮普语: `pa` | 泰米尔语: `ta`<br />缅甸语: `my` | 匈牙利语: `hu` | 普什图语: `ps` | 泰卢固语: `te`<br />克罗地亚语: `hr` | 冰岛语: `is` | 波斯语: `fa` | 泰语: `th`<br />加泰罗尼亚语: `ca` | 印度尼西亚语: `in` | 波兰语: `pl` | 藏语: `bo`<br />捷克语: `cs` | 意大利语: `it` | 葡萄牙语: `pt` | 繁体中文: `zh-TW`<br />丹麦语: `da` | 日语: `ja` | 罗马尼亚语: `ro` | 土耳其语: `tr`<br />荷兰语: `nl` | 卡纳达语: `kn` | 俄语: `ru` | 乌克兰语: `uk`<br />英语: `en` | 高棉语: `km` | 塞尔维亚语: `sr` | 乌尔都语: `ur`<br />爱沙尼亚语: `et` | 韩语: `ko` | 简体中文: `zh-CN` | 维吾尔语: `ug`<br />芬兰语: `fi` | 老挝语: `lo` | 信德语: `sd` | 越南语: `vi`<br />法语: `fr` | 拉脱维亚语: `lv` | 僧伽罗语: `si` | 威尔士语: `cy`<br />格鲁吉亚语: `ka` | 立陶宛语: `lt` |