---
title: 介绍
sidebarTitle: 介绍
---

import { Button } from '/snippets/zh/button.mdx';

搜索帖子是用于呈现特定主题或事件相关 X 对话的重要功能。虽然 X 本身具备该功能，但这些端点在筛选和摄取帖子时提供了更高的灵活性和能力，帮助您更轻松地为研究找到相关数据，构建近乎实时的“监听”应用，或更广泛地探索、分析并对与感兴趣主题相关的帖子采取行动。 

我们提供两个用于搜索帖子的端点：最近搜索和全档案搜索。这两个 REST 端点在设计和功能上保持一致，包括使用单个搜索查询来筛选围绕特定主题的帖子。搜索查询由一组运算符构成，用于匹配帖子和用户属性，例如消息关键词、话题标签和 URL。可以将运算符与布尔逻辑和括号组合，细化查询的匹配行为。 

最近搜索和全档案搜索端点均提供已编辑帖子的元数据。自 2022 年 9 月 29 日起创建的所有帖子对象都包含帖子编辑元数据，即使该帖子从未被编辑也是如此。每次帖子被编辑，都会创建一个新的帖子 ID。帖子的编辑历史通过一个帖子 ID 数组记录，起始于原始 ID。

这些端点始终返回最新的编辑版本，并包含完整的编辑历史。任何在其 30 分钟编辑窗口结束后收集的帖子都将表示其最终版本。要了解有关编辑帖子元数据的更多信息，请参阅[编辑帖子基础](/zh/x-api/fundamentals/edit-posts)页面。

设置好查询并开始接收帖子后，这些端点支持按时间和帖子 ID 范围浏览结果，以满足两种常见用例： 

- 取得历史数据：针对感兴趣的时间段发起请求，而不关注数据的实时性。仅需发起一次请求，并按需通过分页返回所有匹配数据。这是“搜索帖子”的默认模式。
- 轮询或监听：以“自上次请求以来是否有新帖子？”的方式持续发起请求，通常用于近实时地“监听”感兴趣的帖子。

许多运算符和查询限制仅对[企业级访问](/zh/x-api/getting-started/about-x-api)开放，这意味着您必须使用具有企业级访问权限的[项目](/zh/resources/fundamentals/projects)中的\[应用]的密钥和令牌，才能使用这些附加功能。您可以在下方的端点章节中了解更多信息。

最近搜索和全档案搜索端点返回的帖子都会计入每月的[帖子上限](/zh/x-api/fundamentals/post-cap)。

账户设置

要访问这些端点，您需要：

- 一个已批准的[开发者账户](https://developer.x.com/en/portal/petition/essential/basic-info)。
- 使用位于某个[项目](/zh/resources/fundamentals/projects)中的[开发者应用](/zh/resources/fundamentals/developer-apps)的密钥和令牌进行身份验证。 

请在我们的[入门指南](/zh/x-api/getting-started/getting-access)中了解如何获取 X API v2 端点的访问权限。

<div id="recent-search">
  ## 近期搜索
</div>

“近期搜索”端点允许你以编程方式访问过去一周内的已过滤公开帖子；凡拥有开发者账号并在[项目](/zh/resources/fundamentals/projects)中的[应用](/zh/resources/fundamentals/developer-apps)里使用密钥与令牌的开发者均可使用。

你可以使用[OAuth 1.0a 用户上下文](/zh/resources/fundamentals/authentication)、[OAuth 2.0 仅应用](/zh/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token)或[OAuth 2.0 授权码（含 PKCE）](zh/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2)来为请求进行认证。不过，如果你希望获取私有指标，或在帖子结果中查看自然与推广指标的拆分，则必须使用 OAuth 1.0a 用户上下文或 OAuth 2.0 授权码（含 PKCE），并传递与发布该内容的用户关联的用户访问令牌。

该端点每次请求最多按时间倒序返回 100 条帖子，并提供[分页](/zh/x-api/posts/search/integrate/paginate)令牌以便浏览大量匹配的帖子。

使用常规访问级别的项目时，你可以使用基础[操作符](/zh/x-api/posts/search/integrate/build-a-query)，且查询长度最多为 512 个字符。使用企业访问级别的项目时，可用的操作符更多；具有企业访问的项目可发起最长 4096 个字符的查询。

了解更多[访问级别](/zh/x-api/getting-started/about-x-api)信息。

<div id="full-archive-search">
  ## 全档案搜索
</div>

v2 全档案搜索端点仅向具有 [Pro](/zh/x-api/getting-started/about-x-api "Pro") 或 [Enterprise](/zh/x-api/getting-started/about-x-api) 访问权限的项目开放。该端点允许你根据搜索查询，以编程方式访问自 2006 年 3 月首条帖子起的完整档案中的公开帖子。

你可以使用 [OAuth 2.0 App-Only](/zh/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token) 为该端点的请求进行身份验证，并且 [App Access Token](/zh/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token) 必须来自隶属于具有 Pro 或 Enterprise 访问权限项目的应用。由于无法使用此端点代表其他用户发起请求（OAuth 1.0a 用户上下文或 OAuth 2.0 授权码（含 PKCE）），因此你将无法获取私有[指标](/zh/x-api/fundamentals/metrics)。

该端点每次请求最多可按时间逆序返回 500 条帖子，并提供用于遍历大量匹配帖子的[分页](/zh/x-api/posts/search/integrate/paginate)令牌。

注意：如果通过 tweet.fields 参数请求[注释](/zh/x-api/fundamentals/post-annotations)，则 max\_results 参数当前的最大值限制为 100。此限制将来可能会变化，但请留意目前的限制。

由于该端点仅向已获批的 Pro 和 Enterprise 访问用户开放，你可以使用完整的搜索[操作符](/zh/x-api/posts/search/integrate/build-a-query)，并可发起最长 1024 个字符的查询。

<Button href="/zh/x-api/posts/search/quickstart/full-archive-search">
  快速开始
</Button>

<br />

<Button href="https://github.com/xdevplatform/Twitter-API-v2-sample-code">
  示例代码
</Button>

<br />

<Button href="https://github.com/xdevplatform/search-tweets-python">
  搜索帖子 Python 客户端
</Button>

<br />

<Button href="https://github.com/xdevplatform/search-tweets-ruby">
  搜索帖子 Ruby 客户端
</Button>

<br />

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  在 Postman 中运行
</Button>

<br />

<Button href="https://developer.x.com/apitools/api?endpoint=/2/tweets/search/recent&method=get">
  使用 API Explorer 试用
</Button>

<br />

<br />

支持性资源

[了解如何使用 Postman 发起请求](/zh/tutorials/postman-getting-started)

[排查错误](https://developer.x.com/en/support/x-api)

[访问 API 参考页面](/zh/x-api/posts/recent-search)