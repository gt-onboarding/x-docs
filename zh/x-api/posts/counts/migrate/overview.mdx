---
title: 概述
sidebarTitle: 概述
---

<div id="comparing-x-apis-post-counts-endpoints">
  ## 比较 X API 的帖子计数端点
</div>

v2 帖子计数端点最终将替代[企业版 Search API 的计数端点](/zh/x-api/enterprise-gnip-2.0/fundamentals/search-api#counts-requests-post-count)。如果您有使用较早版本帖子计数端点的代码、应用或工具，并计划迁移到更新的 X API v2 端点，本指南适合您。

本页包含两张对比表：

- [近期帖子计数](#recent)
- [全档案帖子计数](#full-archive)
- [过滤运算符对比](#operator)

<div id="recent-post-counts-comparison">
  ### 近期帖子计数对比
</div>

企业版的帖子计数端点允许你获取最近 30 天或全档案范围的计数。因此，查看 7 天时间段的 v2 近期帖子计数端点并不能直接替代上述任一端点。

不过，为便于比较，我们将说明 v2 近期帖子计数端点与企业版 30 天端点的差异。

下表对比了各类近期帖子计数端点：

| **说明** | **企业版** | **X API v2** |
| :--- | :--- | :--- |
| 主机域名 | https://gnip-api.x.com | https://api.x.com |
| 端点路径 | /search/30day/accounts/:account\_name/:label/counts.json | /2/tweets/counts/recent |
| [身份验证](/zh/resources/fundamentals/authentication) | 基本身份验证 | OAuth 2.0 Bearer Token |
| 时间戳格式 | YYYYMMDDhhmm | YYYY-MM-DDTHH:mm:ssZ  <br />[ISO 8601 / RFC 3339](https://tools.ietf.org/html/rfc3339#section-5.6) |
| 返回的帖子不早于 | 31 天 | 7 天 |
| 支持的 HTTP 方法 | GET | GET |
| 默认请求速率限制 | 每秒 20 次请求，按搜索数据与计数请求汇总计算  <br />每分钟的速率限制将因合作伙伴而异，以合同为准。 | 每用户每 15 分钟 180 次请求  <br />每应用每 15 分钟 450 次请求 |
| 支持使用[注释](/zh/x-api/fundamentals/post-annotations)进行过滤 |     | ✔   |
| 支持使用[conversation\_id](/zh/x-api/fundamentals/conversation-id)进行过滤 |     | ✔   |
| 帖子数据数组的 JSON 键名 | results | data |
| 时间粒度 | 天、小时或分钟 | 天、小时或分钟 |
| 时区 | UTC | UTC |
| 选择时间段的请求参数 | fromDate  <br />toDate | start\_time  <br />end\_time |
| 通过帖子 ID 导航的请求参数 |     | since\_id  <br />until\_id |
| 是否需要使用与[项目](/zh/resources/fundamentals/projects)关联的[开发者应用](/zh/resources/fundamentals/developer-apps)凭据 |     | ✔   |

<div id="full-archive-post-counts-comparison">
  ### 全档案帖子计数对比
</div>

下表对比了各类全档案搜索端点：

| 描述 | 企业版 | X API v2 |
| :--- | :--- | :--- |
| 主机域名 | https://gnip-api.x.com | https://api.x.com |
| 端点路径 | /search/fullarchive/accounts/:account\_name/:label/counts | /2/tweets/counts/all |
| [Authentication](/zh/resources/fundamentals/authentication) | 基本认证 | OAuth 2.0 持有者令牌 |
| 时间戳格式 | YYYYMMDDHHMM | YYYY-MM-DDTHH:mm:ssZ  <br />[ISO 8601 / RFC 3339](https://tools.ietf.org/html/rfc3339#section-5.6) |
| 返回的帖子计数最早至 | 自 2006 年 3 月起的完整档案 | 自 2006 年 3 月起的完整档案 |
| 支持的 HTTP 方法 | GET  <br />POST | GET |
| 默认请求速率限制 | 每分钟的速率限制将按合同中约定的合作伙伴配置而异。  <br />每秒 20 个请求 | 每个应用每 15 分钟 300 个请求  <br />每个应用每秒 1 个请求 |
| 粒度 | 天、小时、分钟 | 天、小时、分钟 |
| 支持使用[annotations](/zh/x-api/fundamentals/post-annotations)进行过滤 |     | ✔   |
| 支持使用[conversation\_id](/zh/x-api/fundamentals/conversation-id)进行过滤 |     | ✔   |
| 帖子数据数组的 JSON 键名 | results | data |
| 选择时间范围的请求参数 | fromDate  <br />toDate | start\_time  <br />end\_time |
| 按帖子 ID 导航的请求参数 |     | since\_id  <br />until\_id |
| 分页的 JSON 键名 | next | meta.next\_token |
| 分页的请求参数 | next\_token | next\_token 或 pagination\_token |
| 时区 | UTC | UTC |
| 是否需要使用与具有[Academic Research access](/zh/x-api/getting-started/about-x-api)的[Project](/zh/resources/fundamentals/projects)关联的[developer App](/zh/resources/fundamentals/developer-apps)的凭据 |     | ✔   |

<div id="filtering-operator-comparison">
  ### 过滤运算符对比
</div>

Enterprise 和 v2 两个不同版本的 Post counts 在可用运算符上有所差异，并且各版本内部也存在不同的运算符可用级别，具体如下所述。

Enterprise

- Enterprise 运算符没有子层级。所有 Enterprise 运算符对所有 Enterprise 用户均可用。

X API v2

- **Core：** 这些运算符对所有 v2 用户可用。
- **Advanced：** 这些运算符仅对已获批 Academic Research 访问的用户开放。

你可以在各自的指南中了解这些运算符集合的更多信息：

- [Enterprise 运算符](/zh/x-api/enterprise-gnip-2.0/fundamentals/search-api#building-search-queries)
- [X API v2 运算符](/zh/x-api/posts/search/integrate/build-a-query)

在了解了 X API v2 中不同的运算符级别后，下面的表格列出了 Post counts 的运算符可用性（注意：如果单元格留空，则表示该运算符不可用）：

|     | Enterprise | v2  |
| :--- | :--- | :--- |
| keyword | Available | Core |
| emoji | Available | Core |
| “exact phrase” | Available | Core |
| #   | Available | Core |
| $   | Available | Advanced |
| @   | Available | Core |
| from: | Available | Core |
| to: | Available | Core |
| url: | Available | Core |
| retweets\_of: | Available | Core |
| context: |     | Core |
| entity: |     | Core - Only available with recent search |
| conversation\_id: |     | Core |
| place: | Available | Advanced |
| place\_country: | Available | Advanced |
| point\_radius: | Available | Advanced |
| bounding\_box: | Available | Advanced |
| is:retweet | Available | Core |
| is:reply | Available | Core |
| is:quote | Available | Core |
| is:verified | Available | Core |
| -is:nullcast | Available | Advanced |
| has:hashtags | Available | Core |
| has:cashtags | Available | Advanced |
| has:links | Available | Core |
| has:mentions | Available | Core |
| has:media | Available | Core |
| has:images | Available | Core |
| has:videos | Available | Core |
| has:geo | Available | Advanced |
| lang: | Available | Core |
| list: |     | Advanced |
| has:profile\_geo | Available |     |
| profile\_country | Available |     |
| profile\_locality | Available |     |
| profile\_region | Available |     |
| proximity | Available |     |

**其他迁移资源**

[X API 迁移中心](/zh/x-api/migrate/overview)

[查看这些端点的示例代码](https://github.com/xdevplatform/Twitter-API-v2-sample-code "查看这些端点的示例代码")

[Post counts：从 Enterprise 迁移到 X API v2](/zh/x-api/posts/counts/migrate/overview)