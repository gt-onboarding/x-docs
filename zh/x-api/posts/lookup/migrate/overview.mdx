---
title: 概述
sidebarTitle: 概述
---

<div id="comparing-x-apis-posts-lookup-endpoints">
  ## 对比 X API 的帖子查询端点
</div>

v2 帖子查询端点取代了标准的 v1.1 [GET statuses/lookup](https://developer.x.com/en/docs/twitter-api/v1/tweets/post-and-engage/api-reference/get-statuses-lookup) 和 [GET statuses/show](https://developer.x.com/en/docs/twitter-api/v1/tweets/post-and-engage/api-reference/get-statuses-show-id) 端点。本指南面向从这些旧版迁移至 X API v2 的开发者。

---

<div id="endpoint-comparison-table">
  ## 端点比较表
</div>

| 描述 | 标准 v1.1 | X API v2 |
|:-------------|:---------------|:----------|
| **支持的 HTTP 方法** | `GET` | `GET` |
| **主机域名** | `https://api.x.com` | `https://api.x.com` |
| **端点路径** | `/1.1/statuses/show.json`, `/1.1/statuses/lookup.json` | `/2/tweets` |
| **[身份验证](zh/resources/fundamentals/authentication)** | OAuth 1.0a 用户上下文 | OAuth 1.0a 用户上下文、OAuth 2.0 应用仅限、OAuth 2.0 授权码（含 PKCE） |
| **帖子 [JSON 格式](/zh/x-api/fundamentals/data-dictionary)** | 标准 v1.1 格式 | [X API v2 格式](/zh/x-api/fundamentals/data-dictionary)，由 `fields` 和 `expansions` 参数确定（与 v1.1 不向后兼容） |
| **支持选择特定[字段](/zh/x-api/fundamentals/data-dictionary)** |  | ✔ |
| **支持[注释](/zh/x-api/fundamentals/post-annotations)字段** |  | ✔ |
| **支持新的[指标](/zh/x-api/fundamentals/metrics)字段** |  | ✔ |
| **支持 `conversation_id` 字段** |  | ✔ |
| **提供帖子编辑历史** | ✔ | ✔ |
| **需要来自与[项目](zh/resources/fundamentals/projects)关联的[开发者应用](/zh/resources/fundamentals/developer-apps)的凭证** |  | ✔ |

---

<div id="standard-v11-compared-to-x-api-v2">
  ## 标准版 v1.1 与 X API v2 对比
</div>

如果您一直在使用标准版 v1.1 的 GET statuses/show 和 GET statuses/lookup，本指南将帮助您了解标准版与 X API v2 帖子查询端点之间的相似与差异。

您可能也会对我们的[可视化数据格式迁移工具](/zh/x-api/migrate/data-format-migration)感兴趣，以便快速查看 [X API v1.1 数据格式](/zh/x-api/fundamentals/data-dictionary)与 [X API v2 格式](/zh/x-api/fundamentals/data-dictionary)之间的差异。

- **相似点**
  - OAuth 1.0a 用户上下文
  - 每次请求的帖子数量限制
  - 支持帖子编辑历史与元数据

- **差异**
  - 端点 URL
  - 应用与项目要求
  - 响应数据格式
  - 请求参数

<div id="similarities">
  ### 相似性
</div>

<div id="oauth-10a-user-context-authentication-method">
  #### OAuth 1.0a 用户上下文身份验证方法
</div>

标准端点支持 [OAuth 1.0a 用户上下文](/zh/resources/fundamentals/authentication)，而新的 X API v2 帖子查询端点同时支持 OAuth 1.0a 用户上下文和 [OAuth 2.0 仅应用](/zh/resources/fundamentals/authentication)。因此，如果你之前使用的是标准 v1.1 帖子查询端点之一，在迁移到 X API v2 版本时可以继续使用相同的身份验证方法。

仅应用身份验证通常是最快上手的方式。要了解如何生成应用访问令牌，请参阅 [这份 OAuth 2.0 仅应用指南](/zh/resources/fundamentals/authentication)。

<div id="posts-per-request-limits">
  #### 每次请求的帖子数量限制
</div>

v1.1 的 [GET statuses/lookup](https://developer.x.com/en/docs/twitter-api/v1/tweets/post-and-engage/api-reference/get-statuses-lookup) 端点允许你在每次请求中指定最多 100 条帖子。这同样适用于 GET /tweets 端点。要指定完整的 100 条帖子，请将 `ids` 作为查询参数，传入以逗号分隔的[帖子 ID](/zh/resources/fundamentals/x-ids) 列表。

**对帖子编辑历史和元数据的支持**

这两个版本都会返回描述编辑历史的元数据。请参阅 Post Lookup API 参考以及[编辑帖子基础知识](/zh/x-api/fundamentals/edit-posts)页面了解更多详情。

<div id="differences">
  ### 差异点
</div>

<div id="endpoint-urls">
  #### 端点 URL
</div>

- **标准 v1.1 端点：**
  - `https://api.x.com/1.1/statuses/show`
  - `https://api.x.com/1.1/statuses/lookup`

- **X API v2 端点：**
  - `https://api.x.com/2/tweets`
  - `https://api.x.com/2/tweets/:id`

<div id="app-and-project-requirements">
  #### 应用与项目要求
</div>

X API v2 端点需要使用与[项目](/zh/resources/fundamentals/projects)关联的[开发者应用](/zh/resources/fundamentals/developer-apps)凭据进行身份验证。X API v1.1 端点可以使用独立应用，或与项目关联的应用的凭据。

<div id="response-data-format">
  #### 响应数据格式
</div>

标准 v1.1 与 X API v2 端点版本的一个重要区别在于在负载中选择字段的方式。

对于标准端点，许多响应字段默认返回，并可通过参数请求额外字段。

而在 X API v2 中，默认仅返回帖子（Post）的 `id` 和 `text` 字段。请求其他字段和对象需要使用 [fields](/zh/x-api/fundamentals/fields) 和 [expansions](/zh/x-api/fundamentals/expansions) 参数。通过扩展获取的字段会出现在响应的 `includes` 对象中，并可通过匹配 ID 与主帖子对象关联。

有关使用 fields 和 expansions 的更多信息，请参阅[使用字段与扩展的指南](/zh/x-api/fundamentals/data-dictionary)。[数据格式迁移指南](/zh/x-api/fundamentals/fields)还提供了从标准 v1.1 字段到新版 v2 字段的映射。

此外，X API v2 为对象（包括帖子和 [user](/zh/x-api/fundamentals/fields) 对象）引入了新的 JSON 设计：

- 标准端点在 `statuses` 数组中返回帖子对象，而 X API v2 使用 `data` 数组。
- 在 X API v2 中，用“转发的推文（Retweeted）”和“引用的推文（Quoted）”替换了“statuses”等术语。
- 新术语如 `like` 替代了 `favorites` 和 `favourites`。
- 值为空（如 `null`）的属性不会包含在 X API v2 的负载中。

X API v2 中的帖子对象新增了以下字段：

- `conversation_id`
- 两个新的[注解](/zh/x-api/fundamentals/post-annotations)字段（`context` 和 `entities`）
- 新的[指标](/zh/x-api/fundamentals/metrics)字段
- 用于指示谁可以回复该帖子的 `reply_setting` 字段

<div id="request-parameters">
  #### 请求参数
</div>

以下标准 v1.1 请求参数在 X API v2 中有对应项：

| 标准 | X API v2 |
|:----------|:----------|
| `id`     | `ids`    |

某些标准 v1.1 参数在 X API v2 中不受支持：

| 标准            | 说明                                                                                                                      |
|:---------------------|:------------------------------------------------------------------------------------------------------------------------------|
| `tweet_mode`        | 已由字段与扩展（fields 和 expansions）功能取代。                                                                             |
| `trim_user`         | 已由字段与扩展取代。对用户数据请使用 `author_id` 扩展和 `user.fields`。                               |
| `include_my_retweet`| 为经认证用户转发的帖子提供其源帖子的 ID。                                          |
| `include_entities`  | 使用字段与扩展来控制载荷中的实体。                                                               |
| `include_ext_alt_text` | 如存在替代文本，会在媒体实体中添加 `ext_alt_text` 字段。                                                         |
| `include_card_uri`  | 当附加广告卡片时，会添加 `card_uri`。                                                                               |
| `map`               | 在 X API v2 中，对于不可用的帖子，将返回帖子 ID 和错误信息；而在 v1.1 中则是返回被置空的字段。            |

<div id="curl-requests">
  ### cURL 请求
</div>

以下 cURL 请求展示了标准 v1.1 端点及其 v2 对应端点。将请求头中的 `ACCESS_TOKEN` 替换为你的应用访问令牌。对于 v2 端点，该令牌必须隶属于某个 [developer App](/zh/resources/fundamentals/developer-apps/overview)，且该应用位于某个 [Project](/zh/resources/fundamentals/projects) 中。

v1.1 与 v2 的响应负载有所不同。在 v2 中，你可以使用 [fields](/zh/x-api/fundamentals/fields) 和 [expansions](/zh/x-api/fundamentals/expansions) 参数请求不同的字段。

**标准 v1.1 `GET statuses/lookup` 与 v2 `GET /tweets` 端点**

```bash
curl --request GET \
  --url 'https://api.x.com/1.1/statuses/lookup.json?id=1460323737035677698%2C1460323743339741184' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```

```
  curl --request GET \
  --url 'https://api.x.com/2/tweets?ids=1460323737035677698%2C1460323743339741184&tweet.fields=created_at&expansions=author_id&user.fields=created_at' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```

**标准 v1.1 `GET statuses/show/:id` 与 v2 `GET /tweets/:id` 端点**

```
curl --request GET \
  --url 'https://api.x.com/1.1/statuses/show.json?id=1460323737035677698' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```

```
curl --request GET \
  --url 'https://api.x.com/2/tweets/1460323737035677698?tweet.fields=created_at&expansions=author_id&user.fields=created_at' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```