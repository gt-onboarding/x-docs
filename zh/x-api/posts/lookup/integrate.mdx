---
title: 集成指南
sidebarTitle: 集成指南
---

import { Button } from "/snippets/zh/button.mdx"

本页介绍多种工具和关键概念，帮助你将帖子查询端点集成到你的系统中。我们将内容分为以下几个部分：

- [实用工具](#helpful)
- 关键概念
  - [认证](#authentication)
  - [开发者门户、项目与应用](#portal)
  - [速率限制](#limits)
  - [字段与扩展](#fields)
  - [帖子编辑](#edits)
  - [边缘案例](#edge)

<div id="helpful-tools">
  ## 实用工具
</div>

在深入关键概念之前，建议先熟悉以下工具：

**Postman**\
Postman 是一款出色的端点测试工具，涵盖所有路径和请求体参数，帮助你了解可用功能。请查看我们的 [Postman 入门指南](/zh/tutorials/postman-getting-started)了解详情。

**代码示例**\
在我们的 [GitHub 页面](https://github.com/xdevplatform/Twitter-API-v2-sample-code)查找你所用编程语言的代码示例。

**第三方库**\
使用社区构建且与 v2 端点兼容的 [第三方库](/zh/resources/tools-and-libraries)。

<div id="key-concepts">
  ## 核心概念
</div>

<div id="authentication">
  ### 认证
</div>

所有 X API v2 端点都需要经过身份验证的请求。你可以通过以下任一方式进行验证：

- 使用 [OAuth 1.0a 用户上下文](/zh/resources/fundamentals/authentication)，配合 API Key、Access Token 以及其他参数来[创建授权头](/zh/resources/fundamentals/authentication#authorizing-a-request)。
- 通过 [OAuth 2.0 应用专用模式](/zh/resources/fundamentals/authentication#oauth-2-0) 在请求中携带 [App Access Token](/zh/resources/fundamentals/authentication)。
- 使用 [OAuth 2.0 授权码（含 PKCE）](/zh/resources/fundamentals/authentication)，以更精细地控制应用作用域并支持多设备授权。

<Note>
  OAuth 1.0a 的实现可能较为复杂。若不熟悉，建议使用[库](/zh/resources/tools-and-libraries)或改用 OAuth 2.0 发起请求。对于私有指标或帖子，请使用 OAuth 1.0a 用户上下文或 OAuth 2.0 授权码（含 PKCE）。
</Note>

<Tip>
  **请注意**

  > 若你请求以下字段，则必须使用 OAuth 1.0a 用户上下文或 OAuth 2.0 授权码：
  >
  > - `tweet.fields.non_public_metrics`
  > - `tweet.fields.promoted_metrics`
  > - `tweet.fields.organic_metrics`
  > - `media.fields.non_public_metrics`
  > - `media.fields.promoted_metrics`
  > - `media.fields.organic_metrics`
</Tip>

<div id="developer-portal-projects-and-apps">
  ### 开发者门户、项目与应用
</div>

要获取 X API v2 的凭据，您需要：

1. 一个已获批准的[开发者账户](/zh/resources/fundamentals/developer-portal)。
2. 该开发者账户下的一个[项目](/zh/resources/fundamentals/projects)。
3. 该项目中的一个[开发者应用](/zh/resources/fundamentals/developer-apps)，其中可找到密钥和令牌。

<div id="rate-limits">
  ### 速率限制
</div>

为管理请求量，X API 请求受[速率限制](/zh/resources/fundamentals/rate-limits)约束。限制同时适用于应用级和用户级：

- **应用级**：限制任意应用在每个周期内可发起的请求次数。
- **用户级**：限制经身份验证的用户在各开发者应用之间执行帖子查找的频率。

<div id="fields-and-expansions">
  ### 字段与扩展
</div>

X API v2 允许通过 `fields` 和 `expansions` 选择特定数据字段：

- **扩展（Expansions）**：用于获取额外的关联对象。支持的扩展包括：
  - `edit_history_tweet_ids`
  - `attachments.poll_ids`
  - `attachments.media_keys`
  - `author_id`
  - `entities.mentions.username`
  - `geo.place_id`
  - `in_reply_to_user_id`
  - `referenced_tweets.id`
  - `referenced_tweets.id.author_id`

- **字段（Fields）**：在对象内指定要返回的附加数据字段。Post 对象默认包含 `id`、`text` 和 `edit_history_tweet_ids`。其他字段（如 `tweet.created_at` 和 `tweet.entities`）必须显式请求。

更多信息请参阅 [X API v2 数据字典](/zh/x-api/fundamentals/data-dictionary)中的“字段与扩展”指南。

<div id="post-edits">
  ### 帖子编辑
</div>

符合条件的帖子可在发布后 30 分钟内最多编辑五次。Posts 查询端点始终返回帖子的最新版本。对于近实时的使用场景，请留意这一时间窗口。更多详情，请参阅[编辑帖子基础](/zh/x-api/fundamentals/edit-posts)。

<div id="edge-cases">
  ### 边缘情况
</div>

- **推广指标**：对未推广的帖子请求推广指标将返回空响应。
- **文本截断**：转发的帖子文本会被截断。要获取完整文本，请展开被引用的帖子。