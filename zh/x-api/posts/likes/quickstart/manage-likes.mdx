---
title: 管理“赞”
sidebarTitle: 管理“赞”
---

import { Button } from '/snippets/zh/button.mdx';

<div id="getting-started-with-the-manage-likes-endpoints">
  ### 管理点赞端点快速入门
</div>

本快速入门指南将帮助你使用 [Postman](/zh/tutorials/postman-getting-started) 向管理点赞端点发出首个请求。

如果你想查看不同编程语言的示例代码，请访问我们的 [X API v2 示例代码](https://github.com/xdevplatform/Twitter-API-v2-sample-code) GitHub 仓库。 

<div id="prerequisites">
  #### 先决条件
</div>

要完成本指南，您需要一组[密钥和令牌](/zh/resources/fundamentals/authentication)，可按以下步骤生成：

1. [申请开发者账户](https://developer.x.com/en/apply-for-access)并通过审核。

2. 在开发者门户中创建一个[项目](/zh/resources/fundamentals/projects)及其关联的[开发者应用](/zh/resources/fundamentals/developer-apps)。

3. 前往应用的“Keys and tokens”页面，并将您的 API Keys、Access Tokens 和 Bearer Token 保存到密码管理器中。

<div id="steps-to-build-a-manage-likes-request">
  #### 构建管理点赞请求的步骤
</div>

**步骤一：选择工具或库**

向该端点发起请求可使用多种工具、代码示例和库。为简化流程，我们在此使用 Postman。

要将 X API v2 的 Postman 集合加载到你的环境中，请点击以下按钮：

[![](https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/m1_vnext/carat.svg)<br />将 X API v2 添加到 Postman](https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400)

在将 X API v2 集合加载到 Postman 后，导航至“Likes”文件夹，并选择“Like a Post”。

**步骤二：为请求进行身份验证**

要成功调用该端点，你需要使用 [OAuth 1.0a 用户上下文](/zh/resources/fundamentals/authentication)。请在 Postman 中选择名为“X API v2”的环境，并在初始值与当前值字段中添加以下变量：

- consumer\_key（你的 API Key）
- consumer\_secret（你的 API Key Secret）
- access\_token（你的 Access Token）
- token\_secret（你的 Access Token Secret）
   

**步骤三：指定你要点赞的帖子**

管理点赞端点需要两个 ID：一个是用户 ID（要执行点赞操作的用户），另一个是该用户尝试点赞或取消点赞的帖子 ID（Post ID）。 

用户 ID 必须与进行身份验证的用户一致，这意味着在为请求进行身份验证时，必须传递与该用户 ID 关联的 [访问令牌](/zh/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow)。在本例中，你可以使用你自己的用户 ID。你可以通过两种方式找到你的 ID：

1. 使用 [按用户名查询用户](/zh/x-api/users/user-lookup-by-id) 端点，传入用户名即可获取 id 字段。 
2. 查看你的 Access Token，其数字部分即为你的用户 ID。
    

你还必须指定要点赞的帖子。可通过访问 x.com，点击某条帖子，并查看其 URL 来找到该帖子的 ID。例如，以下 URL 的帖子 ID 为 1228393702244134912。

https://x.com/TwitterDev/status/1228393702244134912

在 Postman 中，转到 “Params” 选项卡，将你的 ID 填入路径变量 id 的 “Value” 列。然后转到 “Body” 选项卡，将你要点赞的帖子的 ID 作为 tweet\_id 参数的值。请确保任何 ID 的前后都不要包含空格。

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | （你的用户 ID） |
| tweet\_id | （你想点赞的帖子 ID） |

点击 “Send” 按钮后，你将收到一个包含关系状态的响应对象：

- 如果返回 "liked": true，则表示该 id 已成功点赞 tweet\_id。
   

**步骤四：发起请求并查看响应**

当一切设置就绪后，点击 “Send” 按钮，你将收到如下响应：

```
{
    "data": {
        "liked": true
    }
}
```

如果你想取消对同一条帖子的点赞，可使用名为 “Unlike a Post” 的请求，它同样位于 Postman 的 X API v2 集合下的 “Likes” 文件夹。id 和 tweet\_id 的用法与前述示例相同。取消点赞时，无需添加 JSON 请求体，请确保添加必要的 id 和 tweet\_id 查询参数。