---
title: 点赞查询
sidebarTitle: 点赞查询
---

<div id="likes-lookup-standard-v11-compared-to-x-api-v2">
  ### 点赞查询：标准版 v1.1 与 X API v2 的比较
</div>

如果您一直在使用标准版 v1.1 的 [GET favorites/list](https://developer.x.com/en/docs/x-api/v1/tweets/post-and-engage/api-reference/get-favorites-list) 端点，本指南旨在帮助您了解标准版 v1.1 与 X API v2 点赞查询端点之间的相似之处与差异。

在 v2 中，我们还引入了一个新的“已点赞用户”端点，便于获取某条帖子的点赞用户信息。

- **相似之处**
  - 身份验证
  - 速率限制
- **差异**
  - 端点 URL

  - 请求限制

  - 应用与项目要求

  - 请求参数

  - 新的 JSON 格式

<div id="similarities">
  #### 相似点
</div>

**身份验证**

标准 v1.1 和 X API v2 的 Likes 查找端点都使用 [OAuth 1.0a 用户上下文](/zh/resources/fundamentals/authentication#oauth-1-0a-2) 或 [OAuth 2.0 持有者令牌](/zh/resources/fundamentals/authentication#bearer-token-also-known-as-app-only)。因此，如果你此前使用标准 v1.1 的 [GET favorites/list 端点](https://developer.x.com/en/docs/x-api/v1/tweets/post-and-engage/api-reference/get-favorites-list)，在迁移到 X API v2 版本时，如有需要可以继续使用相同的身份验证方式。

根据你选择的身份验证库/包，持有者令牌身份验证通常是最易上手的方式，并且只需通过一个简单的请求头即可设置。要了解如何生成持有者令牌，请参阅[此 OAuth 2.0 持有者令牌指南](/zh/resources/fundamentals/authentication#bearer-token-also-known-as-app-only)。

**速率限制**

标准 v1.1 的 GET favorites/list 端点对每位用户的速率限制为每 15 分钟 75 次请求。v2 中对应的“已点赞帖子”端点也有相同的速率限制。此外，该 v2 端点还对每个应用增加了每 15 分钟 75 次请求的额外速率限制。

<div id="differences">
  #### 差异
</div>

**端点 URL**

- 标准 v1.1 端点：
  - GET https://api.x.com/1.1/favorites/list.json
    （由指定用户点赞的帖子列表）
  - v1.1 中没有与 v2 liking users 端点等价的端点
- X API v2 端点：
  - GET https://api.x.com/2/users/:id/liked\_tweets
    （指定用户 ID 点赞过的帖子列表）
  - GET https://api.x.com/2/tweets/:id/liking\_users
    （点赞了指定帖子 ID 的用户列表）

**请求限制**

v2 的 liked Posts 端点允许每次请求 5 到 100 条帖子，但你可以使用分页令牌获取某个帖子的全部点赞。v1.1 的 GET favorites/list 端点也允许你拉取全部点赞过的帖子，但每次请求可拉取 20 到 200 条帖子。

对于 v2 的 liking users 端点，每个帖子最多返回 100 个点赞用户。 
 

**应用与项目要求**

X API v2 端点要求你在请求认证时使用与某个[开发者应用](/zh/resources/fundamentals/developer-apps)关联的[项目](/zh/resources/fundamentals/developer-apps)的凭据。所有 X API v1.1 端点都可以使用独立应用或与项目关联的应用的凭据。

**请求参数**

以下标准 v1.1 端点接受两个查询参数（user\_id 或 screen\_name）。X API v2 仅接受数值型用户 ID，并且必须作为端点路径的一部分传递。

标准 v1.1 与 X API v2 端点版本之间最大的差异之一在于如何选择在负载中返回哪些字段。对于标准端点，你可以使用多个参数来指定要返回的字段或字段集，而 X API v2 将这些不同的参数简化为[字段](/zh/x-api/fundamentals/fields)和[扩展](/zh/x-api/fundamentals/expansions)。 
 

**全新的 JSON 格式**

X API v2 为 API 返回的对象引入了新的 JSON 设计，包括 [Post](/zh/x-api/fundamentals/data-dictionary#tweet) 和 [user](/zh/x-api/fundamentals/data-dictionary#user) 对象。

- 在 JSON 根级，标准端点在 statuses 数组中返回帖子对象，而 X API v2 返回 data 数组。 
- X API v2 的 JSON 不再使用“转推和引用的 statuses”说法，而是称为转推（Retweeted）和引用（Quoted）Tweets。许多遗留与弃用字段（如 contributors 和 user.translator\_type）将被移除。 
- X API v2 不再同时使用 favorites（Post 对象中）和 favourites（user 对象中），而统一使用术语 like。 
- X 采用的约定是，对于没有值的 JSON 字段（例如 null），不会写入到负载中。Post 和 user 属性仅在其具有非空值时才会被包含。
   

除了上述对新 JSON 格式的更改外，我们还为 Post 对象引入了一组新字段，包括：

- [conversation\_id](/zh/x-api/fundamentals/conversation-id)
- 两个新的 [Post 注释](/zh/x-api/fundamentals/post-annotations) 字段，包括 context 和 entities
- 若干新的[指标](/zh/x-api/fundamentals/metrics)字段 