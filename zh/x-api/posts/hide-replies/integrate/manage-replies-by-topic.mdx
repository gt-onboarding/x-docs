---
title: 按主题管理回复
sidebarTitle: 按主题管理回复
---

import { Button } from '/snippets/zh/button.mdx';

<div id="manage-replies-by-topic">
  ### 按主题管理回复
</div>

通过“隐藏回复”端点，您可以构建集成，帮助个人和品牌让对话聚焦于主题。本页展示如何使用“隐藏回复”和[最近搜索](/zh/x-api/posts/recent-search)端点来管理一段对话。

“最近搜索”具备定位一段对话及其回复的功能，而 Post 负载会返回[Post 注释](/zh/x-api/fundamentals/post-annotations)，帮助您理解每条 Post 的上下文和主题，不受语言影响。

应用的流程将包含用于显示和管理对话的控件：

1. 请求用户授权读取其 Posts 并管理其回复。

2. 从一个 Post URL 拉取一段近期对话，并验证该对话是否来自已认证用户。

3. 调用“最近搜索”端点来显示对话中的每条 Post。请求将包含会话 ID 的搜索查询以及注释扩展，以根据 X 对该 Post 的解读判断其是否与体育相关。

4. 当用户选择隐藏某条回复时，调用“隐藏回复”以将其隐藏。同时提供撤销操作的方式，确保用户始终掌控。

5. 对于较长的对话，提供控件以[分页浏览搜索结果](/zh/x-api/posts/search/integrate/paginate)。
    

<div id="optimize-for-the-user-and-for-usage">
  #### 面向用户优化（同时面向使用优化）
</div>

你可以将流程设计为让用户掌控其打算执行的任何操作。牢记这一原则还能帮助你构建在帖子消费方面更优的集成。

1. 由于已验证用户只能管理其自己发起的会话，当不满足该条件时，你的流程应尽早终止。
   - 先发起一次帖子查找请求。如果帖子 URL 无效，或会话并非由当前验证用户发起，则尽早终止流程。
   - 这样一来，如果已验证用户无法管理该会话，你的应用就无需发起“近期搜索”请求。
2. 在同一个请求中同时请求[用户和帖子字段](/zh/x-api/fundamentals/fields)，以避免分别发起请求。这种方式也能提升应用性能。
3. 避免不必要的请求。此应用会在用户的浏览器中缓存回复的隐藏状态。这对较大的会话很有用，用户可能希望稍后继续其审核工作，同时也有助于你的应用优化用于隐藏或取消隐藏回复的请求。