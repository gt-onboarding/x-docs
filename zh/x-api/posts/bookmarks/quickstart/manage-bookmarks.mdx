---
title: 管理书签
sidebarTitle: 管理书签
---

import { Button } from '/snippets/zh/button.mdx';

<div id="getting-started-with-the-manage-bookmarks-endpoints">
  ## 管理书签端点快速入门
</div>

本快速入门指南将帮助你使用 [Postman](/zh/tutorials/postman-getting-started) 向管理书签端点发出第一条请求。

如需查看不同语言的示例代码，请访问我们的 [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) GitHub 代码库。

<Note>
  **先决条件**

  完成本指南需要一组用于为请求进行身份验证的 [keys and tokens](/zh/resources/fundamentals/authentication)。你可以按照以下步骤生成这些 keys 和 tokens：

  - [注册开发者账号](https://developer.x.com/en/apply-for-access) 并通过审核。
  - 在开发者门户中创建一个 [Project](/zh/resources/fundamentals/projects) 以及关联的 [developer App](/zh/resources/fundamentals/developer-apps)。
  - 前往你的 App 的“Keys and tokens”页面生成所需的凭据。请务必将所有凭据妥善保管。
</Note>

<div id="steps-to-build-a-manage-bookmarks-request">
  ### 构建管理书签请求的步骤
</div>

**步骤一：选择工具或库**

有多种工具、代码示例和库可用于向此端点发起请求，但为简化流程，我们将在此使用 Postman。

要将 X API v2 的 Postman 集合加载到你的环境，请点击以下按钮：

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  将 X API v2 添加到 Postman
</Button>

在 Postman 中加载 X API v2 集合后，导航至“Bookmarks”文件夹，选择“Create a Bookmark”。

**步骤二：为请求进行身份验证**

要成功调用此端点，你需要使用 [OAuth 2.0（含 PKCE）的授权码流程](/zh/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-3)。你可以在 Postman 中生成访问令牌。

前往名为“Authorization”的选项卡并选择“OAuth 2.0”。

在该选项卡中，请按以下步骤操作：

1. 为令牌命名

2. 将 Grant Type 选择为 Authorization Code（with PKCE）

3. 更新以下参数：

   **Callback URL** - [https://www.example.com](https://www.example.com/)

   这应与您在开发者门户“身份验证”设置页中配置的回调 URL 保持一致。

   **Auth URL** - [https://x.com/i/oauth2/authorize](https://x.com/i/oauth2/authorize)

   **Access Token URL** - [https://api.x.com/2/oauth2/token](https://api.x.com/2/oauth2/token)

   **Client ID** - 从开发者门户复制并粘贴 OAuth 2.0 client ID

   **Client Secret** - 从开发者门户复制并粘贴 OAuth 2.0 client secret。仅当你的应用类型为机密客户端时需要。

4. 将 scopes 更新为：post.read users.read bookmark.write

5. 将 state 字段填写为“State”

6. 点击“Generate Token”

7. 点击保存图标以保存文件夹更改。

你可能会收到未登录 X 的提示。如果出现此错误，需要在 Postman 中登录你希望代为发帖的 X 账号。

**步骤三：指定用户**

对于此端点，必须指定要在响应中返回其数据的用户 ID。例如，@XDevelopers 的用户 ID 为 `2244994945`。

在 Postman 中，转到“Params”选项卡，将你自己或已认证用户的 ID 作为 id 参数的值输入。

|     |     |     |
| :--- | :--- | :--- |
|     | Key | Value |
|     | id  | `2244994945` |

**步骤四：指定要加入书签的帖子**

前往“Body”选项卡，确保 Post ID 设置为你希望保存到书签的帖子。JSON 负载应类似于以下内容。

```
      {"tweet_id": "1460323737035677698"}
```

**步骤五：发送请求并查看响应**

完成设置后，点击“Send”按钮，你将收到类似于以下示例的响应：

```
{
   "data": {
       "bookmarked": true
   }
}
```

若要删除帖子，请在已加载到 Postman 的 X API v2 集合中，前往“Bookmarks”文件夹并选择“Remove a Bookmark”请求。首先在“`id`”列中指定你代为发起请求的用户的用户 ID。该端点还需要你希望删除的帖子的 ID。随后在“Params”选项卡中，将要删除的帖子的 ID 填入“`tweet_id`”列。

成功删除后，你将收到类似于以下示例的响应：

```
{
   "data": {
       "bookmarked": false
   }
}
```