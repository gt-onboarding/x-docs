---
title: 简介
sidebarTitle: 简介
---

import { Button } from '/snippets/zh/button.mdx';

Direct Messages 让你在 X 上进行私密对话。Direct Messages 是 X 上最受欢迎的功能之一，覆盖丰富的使用场景：既适用于好友之间的群聊，也可用于为全球品牌提供客户支持。新的 v2 版本 Direct Messages 端点将分阶段推出，第一阶段包含用于创建 Direct Messages 和列出 Direct Message 会话事件的基础端点。X API v2 首次支持群组会话。

本次 Manage Direct Messages 的初始发布包含三个用于创建 Direct Messages 的 POST 方法：

- **POST /2/dm\_conversations/with/:participant\_id/messages** - 创建一对一 Direct Message。该方法要么创建一个新的 1-1 会话，要么获取现有会话并将 Direct Message 添加到其中。:participant\_id 路径参数是接收消息账户的用户 ID。
- **POST /2/dm\_conversations** - 创建一个新的群组会话并向其中添加一条 Direct Message。请求需提供会话参与者列表。请注意，你可以使用相同的参与者列表创建多个会话，这些请求始终会返回一个新的会话 ID。
- **POST /2/dm\_conversations/:dm\_conversation\_id/messages** - 创建一条 Direct Message 并将其添加到现有会话中。:dm\_conversation\_id 路径参数是要添加消息的会话 ID。

请注意，Direct Message 事件 ID 在 v1.1 与 v2（以及 X 应用）之间是通用的，因此 v1.1 的隐藏/删除 Direct Messages 方法可与这个新的 v2 端点配合使用。另请注意，Enterprise 和 Premium Account Activity API 支持 v2 的一对一消息，但尚不支持群组会话。

POST 方法的用户速率限制为每 15 分钟 200 次。此外，每位用户每 24 小时限 1000 次请求，另外还有每 24 小时 15000 次请求的全局限制。请注意，这些速率限制在上述 POST 端点之间共享。

由于你是代表用户通过 manage Posts 端点发起请求，必须使用 [OAuth 1.0a User Context](https://developer-staging.x.com/resources/fundamentals/authentication) 或 [OAuth 2.0 Authorization Code with PKCE](zh/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) 进行身份验证，并使用已授权你应用的该用户所对应的用户访问令牌（user Access Token）。若使用 OAuth 1.0a 生成用户访问令牌，可采用 [三方 OAuth 流程（3-legged OAuth flow）](/zh/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token)。若使用 OAuth 2.0 生成用户访问令牌，可采用 [Authorization Code with PKCE 授权流程](/zh/resources/fundamentals/authentication#how-to-connect-to-endpoints-using-oauth-2-0-authorization-code-flow-with-pkce))。

<Note>
  **账户设置**

  要访问这些端点，你需要：

  - 一个已获批准的 [developer account](https://developer.x.com/en/portal/petition/essential/basic-info)。
  - 使用位于某个 [Project](/zh/resources/fundamentals/projects) 内的 [developer App](/zh/resources/fundamentals/developer-apps) 的密钥和令牌进行身份验证。

  在我们的 [getting started guide](/zh/x-api/getting-started/getting-access) 中了解有关获取 X API v2 端点访问权限的更多信息。
</Note>

<div className="flex space-x-2">
  <Button href="/zh/x-api/direct-messages/manage/quickstart">
    快速开始
  </Button>

  <Button href="https://github.com/xdevplatform/Twitter-API-v2-sample-code">
    示例代码
  </Button>

  <Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
    在 Postman 中运行
  </Button>

  <Button href="https://developer.x.com/apitools/api?endpoint=/2/tweets&method=post">
    使用 API Explorer 试用
  </Button>
</div>
