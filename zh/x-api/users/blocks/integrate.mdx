---
title: 集成指南
sidebarTitle: 集成指南
---

import { Button } from '/snippets/zh/button.mdx';

本页介绍在将 blocks 端点集成到您的系统时需要了解的多种工具与关键概念。我们将本页分为以下几个部分：

- [实用工具](#helpful)
- 关键概念
- [身份验证](#authentication)
- [开发者门户、项目与应用](#portal)
- [速率限制](#limits)
- [字段与扩展](#fields)
- [分页](#pagination)

<div id="helpful-tools">
  ### 实用工具
</div>

在深入介绍一些有助于你集成此端点的关键概念之前，我们建议先熟悉以下内容：

<div id="postman">
  #### Postman
</div>

Postman 是一款非常适合用于测试端点的工具。每个 Postman 请求都包含所有路径参数和请求体参数，帮助您快速了解可用项。要进一步了解我们的 Postman 集合，请访问「[使用 Postman](/zh/tutorials/postman-getting-started)」页面。 

<div id="code-samples">
  #### 代码示例
</div>

想用你常用的编程语言配合一些代码来接入此端点吗？我们在 [GitHub 页面](https://github.com/xdevplatform/Twitter-API-v2-sample-code)提供了多种代码示例，可作为你的起步参考。

<div id="third-party-libraries">
  #### 第三方库
</div>

借助我们社区提供的[第三方库](/zh/x-api/tools-and-libraries/overview)快速开始。查找相应的版本标签即可找到适配 v2 端点的库。

<div id="key-concepts">
  ### 关键概念
</div>

<div id="authentication">
  #### 身份验证
</div>

所有 X API v2 端点都要求你使用一组凭证（也称为密钥和令牌）对请求进行身份验证。你可以使用 OAuth 1.0a 用户上下文或 OAuth 2.0（含 PKCE）的授权码流程来对这些端点的请求进行身份验证。

[OAuth 1.0a 用户上下文](/zh/resources/fundamentals/authentication) 要求你使用 API Key、用户 Access Token，以及少量其他参数来[创建授权头](/zh/resources/fundamentals/authentication#authorizing-a-request)，然后随请求一并发送。Access Token 必须与你所代表的用户关联。如果你想为另一位用户生成一组 Access Token，则该用户必须通过[三方 OAuth 流程](https://developer-staging.x.com/resources/fundamentals/authentication/obtaining-user-access-tokens)授权你的 App。

请注意，OAuth 1.0a 可能较难使用。如果你不熟悉这种身份验证方式，建议你使用[库](/zh/x-api/tools-and-libraries/overview)、使用 Postman 之类的工具，或改用 OAuth 2.0 进行身份验证。

[OAuth 2.0（含 PKCE）的授权码流程](/zh/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-3) 允许更精细地控制应用的权限范围，并支持跨多设备的授权流程。OAuth 2.0 允许你选择细粒度的特定 scope，以便代表用户获得相应权限。

要在你的 App 中启用 OAuth 2.0，你必须在开发者门户的 App 设置中，打开该 App 的身份验证设置并启用此功能。

<div id="developer-portal-projects-and-developer-apps">
  #### 开发者门户、项目与开发者应用
</div>

要获取可用于 X API v2 端点的一组身份验证凭据，您需要先[注册开发者账户](https://developer.x.com/en/portal/petition/essential/basic-info)，在该账户下设置一个[项目](/zh/resources/fundamentals/projects)，并在该项目内创建一个[开发者应用](/zh/resources/fundamentals/developer-apps)。随后，您可以在开发者应用中找到您的密钥和令牌。
 

<div id="rate-limits">
  #### 速率限制
</div>

每天都有成千上万的开发者向 X API 发起请求。为便于管理如此庞大的请求量，我们在每个端点上设置了[速率限制](/zh/x-api/fundamentals/rate-limits)，用于限制你代表应用或授权用户所能发起的请求次数。

这些端点按用户维度实施速率限制，这意味着你所代表的已授权用户在任何开发者 App 中对该端点的调用次数都有上限。对于 POST 和 DELETE 方法，每个端点的用户速率限制为每 15 分钟最多 50 次请求；而对 GET 方法，限制为每 15 分钟最多 15 次请求。
 

<div id="fields-and-expansions">
  #### 字段与扩展
</div>

X API v2 的 GET 端点提供名为“字段”和“扩展”的一组工具，允许你精确选择要从 API 返回的数据。expansions 参数可展开负载中被引用的对象。例如，此端点允许你获取以下[扩展](/zh/x-api/fundamentals/expansions)：

- pinned\_tweet\_id

**fields** 参数允许你在不同数据对象中精确选择希望接收的[字段](/zh/x-api/fundamentals/fields)。这些端点主要返回 Post 对象。默认情况下，Post 对象仅返回 **id** 和 **text** 字段。若需接收诸如 **tweet.created\_at** 或 **tweet.entities** 等额外字段，你需要通过 **fields** 参数显式请求。在集成中，你可能会用到的一些重要字段包括投票数据、指标、Post 注释，以及会话 ID 字段。

我们已在 [X API v2 数据字典](/zh/x-api/fundamentals/data-dictionary)中新增了指南，介绍如何[结合使用字段与扩展](/zh/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions)。

<div id="pagination">
  #### 分页
</div>

封禁列表查询可能返回大量数据。为避免一次性返回过多结果，我们采用分页。了解如何[分页浏览结果](/zh/x-api/fundamentals/pagination)。