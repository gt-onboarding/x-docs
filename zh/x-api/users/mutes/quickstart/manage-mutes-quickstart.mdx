---
title: 管理屏蔽
sidebarTitle: 管理屏蔽
---

import { Button } from '/snippets/zh/button.mdx';

<div id="getting-started-with-the-manage-mutes-endpoints">
  ## 管理静音端点入门
</div>

本快速入门指南将帮助你使用 [Postman](/zh/tutorials/postman-getting-started) 向管理静音端点发出第一个请求。

如果你想查看不同语言的示例代码，请访问我们的 [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) GitHub 仓库。

<Note>
  **先决条件**

  要完成本指南，你需要一组用于对请求进行身份验证的[密钥和令牌](/zh/resources/fundamentals/authentication)。你可以按照以下步骤生成这些密钥和令牌：

  - [注册开发者账号](https://developer.x.com/en/apply-for-access)并通过审批。
  - 在开发者门户中创建一个[项目](/zh/resources/fundamentals/projects)以及关联的[开发者应用](/zh/resources/fundamentals/developer-apps)。
  - 前往你的应用的“Keys and tokens”页面以生成所需凭据。请确保将所有凭据妥善保存在安全位置。
</Note>

<div id="steps-to-build-a-manage-mutes-request">
  ### 构建“管理静音”请求的步骤
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### 步骤一：先选用工具或库
</div>

你可以使用多种工具、代码示例和库来向此端点发起请求，但为了简化流程，我们这里使用 Postman。

要将 X API v2 的 Postman 集合加载到您的环境中，请点击以下按钮：

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  将 X API v2 添加到 Postman
</Button>

在您将 X API v2 集合加载到 Postman 后，前往 “Mutes” 文件夹，并选择 “Mute a user’s ID”。
 

<div id="step-two-authenticate-your-request">
  #### 步骤二：对请求进行身份验证
</div>

要正确向 X API 发起请求，你需要确认自己具备相应权限。对于此端点，必须使用 [OAuth 1.0a 用户上下文](/zh/resources/fundamentals/authentication) 或 [OAuth 2.0 授权码（含 PKCE）](zh/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) 对请求进行身份验证。

本示例将使用 OAuth 1.0a 用户上下文。

你需要将密钥和令牌（具体包括 API Key、API Secret Key、OAuth 1.0a 用户 Access Token、OAuth 1.0a 用户 Access Token Secret）添加到 Postman。可在 Postman 右上角选择名为“X API v2”的环境，并将密钥和令牌填入“initial value”和“current value”字段（点击环境下拉菜单旁的眼睛图标）。

若已正确配置，这些变量会自动注入到请求的 Authorization 选项卡中。
 

<div id="step-three-specify-who-is-going-to-mute-whom">
  #### 第三步：指定谁将对谁进行静音
</div>

“管理静音”端点需要两个 ID：一个是用户 ID（希望对另一位用户静音或取消静音的用户），一个是目标用户 ID（将被静音或取消静音的用户）。用户 ID 必须与正在进行身份验证的用户 ID 一致，这意味着在为请求进行身份验证时，必须使用与该用户 ID 关联的访问令牌（Access Tokens）。在本例中，你可以指定你自己的用户 ID。你可以通过以下两种方式找到你的 ID：

1. 使用按用户名的 [user lookup](/zh/x-api/users/lookup/introduction) 端点，传入用户名即可获取 id 字段。
2. 查看你的访问令牌（Access Token），其中的数字部分就是你的用户 ID。
    

目标 ID 可以是任意有效的用户 ID。在 Postman 中，转到 “Params” 选项卡，在 `id` 路径变量的 “Value” 列中输入你的 ID。然后转到 “Body” 选项卡，将你希望静音的用户的 ID 作为 target\_user\_id 参数的值输入。务必不要在任何 ID 的前后包含空格。

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | 已认证用户 ID |
| target\_user\_id | 你希望静音的用户 ID |

<div id="step-four-make-your-request-and-review-your-response">
  #### 第四步：发起请求并查看响应
</div>

完成所有设置后，点击“Send”按钮，您将收到与以下示例响应类似的返回：

```
      { "data": { "muting": true } }
```

如果您收到 "muting": true，则表示该 id 已成功将 target\_user\_id 设为静音。

要取消对同一用户的静音，您可以使用名为“Unmute a user ID”的请求，它同样位于 Postman 中载入的 X API v2 集合的“Mutes”文件夹下。source\_user\_id 应为您的用户 ID，target\_user\_id 应为要取消静音的用户 ID。此请求无需添加 JSON 正文，请务必在查询参数中填入 source\_user\_id 和 target\_user\_id。

成功取消静音后，您将收到与以下示例类似的响应：

```
      { "data": { "muting": false } }
```