---
title: 从 v1 迁移到 v2
sidebarTitle: 从 v1 迁移到 v2
---

import { Button } from '/snippets/zh/button.mdx';

<div id="manage-follows-standard-v11-compared-to-x-api-v2">
  #### 关注管理：标准版 v1.1 与 X API v2 的对比
</div>

如果您曾使用标准版 v1.1 的 [POST friendships/create](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/follow-search-get-users/api-reference/post-friendships-create) 和 [POST friendships/destroy](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/follow-search-get-users/api-reference/post-friendships-destroy) 端点，则本指南旨在帮助您理解标准版与 X API v2 在关注管理端点方面的相同点与不同点。

- **相同点**
  - OAuth 1.0a 用户上下文
- **不同点**
  - 端点 URL
  - 应用与项目要求
  - HTTP 方法
  - 请求参数

     

<div id="similarities">
  #### 相似之处
</div>

**OAuth 1.0a 用户上下文认证方法**

两个端点版本都支持 [OAuth 1.0a 用户上下文](/zh/resources/fundamentals/authentication#oauth-1-0a-2)。因此，如果您此前使用的是标准 v1.1 的某个“管理关注”端点，迁移到 X API v2 版本后仍可继续使用相同的认证方法。 

<div id="differences">
  #### 差异
</div>

**端点 URL**

- 标准 v1.1 端点：
  - POST https://api.x.com/1.1/friendships/create.json
    （关注用户）
  - POST https://api.x.com/1.1/friendships/destroy.json
    （取消关注用户）
- X API v2 端点：
  - POST https://api.x.com/2/users/:id/following
    （关注用户）
  - DELETE https://api.x.com/2/users/:source\_user\_id/following/:target\_user\_id
    （取消关注用户） 

**应用与项目要求**

在对请求进行身份验证时，X API v2 端点要求你使用与某个[开发者应用](/zh/resources/fundamentals/developer-apps)且关联到[项目](/zh/resources/fundamentals/projects)的凭证。所有 X API v1.1 端点均可使用独立应用或与项目关联的应用的凭证。

**请求参数**

以下标准 v1.1 请求参数在 X API v2 中有对应项：

| 标准 v1.1 | X API v2 |
| :--- | :--- |
| 无对应项 | id（POST）、source\_user\_id（DELETE） |
| user\_id | target\_user\_id |
| screen\_name | 无对应项 |

请注意，标准 v1.1 参数作为查询参数传递，而 X API v2 参数则作为请求体参数（用于 POST 端点）或路径参数（用于 DELETE 端点）传递。

此外，使用标准 v1.1 端点时，无需提供 v2 的 id 和 source\_user\_id，因为通过 OAuth 1.0a 用户上下文携带的访问令牌即可推断发起关注/取消关注操作的用户。 