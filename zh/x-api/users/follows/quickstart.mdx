---
title: 快速开始
sidebarTitle: 快速开始
---

import { Button } from '/snippets/zh/button.mdx';

<div id="getting-started-with-the-manage-follows-endpoints">
  ## 开始使用 manage follows 端点
</div>

本快速入门指南将帮助你使用 [Postman](/zh/tutorials/postman-getting-started) 向 manage follows 端点发出你的第一个请求。

如果你想查看不同语言的示例代码，请访问我们的 [X API v2 示例代码](https://github.com/xdevplatform/Twitter-API-v2-sample-code) GitHub 代码库。

<Note>
  ### 前提条件

  完成本指南，你需要一组用于请求身份验证的[密钥和令牌](/zh/resources/fundamentals/authentication)。你可以按照以下步骤生成这些密钥和令牌：

  - [注册开发者账号](https://developer.x.com/en/apply-for-access)并通过审批。
  - 在开发者门户中创建一个[项目](/zh/resources/fundamentals/projects)及其关联的[开发者应用](/zh/resources/fundamentals/developer-apps)。
  - 前往你的应用的“Keys and tokens”页面生成所需的凭据。请务必将所有凭据妥善保管在安全位置。
</Note>

<div id="steps-to-build-a-manage-follows-request">
  ### 构建“管理关注”请求的步骤
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### 第一步：从工具或库入手
</div>

有多种工具、代码示例和库可用于向该端点发起请求，但为简化流程，我们将在这里使用 Postman。

要将 X API v2 的 Postman 集合加载到您的环境中，请点击以下按钮：

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  将 X API v2 添加到 Postman
</Button>

在您将 X API v2 集合加载到 Postman 后，前往“Follows”文件夹，并选择“Follow a user ID”。
 

<div id="step-two-authenticate-your-request">
  #### 步骤二：为你的请求进行身份验证
</div>

要正确向 X API 发起请求，你需要验证自己拥有相应权限。对于此端点，你必须使用 [OAuth 1.0a User Context](/zh/resources/fundamentals/authentication) 或 [OAuth 2.0 Authorization Code with PKCE](zh/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) 来对请求进行身份验证。

在本示例中，我们将使用 OAuth 1.0a User Context。

你需要将你的密钥和令牌——具体是 API Key、API Secret Key、OAuth 1.0a 用户 Access Token，以及 OAuth 1.0a 用户 Access Token Secret——添加到 Postman。你可以在 Postman 右上角选择名为“X API v2”的环境，并将这些密钥和令牌添加到“initial value”和“current value”字段中（点击环境下拉菜单旁的眼睛图标）。

如果上述步骤设置正确，这些变量将会自动填充到请求的“authorization”选项卡中。
 

<div id="step-three-specify-who-is-going-to-follow-whom">
  #### 第三步：指定谁将关注谁
</div>

“管理关注”端点需要两个 ID：源用户（希望关注或取消关注另一位用户的用户）的 ID，以及目标用户（将被关注或被取消关注的用户）的 ID。源用户的 ID 必须与进行身份验证的用户的用户 ID 相匹配。本例中，你可以填写你自己的用户 ID。你可以通过两种方式找到你的 ID：

1. 使用[通过用户名查询用户](/zh/x-api/users/user-lookup-by-id)端点，传入一个用户名即可获取返回对象中的 id 字段。
2. 查看你的 Access Token，其中的数字部分就是你的用户 ID。

目标 ID 可以是任何有效的用户 ID。例如，@XDevelopers 的用户 ID 是 2244994945。

在 Postman 中，转到“Params”选项卡，在路径变量 id 的“Value”列中输入你的 ID。然后转到“Body”选项卡，将 2244994945（@XDevelopers 的用户 ID）作为 target\_user\_id 参数的值。请确保任何 ID 前后都不要包含空格。

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | （你的用户 ID） |
| target\_user\_id | 2244994945 |

点击“Send”按钮后，你将收到一个包含关系状态的响应对象：

- 如果返回 "following": true，则表示该 id 已成功关注 target\_user\_id。
- 如果返回 "pending": true，则表示 target\_user\_id 为受保护帐号，需对方接受你的关注请求。

####

第四步：发起请求并查看响应

完成所有设置后，点击“Send”按钮，您将收到如下响应：

```{
    "data": {
        "following": true,
        "pending_follow": false
    }
}
```

同样，如果您尝试取消关注某个用户，可以在同一 Postman 集合中使用“Unfollow a user ID”请求。不过，`source_user_id` 和 `target_user_id` 两个参数都应作为路径变量通过 unfollow 端点传递。 