---
title: 广告活动管理
---

import { Button } from '/snippets/zh/button.mdx';

<div id="advertiser-api">
  ## 广告主 API
</div>

通过这一套 API 在 X 上以编程方式排期并管理广告系列与投放。

<div id="what-can-you-promote">
  ## 可以推广哪些内容？
</div>

<div id="promoted-ads">
  ### [Promoted Ads](https://business.x.com/help/what-are-promoted-tweets)
</div>

- Promoted Ads 是由广告主购买的普通广告，用于触达更广泛的用户群体或提升其现有关注者的互动。
- 当广告主为在 X 上的投放付费时，Promoted Ads 会清晰标注为 Promoted。除此之外，Promoted Ads 与常规广告一致，可被转发、回复、点赞等。它们遵循常规投放规则，并通过 [POST statuses/update](/zh/x-api/posts/creation-of-a-post) 创建。
- \*\*“仅推广”推文（Promoted-only Tweets）\*\*通过 [POST accounts/:account\_id/tweet](/zh/x-ads-api/creatives#post-accounts-account-id-tweet) 创建，可用于 Promoted Tweets 广告活动，但不会向关注者投放或出现在公共时间线中。要获取某个账户的“仅推广”推文列表，请使用 [GET accounts/:account\_id/scoped\_timeline](/zh/x-ads-api/creatives)。

<div id="promoted-accounts">
  ### [推广账号](https://business.x.com/help/what-are-promoted-accounts)
</div>

- 推广账号是“关注推荐”的一部分，会向用户推荐他们尚未关注但可能感兴趣的账号。推广账号可帮助用户发现更多可能喜欢的账号。
- 在时间线中的推广账号会将推广推文与推广账号广告活动关联，并显示在用户的时间线中。

推广趋势在 X 广告 API 中不可用。

<div id="campaigns-and-ad-groups-line-items">
  ## 广告系列与广告组（Line Items）
</div>

广告系列定义广告的投放时间表和预算。广告主需要指定每日预算和总预算。广告系列可以设定具体的开始和结束时间，或持续运行直至预算耗尽。预算来源于该广告账户的某个 Funding Instrument。广告系列标识符（:campaign\_id）是我们在 X Ads UI 中所展示十进制值的 base-36 表示。

广告账户最多可拥有 200 个活跃广告系列。经广告主的 X 客户经理按需手动提升，此上限可提高至 4,000 个活跃广告系列。广告系列在到达结束时间或被删除之前均被视为活跃。已暂停的广告系列在其指定的结束时间之前仍被视为活跃。

Line items 会消耗广告系列所定义的预算。Line items 汇集每次互动的出价、要推广的推文或账号，以及定向规则。

<div id="analytics">
  ## 分析
</div>

X 广告 API 提供一组分析端点，用于跟踪和优化广告效果。请参阅“Analytics”和“Analytics 最佳实践”以了解更多信息。

对于计费指标，数据可能要在事件发生后三天才最终确定。在此之前，这些数据应视为暂估值。最终的可计费数值将始终小于暂估数值。可计费数值会因垃圾信息和相关低质量流量而进行校正。有关时间的其他注意事项，请参阅“时区”。

<div id="creating-a-campaign-step-by-step">
  ## 创建广告活动 - 分步说明
</div>

以下示例假设你已使用 [twurl](https://github.com/twitter/twurl) 安装、配置并为应用和用户完成授权。twurl 是一款与 cURL 类似的命令行工具，可优雅地处理 X 的 OAuth 身份验证。twurl 非常适合快速测试和调试 Ads API（以及 REST API）功能。若要查看请求与响应的完整头部信息，请使用 `-t` 跟踪调用，其作用大致等同于 cURL 的 `-v` 选项。

**在本示例中，我们将创建一个按关键词定向的 Promoted Ads 广告活动。**

1. **获取账号 ID。**

```
twurl -H ads-api.x.com /9/accounts/
```

```JSON
{
  "request": {
    "params": {
    }
  },
  "data": [
    {
      "name": "Test account for @AdsAPI",
      "timezone": "America/Los_Angeles",
      "timezone_switch_at": null,
      "id": "xxxxxx",
      "created_at": "2014-03-09T00:41:49Z",
      "salt": "f9f9d5a5f23075c618da5eb1d1a9df57",
      "updated_at": "2015-01-29T00:41:49Z",
      "approval_status": "ACCEPTED",
      "deleted": false
    }
  ],
  "data_type": "account",
  "total_count": 1,
  "next_cursor": null
}
```

2. **获取资金工具 ID。**

使用上一步获取的账号 ID 调用 [GET accounts/:account\_id/funding\_instruments](/zh/x-ads-api/campaign-management#get-accounts-account-id-funding-instruments) API。

```
twurl -H ads-api.x.com /9/accounts/xxxxxx/funding_instruments
```

```JSON
{
  "data": [
    {
      "cancelled": true,
      "created_at": "2014-03-09T00:41:49Z",
      "credit_limit_local_micro": null,
      "currency": "USD",
      "deleted": false,
      "description": null,
      "end_time": null,
      "funded_amount_local_micro": null,
      "id": "yyyy",
      "type": null,
      "updated_at": "2014-05-29T00:41:49Z"
    }
  ],
  "data_type": "funding_instrument",
  "next_cursor": null,
  "request": {
    "params": {
      "account_id": "xxxxxx"
    }
  },
  "total_count": 1
}
```

3. **创建广告活动并将其与资金工具关联。**

为广告活动指定开始时间和预算。出于示例目的，我们将使用总预算 $500、每日限额 $50。

```
twurl -H ads-api.x.com -d "funding_instrument_id=yyyy&name=My First Campaign&total_budget_amount_local_micro=500000000&daily_budget_amount_local_micro=50000000" /9/accounts/xxxxxx/campaigns
```

```JSON
{
  "data": {
    "created_at": "2015-02-09T00:00:00Z",
    "currency": "USD",
    "daily_budget_amount_local_micro": 50000000,
    "deleted": false,
    "end_time": null,
    "funding_instrument_id": "yyyy",
    "id": "92ph",
    "name": "My First Campaign",
    "entity_status": "PAUSED",
    "standard_delivery": true,
    "total_budget_amount_local_micro": 500000000,
    "updated_at": "2015-02-09T00:00:00Z"
  },
  "data_type": "campaign",
  "request": {
    "params": {
      "account_id": "xxxxxx",
      "daily_budget_amount_local_micro": 50000000,
      "funding_instrument_id": "yyyy",
      "name": "My First Campaign",
      "total_budget_amount_local_micro": 500000000
    }
  }
}
```

4. **创建与该广告活动关联的广告组（line item）。**

现在我们已有广告活动 ID，可以创建并关联一个广告组。广告组包含出价、定向以及广告活动中的实际创意部分。对于此广告组，我们将以 $1.50 的出价推广推文。

```
twurl -H ads-api.x.com -d "campaign_id=XXXX&bid_amount_local_micro=1500000&product_type=PROMOTED_TWEETS&placements=ALL_ON_TWITTER&objective=ENGAGEMENTS&entity_status=PAUSED" /9/accounts/xxxxxxx/line_items
```

```JSON
{
  "data_type": "line_item",
  "data": {
    "bid_type": "MAX",
    "name": "Untitled",
    "placements": [
      "ALL_ON_TWITTER"
    ],
    "bid_amount_local_micro": 1500000,
    "automatically_select_bid": false,
    "advertiser_domain": null,
    "primary_web_event_tag": null,
    "charge_by": "ENGAGEMENT",
    "product_type": "PROMOTED_TWEETS",
    "bid_unit": "ENGAGEMENT",
    "total_budget_amount_local_micro": null,
    "objective": "ENGAGEMENTS",
    "id": "azjx",
    "entity_status": "PAUSED",
    "optimization": "DEFAULT",
    "categories": [],
    "currency": "USD",
    "created_at": "2015-02-09T00:00:00Z",
    "updated_at": "2015-02-09T00:00:00Z",
    "include_sentiment": "POSITIVE_ONLY",
    "campaign_id": "92ph",
    "deleted": false
  },
  "request": {
    "params": {
      "placements": [
        "ALL_ON_TWITTER"
      ],
      "bid_amount_local_micro": 1500000,
      "product_type": "PROMOTED_TWEETS",
      "entity_status": "PAUSED",
      "account_id": "xxxxxxx",
      "campaign_id": "92ph"
    }
  }
}
```

5. 为该广告项目创建一个关联的定向配置。

创建好广告项目后，我们可以设置定向条件。我们希望在旧金山湾区按短语关键词“grumpy cat”进行投放定位。这需要先查询位置 ID，然后发送两次 targeting\_criteria 的 POST 请求。

```
twurl -H ads-api.x.com "/9/targeting_criteria/locations?location_type=CITIES&q=San Francisco"
```

```JSON
{
  "data": [
    {
      "name": "San Francisco-Oakland-San Jose CA, US",
      "targeting_type": "LOCATION",
      "targeting_value": "5122804691e5fecc"
    }
  ],
  "data_type": "targeting_criterion",
  "request": {
    "params": {
      "location_type": "CITY",
      "q": "San Francisco"
    }
  }
}
```

```
twurl -H ads-api.x.com -X POST -d "line_item_id=yyyy&targeting_type=LOCATION&targeting_value=5122804691e5fecc" /9/accounts/xxxxxx/targeting_criteria
```

```JSON
{
  "data": {
    "created_at": "2015-02-09T00:00:15Z",
    "deleted": false,
    "id": "2u3be",
    "line_item_id": "yyyy",
    "name": "San Francisco-Oakland-San Jose CA, US",
      "targeting_type": "LOCATION",
    "targeting_value": "5122804691e5fecc",
    "updated_at": "2013-05-30T21:01:35Z"
  },
  "data_type": "targeting_criterion",
  "request": {
    "params": {
      "account_id": "xxxxxx",
      "line_item_id": "yyyy",
      "targeting_type": "LOCATION",
      "targeting_value": "5122804691e5fecc"
    }
  }
}
```

```
twurl -H ads-api.x.com -X POST -d "line_item_id=yyyy&targeting_type=PHRASE_KEYWORD&targeting_value=grumpy cat" /9/accounts/xxxxxx/targeting_criteria
```

```JSON
{
  "data": {
    "created_at": "2015-02-09T00:00:20Z",
    "deleted": false,
    "id": "2u3bd",
    "line_item_id": "yyyy",
    "name": "grumpy cat",
    "targeting_type": "PHRASE_KEYWORD",
    "targeting_value": "grumpy cat",
    "updated_at": "2013-05-30T18:05:35Z"
  },
  "data_type": "targeting_criterion",
  "request": {
    "params": {
      "account_id": "xxxxxx",
      "line_item_id": "yyyy",
      "targeting_type": "PHRASE_KEYWORD",
      "targeting_value": "grumpy cat"
    }
  }
}
```

6. 最后，解除该 line item 的暂停。

```
twurl -H ads-api.x.com -X PUT "/9/accounts/xxxxxx/line_items/yyyy/?entity_status=ACTIVE"
```

```JSON
{
  "data_type": "line_item",
  "data": {
    "bid_type": "MAX",
    "name": "grumpy cat",
    "placements": [],
    "bid_amount_local_micro": 1500000,
    "automatically_select_bid": false,
    "advertiser_domain": null,
    "primary_web_event_tag": null,
    "charge_by": "ENGAGEMENT",
    "product_type": "PROMOTED_TWEETS",
    "bid_unit": "ENGAGEMENT",
    "total_budget_amount_local_micro": null,
    "objective": "ENGAGEMENTS",
    "id": "yyyy",
    "entity_status": "ACTIVE",
    "optimization": "DEFAULT",
    "categories": [],
    "currency": "USD",
    "created_at": "2015-02-09T00:00:20Z",
    "updated_at": "2015-02-09T00:00:20Z",
    "include_sentiment": "POSITIVE_ONLY",
    "campaign_id": "dy1f",
    "deleted": false
  },
  "request": {
    "params": {
      "line_item_id": "yyyy",
      "entity_status": "ACTIVE",
      "account_id": "xxxxxx"
    }
  }
}
```

就是这样！我们现在已有一个正在运行、已定向且已获资金的“时间线中的推广推文”广告系列。

<div id="objective-based-campaigns">
  ### 基于目标的广告系列
</div>

基于目标的广告系列与定价允许广告主只为与其营销目标一致的行为付费。为实现此点，请在广告项上设置合适的 `objective`。

在广告项写入端点中使用、并在读取端点中返回的参数为 `objective`。截至目前，此字段的可选值如下：

- `APP_ENGAGEMENTS`
- `APP_INSTALLS`
- `FOLLOWERS`
- `ENGAGEMENTS`
- `REACH`
- `VIDEO_VIEWS`
- `PREROLL_VIEWS`
- `WEBSITE_CLICKS`

目标会影响我们在竞拍中如何优化广告系列，以及对这些广告系列如何计费。我们提供按目标计费的定价模型，例如：`APP_ENGAGEMENTS` 使用 CPAC，`APP_INSTALLS` 使用 CPAC 或 CPI，`WEBSITE_CLICKS` 使用 CPLC，`FOLLOWERS` 使用 CPF，`ENGAGEMENTS` 使用 CPE，`REACH` 使用 CPM。

移动应用推广类广告系列必须包含 `APP_ENGAGEMENTS` 或 `APP_INSTALLS` 目标。

**注意：** 同一广告系列下不允许包含具有不同目标的广告项。

| 广告系列目标 | API 目标 | 推文中的媒体 | 定价模型 |
|:---------------------|:----------------|:------------------|:----------------|
| 应用再互动 | `APP_ENGAGEMENTS` | 需要带图片或视频的应用下载卡片。 | CPAC |
| 应用安装 | `APP_INSTALLS` | 需要带图片或视频的应用下载卡片。 | CPAC 或 CPI（通过 `charge_by` 设置） |
| 触达 | `REACH` | 无限制。 | CPM |
| 关注者 | `FOLLOWERS` | 不强制要求推文，但建议发布。关注者广告系列的推文在媒体上无任何限制，但我们建议使用纯文本推文。[更多信息](https://business.x.com/en/help/campaign-setup/create-a-followers-campaign.html#serve) | CPF |
| 互动 | `ENGAGEMENTS` | 无限制。 | CPE |
| 视频观看 | `VIDEO_VIEWS` | 需要视频会话卡片、视频或 GIF。 | CPV 或 每 3 秒/100% 完整观看计费 |
| 片头贴片观看 | `PREROLL_VIEWS` | 需要视频。 | CPV 或 每 3 秒/100% 完整观看计费 |
| 网站点击 | `WEBSITE_CLICKS` | 建议使用网站卡片，但非必需。推文必须包含网站卡片或网站链接（二者不可同时存在）。 | CPLC |

<div id="funding-instruments">
  ### 资金工具
</div>

资金工具是广告活动预算的来源。资金工具无法通过 X 广告 API 创建，需由广告主的 X 客户经理（用于信用额度）或通过 ads.x.com（用于信用卡）事先设置后方可使用。

要获取某个账户下所有 `funding_instruments` 的列表，请参阅 [GET accounts/:account\_id/funding\_instruments](/zh/x-ads-api/campaign-management#get-accounts-account-id-funding-instruments)；如需查看特定资金工具的详细信息，请参阅 [GET accounts/:account\_id/funding\_instruments/:funding\_instrument\_id](/zh/x-ads-api/campaign-management#get-accounts-account-id-funding-instruments-funding-instrument-id)。

<div id="funding-instrument-attributes">
  #### 资金工具属性
</div>

描述类：`account_id`、资金工具 `id`、资金工具 `type`、`description`，以及 `io_header`（插入单据头 ID）。请注意，一个 `io_header` 可能关联多个资金工具。

资金可用性：`able_to_fund` 和 `reasons_not_able_to_fund`。

时间：`created_at`、`updated_at`、`start_time` 和 `end_time`，以字符串表示，格式为“%Y-%m-%dT%l:%M:%S%z”。

布尔状态：`paused`、`deleted` 和 `cancelled`（true 或 false）。

财务：`currency`（[ISO-4217](http://en.wikipedia.org/wiki/ISO_4217) 格式）、`credit_limit_local_micro`、`credit_remaining_local_micro` 和 `funded_amount_local_micro`。货币数值以微单位表示。对于 USD，$5.50 编码为 5.50\*1e6，即 5,500,000。要表示“整数金额”，需要将本地微单位乘以 1e6（1\_000\_000），适用于所有货币。

<div id="attribute-details">
  #### 属性详细信息
</div>

`credit_limit_local_micro` 仅适用于 `CREDIT_CARD` 或 `CREDIT_LINE` 类型的资金工具，表示该工具的信用额度。

`funded_amount_local_micro` 仅适用于 `INSERTION_ORDER` 类型的资金工具，表示已分配的预算。

`credit_remaining_local_micro` 适用于 `CREDIT_LINE` 和 `AGENCY_CREDIT_LINE` 类型的资金工具。它表示 `credit_limit_local_micro` 减去该资金工具已支出的金额。它不表示 `funded_amount_local_micro` 与已支出金额之间的差额。我们区分信用额度与已拨资金，因为它们对应与广告主之间不同的底层资金方式和支出协议。

<div id="types-of-funding-instruments">
  #### 资金工具类型
</div>

**信用卡**

通常由自助投放广告主使用（无客户经理）。

**信用额度**

以插单（IO，Insertion Order）的形式存在，由客户经理设定。

**多账号信用额度**

广告主可使用此类信用额度为多个账号的广告系列提供资金。该功能由其 X 客户经理启用，将不同的 @handle 关联到特定的信用额度。

例如，@NikeSB 和 @NikeFuel 都可以使用 @Nike 的信用额度。此资金工具与其他类型一样可用。你可以通过向 funding\_instrument 端点提交 GET 请求来获取数据。以下为示例响应（注意 `CREDIT_LINE` 类型）。

```json
      GET https://ads-api.x.com/5/accounts/a0b1c3/funding_instruments

{
    "request": {
        "params": {
            "account_id": "a0b1c3"
        }
    },
    "data": [
        {
            "start_time": "2013-05-30T04:00:00Z",
            "description": "FakeNike - Credit Line",
            "credit_limit_local_micro": 150000000000,
            "end_time": null,
            "cancelled": false,
            "id": "i1234",
            "paused": false,
            "account_id": "a0b1c3",
            "reasons_not_able_to_fund": [],
            "io_header": null,
            "currency": "USD",
            "funded_amount_local_micro": 0,
            "created_at": "2013-05-30T18:16:38Z",
            "type": "CREDIT_LINE",
            "able_to_fund": true,
            "updated_at": "2013-05-30T18:16:38Z",
            "credit_remaining_local_micro": 123661919751,
            "deleted": false,
        }
    ],
    "data_type": "funding_instrument",
    "total_count": 1,
    "next_cursor": null
}
```

此资金工具的特殊之处仅在于其类型，以及它对所有与之关联的账户均可用。当然，剩余额度会受到所有使用该资金工具投放的广告系列影响，覆盖所有共享该额度的账户。与特定信用额度关联的账户详情无法通过 API 获取（ads.x.com 亦不可见）。

有关资金工具枚举的更多信息，请点击[此处](/zh/x-ads-api/introduction)。

<div id="targeting">
  ### 定向
</div>

定向是 X 广告 API 的核心概念。定向在广告单元（line item）级别进行设置，且可选项会因投放位置而有所不同。要设置新的定向条件，请使用 [POST accounts/:account\_id/targeting\_criteria](/zh/x-ads-api/campaign-management#post-accounts-account-id-targeting-criteria)，并使用 [PUT accounts/:account\_id/targeting\_criteria](/zh/x-ads-api/campaign-management#get-accounts-account-id-targeting-criteria) 对其进行更新。

使用 [GET accounts/:account\_id/line\_items](/zh/x-ads-api/campaign-management#get-accounts-account-id-line-items) 获取所有广告单元列表，或使用 [GET accounts/:account\_id/line\_items/:line\_item\_id](/zh/x-ads-api/campaign-management#get-accounts-account-id-line-items-line-item-id) 检索特定广告单元。

<div id="targeting-options-by-placement">
  #### 按投放位置的定向选项
</div>

[Promoted Tweets](https://business.x.com/help/what-are-promoted-tweets) 和 [Promoted Accounts](https://business.x.com/help/what-are-promoted-accounts) 产品可投放在多种位置。[Promoted Trends (PTr)](https://business.x.com/help/what-are-promoted-trends) 不通过 API 提供。

有关可用的投放位置组合，请参阅 [GET line\_items/placements](/zh/x-ads-api/campaign-management#get-line-items-placements) 端点。每个投放位置都有不同的定向选项。位置、平台和性别适用于所有位置，其他选项取决于投放类型。

- **X Search**：年龄定向、设备、事件、性别、关键词类型（全部）、语言、位置、网络激活、网络运营商、平台、平台版本、定向受众、仅 Wi‑Fi
- **X Timeline**：年龄定向、设备、事件、关注者的关注者、类似于关注者的受众、性别、兴趣、语言、位置、网络激活、网络运营商、非精确关键词类型、合作伙伴受众类型、平台、平台版本、再营销类型、定向受众、电视定向类型、仅 Wi‑Fi
- **X Profiles & Tweet Details**：年龄定向、设备、事件、关注者的关注者、类似于关注者的受众、性别、兴趣、语言、位置、网络激活、网络运营商、非精确关键词类型、合作伙伴受众类型、平台、平台版本、再营销类型、定向受众、电视定向类型、仅 Wi‑Fi

<div id="understanding-targeting-types">
  #### 了解定向类型
</div>

**年龄定向**：根据特定年龄分组定向用户。年龄分组枚举列表见 [Enumerations](/zh/x-ads-api/introduction) 页面。

[事件](https://business.x.com/help/event-targeting)：指定一个事件进行定向。每个投放项仅能使用一个事件进行定向。使用 [GET targeting\_criteria/events](/zh/x-ads-api/campaign-management#get-targeting-criteria-events) 端点查找可用于定向的事件。

[性别](https://business.x.com/help/geo-gender-and-language-targeting)：定向男性（1）或女性（2）。留空则定向所有性别。

[已安装应用商店类别](https://business.x.com/help/installed-app-category-targeting)：根据用户已安装或表示感兴趣的应用类别进行定向。参见 [GET targeting\_criteria/app\_store\_categories](/zh/x-ads-api/campaign-management#get-targeting-criteria-app-store-categories)。

[兴趣](https://business.x.com/help/interest-and-username-targeting)：按兴趣定向用户。从 [GET targeting\_criteria/interests](/zh/x-ads-api/campaign-management#get-targeting-criteria-interests) 获取兴趣列表。最多可定向 100 个兴趣。

**关注者受众**：定向当前账户下任一“可完全推广”用户的关注者（注意：目前该账户的主账户持有人是该账户唯一的可完全推广用户）。使用 [GET accounts/:account\_id/promotable\_users](/zh/x-ads-api/campaign-management#get-accounts-account-id-promotable-users) 获取可推广用户列表。

[类似关注者](https://business.x.com/help/interest-and-username-targeting)：定向与特定用户关注者拥有相同兴趣的人。最多可使用 100 个 [Users](/zh/x-api/fundamentals/data-dictionary#user)。

[位置](https://business.x.com/help/geo-gender-and-language-targeting)：可指定最多 2,000 个位置进行定向。从 [GET targeting\_criteria/locations](/zh/x-ads-api/campaign-management#get-targeting-criteria-locations) 获取列表。针对某些国家/地区的广告有其他要求。详见 [Country Targeting and Display Requirements](/zh/x-ads-api/campaign-management#country-targeting-and-display-requirements)。

[关键词](https://business.x.com/help/keyword-targeting)：关键词定向选项因投放位置而异。每个投放项最多可使用 1,000 个关键词进行定向。选项见“关键词类型”部分。

[语言定向](https://business.x.com/help/geo-gender-and-language-targeting)：定向懂特定语言的用户。

[移动网络运营商定向](https://business.x.com/help/device-carrier-and-new-mobile-user-targeting)：使广告主可基于移动运营商进行定向，使用 [GET targeting\_criteria/network\_operators](/zh/x-ads-api/campaign-management#get-targeting-criteria-network-operators) 中的定向类型 `NETWORK_OPERATOR`。

[新移动设备定向](https://business.x.com/help/device-carrier-and-new-mobile-user-targeting)：根据用户首次通过其设备访问 X 的日期进行触达，使用定向类型 `NETWORK_ACTIVATION_DURATION`，operator\_type 使用 `LT` 表示小于，`GTE` 表示大于等于。

[平台](/zh/x-ads-api/campaign-management#get-targeting-criteria-platforms)、[平台版本](/zh/x-ads-api/campaign-management#get-targeting-criteria-platform-versions)、[设备](/zh/x-ads-api/campaign-management#get-targeting-criteria-devices) 和仅 WiFi：支持在多种维度上定向移动设备。平台是高层级的定向类型，可覆盖广泛的手机类别，例如 `iOS`、`Android`。设备允许定向特定移动设备的用户，例如 `iPhone 5s`、`Nexus 4`、`Samsung Galaxy Note`。平台版本允许定向特定移动操作系统的版本，精确到小版本号，例如 iOS 7.1、Android 4.4。“仅 WiFi”允许仅定向在 WiFi 网络上使用其设备的用户；如未设置，将同时定向使用运营商网络和 WiFi 的用户。

- 若无重叠，用户可以同时定向平台和设备。例如：同时以 Blackberry 作为平台并以 iPad Air 作为设备进行定向。
- 用户可以同时定向设备和操作系统版本。例如：定向 iPad Air 和 iOS >= 7.0。
- 用户不能定向比设备更宽泛的平台。例如：不能同时定向 iOS 和 iPad Air。

\[Tailored Audiences]/x-ads-api/audiences：通过经批准的广告合作伙伴触达用户，面向特定客户群体进行定向，并在 X 上与其建立联系。

**[电视定向](https://support.x.com/articles/20170766-tv-targeting)**

**电视节目定向**：触达与特定电视节目互动的人群。广告系列处于投放状态时，可使用 `TV_SHOW` 定向类型将此条件配置为持续生效。使用 [GET targeting\_criteria/tv\_markets](/zh/x-ads-api/campaign-management#get-targeting-criteria-tv-markets) 和 [GET targeting\_criteria/tv\_shows](/zh/x-ads-api/campaign-management#get-targeting-criteria-tv-shows) 端点查看可用的电视节目。

**推文互动人群再营销**

推文互动人群再营销使广告主能够跨设备定向此前在 X 上接触过或与其推广或自然推文互动过的受众。通过该定向，广告主可以对在 X 上看过或互动过其内容、且最有可能继续互动或在后续信息/优惠中转化的人群进行跟进。用户在曝光或互动后的数分钟内即可进入定向范围；对于互动，资格可保留至多 90 天；对于曝光，资格可保留至多 30 天。

推文互动定向类型：

- `ENGAGEMENT_TYPE`：接受 `IMPRESSION` 或 `ENGAGEMENT` 作为取值，分别表示定向曝光用户（`IMPRESSION`）或已互动用户（`ENGAGEMENT`）。
- `CAMPAIGN_ENGAGEMENT`：使用广告系列 ID 作为取值。与该广告系列发生互动或被其曝光的用户（取决于 `ENGAGEMENT_TYPE`）将被定向。
- `USER_ENGAGEMENT`：使用推广用户 ID 作为取值，定向在广告主自然内容中（取决于 `ENGAGEMENT_TYPE`）被曝光或发生互动的用户。必须使用与该 Ads 账户关联的推广用户 ID。

_注意：_ 除至少一个有效的 `CAMPAIGN_ENGAGEMENT` 或 `USER_ENGAGEMENT` 值外，必须同时提供 `ENGAGEMENT_TYPE`。上述两种推文互动定向类型可以同时出现，且同一投放单元可定向多个广告系列。

**视频观看者定向**：视频观看者定向基于推文互动定向，允许广告主定向此前在 X 上观看过部分或全部视频的受众。可定向自然视频、推广视频，或两者兼有。推广视频不限于“视频观看”目标的广告系列或投放单元。

视频观看者定向类型：

- `VIDEO_VIEW`：点击播放视频或已观看自动播放 3 秒的用户
- `VIDEO_VIEW_PARTIAL`：已观看视频 50% 的用户
- `VIDEO_VIEW_COMPLETE`：已观看至少 95% 的用户

与推文互动定向相同，当使用 `ENGAGEMENT_TYPE` 时，该投放单元的定向条件中还必须包含以下一项或两项：

- `CAMPAIGN_ENGAGEMENT`：使用广告系列 ID 作为取值。在该广告系列中观看过视频（基于 `ENGAGEMENT_TYPE`）的用户将被定向。
- `USER_ENGAGEMENT`：使用推广用户 ID 作为取值，定向在广告主自然内容中观看过视频（基于 `ENGAGEMENT_TYPE`）的用户。必须使用与该 Ads 账户关联的推广用户 ID。

**关键词类型**

请参阅我们的[关键词定向](https://business.x.com/en/help/campaign-setup/campaign-targeting/keyword-targeting.html)支持文档以了解概念性概览。

- **Broad**（默认）：匹配所有词语，与顺序无关。不区分大小写、复数或时态。将在可能时自动扩展（例如，“car repair” 也会匹配 “automobile fix”）。如需不扩展的定向，请在关键词前加上 + 号，如 “+boat +jet”。未加 + 的关键词默认为 Broad 匹配。
- **Unordered**（已弃用）：匹配所有词语，与顺序无关。不区分大小写、复数或时态。
- **Phrase**：匹配完全相同的关键词字符串，允许出现其他词语。
- **Exact**：仅匹配该关键词字符串，不匹配任何其他词。
- **Negative**：避免匹配在查询中任意位置包含所有这些关键词的搜索，无论顺序如何，即使包含其他词语。
- **Negative Phrase**：避免匹配在查询中任意位置包含该精确关键词字符串的搜索，即使包含其他词语。
- **Negative Exact**：避免匹配与这些关键词完全一致且不包含其他词语的搜索。
   

**表情符号定向**

通过关键词定向可实现 Emoji 定向。要使用 Emoji 定向，只需为代表该 Emoji 的 Unicode 码点创建关键词定向，例如用于“喜极而泣”表情（😂）的 U+1F602（在 UTF-8 中为 xF0x9Fx98x82）。可接受的 Emoji 可在 [twemoji](https://x.github.io/twemoji/preview.html) 列表中确认。定向某个 Emoji 将覆盖其所有变体。

有关所有取值的汇总（包含必填/可选项及各自的具体说明），请参见 [PUT accounts/:account\_id/targeting\_criteria](/zh/x-ads-api/campaign-management#get-accounts-account-id-targeting-criteria)。

<div id="targeting-criteria-combinations">
  #### 定向条件组合
</div>

**更新后的广告系列工作流**

创建广告系列，使用地理位置、性别、语言和设备/平台等条件进行广泛定向。广告主随后可以将这种广泛定向与其他定向条件（例如兴趣、关键词、关注者、定制受众、电视）组合。**如果未为某个单元指定任何定向条件，该单元将面向全球所有用户投放。**

|     |     |
| :--- | :--- |
| “主要”类型 | 其他类型 |
| 关注者 | 位置 |
| 定制受众 | 性别 |
| 兴趣 | 语言 |
| 关键词 | 设备与平台 |
| 电视 | 年龄 |

定向条件将在你的广告组中按如下方式组合：

- “主要”定向类型将进行\*\*∪\*\*（即逻辑并集）。
- 其他定向类型将进行**AND**。
- 相同类型之间将进行**OR**。

**一些示例**

概览：\[(**关注者**) ∪ (**定制受众**) ∪ (**兴趣**) ∪ (**关键词**)] AND (**位置**) AND (**性别**) AND (**语言**) AND (**设备与平台**)

地理示例：

假设我们希望广告系列中的一个广告组投放给以下定向：

- 位于美国、英国和加拿大的 X 用户（位置）
- 且为女性（性别）
- 来源于定制受众列表（“主要”）
- 匹配关键词（“主要”）

定向条件将为：

\[**US** OR **GB** OR **CA**] AND \[**女性**] AND \[**定制受众** ∪ **关键词**]

<div id="additional-examples">
  ### 其他示例
</div>

- 选择性别和地域，但不选主维度：（**男性**）AND（**US** OR **GB**）
- 选择性别、地域、兴趣：（**女性**）AND（**CA**）AND（**Computers** OR **Technology** OR **Startups**）
- 选择性别、地域、兴趣、定向受众、关键词：（**男性**）AND（**GB**）AND（**Cars** ∪ **Tailored Audiences for CRM** ∪ **autocross**）

<div id="budget-pacing">
  ### 预算节奏控制
</div>

广告主现在可以更精细地控制在推广推文和推广账号广告系列中每日预算的消耗速度。启用标准投放（默认设置）可确保全天较为均匀的支出节奏。

将标准投放**关闭**后，我们会尽快投放展示并触发互动，直到你的每日预算耗尽；根据定向与竞争情况，这可能会在当天较早时间发生。这称为加速投放。

**入门指南**

标准投放是所有广告系列的默认选项，因此除非你希望关闭它，否则无需执行任何操作。若要在某个广告系列中尽快花完你的每日预算，请将 `standard_delivery` 参数设置为 `false`，将节奏设为加速投放（参见 [GET accounts/:account\_id/campaigns](/zh/x-ads-api/campaign-management#get-accounts-account-id-campaigns)）。

**注意事项**

- “Day” 以 X [广告主账户](/zh/x-ads-api/campaign-management#accounts) 的时区为准（例如 America/Los\_Angeles）。
- 初步结果显示，标准投放可提升广告主的 eCPE/CPF，并在全天提供更一致的覆盖。

有关预算和节奏控制的更多信息，请参阅 [Bidding and Auctions FAQ](https://business.x.com/en/help/troubleshooting/bidding-and-auctions-faqs.html)。

<div id="target-bidding">
  ### 目标出价
</div>

广告系列管理

<div id="bid-strategy">
  #### 出价策略
</div>

我们引入了“出价策略”这一概念，以简化广告系列创建流程，并减少对多参数组合的困惑。

所有此前（标记为“旧版”）的参数组合，都可以通过设置等效的 `goal` 参数来实现。更多信息请参阅[此处](https://devcommunity.x.com/t/ads-api-version-10/158787/1#changed-default-bid_strategy-values-9)的公告。

例如：

|     |     |     |
| :--- | :--- | :--- |
| **广告系列目标** | **旧版** | **Ads API v10+** |
| App Installs | `bid_type` = `AUTO`<br /><br />`bid_unit` = `APP_INSTALLS`<br /><br />`charge_by` = `APP_CLICKS` | `goal` = `APP_INSTALLS`<br /><br />`bid_strategy` = `AUTO` |
| Website Clicks | `bid_type` = `TARGET`（注意：某些广告系列目标不需要 `bid_unit`） | `bid_strategy` = `TARGET` |

<div id="target-bidding">
  #### 目标竞价
</div>

使用目标竞价，您可以指定希望支付的目标成本，X 广告平台将在尽量接近或低于该目标成本的前提下，优化您的广告系列表现。

此功能让您在保持成本可控的同时，更灵活地触达更有可能采取期望行动（例如点击链接、提交潜在客户线索或关注）的用户。对于希望在广告系列设置与优化（包括竞价选项）方面拥有更多选择的广告主而言，这是一个强大的功能。

对于具有兼容广告系列目标的广告单元，我们引入了新的出价金额定价机制，允许您指定希望支付的目标成本。我们的广告平台将代表您进行动态出价，帮助您获得更多成效，同时努力将平均成本控制在您指定目标的 ±20% 范围内。广告单元上的 `bid_strategy` 设置可设为 `TARGET`，以在相关的广告系列目标上启用目标竞价，例如：

- `WEBSITE_CLICKS`
- `WEBSITE_CONVERSIONS`
- `APP_INSTALLS`
- `APP_ENGAGEMENTS`
- `REACH`

<div id="country-targeting-and-display-requirements">
  ### 国家/地区定向与展示要求
</div>

广告系列管理

本页列出了各国家/地区的定向与展示要求。所有合作伙伴均须遵守这些要求。

<div id="russia">
  #### 俄罗斯
</div>

[X 的广告政策](https://support.x.com/groups/58-advertising/topics/249-advertiser-policies/articles/20171727-illegal-products-and-services)禁止广告主向俄罗斯投放非俄语的广告。当你的用户将投放目标明确设为俄罗斯时，你必须向其显示以下警告信息：

面向俄罗斯的广告必须使用俄语。

<div id="partner-managed-funding-instruments">
  ### 合作伙伴托管的资金工具
</div>

接入流程会为该 X 账号配置一个 [ads.x.com](https://ads.x.com) 账号，合作伙伴可通过 Ads API 进行管理，其广告支出将计入合作伙伴账单。
 

<div id="partner-initial-set-up">
  #### 合作伙伴初始设置
</div>

自交换所需信息之日起，为新的 PMFI Ads API 合作伙伴完成初始设置的流程最多需要 3 周。为启动该流程，必须将以下信息同时提供给你在 X 的技术联系人，以及负责与该合作伙伴集成的 X 联系人：

- **合作伙伴必须提供其 PGP/GPG 公钥。** 需要在 Ads API 合作伙伴与 X 之间交换一个共享密钥，用于在入驻流程中验证数据。
- **用于访问 Ads API 的 [X app](/zh/resources/fundamentals/developer-apps) 的** `app_id` **或** `consumer_secret`**。** 如果你已在 developer.x.com 登录 X 账号，可通过 [app dashboard](https://developer.x.com/content/developer-twitter/en/apps) 查看并编辑现有的 X app。若需要创建 X app，你需要拥有已获批准的 [developer account](/zh/resources/fundamentals/developer-portal)。X 允许一个用于生产+沙盒的 app，以及一个可选的仅沙盒访问的 app。该 X app 必须使用由合作伙伴控制的企业级 X 账号创建。
   

<div id="advertiser-onboarding-flow">
  #### 广告主入驻流程
</div>

广告主入驻流程通过网页浏览器按以下方式进行：

1. 用户在合作伙伴网站上开始入驻流程，并输入他们希望入驻的 handle。
2. 合作伙伴将用户重定向到 [ads.x.com](https://ads.x.com) 上带有已签名负载的 URL。该负载包含合作伙伴的 API `app_id`、待入驻的 X handle 对应的 X `user_id`、回调 URL，以及下文说明的其他字段。
3. 系统将要求用户通过标准的 x.com 登录页面登录 [ads.x.com](http://ads.x.com)。
4. 用户登录后，入驻流程开始执行。此步骤包括广告审核、账户验证及其他检查。
5. 当所有入驻任务完成后，用户将被重定向至由 X 广告 API 合作伙伴提供的回调 URL，并携带指示成功或失败的负载。其中包括三方授权流程。
    

<div id="onboarding-redirect-payload">
  #### 入门重定向负载
</div>

重定向的 URL：

https://ads.x.com/link\_managed\_account

重定向 URL 将会携带以下参数进行调用：

|     |     |     |
| :--- | :--- | :--- |
| 名称 | 类型 | 描述 |
| callback\_url | URL 编码字符串 | 无论结果如何，账户链接流程完成后，用户都会被重定向到此 URL。协议细节见“合作伙伴重定向 URL”部分 |
| client\_app\_id | integer | X API 客户端应用 ID，用于标识管理合作伙伴 |
| promotable\_user\_id | integer | 其推广将由管理合作伙伴管理的 @handle 对应的 X user\_id。用于确保其与登录 ads.x.com 以完成链接流程的用户一致 |
| fi\_description | URL 编码字符串（最多 255 个字符） | 资金工具名称。在通过 API 检索资金工具时将显示在 description 字段中。若提供了 funding\_instrument 描述，现有 funding\_instrument 将被暂停，并会设置一个新的管理合作伙伴资金工具。（若已存在同名项，则不进行任何变更） |
| timezone | 字符串，Area/Location 格式 | 用于确定每日预算适用的日期，以及费用汇总所采用的时区 |
| currency | ISO 4217 货币代码 | 用于出价和计费的货币 |
| country | ISO 3166-1 alpha 2 国家/地区代码 | 账户的账单国家/地区 |
| signature | URL 编码、base64 编码的二进制代码，详见下文 | 将共享密钥与其他参数组合以验证调用真实性与参数有效性的签名 |

<div id="callback-url-payload">
  #### 回调 URL 负载
</div>

基础重定向 URL 通过账户链接请求中的 callback\_url 参数提供（见上文）。由 [ads.x.com](https://ads.x.com) 添加的参数如下：

|     |     |     |
| :--- | :--- | :--- |
| 名称 | 类型 | 说明 |
| status | string | **OK** 已创建账户，或找到现有且符合条件的账户。<br /><br />**ACCOUNT\_INELIGIBLE** 未满足合作伙伴特定约束 **USER\_MISMATCH** 用于登录 ads.x.com 的 X 账户与账户链接请求中的 promotable\_user\_id 不一致 **INCOMPLETE\_SERVING\_BILLING\_INFO** 未指定时区、货币或国家/地区 **INVALID\_COUNTRY** 提供了无效的国家/地区值 **INVALID\_CURRENCY** 提供了无效的货币值 **INVALID\_TIMEZONE** 提供了无效的时区值 |
| account\_id | URL 编码的字符串 | 已链接账户对应的 X 广告账户 ID |
| funding\_instrument\_id | URL 编码的字符串 | 由合作伙伴管理的活跃资金工具 ID |
| signature | 如下所述，URL 编码、base64 编码的二进制数据 | 以 Base64 编码的 HMAC-SHA1 签名，通过将共享密钥与其他参数组合来验证调用的真实性以及参数的有效性。为确保回调 URL 仅对账户链接流程所针对的 X user\_id 有效，在对请求进行签名时，应在共享密钥后附加该 X user\_id（使用 &）。 |

为确保回调 URL 仅对账户链接流程所针对的 X `user_id` 有效，在对请求进行签名时，应在共享密钥后附加该 X `user_id`（使用 &）。
 

<div id="signing-the-request-and-callback-urls">
  #### 对请求和回调 URL 进行签名
</div>

为确保对 `/link_managed_account` 以及回调 URL 的请求有效，请在源端对请求进行签名，并在接收方采取任何操作前由其进行验证。使用 X 与管理合作伙伴之间共享的密钥对请求签名，可确保双方仅接受由授权对方发送的请求。

签名生成算法与 OAuth 所使用的算法类似。

按如下方式创建签名基字符串：

- 将 HTTP 方法转换为大写，并将基字符串设为该值。
- 在基字符串后追加字符‘&’。
- 对 URL（不含参数）进行百分号编码，并将其追加到基字符串。
- 在基字符串后追加字符‘&’。
- 追加百分号编码的查询字符串，其构建方式如下：
- 对所有将被签名的键和值进行百分号编码。
- 按键对参数列表按字母顺序排序。
- 对每个键/值对（以及合作伙伴重定向 URL 的 primary\_promotable\_user\_id）：
- 将百分号编码的键追加到查询字符串。
- 在基字符串后追加字符‘=’。
- 将百分号编码的值追加到查询字符串。
- 使用字符‘&’分隔百分号编码的 key=value 对。
- 使用 HMAC-SHA1 算法，以先前交换的共享密钥作为 key、以基字符串作为 value 来生成签名。
- 对步骤 2 的输出进行 Base64 编码，去掉末尾的换行符，对步骤 3 生成的签名进行百分号编码，并将其以 signature 参数的形式添加到 URL 中
   

<div id="signing-examples">
  #### 签名示例
</div>

为链接账户请求签名

假设为 GET 请求，需要签名的 URL：

https://ads.x.com/link\_managed\_account?callback\_url=https%3A%2F%2Fmanagingpartner.com%2Flink\_account\_callback\&client\_app\_id=12345\&fi\_description=some%20name\&promotable\_user\_id=1

该 URL 包含以下参数：

callback\_url = https://managingpartner.com/link\_account\_callback
client\_app\_id = 12345
fi\_description = some name
promotable\_user\_id = 1

由 HTTP 方法和不含参数的 URL 组成的基础字符串（步骤 a - d）如下：

GET https://ads.x.com/link\_managed\_account

由步骤 e 的子步骤生成的查询字符串如下：

callback\_url=https://managingpartner.com/link\_account\_callback\&client\_app\_id=12345\&fi\_description=some name\&promotable\_user\_id=1

注意，键值对按键名排序。

百分号编码后的查询字符串如下：

callback\_url%3Dhttps%253A%252F%252Fmanagingpartner.com%252Flink\_account\_callback%26client\_app\_id%3D12345%26fi\_description%3Dsome%2520name%26promotable\_user\_id%3D1

完整基础字符串（组合步骤 a - d 与 e）：

GET https://ads.x.com/link\_managed\_account\&callback\_url%3Dhttps%253A%252F%252Fmanagingpartner.com%252Flink\_account\_callback%26client\_app\_id%3D12345%26fi\_description%3Dsome%2520name%26promotable\_user\_id%3D1

使用 hmac-sha1 算法，以“secret”作为密钥对其进行签名。结果以 Base64 编码，并省略末尾的“\n”（步骤 2 和 3）：`KBxQMMSpKRrtg9aw3qxK4fTXvUc=`

随后将该签名（经百分号编码）以 signature 参数（步骤 4）追加到原始 URL 的末尾：

https://ads.x.com/link\_managed\_account?callback\_url=https%3A%2F%2Fmanagingpartner.com%2Flink\_account\_callback\&client\_app\_id=12345\&fi\_description=some%20name\&promotable\_user\_id=1\&signature=KBxQMMSpKRrtg9aw3qxK4fTXvUc%3D

为合作伙伴重定向 URL（账户链接请求回调）签名 假设为 GET 请求，需要签名的 URL：

https://managingpartner.com/link\_account\_callback?status=OK\&account\_id=ABC\&funding\_instrument\_id=DEF

该 URL 包含以下参数：

`account_id` = `ABC`，`funding_instrument_id` = `DEF`，`status` = `OK`

由 HTTP 方法和不含参数的 URL 组成的基础字符串（步骤 a - d）如下：

GET https%3A%2F%2Fmanagingpartner.com%2Flink\_account\_callback&\`\`

由步骤 e 的子步骤生成的查询字符串如下：

account\_id=ABC\&funding\_instrument\_id=DEF\&status=OK

百分号编码后的查询字符串如下：

account\_id%3DABC%26funding\_instrument\_id%3DDEF%26status%3DOK

完整基础字符串（组合步骤 a - d 与 e）：

GET https%3A%2F%2Fmanagingpartner.com%2Flink\_account\_callback\&account\_id%3DABC%26funding\_instrument\_id%3DDEF%26status%3DOK

使用 hmac-sha1 算法，我们将以“secret”和发起原始链接请求的 X 用户 ID（1，上文中的 `promotable_user_id` = 1）作为密钥“secret&1”对其进行签名。

结果以 Base64 编码，并省略末尾的“\n”（步骤 2 和 3）：`jDSHDkHJIFXpPLVxtA3a9d4bPjM=`

然后将该签名（进行百分号编码）作为 signature 参数添加到原始 URL 的末尾（步骤 4）：

https://managingpartner.com/link\_account\_callback?\&status=OK\&account\_id=ABC\&funding\_instrument\_id=DEF\&signature=jDSHDkHJIFXpPLVxtA3a9d4bPjM%3D

<div id="shared-key-use-renewal">
  ### 共享密钥的使用/轮换
</div>

签名算法应支持使用多把密钥重复执行。这样可以并行使用多把共享密钥，并实现按周期轮换共享密钥。
 

### partner\_managed\_funding\_instrument 创建

如果提供了 fi\_description 参数，且账户中不存在同名的 partner\_managed\_funding\_instrument，则会创建一个新的 partner\_managed\_funding\_instrument，并暂停所有现有的 partner\_managed\_funding\_instrument。

如果已存在同名的 partner\_managed\_funding\_instrument，则不会创建新的。
 

<div id="repeated-on-boarding-flow-calls-token-refresh">
  ### 可重复的入门流程调用 / 令牌刷新
</div>

如果 API 访问令牌丢失，可以再次执行入门流程。入门流程的实现要求用户已登录。如果用户与 promotable\_user\_id 匹配，且找到关联的广告账户并一切正常，用户将被重定向回回调 URL，合作方即可发起 OAuth 流程以获取[访问令牌](/zh/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow)。
 

<div id="non-redirectable-error-flow">
  ### 不可重定向的错误流程
</div>

如果使用无效参数调用账户链接 URL，系统会显示一个页面，与在 OAuth 流程中提供无效或过期参数时显示的页面类似。
 

<div id="ongoing-updates-to-the-pmfi">
  #### 持续更新 PMFI
</div>

在广告主完成入驻后，资金工具只能由负责管理它的合作伙伴通过 [PUT accounts/:account\_id/funding\_instruments/:funding\_instrument\_id](/zh/x-ads-api/campaign-management#get-accounts-account-id-funding-instruments) 端点进行管理。

<div id="placements">
  ### 投放位置
</div>

X 广告可展示在多个位置。这在[广告行项](/zh/x-ads-api/campaign-management#line-items)中通过 `placements` 参数进行设置。可选值如下：

- `ALL_ON_TWITTER`
- `PUBLISHER_NETWORK`
- `TWITTER_PROFILE`
- `TWITTER_SEARCH`
- `TWITTER_TIMELINE`
- `SPOTLIGHT`
- `TREND`

广告行项的 `product_type` 和 `objective` 决定允许的投放位置。可以使用 [GET line\_items/placements](/zh/x-ads-api/campaign-management#line-item-placements) 端点来检索各产品类型的有效投放位置选项。

此外，下表列出了有效的投放位置与投放目标的组合。

| 投放目标 | `ALL_ON_TWITTER` | `TWITTER_PROFILE` | `TWITTER_SEARCH` | `TWITTER_TIMELINE` |
| :--- | :--- | :--- | :--- | :--- |
| `APP_ENGAGEMENTS` | ✔   | ✔   | ✔   | ✔   |
| `APP_INSTALLS` | ✔   | ✔   | ✔   | ✔   |
| `REACH` | ✔   | ✔   | ✔   | ✔   |
| `FOLLOWERS` | ✔   | ✔   | ✔   | ✔   |
| `ENGAGEMENTS` | ✔   | ✔   | ✔   | ✔   |
| `VIDEO_VIEWS` | ✔   | ✔   | ✔   | ✔   |
| `PREROLL_VIEWS` | ✔   | ✔   | ✔   | ✔   |
| `WEBSITE_CLICKS` | ✔   | ✔   | ✔   | ✔   |

**注意**：无法仅指定 `TWITTER_PROFILE` 投放位置。

**注意**：`TWITTER_SEARCH` 需要[关键词定向](/zh/x-ads-api/campaign-management#targeting-options)。

**注意**：`REACH` 投放目标必须包含 `TWITTER_TIMELINE` 投放位置。可以选择 `ALL_ON_TWITTER`，或任何包含 `TWITTER_TIMELINE` 的投放位置组合，或者仅使用 `TWITTER_TIMELINE`。

<div id="ad-groups-faq">
  ### 广告组常见问题
</div>

本文档汇总了 X 广告 API 中关于广告组的常见问题。

<div id="what-is-an-ad-group">
  #### 什么是广告组？
</div>

广告组（在 X 广告 API 中称为 line item）隶属于广告系列，用于面向一组 X 用户进行定向与出价。广告主可通过将推文或媒体（例如作为 In-stream 广告投放的视频）关联到某个 line item 来进行推广。

<div id="how-do-we-create-an-ad-group">
  #### 我们如何创建广告组？
</div>

要创建广告组，可针对同一 campaign ID 多次调用 [POST accounts/:account\_id/line\_items](/zh/x-ads-api/campaign-management#post-accounts-account-id-line-items)，并为这些 line item 分别保留（可彼此完全不同的）定向和关联推文。每个 campaign 最多包含 100 个 line item；单个广告账户最多拥有 200 个处于活动状态的 campaign。跨所有 campaign，单个广告账户最多可拥有 8,000 个处于活动状态的 line item。

<div id="why-should-we-add-support-for-ad-groups">
  #### 我们为何要增加对广告组的支持？
</div>

广告组旨在让广告主更轻松地组织、优化并管理其广告系列。

广告组的优势在于可在出价、预算、创意与定向等维度对不同策略进行对比与管控。当将多条推广推文关联到同一个行项目时，竞价会先从该组中选出表现最佳的推文，然后再从所有行项目中为该广告系列选出最佳推文。如果你有多个仅包含单条推文的广告组，系统将有效地从每个广告组中选出更可能表现更好的那条推文。

使用广告组可以让广告主将定向和出价拆解为更多可能的组合，并总体上将定向划分为更为合理的逻辑分组。

特别是，借助广告组，可以围绕更精细的优化规则来构建 X 广告 API 工具；鉴于行项目与创意组合规模较大，此类优化通过手动编辑更难实现。

<div id="how-does-the-line-item-budget-relate-to-campaign-budget-in-an-ad-groups-campaign">
  #### 在“广告组”系列投放中，分项预算如何与系列投放预算关联？
</div>

分项的 total\_budget\_amount\_local\_micro 不得超过其父系列投放的总预算。同样，分项的 bid\_amount\_local\_micro 不应超过父系列投放的 daily\_budget\_amount\_local\_micro 或 total\_budget\_amount\_local\_micro。错误设置这些值可能会使整个系列投放进入暂停且无法投放的状态。

请注意，系列投放的总预算可以小于其子分项预算之和。分项之间的预算分配在一定程度上由 Ads API 工具决定，以便根据每日表现进行有效优化和调整；由于 X 具有实时性，定向（分项）的日常表现可能会在不同日期间显著波动。

<div id="do-ad-groups-perform-better-than-single-line-items">
  #### 广告组是否比单一投放项表现更好？
</div>

广告系列的表现受多种因素影响，而最终左右表现的其实是具体的推文。投放项可视为决定某条推文是否有机会向用户投放的一个因素。

面向同一批用户进行定向的多个投放项会产生受众重叠。最佳实践是尽量减少投放项之间的定向重叠，以便清晰识别表现最好的用户群体。

<div id="guides">
  ## 指南
</div>

<div id="video-views-preroll-objective">
  ### 视频前贴片观看目标
</div>

以下指南概述了在 X 广告 API 上设置 PREROLL\_VIEWS 广告系列所需的步骤。总体而言，这类广告系列分为两种类型：精选类别和内容类别（在 Ads UI 中称为标准类别）。  

<div id="endpoints-required">
  #### 所需端点
</div>

- [分块媒体上传](https://developer.x.com/en/docs/x-api/v1/media/upload-media/uploading-media/chunked-media-upload)（用于上传视频）
- [POST accounts/:account\_id/media\_library](/zh/x-ads-api/creatives#media-library)（将视频关联到广告账户）
- [POST accounts/:account\_id/campaigns](/zh/x-ads-api/campaign-management#post-accounts-account-id-campaigns)（创建广告系列）
- [GET content\_categories](/zh/x-ads-api/campaign-management#content-categories)（获取内容类别与 IAB 类别的映射）
- [GET accounts/:account\_id/curated\_categories](/zh/x-ads-api/campaign-management#curated-categories-2)
- [GET publishers](/zh/x-ads-api/campaign-management#publishers)
- [POST accounts/:account\_id/line\_item\_curated\_categories](/zh/x-ads-api/campaign-management#line-item-curated-categories)
- [POST accounts/:account\_id/line\_items](/zh/x-ads-api/campaign-management#campaigns)（创建广告组）
- [POST accounts/:account\_id/media\_creatives](/zh/x-ads-api/campaign-management#post-accounts-account-id-media-creatives)（将视频关联到广告组）
- [POST accounts/:account\_id/preroll\_call\_to\_action](/zh/x-ads-api/creatives#preroll-call-to-actions)（设置 CTA 与重定向 URL）
- [POST batch/accounts/:account\_id/targeting\_criteria](/zh/x-ads-api/campaign-management#post-batch-accounts-account-id-targeting-criteria)（投放定向）

<div id="steps">
  #### 操作步骤
</div>

<div id="upload-the-video">
  #### 上传视频
</div>

上传视频分为 2 个步骤：

<div id="upload-the-video-media">
  #### 上传视频媒体
</div>

首先，使用 [分块媒体上传](https://developer.x.com/en/docs/x-api/v1/media/upload-media/uploading-media/chunked-media-upload) 端点将视频上传至 X 进行处理。必须在该端点的初始 `INIT` 调用中传递 `media_category=amplify_video`。视频需按分块方式上传。当 `STATUS` 返回的 `state` 为 `succeeded` 后，即可继续下一步。关于通过分块端点上传媒体的更多信息，请参阅我们的[推广视频概览](/zh/x-ads-api/creatives#promoted-video)。

<div id="add-the-video-to-the-ads-account">
  #### 将视频添加到广告账户
</div>

当使用 `STATUS` 命令返回的状态为 `succeeded` 时，使用该端点返回的 media\_key，通过 [POST accounts/:account\_id/media\_library](/zh/x-ads-api/creatives#media-library) 端点将视频添加到广告主的媒体库。

```json
POST https://ads-api.x.com/8/55w3kv/media\_library?media\_key=3_931236738554519552

{
 "request": {
   "params": {
     "account_id": "55w3kv",
     "media\_key": "3\_931236738554519552"
   }
 },
 "data": {
   "tweeted": false,
   "name": null,
   "file_name": null,
   "media\_url": "https://video.twimg.com/amplify\_video/1059840836186165250/vid/568x320/Gr2l1fB1X7xotKwC.mp4?tag=8",
   "media\_category": "AMPLIFY\_VIDEO",
   "media\_key": "3\_931236738554519552",
   "created_at": "2017-11-16T19:05:14Z",
   "media\_status": "TRANSCODE\_COMPLETED",
   "media_id": 931236738554519552,
   "media_type": "VIDEO",
   "updated_at": "2017-11-16T19:05:23Z",
   "deleted": false
 }
}
```

<div id="setup-the-campaign">
  #### 设置广告活动
</div>

<div id="campaign-creation">
  ### 创建广告活动
</div>

创建[广告活动](/zh/x-ads-api/campaign-management#post-accounts-account-id-campaigns)和[广告项/广告组](/zh/x-ads-api/campaign-management#campaigns)。广告项的`objective`应设为`VIDEO_VIEWS_PREROLL`，`product_type`应设为`MEDIA`。同时必须将`categories`参数设置为相应的[广告主业务类别](/zh/x-ads-api/campaign-management#advertiser-business-categories)。

```json
POST https://ads-api.x.com/8/accounts/55w3kv/campaigns?name=test-curated-categories-api&funding\_instrument\_id=103hp9&start\_time=2021-02-10&entity\_status=PAUSED&daily\_budget\_amount\_local\_micro=55000000

{
  "request": {
    "params": {
      "name": "test-curated-categories-api",
      "start_time": "2021-02-10T00:00:00Z",
      "daily\_budget\_amount\_local\_micro": 55000000,
      "funding\_instrument\_id": "103hp9",
      "entity_status": "PAUSED",
      "account_id": "55w3kv"
    }
  },
  "data": {
    "name": "test-curated-categories-api",
    "start_time": "2021-02-10T00:00:00Z",
    "reasons\_not\_servable": \[
      "EXPIRED",
      "PAUSED\_BY\_ADVERTISER",
      "FUNDING_PROBLEM"
    \],
    "servable": false,
    "purchase\_order\_number": null,
    "effective_status": "PAUSED",
    "daily\_budget\_amount\_local\_micro": 55000000,
    "end_time": null,
    "funding\_instrument\_id": "103hp9",
    "duration\_in\_days": null,
    "standard_delivery": true,
    "total\_budget\_amount\_local\_micro": null,
    "id": "f2rp3",
    "entity_status": "PAUSED",
    "frequency_cap": null,
    "currency": "USD",
    "created_at": "2021-02-08T23:55:38Z",
    "updated_at": "2021-02-08T23:55:38Z",
    "deleted": false
  }
}
```

<div id="line-item-creation">
  ### 广告项创建
</div>

广告项必须将 categories 参数设置为通过 [GET content\_categories](/zh/x-ads-api/campaign-management#content-categories) 端点获取的相应 IAB 类别集合。每个内容类别对应一个或多个 IAB 类别。

要使用这些值，合作伙伴必须选择一个合适的内容类别，并使用响应中返回的完整 iab\_categories 集合，在广告项端点上设置 categories 参数。若仅部分使用 iab\_categories，将导致整组类别被应用到该广告项。例如，

```json
GET https://ads-api.x.com/8/advertiser\_business\_categories{
  "request": {
    "params": {}
  },
  "next_cursor": null,
  "data": \[
    {
      "id": "1jl",
      "name": "快速消费品",
      "iab_categories": \[
        "IAB9-26",
        "IAB9-18",
        "IAB9-29",
        "IAB9-1",
        "IAB9-8",
        "IAB9-22",
        "IAB6",
        "IAB9-5",
        "IAB9-12",
        "IAB9-11",
        "IAB9-23",
        "IAB9-14",
        "IAB4",
        "IAB9-25",
        "IAB9-17",
        "IAB23",
        "IAB9-24",
        "IAB9-13",
        "IAB16",
        "IAB9-4",
        "IAB9-9",
        "IAB9-20",
        "IAB22",
        "IAB9-28",
        "IAB9-27",
        "IAB9-16",
        "IAB9-31",
        "IAB9-3",
        "IAB9-19",
        "IAB10",
        "IAB9-2",
        "IAB9-6",
        "IAB9-21",
        "IAB9-10",
        "IAB9-15"
      \]
    },
    {
      "id": "1jm",
      "name": "医疗与医药",
      "iab_categories": \[
        "IAB7"
      \]
    },
    {
      "id": "1jn",
      "name": "酒类",
      "iab_categories": \[
        "IAB8-5",
        "IAB8-18"
      \]
    },
    {
      "id": "1jo",
      "name": "餐饮",
      "iab_categories": \[
        "IAB8-10",
        "IAB8-8",
        "IAB8-7",
        "IAB8-15",
        "IAB8-3",
        "IAB8-4",
        "IAB8-1",
        "IAB8-16",
        "IAB8-12",
        "IAB8-13",
        "IAB8-17",
        "IAB8-11",
        "IAB8-6",
        "IAB8-9",
        "IAB8-2",
        "IAB8-14"
      \]
    },
    {
      "id": "1jp",
      "name": "金融服务",
      "iab_categories": \[
        "IAB3",
        "IAB13",
        "IAB21"
      \]
    },
    {
      "id": "1jq",
      "name": "零售",
      "iab_categories": \[
        "IAB18"
      \]
    },
    {
      "id": "1jr",
      "name": "旅游",
      "iab_categories": \[
        "IAB20"
      \]
    },
    {
      "id": "1js",
      "name": "游戏",
      "iab_categories": \[
        "IAB9-30"
      \]
    },
    {
      "id": "1jt",
      "name": "科技",
      "iab_categories": \[
        "IAB19-22",
        "IAB19-13",
        "IAB19-4",
        "IAB19-33",
        "IAB19-26",
        "IAB19-3",
        "IAB19-16",
        "IAB19-9",
        "IAB19-32",
        "IAB19-25",
        "IAB19-30",
        "IAB19-36",
        "IAB19-21",
        "IAB5",
        "IAB19-12",
        "IAB19-28",
        "IAB19-17",
        "IAB19-8",
        "IAB19-7",
        "IAB19-24",
        "IAB15",
        "IAB19-11",
        "IAB19-31",
        "IAB19-20",
        "IAB19-15",
        "IAB19-1",
        "IAB19-35",
        "IAB19-29",
        "IAB19-34",
        "IAB19-23",
        "IAB19-2",
        "IAB19-5",
        "IAB19-14",
        "IAB19-27",
        "IAB19-10",
        "IAB19-19"
      \]
    },
    {
      "id": "1ju",
      "name": "电信",
      "iab_categories": \[
        "IAB19-6",
        "IAB19-18"
      \]
    },
    {
      "id": "1jv",
      "name": "汽车",
      "iab_categories": \[
        "IAB2"
      \]
    },
    {
      "id": "1jw",
      "name": "媒体与娱乐",
      "iab_categories": \[
        "IAB14-8",
        "IAB14-4",
        "IAB1-5",
        "IAB14-7",
        "IAB1-7",
        "IAB17",
        "IAB14-3",
        "IAB1-1",
        "IAB12",
        "IAB1-6",
        "IAB25-1",
        "IAB1-2",
        "IAB14-2",
        "IAB14-6",
        "IAB1-3",
        "IAB1-4",
        "IAB14-5"
      \]
    },
    {
      "id": "1jx",
      "name": "政治",
      "iab_categories": \[
        "IAB11-4"
      \]
    },
    {
      "id": "1jy",
      "name": "博彩",
      "iab_categories": \[
        "IAB9-7"
      \]
    },
    {
      "id": "1jz",
      "name": "交友",
      "iab_categories": \[
        "IAB14-1"
      \]
    },
    {
      "id": "1k0",
      "name": "非营利组织"
      "iab_categories": \[
        "IAB11-1",
        "IAB11-2",
        "IAB11-3",
        "IAB11-5"
      \]
    }
  \]
}
```

现在，如需将 `categories` 参数设置为“Science & Education”，则必须为该线项设置完整的 `iab_categories` 集合，即 `"IAB5", "IAB15"`，如下所示：

```json
POST https://ads-api.x.com/8/accounts/55w3kv/line\_items?campaign\_id=f2rp3&bid\_amount\_local\_micro=5500000&name=curated-category-line-item&product\_type=MEDIA&placements=ALL\_ON\_TWITTER&objective=PREROLL_VIEWS&categories=IAB3,IAB13,IAB21

{
  "request": {
    "params": {
      "name": "curated-category-line-item",
      "placements": \[
        "ALL\_ON\_TWITTER"
      \],
      "bid\_amount\_local_micro": 5500000,
      "product_type": "MEDIA",
      "objective": "PREROLL_VIEWS",
      "account_id": "55w3kv",
      "categories": \[
        "IAB3",
        "IAB13",
        "IAB21"
      \],
      "campaign_id": "f2rp3"
    }
  },
  "data": {
    "bid_type": "MAX",
    "advertiser\_user\_id": 312226591,
    "name": "curated-category-line-item",
    "placements": \[
      "ALL\_ON\_TWITTER"
    \],
    "start_time": null,
    "bid\_amount\_local_micro": 5500000,
    "automatically\_select\_bid": false,
    "advertiser_domain": null,
    "target\_cpa\_local_micro": null,
    "raw_categories": \[
      "x",
      "5l",
      "9z"
    \],
    "primary\_web\_event_tag": null,
    "charge\_by": "VIEW\_3S_100PCT",
    "product\_type": "PROMOTED\_TWEETS",
    "end_time": null,
    "duration\_in\_days": null,
    "bid\_unit": "VIEW\_3S_100PCT",
    "total\_budget\_amount\_local\_micro": null,
    "objective": "PREROLL_VIEWS",
    "id": "iqwka",
    "entity_status": "ACTIVE",
    "automatic\_tweet\_promotion": null,
    "optimization": "DEFAULT",
    "frequency_cap": null,
    "android\_app\_store_identifier": null,
    "categories": \[
      "IAB3",
      "IAB13",
      "IAB21"
    \],
    "currency": "USD",
    "created_at": "2021-02-09T00:00:46Z",
    "tracking_tags": \[\],
    "ios\_app\_store_identifier": null,
    "amplify_config": {
      "auto_promote": true,
      "is_open": true
    },
    "updated_at": "2021-02-09T00:00:46Z",
    "campaign_id": "f2rp3",
    "creative_source": "MANUAL",
    "deleted": false
  }
}
```

<div id="publisher-selection">
  #### 发布商选择
</div>

广告主可以选择将投放定向到“内容类别”或“精选类别”，详情如下。

**注意：** 广告单元可以定向到“精选类别”或“内容类别”，但不能同时定向到两者。 

<div id="curated-categories">
  ### 精选类别
</div>

精选类别允许广告主定向到一组预设的发布者，并可通过 [GET curated\_categories](/zh/x-ads-api/campaign-management#curated-categories-2) 端点获取。由于这些类别按国家/地区区分，因此需要根据该类别的 country\_code，将广告单元（line item）定向到相应的国家/地区。

要使用其中一个类别，请按以下顺序执行步骤：

1. 根据精选类别的 country\_code，将广告单元定向到相应的国家/地区
2. 使用 [POST line\_item\_curated\_categories](/zh/x-ads-api/campaign-management#line-item-curated-categories) 端点，将该广告单元与特定的 curated\_category\_id 关联。

注意：将广告单元与精选类别关联后，可加入拒投名单（denylist）的发布者数量将被限制为 5。可通过 [GET publishers](/zh/x-ads-api/campaign-management#publishers) 端点获取用于将特定发布者加入拒投名单的完整 user\_id 列表。此外，单个广告单元在任一时刻最多只能定向到一个精选类别。

以下示例说明如何将精选类别 ID：b0xt（仅在美国可用）与上一步创建的广告单元关联。

首先，将该广告单元的定向条件设置为值 96683cc9126741d

```json
GET https://ads-api.x.com/8/targeting_criteria/locations?country_code=US&location_type=COUNTRIES

{
  "data": [
    {
      "name": "United States",
      "country_code": "US",
      "location_type": "COUNTRIES",
      "targeting_value": "96683cc9126741d1",
      "targeting_type": "LOCATION"
    }
  ],
  "request": {
    "params": {
      "location_type": "COUNTRIES",
      "country_code": "US"
    }
  },
  "next_cursor": null
}

POST https://ads-api.x.com/8/batch/accounts/55w3kv/targeting_criteria
[
  {
    "operation_type": "Create",
    "params": {
      "line_item_id": "iqwka",
      "targeting_type": "LOCATION",
      "targeting_value": "96683cc9126741d1",
      "operator_type": "EQ"
    }
  }
]

{
  "data": [
    {
      "line_item_id": "iqwka",
      "name": "United States",
      "raw_negated": false,
      "raw_targeting_value": "2",
      "id": "rv9hmc",
      "raw_targeting_type": "GEO",
      "raw_operator_type": "EQUAL_TO",
      "location_type": "COUNTRIES",
      "operator_type": "EQ",
      "created_at": "2021-02-09T00:06:28Z",
      "targeting_value": "96683cc9126741d1",
      "updated_at": "2021-02-09T00:06:28Z",
      "deleted": false,
      "targeting_type": "LOCATION"
    }
  ],
  "request": [
    {
      "params": {
        "line_item_id": "iqwka",
        "account_id": "55w3kv",
        "operator_type": "EQ",
        "targeting_value": "96683cc9126741d1",
        "targeting_type": "LOCATION"
      },
      "operation_type": "Create"
    }
  ]
}

POST https://ads-api.x.com/8/accounts/55w3kv/line_item_curated_categories?line_item_id=iqwka&curated_category_id=9ddrgesiap6o

{
  "request": {
    "params": {
      "curated_category_id": "9ddrgesiap6o",
      "line_item_id": "iqwka",
      "account_id": "55w3kv"
    }
  },
  "data": {
    "line_item_id": "iqwka",
    "curated_category_id": "9ddrgesiap6o",
    "id": "xq",
    "created_at": "2021-03-30T17:26:42Z",
    "updated_at": "2021-03-30T17:26:42Z",
    "deleted": false
  }
}
```

<div id="content-categories">
  ### 内容类别
</div>

内容类别（亦称标准类别）可通过 [GET curated\_categories](/zh/x-ads-api/campaign-management#get-accounts-account-id-curated-categories) 端点获取。随后可使用批量定向条件端点将这些类别用于广告分项定向。以下示例展示了如何选择特定内容类别，id：sr（对应“News & Current Events”），并将其应用到广告分项。

<Note>
  **注意**：必须通过定向条件端点对 [GET curated\_categories](/zh/x-ads-api/campaign-management#get-accounts-account-id-curated-categories) 响应中的整套 iab\_categories 进行定向，否则将导致验证错误。
</Note>

```json
GET https://ads-api.x.com/8/content_categories
{
      "name": "News & Current Events",
      "id": "sr",
      "iab_categories": \[
        "IAB12",
        "IAB14"
      \],
      "publishers\_in\_last\_thirty\_days": 124,
      "videos\_monetized\_in\_last\_thirty_days": 5429
    }
}

POST https://ads-api.x.com/8/batch/accounts/55w3kv/targeting_criteria
\[
  {
    "operation_type": "Create",
    "params": {
      "line\_item\_id": "iqwls",
      "targeting\_type": "IAB\_CATEGORY",
      "targeting_value": "IAB12",
      "operator_type": "EQ"
    }
  },
  {
    "operation_type": "Create",
    "params": {
      "line\_item\_id": "iqwls",
      "targeting\_type": "IAB\_CATEGORY",
      "targeting_value": "IAB14",
      "operator_type": "EQ"
    }
  }
\]

{
  "data": \[
    {
      "line\_item\_id": "iqwls",
      "name": "News",
      "raw_negated": false,
      "raw\_targeting\_value": "5h",
      "id": "saib9p",
      "raw\_targeting\_type": "IAB_CATEGORY",
      "raw\_operator\_type": "EQUAL_TO",
      "operator_type": "EQ",
      "created_at": "2021-03-30T17:35:50Z",
      "targeting_value": "IAB12",
      "updated_at": "2021-03-30T17:35:50Z",
      "deleted": false,
      "targeting\_type": "IAB\_CATEGORY"
    },
    {
      "line\_item\_id": "iqwls",
      "name": "Society",
      "raw_negated": false,
      "raw\_targeting\_value": "5y",
      "id": "saib9q",
      "raw\_targeting\_type": "IAB_CATEGORY",
      "raw\_operator\_type": "EQUAL_TO",
      "operator_type": "EQ",
      "created_at": "2021-03-30T17:35:50Z",
      "targeting_value": "IAB14",
      "updated_at": "2021-03-30T17:35:50Z",
      "deleted": false,
      "targeting\_type": "IAB\_CATEGORY"
    }
  \],
  "request": \[
    {
      "params": {
        "line\_item\_id": "iqwls",
        "account_id": "55w3kv",
        "operator_type": "EQ",
        "targeting_value": "IAB12",
        "targeting\_type": "IAB\_CATEGORY"
      },
      "operation_type": "Create"
    },
    {
      "params": {
        "line\_item\_id": "iqwls",
        "account_id": "55w3kv",
        "operator_type": "EQ",
        "targeting_value": "IAB14",
        "targeting\_type": "IAB\_CATEGORY"
      },
      "operation_type": "Create"
    }
  \]
}
```

<div id="associate-the-account-media-video-with-the-line-item">
  ##### 将账号媒体（视频）关联到广告组项
</div>

使用 [POST accounts/:account\_id/media\_creatives](/zh/x-ads-api/campaign-management#post-accounts-account-id-media-creatives) 端点将该视频关联到广告组。

```json
POST https://ads-api.x.com/8/accounts/55w3kv/media_creatives
line_item_id=4bii5&account_media_id=knb

{
 "data":{
   "account_media_id":"74g",
   "approval_status":"ACCEPTED",
   "created_at":"2016-02-11T22:23:23Z",
   "deleted":false,
   "id":"qeq",
   "landing_url":null,
   "line_item_id":"4bii5",
   "serving_status":"ACTIVE",
   "updated_at":"2016-02-11T22:23:23Z"
 },
 "request":{
   "params":{
     "line_item_id":"4bii5",
     "account_media_id":"knb"
   }
 }
}
```

<div id="set-the-cta-and-destination-url">
  #### 设置 CTA 和落地页 URL
</div>

需要注意的是，与 X 上大多数其他广告系列不同，`VIDEO_VIEWS_PREROLL` 目标不使用 Promoted Tweets 或 Cards。相反，视频素材与您的广告组（line item）关联，而 CTA 信息与 `preroll_call_to_action` 实体关联。[POST accounts/:account\_id/preroll\_call\_to\_action](/zh/x-ads-api/creatives#preroll-call-to-actions) 端点可用于配置按钮 CTA 与落地页 URL。

```json
POST https://ads-api.x.com/8/accounts/55w3kv/preroll_call_to_action
line_item_id=4bii5&call_to_action=VISIT_SITE&call_to_action_url=https%3A%2F%2Fx.com%2FAdsAPI

{
 "data":{
   "id":"aaa111",
   "line_item_id":"4bii5",
   "call_to_action":"WATCH_NOW",
   "call_to_action_url":"https://x.com/AdsAPI",
   "created_at":"2016-02-11T22:23:23Z",
   "updated_at":"2016-02-11T22:23:23Z",
   "deleted":false
 },
 "request":{
   "params":{
     "line_item_id":"4bii5",
     "call_to_action":"VISIT_SITE",
     "call_to_action_url":"https://x.com/AdsAPI"
   }
 }
}
```

<div id="set-targeting-criteria">
  #### 设置定向条件
</div>

用于前贴片视频广告的定向条件只能通过我们的批量定向条件端点 [POST batch/accounts/:account\_id/targeting\_criteria](/zh/x-ads-api/campaign-management#post-batch-accounts-account-id-targeting-criteria) 使用。

将 `CONTENT_PUBLISHER_USER` 作为取反定向使用，以排除与一组用户的配对展示。为要排除的账号提供 X 的 `user_id` 或 publisher\_user\_id。

可使用 [GET publishers](/zh/x-ads-api/campaign-management#publishers) 端点检索内容类别需排除的 user\_id 列表。[GET curated\_categories](/zh/x-ads-api/campaign-management#curated-categories-2) 响应返回的 publisher\_user\_id 可用于检索策展类别的类似排除列表。

注意：策展类别最多可排除 5 个 publisher\_user\_id，内容类别最多可排除 50 个 user\_id。

```json
POST https://ads-api.x.com/8/batch/accounts/55w3kv/targeting_criteria
\[
  {
    "operation_type": "Create",
    "params": {
      "line\_item\_id": "iqwls",
      "targeting\_type": "CONTENT\_PUBLISHER_ID",
      "targeting_value": "1917731",
      "operator_type": "NE"
    }
  }
\]

{
  "data": \[
    {
      "line\_item\_id": "iqwka",
      "name": "realsaltlake",
      "raw_negated": true,
      "raw\_targeting\_value": "aajwo",
      "id": "sajk32",
      "raw\_targeting\_type": "CONTENT_PUBLISHER",
      "raw\_operator\_type": "EQUAL_TO",
      "operator_type": "NE",
      "created_at": "2021-03-30T18:02:32Z",
      "targeting_value": 17288520,
      "updated_at": "2021-03-30T18:02:32Z",
      "deleted": false,
      "targeting\_type": "CONTENT\_PUBLISHER_USER"
    }
  \],
  "request": \[
    {
      "params": {
        "line\_item\_id": "iqwka",
        "account_id": "55w3kv",
        "operator_type": "NE",
        "targeting_value": "17288520",
        "targeting\_type": "CONTENT\_PUBLISHER_USER"
      },
      "operation_type": "Create"
    }
  \]
}
```

<div id="launch-campaign">
  #### 启动广告系列
</div>

当你准备好启动广告系列时，只需使用 [PUT accounts/:account\_id/campaigns/:id](/zh/x-ads-api/campaign-management#put-accounts-account-id-line-items-line-item-id) 取消暂停状态。

PUT https://ads-api.x.com/8/accounts/55w3kv/campaigns/f2rp3?
entity\_status=ACTIVE

```json
{
  "request": {
    "params": {
      "campaign_id": "f2rp3",
      "account_id": "55w3kv"
    }
  },
  "data": {
    "name": "test-curated-categories-api",
    "start_time": "2021-02-10T00:00:00Z",
    "reasons\_not\_servable": \[
    \],
    "servable": false,
    "purchase\_order\_number": null,
    "effective_status": "ACTIVE",
    "daily\_budget\_amount\_local\_micro": 55000000,
    "end_time": null,
    "funding\_instrument\_id": "103hp9",
    "duration\_in\_days": null,
    "standard_delivery": true,
    "total\_budget\_amount\_local\_micro": null,
    "id": "f2rp3",
    "entity_status": "ACTIVE",
    "frequency_cap": null,
    "currency": "USD",
    "created_at": "2021-02-08T23:55:38Z",
    "updated_at": "2021-02-08T23:55:38Z",
    "deleted": false
  }
}
```

<div id="analytics">
  #### 分析
</div>

可通过我们的统计端点获取 `VIDEO_VIEWS_PREROLL` 活动的分析数据。

<div id="keyword-targeting-in-timelines">
  ### 时间线中的关键词定向
</div>

关键词定向是我们 Promoted Tweets 产品的基础，有助于提升广告活动的触达效果。时间线中的关键词定向使平台能够根据用户近期推文中的关键词来定向 X 用户。举例来说，如果某位广告主正在投放无序关键词组合“plan + trip”，而某位用户在广告活动期间发了一条推文：“I’m starting to plan my trip to Cabo, any suggestions?”，那么该用户随后可能会看到该广告主的 Promoted Tweet。

<div id="how-does-it-work">
  #### 工作原理
</div>

简而言之：从 API 角度看，此更改非常简单——你现在可以在时间线中的推广推文上基于关键词进行定向。只需将行项目的 `targeting_type` 设置为 `unordered_keywords` 或 `phrase_keywords` 即可。

<div id="quick-start-guide">
  #### 快速入门指南
</div>

- 创建新的广告项，并将投放位置设置为包含 `ALL_ON_TWITTER` 或 `TWITTER_TIMELINE`。[POST accounts/:account\_id/line\_items](https://dev.x.com/ads/reference/post/accounts/%3Aaccount_id/line_items)
- 为新建的广告项创建定向条件，使用 `BROAD_KEYWORD` 并设置关键词值。[POST accounts/:account\_id/targeting\_criteria](https://dev.x.com/ads/reference/post/accounts/%3Aaccount_id/targeting_criteria)
- 可使用 [PUT accounts/:account\_id/targeting\_criteria](https://dev.x.com/ads/reference/put/accounts/%3Aaccount_id/targeting_criteria) 更新关键词。
- 当广告系列开始投放后，获取该广告项的统计数据以评估效果。[GET stats/accounts/:account\_id](https://dev.x.com/ads/reference/get/stats/accounts/%3Aaccount_id)

<div id="api-reference">
  ## API 参考
</div>

<div id="accounts">
  ### 账户
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  使用 Postman 运行
</Button>

<div id="get-accounts">
  #### GET accounts[](#get-accounts "Permalink to this headline")
</div>

检索认证用户可访问的、已启用广告功能的部分或全部账户的详细信息。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_ids  <br />_optional_ | 通过指定以逗号分隔的标识符列表，将响应限定为所需的账户 ID。  <br />  <br />Type: string  <br />  <br />Example: `18ce54d4x5t` |
| count  <br />_optional_ | 指定每个请求尝试检索的记录数。  <br />  <br />Type: int  <br />  <br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 指定用于获取下一页结果的游标。参见 [Pagination](/zh/x-ads-api/introduction) 了解更多信息。  <br />  <br />Type: string  <br />  <br />Example: `8x7v00oow` |
| q  <br />_optional_ | 可选查询，用于按 `name` 限定资源范围。  <br />  <br />**Note**: 执行不区分大小写的前缀匹配。  <br />  <br />Type: string  <br />  <br />Min, Max length: `1`, `255` |
| sort\_by  <br />_optional_ | 按支持的属性进行升序或降序排序。参见 [Sorting](/zh/x-ads-api/fundamentals/sorting) 了解更多信息。  <br />  <br />Type: string  <br />  <br />Example: `created_at-asc` |
| with\_deleted  <br />_optional_ | 在请求中包含已删除的结果。  <br />  <br />Type: boolean  <br />  <br />Default: `false`  <br />Possible values: `true`, `false` |
| with\_total\_count  <br />_optional_ | 在响应中包含 `total_count` 属性。  <br />  <br />**Note**: 此参数与 `cursor` 互斥。  <br />  <br />**Note**: 包含 `total_count` 的请求将适用更低的速率限制，目前为每 15 分钟 200 次。  <br />  <br />Type: boolean  <br />  <br />Default: `false`  <br />Possible values: `true`, `false` |

<div id="example-request">
  ### 示例请求[](#example-request "Permalink to this headline")
</div>

```json
GET https://ads-api.x.com/12/accounts?account_ids=18ce54d4x5t
```

**示例响应[](#example-response "Permalink to this headline")**

```json
       {
         "request": {
           "params": {
             "account_ids": [
               "18ce54d4x5t"
             ]
           }
         },
         "next_cursor": null,
         "data": [
           {
             "name": "API McTestface",
             "business_name": null,
             "timezone": "America/Los_Angeles",
             "timezone_switch_at": "2016-07-21T07:00:00Z",
             "id": "18ce54d4x5t",
             "created_at": "2016-07-21T22:42:09Z",
             "updated_at": "2017-07-06T16:51:04Z",
             "business_id": null,
             "approval_status": "ACCEPTED",
             "deleted": false
           }
         ]
       }
```

#### GET accounts/:account\_id[](#get-accounts-account-id "Permalink to this headline")

获取经身份验证用户可访问的特定账户。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 目标账户的标识符。该值出现在资源路径中，通常是除 GET accounts 之外所有 Advertiser API 请求的必填参数。  <br />  <br />指定的账户必须与已验证用户关联。  <br />  <br />Type: string  <br />  <br />Example: `18ce54d4x5t` |
| with\_deleted  <br />_optional_ | 在请求中包含已删除的结果。  <br />  <br />Type: boolean  <br />  <br />Default: `false`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t`

**Example Response[](#example-response "Permalink to this headline")**

```json
       {
         "request": {
           "params": {
             "account_id": "18ce54d4x5t"
           }
         },
         "data": {
           "name": "API McTestface",
           "business_name": null,
           "timezone": "America/Los_Angeles",
           "timezone_switch_at": "2016-07-21T07:00:00Z",
           "id": "18ce54d4x5t",
           "created_at": "2016-07-21T22:42:09Z",
           "updated_at": "2017-07-06T16:51:04Z",
           "industry_type": "TRAVEL",
           "business_id": null,
           "approval_status": "ACCEPTED",
           "deleted": false
         }
       }
```

<div id="post-accounts">
  #### POST accounts[](#post-accounts "Permalink to this headline")
</div>

注意：仅限沙盒环境（SANDBOX ONLY）

在沙盒环境中创建广告账户。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api-sandbox.x.com/12/accounts`

**参数[](#parameters "Permalink to this headline")**

无

**示例请求[](#example-request "Permalink to this headline")**

`POST https://ads-api-sandbox.x.com/12/accounts`

**示例响应[](#example-response "Permalink to this headline")**

```json
       {
         "request": {
           "params": {}
         },
         "next_cursor": null,
         "data": [
           {
             "name": "Sandbox account",
             "business_name": null,
             "timezone": "America/Los_Angeles",
             "timezone_switch_at": null,
             "id": "gq12fh",
             "created_at": "2016-07-18T23:02:20Z",
             "updated_at": "2016-07-18T23:02:20Z",
             "business_id": null,
             "approval_status": "ACCEPTED",
             "deleted": false
           }
         ]
       }
```

#### PUT accounts/:account\_id[](#put-accounts-account-id "Permalink to this headline")

更新账户名称和/或行业类型。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 目标账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 外所有 Advertiser API 请求的必填参数。  <br />指定的账户必须与已认证用户关联。  <br />  <br />类型：string  <br />  <br />示例：`18ce54d4x5t` |
| name  <br />_可选_ | 账户名称。  <br />  <br />类型：string  <br />  <br />示例：`API McTestface` |
| industry\_type  <br />_可选_ | 账户所属行业。  <br />  <br />类型：string  <br />  <br />可能的取值：`AGENCY`, `BUSINESS_TO_BUSINESS`, `ONLINE_SERVICES`, `EDUCATION`, `FINANCIAL`, `HEALTH`, `GOVERNMENT`, `MEDIA`, `MOBILE`, `RESTAURANT`, `RETAIL`, `TECHNOLOGY`, `TRAVEL`, `OTHER` |

**请求示例[](#example-request "Permalink to this headline")**

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t?name='API McTestface 2'&industry_type=TECHNOLOGY`

**响应示例[](#example-response "Permalink to this headline")**

```json
       {
         "request": {
           "params": {
             "account_id": "18ce54d4x5t",
             "name": "API McTestface 2",
             "industry_type": "TECHNOLOGY"
           }
         },
         "data": {
           "name": "API McTestface 2",
           "business_name": null,
           "timezone": "America/Los_Angeles",
           "timezone_switch_at": "2016-07-21T07:00:00Z",
           "id": "18ce54d4x5t",
           "created_at": "2016-07-21T22:42:09Z",
           "updated_at": "2017-07-06T16:51:04Z",
           "industry_type": "TECHNOLOGY",
           "business_id": null,
           "approval_status": "ACCEPTED",
           "deleted": false
         }
       }
```

#### DELETE accounts/:account\_id[](#delete-accounts-account-id "Permalink to this headline")

注意：**仅限 Sandbox**

在 Sandbox 环境中删除广告账户。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api-sandbox.x.com/12/accounts/:account_id`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 描述 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被操作账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 外所有 Advertiser API 请求的必需参数。  <br />  <br />指定的账户必须与已认证用户关联。  <br />  <br />类型：string  <br />  <br />示例：`18ce54d4x5t` |

**请求示例[](#example-request "Permalink to this headline")**

`DELETE https://ads-api-sandbox.x.com/12/accounts/gq12fh`

**响应示例[](#example-response "Permalink to this headline")**

```json
       {
         "data": {
           "name": "Sandbox account",
           "timezone": "America/Los_Angeles",
           "timezone_switch_at": null,
           "id": "gq12fh",
           "created_at": "2016-07-18T23:02:20Z",
           "updated_at": "2017-08-23T18:21:10Z",
           "approval_status": "ACCEPTED",
           "deleted": true
         },
         "request": {
           "params": {
             "account_id": "gq12fh"
           }
         }
       }
```

<div id="account-apps">
  ### 账户应用
</div>

[在 Postman 中运行 ❯](https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87)

#### GET account\_apps[](#get-account-apps "Permalink to this headline")

检索与指定广告账户关联的所有移动应用的详细信息。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/account_apps`

**参数[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 目标账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 之外所有 Advertiser API 请求所必需的参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| count  <br />_optional_ | 指定每个请求尝试检索的记录数量。  <br />  <br />Type: int  <br />  <br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 指定用于获取下一页结果的游标。详情参见 [Pagination](/zh/x-ads-api/introduction)。  <br />  <br />Type: string  <br />  <br />Example: `8x7v00oow` |
| sort\_by  <br />_optional_ | 按受支持的属性以升序或降序排序。详情参见 [Sorting](/zh/x-ads-api/fundamentals/sorting)。  <br />  <br />Type: string  <br />  <br />Example: `created_at-asc` |
| with\_deleted  <br />_optional_ | 在请求中包含已删除的结果。  <br />  <br />Type: boolean  <br />  <br />Default: `false`  <br />Possible values: `true`, `false` |
| with\_total\_count  <br />_optional_ | 在响应中包含 `total_count` 属性。  <br />  <br />**注意**：此参数与 `cursor` 互斥。  <br />  <br />**注意**：包含 `total_count` 的请求将有更低的速率限制，目前为每 15 分钟 200 次。  <br />  <br />Type: boolean  <br />  <br />Default: `false`  <br />Possible values: `true`, `false` |

**示例请求[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/account_apps`

**示例响应[](#example-response "Permalink to this headline")**

```json
       {
         "request": {
           "params": {
             "account_ids": [
               "18ce54d4x5t"
             ]
           }
         },
         "next_cursor": null,
         "data": [
          {
            "app_store_identifier": "com.twitter.android",
            "conversion_tracking_enabled": false,
            "deep_link_pattern": "twitter://",
            "id": "4x",
            "created_at": "2019-06-20T22:36:16Z",
            "updated_at": "2021-10-19T20:05:29Z",
            "os_type": "Android",
            "deleted": false
          }
         ]
       }
```

<div id="account-history">
  ### 账号历史
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET accounts/:account\_id/account\_history[](#get-accounts-account-id-account-history "Permalink to this headline")

检索请求中指定 `entity_id` 的变更摘要。

**注意**：此端点目前处于测试阶段，且需要加入白名单。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/account_history`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用账户的标识符。  <br />  <br />Type: string  <br />  <br />Example: `18ce54d4x5t` |
| count  <br />_optional_ | 指定每个请求尝试检索的记录数。  <br />  <br />Type: int  <br />  <br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 指定用于获取下一页结果的游标。参见 [Pagination](/zh/x-ads-api/introduction) 以了解更多信息。  <br />  <br />Type: string  <br />  <br />Example: `8x7v00oow` |
| entity\_type  <br />_required_ | 要检索数据的实体类型。  <br />  <br />Type: enum  <br />  <br />Example: `PROMOTED_TWEET`  <br />Possible values: `CAMPAIGN`, `LINE_ITEM`, `PROMOTED_TWEET`, `TARGETING_CRITERIA`, `PROMOTED_ACCOUNT` |
| entity\_id  <br />_required_ | 要检索数据的具体实体。  <br />  <br />Type: string  <br />  <br />Example: `8u94t` |
| start\_time  <br />_required_ | 将检索的数据限定在指定的开始时间（采用 [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) 格式）。<br /><br />**注意**：必须以整点表示（0 分钟且 0 秒）。<br /><br />Type: string<br /><br />Example: `2017-05-19T07:00:00Z` |
| end\_time  <br />_required_ | 将检索的数据限定在指定的结束时间（采用 [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) 格式）。<br /><br />**注意**：必须以整点表示（0 分钟且 0 秒）。<br /><br />Type: string<br /><br />Example: `2017-05-26T07:00:00Z` |
| user\_id  <br />_optional_ | 将响应限定为特定用户。  <br />  <br />Type: long  <br />  <br />Example: `3271358660` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/account_history?entity_type=CAMPAIGN&entity_id=fc3h5&count=1`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "entity": "CAMPAIGN",
          "entity_id": "fc3h5",
          "count": 1
        }
      },
      "next_cursor": "1r2407sb4lc",
      "data": [
        {
          "change_by": {
            "user_id": "982978172",
            "platform": "API_OTHER"
          },
          "changes": {},
          "change_time": "2021-04-02T20:55:42Z",
          "entity_id": "fc3h5",
          "entity": "CAMPAIGN",
          "entity_data": {
            "name": "test_campaign",
            "start_time": "2021-04-02T18:59:11Z",
            "purchase_order_number": null,
            "daily_budget_amount_local_micro": 100000000,
            "end_time": null,
            "duration_in_days": null,
            "standard_delivery": true,
            "total_budget_amount_local_micro": 100000000,
            "entity_status": "ACTIVE",
            "frequency_cap": null,
            "created_at": "2021-04-02T20:55:42Z",
            "updated_at": "2021-04-02T20:55:42Z",
            "deleted": false
          },
          "change_type": "CREATE"
        }
      ]
    }
```

<div id="advertiser-business-categories">
  ### 广告主业务分类
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET advertiser\_business\_categories[](#get-advertiser-business-categories "Permalink to this headline")

请求可用于广告组（`line_items`）向发布方描述品牌的有效广告主营业`categories`。

注意：这些类别仅适用于目标为 `PREROLL_VIEWS` 的 `line_items`，并且与用于定向条件的 `content_categories` 相互独立。

每个 `advertiser_business_categories` 表示一组 [IAB Categories](/zh/x-ads-api/campaign-management#iab-categories)。在创建目标为 `PREROLL_VIEWS` 的广告组时，必须为该广告组设置一到两个 `advertiser_business_categories`。可通过在 [line item](/zh/x-ads-api/campaign-management#line-items) 端点的请求参数 `categories` 中，设置对应的一组 `iab_categories`（可通过此端点获取）来完成。

更多详情请参阅 [Video Views Preroll Objective Guide](/zh/x-ads-api/campaign-management#video-views-preroll-objective)

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/advertiser_business_categories`

**Parameters[](#parameters "Permalink to this headline")**

无请求参数

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/advertiser_business_categories`

**Example Response[](#example-response "Permalink to this headline")**

```json
{
      "request": {
        "params": {}
      },
      "next_cursor": null,
      "data": [
        {
          "id": "1jl",
          "name": "快速消费品",
          "iab_categories": [
            "IAB9-26",
            "IAB9-18",
            "IAB9-29",
            "IAB9-1",
            "IAB9-8",
            "IAB9-22",
            "IAB6",
            "IAB9-5",
            "IAB9-12",
            "IAB9-11",
            "IAB9-23",
            "IAB9-14",
            "IAB4",
            "IAB9-25",
            "IAB9-17",
            "IAB23",
            "IAB9-24",
            "IAB9-13",
            "IAB16",
            "IAB9-4",
            "IAB9-9",
            "IAB9-20",
            "IAB22",
            "IAB9-28",
            "IAB9-27",
            "IAB9-16",
            "IAB9-31",
            "IAB9-3",
            "IAB9-19",
            "IAB10",
            "IAB9-2",
            "IAB9-6",
            "IAB9-21",
            "IAB9-10",
            "IAB9-15"
          ]
        },
        {
          "id": "1jm",
          "name": "健康与制药",
          "iab_categories": [
            "IAB7"
          ]
        },
        {
          "id": "1jn",
          "name": "酒类",
          "iab_categories": [
            "IAB8-5",
            "IAB8-18"
          ]
        },
        {
          "id": "1jo",
          "name": "餐饮",
          "iab_categories": [
            "IAB8-10",
            "IAB8-8",
            "IAB8-7",
            "IAB8-15",
            "IAB8-3",
            "IAB8-4",
            "IAB8-1",
            "IAB8-16",
            "IAB8-12",
            "IAB8-13",
            "IAB8-17",
            "IAB8-11",
            "IAB8-6",
            "IAB8-9",
            "IAB8-2",
            "IAB8-14"
          ]
        },
        {
          "id": "1jp",
          "name": "金融服务",
          "iab_categories": [
            "IAB3",
            "IAB13",
            "IAB21"
          ]
        },
        {
          "id": "1jq",
          "name": "零售",
          "iab_categories": [
            "IAB18"
          ]
        },
        {
          "id": "1jr",
          "name": "旅游",
          "iab_categories": [
            "IAB20"
          ]
        },
        {
          "id": "1js",
          "name": "游戏",
          "iab_categories": [
            "IAB9-30"
          ]
        },
        {
          "id": "1jt",
          "name": "科技"
          "iab_categories": [
            "IAB19-22",
            "IAB19-13",
            "IAB19-4",
            "IAB19-33",
            "IAB19-26",
            "IAB19-3",
            "IAB19-16",
            "IAB19-9",
            "IAB19-32",
            "IAB19-25",
            "IAB19-30",
            "IAB19-36",
            "IAB19-21",
            "IAB5",
            "IAB19-12",
            "IAB19-28",
            "IAB19-17",
            "IAB19-8",
            "IAB19-7",
            "IAB19-24",
            "IAB15",
            "IAB19-11",
            "IAB19-31",
            "IAB19-20",
            "IAB19-15",
            "IAB19-1",
            "IAB19-35",
            "IAB19-29",
            "IAB19-34",
            "IAB19-23",
            "IAB19-2",
            "IAB19-5",
            "IAB19-14",
            "IAB19-27",
            "IAB19-10",
            "IAB19-19"
          ]
        },
        {
          "id": "1ju",
          "name": "电信",
          "iab_categories": [
            "IAB19-6",
            "IAB19-18"
          ]
        },
        {
          "id": "1jv",
"name": "汽车",
          "iab_categories": [
            "IAB2"
          ]
        },
        {
          "id": "1jw",
"name": "媒体与娱乐",
          "iab_categories": [
            "IAB14-8",
            "IAB14-4",
            "IAB1-5",
            "IAB14-7",
            "IAB1-7",
            "IAB17",
            "IAB14-3",
            "IAB1-1",
            "IAB12",
            "IAB1-6",
            "IAB25-1",
            "IAB1-2",
            "IAB14-2",
            "IAB14-6",
            "IAB1-3",
            "IAB1-4",
            "IAB14-5"
          ]
        },
        {
          "id": "1jx",
"name": "政治",
          "iab_categories": [
            "IAB11-4"
          ]
        },
        {
          "id": "1jy",
"name": "博彩",
          "iab_categories": [
            "IAB9-7"
          ]
        },
        {
          "id": "1jz",
"name": "约会",
          "iab_categories": [
            "IAB14-1"
          ]
        },
        {
          "id": "1k0",
"name": "非营利组织",
          "iab_categories": [
            "IAB11-1",
            "IAB11-2",
            "IAB11-3",
            "IAB11-5"
          ]
        }
      ]
    }
```

<div id="audience-estimate">
  ### 受众规模预估
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

POST accounts/:account\_id/audience\_estimate[](#post-accounts-account-id-audience-estimate "此标题的永久链接")

<div id="determine-the-approximate-audience-size-of-your-campaigns">
  #### 确定您的广告系列的预估受众规模。
</div>

此端点接收一个由 JSON 对象组成的数组，每个对象包含定向条件对象的参数。必填和可选的定向条件参数列表见 [POST accounts/:account\_id/targeting\_criteria](/zh/x-ads-api/campaign-management#post-accounts-account-id-targeting-criteria) 端点。请求必须为 HTTP POST，且请求体为 JSON，并包含 `Content-Type: application/json` 头。

**注意**：必须至少指定一个“主要”定向条件；您可以在我们的[广告系列定向页面](/zh/x-ads-api/campaign-management#targeting)查看所有主要定向条件的列表。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/audience_estimate`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用的账户标识符。它出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 外所有 Advertiser API 请求的必填参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| targeting\_criteria  <br />_required_ | 包含所有定向条件对象参数的 JSON 对象。必填和可选的定向条件参数列表见 [POST accounts/:account\_id/targeting\_criteria](/zh/x-ads-api/campaign-management#post-accounts-account-id-targeting-criteria) 端点。 |
| operator\_type  <br />_optional_ | 指定定向条件之间的关系。例如，要设置否定定向，请使用 `operator_type=NE`。<br /><br />Type: enum<br /><br />Possible values: `EQ`, `NE`<br /><br />Default: `EQ` |

**Example Request[](#example-request "Permalink to this headline")**

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/audience_estimate`

```json
    {
        "targeting_criteria": [
            {
                "targeting_type": "BROAD_KEYWORD",
                "targeting_value": "nba",
                "operator_type": "EQ"
            },
            {
                "targeting_type": "BROAD_KEYWORD",
                "targeting_value": "tech",
                "operator_type": "NE"
            },
            {
                "targeting_type": "LOCATION",
                "targeting_value": "96683cc9126741d1",
                "operator_type": "EQ"
            },
            {
                "targeting_type": "SIMILAR_TO_FOLLOWERS_OF_USER",
                "targeting_value": "14230524"
            },
            {
                "targeting_type": "SIMILAR_TO_FOLLOWERS_OF_USER",
                "targeting_value": "90420314"
            }
        ]
    }
```

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "targeting_criteria": null,
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "audience_size": {
          "min": 38236294,
          "max": 42261167
        }
      }
    }
```

<div id="authenticated-user-access">
  ### 已认证用户访问
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET accounts/:account\_id/authenticated\_user\_access[](#get-accounts-account-id-authenticated-user-access "Permalink to this headline")

检索当前已认证用户（access\_token）在指定广告账户中的权限。这些权限与 ads.x.com 上展示的一致。

可能的取值包括：

- `ACCOUNT_ADMIN`: 对修改广告系列和查看统计具有完全访问权限，包括添加或移除用户以及更改设置
- `AD_MANAGER`: 对修改广告系列和查看统计具有完全访问权限，但不能添加或移除用户或更改设置
- `CREATIVE_MANAGER`: 可修改创意并查看预览，但无权创建或修改广告系列
- `CAMPAIGN_ANALYST`: 可查看广告系列和统计数据，但无权创建或修改广告系列
- `ANALYST`（在 ads.x.com 上称为“Organic Analyst”）: 可查看自然表现分析和受众洞察，但无权创建、修改或查看广告系列
- `PARTNER_AUDIENCE_MANAGER`: 仅限 API 的访问权限，可查看和修改数据合作伙伴受众，但无法访问广告系列、创意或其他受众类型。

此外，`TWEET_COMPOSER` 权限表示已认证用户可以代表广告主创建不对关注者投放的推文（“仅推广”推文）。仅适用于具有 `ACCOUNT_ADMIN`、`AD_MANAGER` 或 `CREATIVE_MANAGER` 访问权限的用户。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/authenticated_user_access`

**Parameters[](#parameters "Permalink to this headline")**

无

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/authenticated_user_access`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "data": {
        "user_id": "2417045708",
        "permissions": [
          "ACCOUNT_ADMIN",
          "TWEET_COMPOSER"
        ]
      },
      "request": {
        "params": {
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

<div id="bidding-rules">
  ### 出价规则
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET bidding\_rules[](#get-bidding-rules "Permalink to this headline")

检索部分或所有货币的竞价规则。响应将给出 CPE（每次互动成本）出价的最小值和最大值。

这些竞价规则虽不常变更，仍建议你的系统至少每月从这些端点刷新一次。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/bidding_rules`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| currency  <br />_optional_ | 用于按货币类型筛选结果，使用 [ISO-4217](https://en.wikipedia.org/wiki/ISO_4217) 标识。为三字母字符串（如 “USD” 或 “EUR”）。省略此参数可检索所有竞价规则。<br /><br />Type: string<br /><br />Example: `USD` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/bidding_rules?currency=USD`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "currency": "USD"
        }
      },
      "data_type": "bidding_rule",
      "data": [
        {
          "currency": "USD",
          "minimum_cpe_bid_local_micro": 10000,
          "maximum_cpe_bid_local_micro": 1000000000,
          "minimum_denomination": 10000
        }
      ],
      "total_count": 1
    }
```

<div id="campaigns">
  ### 广告活动
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET accounts/:account\_id/campaigns[](#get-accounts-account-id-campaigns "Permalink to this headline")

检索当前账户关联的部分或全部广告系列的详细信息。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/campaigns`

**参数[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用的账户标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求都需要的参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| campaign\_ids  <br />_optional_ | 通过指定以逗号分隔的标识符列表，将响应限定为所需的广告系列。最多可提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `8wku2` |
| count  <br />_optional_ | 指定每个请求尝试检索的记录数。<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 指定用于获取下一页结果的游标。详情参见 [Pagination](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `8x7v00oow` |
| funding\_instrument\_ids  <br />_optional_ | 通过指定以逗号分隔的标识符列表，将响应限定为特定资金工具下的广告系列。最多可提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `lygyi` |
| q  <br />_optional_ | 可选查询，用于按 `name` 过滤资源。<br /><br />Type: string<br /><br />Min, Max length: `1`, `255` |
| sort\_by  <br />_optional_ | 按受支持的属性进行升序或降序排序。详情参见 [Sorting](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `created_at-asc` |
| with\_deleted  <br />_optional_ | 在请求中包含已删除的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |
| with\_draft  <br />_optional_ | 在请求中包含草稿广告系列的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |
| with\_total\_count  <br />_optional_ | 在响应中包含 `total_count` 属性。<br /><br />**Note**: 此参数与 `cursor` 互斥。<br /><br />**Note**: 包含 `total_count` 的请求会有更低的速率限制，当前设置为每 15 分钟 200 次。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**示例请求[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/campaigns?campaign_ids=8wku2`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "campaign_ids": [
            "8wku2"
          ]
        }
      },
      "next_cursor": null,
      "data": [
        {
          "name": "test",
          "budget_optimization": "CAMPAIGN",
          "reasons_not_servable": [
            "PAUSED_BY_ADVERTISER",
            "INCOMPLETE"
          ],
          "servable": false,
          "purchase_order_number": null,
          "effective_status": "UNKNOWN",
          "daily_budget_amount_local_micro": 10000000,
          "funding_instrument_id": "lygyi",
          "duration_in_days": null,
          "standard_delivery": false,
          "total_budget_amount_local_micro": null,
          "id": "8wku2",
          "entity_status": "PAUSED",
          "frequency_cap": null,
          "currency": "USD",
          "created_at": "2022-06-03T21:38:07Z",
          "updated_at": "2022-06-03T21:38:07Z",
          "deleted": false
        }
      ]
    }
```

#### GET accounts/:account\_id/campaigns/:campaign\_id[](#get-accounts-account-id-campaigns-campaign-id "Permalink to this headline")

获取与当前账户关联的特定广告系列。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/campaigns/:campaign_id`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 已使用账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有广告主 API 请求的必填参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| campaign\_id  <br />_required_ | 你在请求中要操作的广告系列标识。<br /><br />Type: string<br /><br />Example: `8wku2` |
| with\_deleted  <br />_optional_ | 是否在结果中包含已删除项。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/campaigns/8wku2`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "campaign_id": "8wku2",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "name": "test",
        "budget_optimization": "CAMPAIGN",
        "reasons_not_servable": [
          "PAUSED_BY_ADVERTISER",
          "INCOMPLETE"
        ],
        "servable": false,
        "purchase_order_number": null,
        "effective_status": "UNKNOWN",
        "daily_budget_amount_local_micro": 10000000,
        "funding_instrument_id": "lygyi",
        "duration_in_days": null,
        "standard_delivery": false,
        "total_budget_amount_local_micro": null,
        "id": "8wku2",
        "entity_status": "PAUSED",
        "frequency_cap": null,
        "currency": "USD",
        "created_at": "2022-06-03T21:38:07Z",
        "updated_at": "2022-06-03T21:38:07Z",
        "deleted": false
      }
    }
```

#### POST accounts/:account\_id/campaigns[](#post-accounts-account-id-campaigns "Permalink to this headline")

创建一个与当前账户关联的新广告系列。

**注意**：每个账户默认最多可拥有 200 个活跃广告系列。但非活跃广告系列的数量不受限制。此上限可提高到 8,000 个活跃广告系列。要启用更高上限，广告主必须联系其 X 客户经理提出申请。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/campaigns`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 已使用账户的标识符。该值出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有广告主 API 请求的必填参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| funding\_instrument\_id  <br />_必填_ | 用于承载此广告系列的资金工具标识符。<br /><br />类型：string<br /><br />示例：`lygyi` |
| name  <br />_必填_ | 广告系列名称。最大长度：255 个字符。<br /><br />类型：string<br /><br />示例：`demo` |
| budget\_optimization  <br />_可选_ | 选择要应用的预算优化类型。<br /><br />类型：enum<br /><br />默认值：`CAMPAIGN`  <br />可能的取值：`CAMPAIGN`、`LINE_ITEM` |
| daily\_budget\_amount\_local\_micro  <br />_有时必填_ | 分配给该广告系列的每日预算金额。将使用指定资金工具所关联的货币。以 USD 为例，$5.50 表示为 5500000。<br /><br />**注意**：该值应小于或等于 `total_budget_amount_local_micro`，并且对大多数资金工具类型为必填项。<br /><br />类型：long<br /><br />示例：`5500000` |
| entity\_status  <br />_可选_ | 广告系列状态。<br /><br />类型：enum<br /><br />默认值：`ACTIVE`  <br />可能的取值：`ACTIVE`、`DRAFT`、`PAUSED` |
| purchase\_order\_number  <br />_可选_ | 预订参考编号。使用此字段有助于发票对账。最大长度：50 个字符。<br /><br />类型：string<br /><br />示例：`D00805843` |
| standard\_delivery  <br />_可选_ | 启用标准或加速投放。关于标准与加速投放的更多信息，请参阅 [Budget Pacing](/zh/x-ads-api/campaign-management#budget-pacing)。仅当 `budget_optimization` 设置为 `CAMPAIGN` 时可用。<br /><br />类型：boolean<br /><br />默认值：`true`  <br />可能的取值：`true`、`false` |
| total\_budget\_amount\_local\_micro  <br />_可选_ | 分配给该广告系列的总预算金额。将使用指定资金工具所关联的货币。以 USD 为例，$37.50 表示为 37500000。<br /><br />类型：long<br /><br />示例：`37500000` |

**示例请求[](#example-request "Permalink to this headline")**

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/campaigns?funding_instrument_id=lygyi&name=demo&daily_budget_amount_local_micro=140000000&entity_status=PAUSED&budget_optimization=CAMPIAGN&standard_delivery=false`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "name": "demo",
          "budget_optimization": "CAMPAIGN",
          "daily_budget_amount_local_micro": 140000000,
          "funding_instrument_id": "lygyi",
          "standard_delivery": false,
          "entity_status": "PAUSED",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "name": "demo",
        "budget_optimization": "CAMPAIGN",
        "reasons_not_servable": [
          "PAUSED_BY_ADVERTISER",
          "INCOMPLETE"
        ],
        "servable": false,
        "purchase_order_number": null,
        "effective_status": "UNKNOWN",
        "daily_budget_amount_local_micro": 140000000,
        "funding_instrument_id": "lygyi",
        "duration_in_days": null,
        "standard_delivery": false,
        "total_budget_amount_local_micro": null,
        "id": "hwtbm",
        "entity_status": "PAUSED",
        "frequency_cap": null,
        "currency": "USD",
        "created_at": "2022-06-03T21:38:07Z",
        "updated_at": "2022-06-03T21:38:07Z",
        "deleted": false
      }
    }
```

#### POST batch/accounts/:account\_id/campaigns[](#post-batch-accounts-account-id-campaigns "Permalink to this headline")

允许通过单个请求批量创建新的[广告系列](#post-accounts-account-id-campaigns)。

**批量请求**

- 目前的最大批量大小为 40。
- 所有参数均通过请求正文发送，且必须将 `Content-Type` 设为 `application/json`。
- 批量请求作为一个整体共同成功或失败；无论成功还是报错，所有 API 响应都会保留与初始请求相同的项目顺序。

**批量响应**

批量 API 响应返回一个有序的项目集合。除此之外，其结构与相应的单项目端点完全一致。

**批量错误**

- 请求级错误（例如，超出最大批量大小）会在响应的 `errors` 对象下显示。
- 项目级错误（例如，缺少必需的广告系列参数）会在响应的 `operation_errors` 对象下显示。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/batch/accounts/:account_id/campaigns`

**参数[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| operation\_type  <br />_required_ | 每个项目所执行的操作类型。<br /><br />Type: enum<br /><br />Possible values: `Create`, `Delete`, `Update` |
| params  <br />_required_ | 包含广告系列对象全部参数的 JSON 对象。有关必填和可选的广告系列参数列表，请参见[此处](#post-accounts-account-id-campaigns)。 |

**请求示例[](#example-request "Permalink to this headline")**

`POST 'Content-Type: application/json' https://ads-api.x.com/12/batch/accounts/18ce54d4x5t/campaigns`

```json
    [
      {
        "operation_type":"Create",
        "params":{
          "name":"batch campaigns",
          "funding_instrument_id":"lygyi",
          "daily_budget_amount_local_micro":140000000,
          "entity_status":"PAUSED",
          "budget_optimization":"CAMPAIGN"
        }
      }
    ]
```

**响应示例[](#example-response "Permalink to this headline")**

```json
    {
      "data": [
        {
          "name": "batch campaigns",
          "budget_optimization": "CAMPAIGN",
          "reasons_not_servable": [
            "PAUSED_BY_ADVERTISER",
            "INCOMPLETE"
          ],
          "servable": false,
          "purchase_order_number": null,
          "effective_status": "UNKNOWN",
          "daily_budget_amount_local_micro": 140000000,
          "funding_instrument_id": "lygyi",
          "duration_in_days": null,
          "standard_delivery": false,
          "total_budget_amount_local_micro": null,
          "id": "8yn7m",
          "entity_status": "PAUSED",
          "frequency_cap": null,
          "currency": "USD",
          "created_at": "2022-06-03T21:38:07Z",
          "updated_at": "2022-06-03T21:38:07Z",
          "deleted": false
        }
      ],
      "request": [
        {
          "params": {
            "name": "batch campaigns",
            "funding_instrument_id": "lygyi",
            "daily_budget_amount_local_micro": 140000000,
            "entity_status": "PAUSED",
            "budget_optimization":"CAMPAIGN",
            "account_id": "18ce54d4x5t"
          },
          "operation_type": "Create"
        }
      ]
    }
```

#### PUT accounts/:account\_id/campaigns/:campaign\_id[](#put-accounts-account-id-campaigns-campaign-id "Permalink to this headline")

更新当前账户下的指定广告系列。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/campaigns/:campaign_id`

**Parameters[](#parameters "Permalink to this headline")**

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 目标账户的标识符。该值出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求的必需参数。指定账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| campaign\_id  <br />_必填_ | 本次请求所操作的广告系列标识。<br /><br />类型：string<br /><br />示例：`8wku2` |
| budget\_optimization  <br />_可选_ | 选择要应用的预算优化类型。<br /><br />类型：enum<br /><br />默认值：`CAMPAIGN`  <br />可能的取值：`CAMPAIGN`、`LINE_ITEM` |
| daily\_budget\_amount\_local\_micro  <br />_可选_ | 分配给广告系列的每日预算金额。将使用与指定资金工具关联的货币。对于 USD，$5.50 表示为 5500000。未提供时，广告系列会在投放周期内基于总预算均匀消耗。<br /><br />**注意**：该值应小于或等于 `total_budget_amount_local_micro`。<br /><br />类型：long<br /><br />示例：`5500000` |
| entity\_status  <br />_可选_ | 广告系列状态。<br /><br />类型：enum<br /><br />可能的取值：`ACTIVE`、`PAUSED` |
| name  <br />_可选_ | 广告系列名称。最大长度：255 个字符。<br /><br />类型：string<br /><br />示例：`demo` |
| purchase\_order\_number  <br />_可选_ | 预订参考编号。可用此字段辅助发票核对。最大长度：50 个字符。<br /><br />类型：string<br /><br />示例：`D00805843` |
| standard\_delivery  <br />_可选_ | 启用标准或加速投放。关于标准与加速投放的更多信息，参见 [Budget Pacing](/zh/x-ads-api/campaign-management#budget-pacing)。仅当 `budget_optimization` 设置为 `CAMPAIGN` 时可用。<br /><br />类型：boolean<br /><br />默认值：`true`  <br />可能的取值：`true`、`false` |
| total\_budget\_amount\_local\_micro  <br />_可选_ | 分配给广告系列的总预算金额。将使用与指定资金工具关联的货币。对于 USD，$37.50 表示为 37500000。<br /><br />类型：long<br /><br />示例：`140000000` |

**Example Request[](#example-request "Permalink to this headline")**

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/campaigns/8wku2?total_budget_amount_local_micro=140000000`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "campaign_id": "8wku2",
          "daily_budget_amount_local_micro": 140000000,
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "name": "test",
        "budget_optimization": "CAMPAIGN",
        "reasons_not_servable": [
          "PAUSED_BY_ADVERTISER",
          "INCOMPLETE"
        ],
        "servable": false,
        "purchase_order_number": null,
        "effective_status": "UNKNOWN",
        "daily_budget_amount_local_micro": 140000000,
        "funding_instrument_id": "lygyi",
        "duration_in_days": null,
        "standard_delivery": false,
        "total_budget_amount_local_micro": null,
        "id": "8wku2",
        "entity_status": "PAUSED",
        "frequency_cap": null,
        "currency": "USD",
        "created_at": "2022-06-03T21:38:07Z",
        "updated_at": "2022-06-03T21:53:54Z",
        "deleted": false
      }
    }
```

#### DELETE accounts/:account\_id/campaigns/:campaign\_id[](#delete-accounts-account-id-campaigns-campaign-id "Permalink to this headline")

删除当前账户下的指定广告系列。

**注意**：删除广告系列不可恢复，之后再次尝试删除该资源将返回 HTTP 404。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/campaigns/:campaign_id`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 目标账户的标识符。出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求所必需的参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| campaign\_id  <br />_required_ | 你在请求中要操作的广告系列标识。<br /><br />Type: string<br /><br />Example: `8yn7m` |

**Example Request[](#example-request "Permalink to this headline")**

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/campaigns/8yn7m`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "campaign_id": "8yn7m",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "name": "test",
        "budget_optimization": "CAMPAIGN",
        "reasons_not_servable": [],
        "servable": null,
        "purchase_order_number": null,
        "effective_status": "RUNNING",
        "daily_budget_amount_local_micro": 140000000,
        "funding_instrument_id": "lygyi",
        "duration_in_days": null,
        "standard_delivery": false,
        "total_budget_amount_local_micro": null,
        "id": "8yn7m",
        "entity_status": "PAUSED",
        "frequency_cap": null,
        "currency": "USD",
        "created_at": "2022-06-03T21:38:07Z",
        "updated_at": "2022-06-03T21:56:35Z",
        "deleted": true
      }
    }
```

<div id="content-categories">
  ### 内容分类
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET content\_categories[](#get-content-categories "Permalink to this headline")

请求可用于作为某个广告项（line item）的 `targeting_criteria` 的有效内容 `categories`。

每个 `content_category` 都映射到一个或多个 [IAB Categories](/zh/x-ads-api/campaign-management#iab-categories)。你可以在批量 `targeting_critera` 端点将 `targeting_type` 设为 `IAB_CATEGORY`，并包含通过 `content_categories` 请求返回的对应 `iab_categories` 集合来实现。否则会导致验证错误。

可使用 [GET publishers](/zh/x-ads-api/campaign-management#publishers) 端点获取这些内容类别的发布者详情。

更多信息请参阅 [Video Views Pre-roll Objective Guide](/zh/x-ads-api/campaign-management#video-views-preroll-objective)。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/content_categories`

**Parameters[](#parameters "Permalink to this headline")**

无请求参数

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/content_categories`

**Example Response[](#example-response "Permalink to this headline")**

```json
{
      "request": {
        "params": {}
      },
      "next_cursor": null,
      "data": [
        {
          "name": "汽车（乘用车、卡车、赛车）",
          "id": "ru",
          "iab_categories": [
            "IAB2"
          ],
          "publishers_in_last_thirty_days": 12,
          "videos_monetized_in_last_thirty_days": 316
        },
        {
          "name": "喜剧",
          "id": "sk",
          "iab_categories": [
            "IAB1-4"
          ],
          "publishers_in_last_thirty_days": 19,
          "videos_monetized_in_last_thirty_days": 174
        },
        {
          "name": "数字创作者",
          "id": "sl",
          "iab_categories": [
            "IAB25-1"
          ],
          "publishers_in_last_thirty_days": 110,
          "videos_monetized_in_last_thirty_days": 1257
        },
        {
          "name": "娱乐与流行文化",
          "id": "sm",
          "iab_categories": [
            "IAB1-1",
            "IAB1-2",
            "IAB1-3",
            "IAB1-5"
          ],
          "publishers_in_last_thirty_days": 120,
          "videos_monetized_in_last_thirty_days": 3482
        },
        {
          "name": "财经与商业新闻",
          "id": "sn",
          "iab_categories": [
            "IAB3",
            "IAB13",
            "IAB21"
          ],
          "publishers_in_last_thirty_days": 29,
          "videos_monetized_in_last_thirty_days": 1461
        },
        {
          "name": "美食与饮品",
          "id": "so",
          "iab_categories": [
            "IAB8-8",
            "IAB8-12",
            "IAB8-17",
            "IAB8-2",
            "IAB8-3",
            "IAB8-7",
            "IAB8-11",
            "IAB8-4",
            "IAB8-14",
            "IAB8-10",
            "IAB8-15",
            "IAB8-13",
            "IAB8-9",
            "IAB8-16",
            "IAB8-6",
            "IAB8-1"
          ],
          "publishers_in_last_thirty_days": 24,
          "videos_monetized_in_last_thirty_days": 516
        },
        {
          "name": "生活方式（时尚、旅行、健康）",
          "id": "sp",
          "iab_categories": [
            "IAB16",
            "IAB9-21",
            "IAB9-4",
            "IAB9-25",
            "IAB9-8",
            "IAB4",
            "IAB9-3",
            "IAB9-15",
            "IAB7",
            "IAB6",
            "IAB9-11",
            "IAB9-16",
            "IAB9-7",
            "IAB9-20",
            "IAB9-24",
            "IAB9-17",
            "IAB9-12",
            "IAB9-31",
            "IAB9-27",
            "IAB10",
            "IAB9-10",
            "IAB9-23",
            "IAB9-6",
            "IAB9-18",
            "IAB9-13",
            "IAB9-1",
            "IAB9-28",
            "IAB20",
            "IAB9-5",
            "IAB9-26",
            "IAB22",
            "IAB23",
            "IAB9-9",
            "IAB9-22",
            "IAB18",
            "IAB9-2",
            "IAB9-19",
            "IAB9-14",
            "IAB9-29"
          ],
          "publishers_in_last_thirty_days": 67,
          "videos_monetized_in_last_thirty_days": 2412
        },
        {
          "name": "音乐",
          "id": "sq",
          "iab_categories": [
            "IAB1-6"
          ],
          "publishers_in_last_thirty_days": 31,
          "videos_monetized_in_last_thirty_days": 518
        },
        {
          "name": "新闻与时事",
          "id": "sr",
          "iab_categories": [
            "IAB12",
            "IAB14"
          ],
          "publishers_in_last_thirty_days": 125,
          "videos_monetized_in_last_thirty_days": 5507
        },
        {
          "name": "政治",
          "id": "s4",
          "iab_categories": [
            "IAB11"
          ],
          "publishers_in_last_thirty_days": 19,
          "videos_monetized_in_last_thirty_days": 1402
        },
        {
          "name": "科学与教育",
          "id": "ss",
          "iab_categories": [
            "IAB5",
            "IAB15"
          ],
          "publishers_in_last_thirty_days": 7,
          "videos_monetized_in_last_thirty_days": 132
        },
        {
          "name": "体育",
          "id": "se",
          "iab_categories": [
            "IAB17"
          ],
          "publishers_in_last_thirty_days": 403,
          "videos_monetized_in_last_thirty_days": 18281
        },
        {
          "name": "科技",
          "id": "sg",
          "iab_categories": [
            "IAB19"
          ],
          "publishers_in_last_thirty_days": 13,
          "videos_monetized_in_last_thirty_days": 1089
        },
        {
          "name": "电视",
          "id": "sh",
          "iab_categories": [
            "IAB1-7"
          ],
          "publishers_in_last_thirty_days": 58,
          "videos_monetized_in_last_thirty_days": 1307
        },
        {
          "name": "电竞与视频游戏"
          "id": "s0",
          "iab_categories": [
            "IAB9-30"
          ],
          "publishers_in_last_thirty_days": 109,
          "videos_monetized_in_last_thirty_days": 1844
        }
      ],
      "total_count": 15
    }
```

<div id="curated-categories">
  ### 精选分类
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET accounts/:account\_id/curated\_categories[](#get-accounts-account-id-curated-categories "此标题的永久链接")

检索针对给定 `country_codes` 的可用精选类别列表

每个 `curated_category` 仅在响应中 `country_codes` 指定的特定国家/地区可用。

更多详情请参见[视频观看预播目标指南](/zh/x-ads-api/campaign-management#video-views-preroll-objective)。

**资源 URL[](#resource-url "此标题的永久链接")**

`https://ads-api.x.com/12/accounts/:account_id/curated_categories`

**参数[](#parameters "此标题的永久链接")**

| 名称 | 描述 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被使用账户的标识符。出现在资源路径中，并且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有广告主 API 请求的必需参数。指定的账户必须与已通过身份验证的用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| country\_codes  <br />_必填_ | 通过指定以逗号分隔的双字母 ISO 国家/地区代码列表，将响应限定在所需的国家/地区范围内。最多可提供 200 个 ID。<br /><br />类型：string<br /><br />示例：`US` |
| cursor  <br />_可选_ | 指定一个游标以获取下一页结果。更多信息请参见[分页](/zh/x-ads-api/introduction)。<br /><br />类型：string<br /><br />示例：`8x7v00oow` |

**示例请求[](#example-request "此标题的永久链接")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/curated_categories?country_codes=US`

**示例响应[](#example-response "此标题的永久链接")**

```json
{
      "request": {
        "params": {
          "country_codes": [
            "US"
          ],
          "account_id": "18ce54d4x5t"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "name": "篮球",
          "description": "将广告投放在每日顶级篮球内容旁，涵盖大学球队、职业球队，以及顶级体育媒体账号在赛季内外分享的篮球视频。",
          "country_codes": [
            "US"
          ],
          "publisher_user_ids": [
            "20265254",
            "378174762",
            "900368808",
            "18939563",
            "18371803",
            "18360370",
            "770658432928079872",
            "11026952",
            "37085464",
            "16212685",
            "57422635",
            "281669945",
            "7117962",
            "23065057",
            "41688179",
            "29779226",
            "900280416",
            "364460082",
            "902030382",
            "19409270",
            "19077044",
            "18139461",
            "14992591",
            "66753565",
            "667563",
            "16727749",
            "40941404",
            "18481113",
            "791598918",
            "16201775",
            "15900167",
            "45891626",
            "191894553",
            "2181233851",
            "34352904",
            "171483987",
            "454122399",
            "57415242",
            "19263978",
            "902089998",
            "423540866",
            "2715223320",
            "22185437",
            "17292143",
            "55590247",
            "66757066",
            "22642626",
            "41604618",
            "87275465",
            "22643259",
            "32414973",
            "73406718",
            "20346956",
            "413422891",
            "45412765",
            "19537303",
            "459511725",
            "30954864",
            "21308488",
            "18552281",
            "19924520",
            "24903350",
            "851142163",
            "26270913",
            "20444254",
            "26074296",
            "6395222",
            "15537451",
            "28672101",
            "38053254",
            "24925573",
            "19564719",
            "18164425",
            "22815383",
            "20196159"
          ],
          "id": "929wbl6ymlfk",
          "created_at": "2019-11-08T21:12:47Z",
          "updated_at": "2021-03-09T20:36:44Z",
          "videos_monetized_in_last_thirty_days": 2446
        },
        {
          "name": "游戏红人",
          "description": "将广告投放在每日顶级游戏内容旁，内容专来自部分线上游戏领域规模最大、最受喜爱的数字创作者名单。",
          "country_codes": [
            "US"
          ],
          "publisher_user_ids": [
            "90779436",
            "268270621",
            "567167802",
            "246596682",
            "474919140",
            "284422688",
            "185909682",
            "4767225325",
            "2559865245",
            "186888760",
            "161418822",
            "141021153",
            "352881953",
            "1117931702",
            "146556805",
            "357294577",
            "234526497",
            "266687361",
            "214201922",
            "9451052",
            "2163885564",
            "2231422037",
            "116952434",
            "399909209",
            "15993650",
            "974356091193741312",
            "210839744",
            "2313002094",
            "159916388",
            "3258981481",
            "231992478",
            "182236262",
            "386884916",
            "22705686",
            "4140881832",
            "995979576",
            "2244953047",
            "311775629",
            "98821255",
            "2733210014",
            "2741078150"
          ],
          "id": "94ngssfrr01x",
          "created_at": "2019-12-02T20:45:12Z",
          "updated_at": "2021-03-09T20:18:13Z",
          "videos_monetized_in_last_thirty_days": 448
        },
        {
          "name": "棒球",
          "description": "与每日优质棒球内容并排投放，涵盖大学球队、职业球队，以及顶级体育媒体账号发布的重大棒球报道。",
          "country_codes": [
            "US"
          ],
          "publisher_user_ids": [
            "22016177",
            "22798877",
            "52803520",
            "20710218",
            "423532170",
            "28603812",
            "41144996",
            "22819823",
            "39389304",
            "252273678",
            "123307490",
            "2319354187",
            "41488578",
            "37947138",
            "302066953",
            "159143990",
            "35006336",
            "53178109",
            "40918816",
            "39682297",
            "39397148",
            "39419180",
            "53197137",
            "52863923",
            "21407926",
            "31164229",
            "19607400",
            "39392910",
            "241544156",
            "43024351",
            "37837907",
            "165764237",
            "69117905",
            "87673496",
            "23043294",
            "52824038",
            "52861612",
            "33137450",
            "30008146",
            "39367703",
            "21436663",
            "188575356",
            "40931019",
            "41468683",
            "40927173",
            "172742915"
          ],
          "id": "9lav5usxfmdc",
          "created_at": "2020-05-18T20:20:27Z",
          "updated_at": "2021-03-09T20:37:46Z",
          "videos_monetized_in_last_thirty_days": 190
        },
        {
          "name": "电子竞技战队",
          "description": "与全球顶级电子竞技战队的节目内容并排投放，覆盖赛事期间的报道及全年其他配套节目。",
          "country_codes": [
            "US"
          ],
          "publisher_user_ids": [
            "759527448757215232",
            "61933836",
            "477213534",
            "907193396049182720",
            "895382891408089089",
            "862708050116976640",
            "115038550",
            "3182089458",
            "4131266472",
            "1145702070961496065",
            "2262070855",
            "920664872786059264",
            "1035653581683220481",
            "14229141",
            "1101275970995027968",
            "20734751",
            "1452520626",
            "720303639277928448",
            "2853641871",
            "912696400571486208",
            "874362688939413504",
            "286505380",
            "892808605170245632",
            "875087838613733376",
            "238431491",
            "867053221940011014",
            "964529942",
            "1172506293174710272",
            "535756639",
            "2255226817",
            "1100825469853696000",
            "1122713320086220803",
            "1124064709295128581",
            "899858978418642944",
            "864977592532688896",
            "864476897106898944",
            "862770685445361665",
            "257268592"
          ],
          "id": "9ys3jz3ktreo",
          "created_at": "2020-10-01T20:02:35Z",
          "updated_at": "2021-03-09T20:36:20Z",
          "videos_monetized_in_last_thirty_days": 169
        },
        {
          "name": "美式橄榄球 ",
          "description": "与每日优质美式橄榄球内容并排投放，涵盖大学球队、职业球队，以及顶级体育媒体账号发布的赛季内外橄榄球视频。",
          "country_codes": [
            "US"
          ],
          "publisher_user_ids": [
            "21790466",
            "53103297",
            "23642374",
            "817416193854283776",
            "43403778",
            "24179879",
            "26813914",
            "36375662",
            "33587536",
            "180884045",
            "16332223",
            "27902825",
            "180503626",
            "44468807",
            "18336787",
            "818431566",
            "22146282",
            "31126587",
            "40358743",
            "35865630",
            "16347506",
            "72665816",
            "33583496",
            "389038362",
            "36155311",
            "227342532",
            "2151130166",
            "26791995",
            "44666348",
            "24109979",
            "31504542",
            "713143",
            "423536031",
            "25545388",
            "59471027",
            "706923475",
            "19383279",
            "8824902",
            "1655877529",
            "18734310",
            "240734425",
            "17076218",
            "47964412",
            "2802184770",
            "19426729",
            "56443153",
            "23508439",
            "25084916",
            "764347046",
            "19853312",
            "348590880"
          ],
          "id": "8tujg1lvi8sn",
          "created_at": "2019-08-15T20:48:51Z",
          "updated_at": "2021-03-09T20:34:13Z",
          "videos_monetized_in_last_thirty_days": 254
        },
        {
          "name": "男性文化 + 生活方式",
          "description": "与一组基于受众画像精心遴选的账号内容毗邻投放，帮助你触达以男性为主的受众，其中包含部分分享科技、新闻与生活方式内容的头部账号。",
          "country_codes": [
            "US"
          ],
          "publisher_user_ids": [
            "17764377",
            "61933836",
            "28370738",
            "3224616765",
            "22819823",
            "18927441",
            "734826612684783616",
            "14372486",
            "7157132",
            "15764136",
            "590316679",
            "7302282",
            "895014043932540928",
            "7517222",
            "3489420013",
            "14063426",
            "72665816",
            "214201922",
            "14980903",
            "22199141",
            "21272440",
            "25319414",
            "119593082",
            "4760694445",
            "765905855195803648",
            "238431491",
            "22178780",
            "241544156",
            "25093616",
            "16877611",
            "22146985",
            "368703433",
            "14342661",
            "415605847",
            "2181233851",
            "890891",
            "15764001",
            "614754689",
            "18479513",
            "23508439",
            "348590880"
          ],
          "id": "8tujj1ep7t34",
          "created_at": "2019-08-15T20:49:47Z",
          "updated_at": "2021-03-09T20:39:00Z",
          "videos_monetized_in_last_thirty_days": 1330
        },
        {
          "name": "女性文化 + 生活方式",
          "description": "与一组基于受众画像精心遴选的账号内容毗邻投放，帮助你触达以女性为主的受众，其中包含部分分享流行文化、新闻与生活方式内容的头部账号。",
          "country_codes": [
            "US"
          ],
          "publisher_user_ids": [
            "23482952",
            "20177423",
            "19074134",
            "15566901",
            "32469566",
            "19784831",
            "16145224",
            "16932962",
            "14934818",
            "29730065",
            "24190981",
            "30278532",
            "15846407",
            "24994219",
            "23993734",
            "40965341",
            "16312576",
            "75094638",
            "549673665",
            "18806753",
            "75306892",
            "1482663290",
            "31181674",
            "971407531972186112",
            "4020532937",
            "25087685",
            "22515362",
            "80943051",
            "19247844",
            "15279429",
            "16824090",
            "20710809",
            "979831113655996416",
            "32432308",
            "19472585",
            "25589776",
            "739963476370673665",
            "20188834",
            "926269727663673349"
          ],
          "id": "8tujl1p3yn0g",
          "created_at": "2019-08-15T20:50:24Z",
          "updated_at": "2021-03-09T20:17:53Z",
          "videos_monetized_in_last_thirty_days": 1365
        },
        {
          "name": "轻松愉悦",
          "description": "与一份精选账号列表并行投放，这些账号在 X 上持续产出积极、令人心情愉快的内容与讨论。",
          "country_codes": [
            "US"
          ],
          "publisher_user_ids": [
            "20177423",
            "22449367",
            "9695312",
            "19074134",
            "4805771380",
            "32469566",
            "1212860112047460352",
            "16402507",
            "16932962",
            "14934818",
            "17446621",
            "29730065",
            "15846407",
            "1604444052",
            "180066380",
            "16312576",
            "549673665",
            "18806753",
            "16211434",
            "545336345",
            "971407531972186112",
            "4020532937",
            "833612154",
            "22515362",
            "20710809",
            "32432308",
            "774311630",
            "3073349892",
            "926269727663673349"
          ],
          "id": "9fg8gmz96qdg",
          "created_at": "2020-03-20T19:37:44Z",
          "updated_at": "2021-03-09T19:57:40Z",
          "videos_monetized_in_last_thirty_days": 1395
        },
        {
          "name": "足球",
          "description": "与日常优质足球内容并行投放，涵盖大学球队、职业球队，以及顶级体育媒体账号发布的重大足球报道。",
          "country_codes": [
            "US"
          ],
          "publisher_user_ids": [
            "21677316",
            "20636347",
            "4704552148",
            "14573900",
            "22556296",
            "1415791555",
            "107146095",
            "17288520",
            "213474069",
            "17493398",
            "44990136",
            "452155423",
            "17744542",
            "16303450",
            "2841146601",
            "2413176055",
            "29739264",
            "38580532",
            "953476292913106945",
            "27092557",
            "86356439",
            "34613288",
            "3170659367",
            "119593082",
            "73412535",
            "627586654",
            "15891449",
            "23011345",
            "96951800",
            "15997022",
            "16960789",
            "21919642",
            "102965285",
            "17224076",
            "36432200",
            "1410055968"
          ],
          "id": "9ddrgesiap6o",
          "created_at": "2020-02-28T22:43:26Z",
          "updated_at": "2021-01-26T17:54:55Z",
          "videos_monetized_in_last_thirty_days": 421
        }
      ],
      "total_count": 9
    }
```

#### GET accounts/:account\_id/curated\_categories/:curated\_category\_id[](#get-accounts-account-id-curated-categories-curated-category-id "Permalink to this headline")

检索指定 `curated_category_id` 的详细信息

每个 `curated_category` 仅在响应中 `country_codes` 指定的特定国家/地区可用。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/curated_categories/:curated_category_id`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 描述 |
| :--- | :--- |
| account\_id  <br />_必填_ | 所使用账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求的必需参数。指定的账户必须与已通过认证的用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| curated\_category\_id  <br />_必填_ | 你在请求中操作的 Curated Category 的引用。<br /><br />类型：string<br /><br />示例：`9ddrgesiap6o` |

**示例请求[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/curated_categories/9ddrgesiap6o`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "id": "9ddrgesiap6o",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "name": "Soccer",
        "description": "Run next to the best of everyday soccer content including college teams, professional teams, and the top sports media handles sharing major soccer coverage.",
        "country_codes": [],
        "publisher_user_ids": [
          "21677316",
          "20636347",
          "4704552148",
          "14573900",
          "22556296",
          "1415791555",
          "107146095",
          "17288520",
          "213474069",
          "17493398",
          "44990136",
          "452155423",
          "17744542",
          "16303450",
          "2841146601",
          "2413176055",
          "29739264",
          "38580532",
          "953476292913106945",
          "27092557",
          "86356439",
          "34613288",
          "3170659367",
          "119593082",
          "73412535",
          "627586654",
          "15891449",
          "23011345",
          "96951800",
          "15997022",
          "16960789",
          "21919642",
          "102965285",
          "17224076",
          "36432200",
          "1410055968"
        ],
        "id": "9ddrgesiap6o",
        "created_at": "2020-02-28T22:43:26Z",
        "updated_at": "2021-01-26T17:54:55Z",
        "videos_monetized_in_last_thirty_days": 421
      }
    }
```

<div id="features">
  ### 功能
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET accounts/:account\_id/features[](#get-accounts-account-id-features "Permalink to this headline")

获取此广告账户可用的已授予功能集合。功能以描述性的功能键表示，且仅当它们作为 Beta 或其他受限发布引入并在 X 广告 API 中可用时，才会在此端点显示。不符合此条件的功能不会在此端点显示。

**注意**：此端点旨在通过提升对客户端 Beta 版本访问情况的可见性，帮助 X 广告 API 生态系统的发展。API 开发者不能代替广告主申请功能访问权限。此类申请只能由广告主向其 X 客户经理提出。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/features`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用账户的标识符。出现在资源路径中，并且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求的必需参数。指定的账户必须与已通过身份验证的用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| feature\_keys  <br />_optional_ | 可选参数，用于按特定功能键查询。请求可包含多个以逗号分隔的键。<br /><br />**注意**：响应中仅包含该账户可访问的功能。<br /><br />Type: enum<br /><br />Possible values: `REACH_AND_FREQUENCY_ANALYTICS`, `REACH_FREQUENCY_CAP`, `WEBSITE_CLICKS_CPM_BILLING` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/features`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t"
        }
      },
      "data": [
        "CITY_TARGETING",
        "CONVERSATION_CARD",
        "PROMOTED_MEDIA_POLLS",
        "REACH_AND_FREQUENCY_ANALYTICS",
        "REACH_FREQUENCY_CAP",
        "UNIVERSAL_LOOKALIKE"
      ]
    }
```

#### POST accounts/:account\_id/features[](#post-accounts-account-id-features "Permalink to this headline")

**仅限 SANDBOX**

向 sandbox 账户添加功能。

可通过 [GET accounts/:account\_id/features](#get-accounts-account-id-features) 端点获取最新的账户功能列表。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api-sandbox.x.com/12/accounts/:account_id/features`

**参数[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求的必需参数。指定的账户必须与已认证的用户关联。<br /><br />Type: string<br /><br />Example: `gq180y` |
| feature\_keys  <br />_required_ | 要添加到账户的、以逗号分隔的账户功能列表。<br /><br />Type: enum<br /><br />Possible values: `AGE_TARGETING`, `ALLOW_SKIPPABLE_VIDEOS_FOR_PREROLL_VIEWS_OBJECTIVE`, `AWARENESS_OBJECTIVE`, `BRAND_TPN`, `CHARGE_FOR_GOOD_CLICK`, `CONVERSATION_CARD`, `CONVERSATION_CARD_FOUR_OPTIONS`, `CONVERSATION_CARD_UNLOCK`, `CPI_CHARGING`, `DIRECT_MESSAGE_CARD`, `DR_TAP`, `ENGAGER_RETARGETING`, `EVENT_TARGETING`, `INSTALLED_APP_CATEGORY_TARGETING`, `MOBILE_CONVERSION_TRANSACTION_VALUE`, `OPTIMIZED_ACTION_BIDDING`, `REACH_AND_FREQUENCY_ANALYTICS`, `REACH_FREQUENCY_CAP`, `VALIDATED_AGE_TARGETING`, `VIDEO_VIEWS_MIDROLL_OBJECTIVE`, `PREROLL_VIEWS_OBJECTIVE`, `VIDEO_APP_DOWNLOAD_CARD` |

**示例请求[](#example-request "Permalink to this headline")**

`POST https://ads-api-sandbox.x.com/12/accounts/gq180y/features?feature_keys=VALIDATED_AGE_TARGETING`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "account_id": "gq180y",
          "feature_keys": [
            "VALIDATED_AGE_TARGETING"
          ]
        }
      },
      "data": [
        "ALLOW_SKIPPABLE_VIDEOS_FOR_PREROLL_VIEWS_OBJECTIVE",
        "AWARENESS_OBJECTIVE",
        "CPI_CHARGING",
        "EVENT_TARGETING",
        "INSTALLED_APP_CATEGORY_TARGETING",
        "MOBILE_CONVERSION_TRANSACTION_VALUE",
        "OPTIMIZED_ACTION_BIDDING",
        "VALIDATED_AGE_TARGETING",
        "VIDEO_APP_DOWNLOAD_CARD"
      ]
    }
```

#### DELETE accounts/:account\_id/features[](#delete-accounts-account-id-features "跳转到此标题的永久链接")

**仅限 SANDBOX**

从沙盒帐户中移除某项功能。

最新的帐户功能列表可通过 [GET accounts/:account\_id/features](#get-accounts-account-id-features) 端点获取。

**资源 URL[](#resource-url "跳转到此标题的永久链接")**

`https://ads-api-sandbox.x.com/12/accounts/:account_id/features`

**参数[](#parameters "跳转到此标题的永久链接")**

| 名称 | 描述 |
| :--- | :--- |
| account\_id  <br />_必填_ | 目标帐户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求的必填参数。指定的帐户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`gq180y` |
| feature\_keys  <br />_必填_ | 以逗号分隔的要从该帐户移除的功能列表。<br /><br />类型：enum<br /><br />可能的取值：`AGE_TARGETING`, `ALLOW_SKIPPABLE_VIDEOS_FOR_PREROLL_VIEWS_OBJECTIVE`, `AWARENESS_OBJECTIVE`, `BRAND_TPN`, `CHARGE_FOR_GOOD_CLICK`, `CONVERSATION_CARD`, `CONVERSATION_CARD_FOUR_OPTIONS`, `CONVERSATION_CARD_UNLOCK`, `CPI_CHARGING`, `DIRECT_MESSAGE_CARD`, `DR_TAP`, `ENGAGER_RETARGETING`, `EVENT_TARGETING`, `INSTALLED_APP_CATEGORY_TARGETING`, `MOBILE_CONVERSION_TRANSACTION_VALUE`, `OPTIMIZED_ACTION_BIDDING`, `REACH_AND_FREQUENCY_ANALYTICS`, `REACH_FREQUENCY_CAP`, `VALIDATED_AGE_TARGETING`, `VIDEO_VIEWS_MIDROLL_OBJECTIVE`, `PREROLL_VIEWS_OBJECTIVE`, `VIDEO_APP_DOWNLOAD_CARD` |

**示例请求[](#example-request "跳转到此标题的永久链接")**

`DELETE https://ads-api-sandbox.x.com/12/accounts/gq180y/features?feature_keys=PREROLL_VIEWS_OBJECTIVE`

**示例响应[](#example-response "跳转到此标题的永久链接")**

```json
    {
      "request": {
        "params": {
          "account_id": "gq180y",
          "feature_keys": [
            "PREROLL_VIEWS_OBJECTIVE"
          ]
        }
      },
      "data": [
        "CPI_CHARGING",
        "EVENT_TARGETING",
        "INSTALLED_APP_CATEGORY_TARGETING",
        "MOBILE_CONVERSION_TRANSACTION_VALUE",
        "OPTIMIZED_ACTION_BIDDING",
        "VIDEO_APP_DOWNLOAD_CARD"
      ]
    }
```

<div id="funding-instruments">
  ### 资金工具
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET accounts/:account\_id/funding\_instruments[](#get-accounts-account-id-funding-instruments "Permalink to this headline")

检索与当前账户关联的部分或全部资金工具的详细信息。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/funding_instruments`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 该借用账户的标识符。出现在资源路径中，并且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求必需的参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| count  <br />_optional_ | 指定每个请求尝试检索的记录数。<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 指定用于获取下一页结果的游标。更多信息请参阅 [Pagination](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `8x7v00oow` |
| funding\_instrument\_ids  <br />_optional_ | 通过提供以逗号分隔的标识符列表，将响应限定为所需的资金工具。最多可提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `lygyi` |
| sort\_by  <br />_optional_ | 按受支持的属性进行升序或降序排序。更多信息请参阅 [Sorting](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `created_at-asc` |
| with\_deleted  <br />_optional_ | 在响应中包含已删除的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |
| with\_total\_count  <br />_optional_ | 在响应中包含 `total_count` 属性。<br /><br />**Note**: 此参数与 `cursor` 互斥。<br /><br />**Note**: 包含 `total_count` 的请求将具有较低的速率限制，目前设为每 15 分钟 200 次。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/funding_instruments`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "start_time": "2016-07-22T04:24:04Z",
          "description": "Visa ending in 0650",
          "credit_limit_local_micro": 200000000,
          "end_time": null,
          "id": "lygyi",
          "entity_status": "ACTIVE",
          "account_id": "18ce54d4x5t",
          "reasons_not_able_to_fund": [],
          "io_header": null,
          "currency": "USD",
          "funded_amount_local_micro": 645940000,
          "created_at": "2016-07-22T04:24:04Z",
          "type": "CREDIT_CARD",
          "able_to_fund": true,
          "updated_at": "2017-04-05T00:25:13Z",
          "credit_remaining_local_micro": null,
          "deleted": false
        }
      ]
    }
```

#### GET accounts/:account\_id/funding\_instruments/:funding\_instrument\_id[](#get-accounts-account-id-funding-instruments-funding-instrument-id "Permalink to this headline")

检索与当前账户关联的指定资金工具。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/funding_instruments/:id`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被操作账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有广告主 API 请求的必填参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| funding\_instrument\_id  <br />_required_ | 此请求中所操作的资金工具的引用。<br /><br />Type: string<br /><br />Example: `lygyi` |
| with\_deleted  <br />_optional_ | 是否在结果中包含已删除项。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/funding_instruments/lygyi`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "funding_instrument_id": "lygyi",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "start_time": "2016-07-22T04:24:04Z",
        "description": "Visa ending in 0650",
        "credit_limit_local_micro": 200000000,
        "end_time": null,
        "id": "lygyi",
        "entity_status": "ACTIVE",
        "account_id": "18ce54d4x5t",
        "reasons_not_able_to_fund": [],
        "io_header": null,
        "currency": "USD",
        "funded_amount_local_micro": 645940000,
        "created_at": "2016-07-22T04:24:04Z",
        "type": "CREDIT_CARD",
        "able_to_fund": true,
        "updated_at": "2017-04-05T00:25:13Z",
        "credit_remaining_local_micro": null,
        "deleted": false
      }
    }
```

#### POST accounts/:account\_id/funding\_instruments[](#post-accounts-account-id-funding-instruments "Permalink to this headline")

**仅限 SANDBOX**

在 sandbox 环境中创建资金工具。

使用 sandbox 资金工具不会产生费用风险。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api-sandbox.x.com/12/accounts/:account_id/funding_instruments`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被使用账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求的必填参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`gq1844` |
| currency  <br />_必填_ | 货币，遵循 [ISO-4217](https://en.wikipedia.org/wiki/ISO_4217) 标准。<br /><br />类型：string<br /><br />示例：`USD` |
| start\_time  <br />_必填_ | 资金工具开始生效并可用的日期，采用 [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) 格式。<br /><br />类型：string<br /><br />示例：`2017-05-19T07:00:00Z` |
| type  <br />_必填_ | 要创建的资金工具类型。<br /><br />类型：enum<br /><br />可选值：`AGENCY_CREDIT_LINE`、`CREDIT_CARD`、`CREDIT_LINE`、`INSERTION_ORDER`、`PARTNER_MANAGED` |
| end\_time  <br />_视情况必填_ | 资金工具停止生效的日期，采用 [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) 格式。<br /><br />类型：string<br /><br />示例：`2017-05-26T07:00:00Z` |
| credit\_limit\_local\_micro  <br />_可选_ | 此资金工具可用的总信用额度。<br /><br />**注意**：仅适用于部分资金工具类型。<br /><br />类型：long<br /><br />示例：`37500000` |
| funded\_amount\_local\_micro  <br />_可选_ | 分配给此资金工具的总预算金额。<br /><br />**注意**：仅适用于部分资金工具类型。<br /><br />类型：long<br /><br />示例：`37500000` |

**示例请求[](#example-request "Permalink to this headline")**

`POST https://ads-api-sandbox.x.com/12/accounts/gq1844/funding_instruments?currency=USD&start_time=2017-07-10T00:00:00Z&type=INSERTION_ORDER&end_time=2018-01-10T00:00:00Z&funded_amount_local_micro=140000000000`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "data": {
        "start_time": "2017-07-10T00:00:00Z",
        "description": "(no payment method has been set up yet)",
        "credit_limit_local_micro": null,
        "end_time": "2018-01-10T00:00:00Z",
        "id": "hxtet",
        "entity_status": "ACTIVE",
        "account_id": "gq1844",
        "reasons_not_able_to_fund": [],
        "io_header": null,
        "currency": "USD",
        "funded_amount_local_micro": 140000000000,
        "created_at": "2017-09-09T05:23:28Z",
        "type": "INSERTION_ORDER",
        "able_to_fund": true,
        "updated_at": "2017-09-09T05:23:28Z",
        "credit_remaining_local_micro": null,
        "deleted": false
      },
      "request": {
        "params": {
          "start_time": "2017-07-10T00:00:00Z",
          "end_time": "2018-01-10T00:00:00Z",
          "account_id": "gq1844",
          "currency": "USD",
          "funded_amount_local_micro": 140000000000,
          "type": "INSERTION_ORDER"
        }
      }
    }
```

#### DELETE accounts/:account\_id/funding\_instruments/:funding\_instrument\_id[](#delete-accounts-account-id-funding-instruments-funding-instrument-id "固定链接至此标题")

**仅限 SANDBOX**

在 sandbox 环境中删除一条资金工具。

**资源 URL[](#resource-url "固定链接至此标题")**

`https://ads-api-sandbox.x.com/12/accounts/:account_id/funding_instruments/:funding_instrument_id`

**参数[](#parameters "固定链接至此标题")**

| 名称 | 描述 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被使用的账户标识符。出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求的必填参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`gq1844` |
| funding\_instrument\_id  <br />_必填_ | 本次请求中要操作的资金工具标识。<br /><br />类型：string<br /><br />示例：`hxt82` |

**示例请求[](#example-request "固定链接至此标题")**

`DELETE https://ads-api-sandbox.x.com/12/accounts/gq1844/funding_instruments/hxt82`

**示例响应[](#example-response "固定链接至此标题")**

```json
    {
      "data": {
        "start_time": "2017-08-30T19:23:47Z",
        "description": "(no payment method has been set up yet)",
        "credit_limit_local_micro": 500000000,
        "end_time": null,
        "id": "hxt82",
        "entity_status": "ACTIVE",
        "account_id": "gq1844",
        "reasons_not_able_to_fund": [
          "DELETED"
        ],
        "io_header": null,
        "currency": "USD",
        "funded_amount_local_micro": null,
        "created_at": "2017-08-30T19:23:47Z",
        "type": "CREDIT_CARD",
        "able_to_fund": false,
        "updated_at": "2017-09-09T02:08:30Z",
        "credit_remaining_local_micro": null,
        "deleted": true
      },
      "request": {
        "params": {
          "funding_instrument_id": "hxt82",
          "account_id": "gq1844"
        }
      }
    }
```

<div id="iab-categories">
  ### IAB 分类
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET iab\_categories[](#get-iab-categories "Permalink to this headline")

请求广告组（`line_items`）可用的有效应用 `categories`。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/iab_categories`

**参数[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| count  <br />_optional_ | 指定每个请求尝试检索的记录数。<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 指定用于获取下一页类别的游标。更多信息参见 [Pagination](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `gc-ddf4a` |
| with\_total\_count  <br />_optional_ | 是否在响应中包含 `total_count` 属性。<br /><br />**注意**：此参数与 `cursor` 互斥。<br /><br />**注意**：包含 `total_count` 的请求具有更低的速率限制，目前为每 15 分钟 200 次。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**示例请求[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/iab_categories?count=2`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "data": [
        {
          "id": "IAB1",
          "parent_id": null,
          "name": "Arts & Entertainment"
        },
        {
          "id": "IAB1-1",
          "parent_id": "IAB1",
          "name": "Books & Literature"
        }
      ],
      "next_cursor": "uxa8",
      "request": {
        "params": {
          "count": 2
        }
      }
    }
```

<div id="line-items">
  ### 项目项
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET accounts/:account\_id/line\_items[](#get-accounts-account-id-line-items "Permalink to this headline")

检索与当前账户关联的部分或全部广告行项（line item）的详细信息。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/line_items`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被操作账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求的必需参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| campaign\_ids  <br />_optional_ | 通过指定以逗号分隔的标识符列表，将响应限定为特定广告系列下的广告行项。最多可提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `8gdx6` |
| count  <br />_optional_ | 指定每次请求尝试检索的记录数。<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 指定用于获取下一页结果的游标。更多信息参见 [Pagination](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `8x7v00oow` |
| funding\_instrument\_ids  <br />_optional_ | 通过指定以逗号分隔的标识符列表，将响应限定为特定资金工具下的广告行项。最多可提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `lygyi` |
| line\_item\_ids  <br />_optional_ | 通过指定以逗号分隔的标识符列表，将响应限定为所需的广告行项。最多可提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `8v7jo` |
| q  <br />_optional_ | 可选查询，用于按 `name` 过滤资源。<br /><br />Type: string<br /><br />Min, Max length: `1`, `255` |
| sort\_by  <br />_optional_ | 按受支持的属性进行升序或降序排序。更多信息参见 [Sorting](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `created_at-asc` |
| with\_deleted  <br />_optional_ | 在请求中包含已删除的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |
| with\_draft  <br />_optional_ | 在请求中包含草稿广告系列的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |
| with\_total\_count  <br />_optional_ | 在响应中包含 `total_count` 属性。<br /><br />**Note**: 此参数与 `cursor` 互斥。<br /><br />**Note**: 包含 `total_count` 的请求会有更低的速率限制，目前为每 15 分钟 200 次。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/line_items?line_item_ids=itttx`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "line_item_ids": [
            "itttx"
          ]
        }
      },
      "next_cursor": null,
      "data": [
        {
          "advertiser_user_id": "756201191646691328",
          "name": "li-18",
          "placements": [
            "ALL_ON_TWITTER"
          ],
          "start_time": "2021-02-16T00:00:00Z",
          "bid_amount_local_micro": 320000,
          "advertiser_domain": null,
          "target_cpa_local_micro": null,
          "primary_web_event_tag": null,
          "goal": "ENGAGEMENT",
          "daily_budget_amount_local_micro": null,
          "product_type": "PROMOTED_TWEETS",
          "end_time": null,
          "funding_instrument_id": "lygyi",
          "bid_strategy": "MAX",
          "duration_in_days": null,
          "standard_delivery": null,
          "total_budget_amount_local_micro": null,
          "objective": "ENGAGEMENTS",
          "id": "itttx",
          "entity_status": "PAUSED",
          "automatic_tweet_promotion": null,
          "frequency_cap": null,
          "android_app_store_identifier": null,
          "categories": [],
          "currency": "USD",
          "pay_by": "ENGAGEMENT",
          "created_at": "2021-02-23T23:37:54Z",
          "ios_app_store_identifier": null,
          "updated_at": "2022-06-01T02:01:18Z",
          "campaign_id": "f4z6x",
          "creative_source": "MANUAL",
          "deleted": false
        }
      ]
    }
```

#### GET accounts/:account\_id/line\_items/:line\_item\_id[](#get-accounts-account-id-line-items-line-item-id "Permalink to this headline")

检索与当前账户关联的特定订单项（line item）。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/line_items/:line_item_id`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用的账户标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求的必需参数。指定的账户必须与已认证的用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| line\_item\_id  <br />_required_ | 请求中所操作的订单项（line item）的标识符。<br /><br />Type: string<br /><br />Example: `8v7jo` |
| with\_deleted  <br />_optional_ | 是否在结果中包含已删除项。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/line_items/itttx`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "line_item_id": "itttx",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "advertiser_user_id": "756201191646691328",
        "name": "li-18",
        "placements": [
          "ALL_ON_TWITTER"
        ],
        "start_time": "2021-02-16T00:00:00Z",
        "bid_amount_local_micro": 320000,
        "advertiser_domain": null,
        "target_cpa_local_micro": null,
        "primary_web_event_tag": null,
        "goal": "ENGAGEMENT",
        "daily_budget_amount_local_micro": null,
        "product_type": "PROMOTED_TWEETS",
        "end_time": null,
        "funding_instrument_id": "lygyi",
        "bid_strategy": "MAX",
        "duration_in_days": null,
        "standard_delivery": null,
        "total_budget_amount_local_micro": null,
        "objective": "ENGAGEMENTS",
        "id": "itttx",
        "entity_status": "PAUSED",
        "automatic_tweet_promotion": null,
        "frequency_cap": null,
        "android_app_store_identifier": null,
        "categories": [],
        "currency": "USD",
        "pay_by": "ENGAGEMENT",
        "created_at": "2021-02-23T23:37:54Z",
        "ios_app_store_identifier": null,
        "updated_at": "2022-06-01T02:01:18Z",
        "campaign_id": "f4z6x",
        "creative_source": "MANUAL",
        "deleted": false
      }
    }
```

#### POST accounts/:account\_id/line\_items[](#post-accounts-account-id-line-items "Permalink to this headline")

创建一个与当前账户下指定广告系列关联的 line item（广告项目）。

同一广告系列中的所有 line item 必须具有相同的 `product_type` 和 `objective`。

当使用 `PROMOTED_ACCOUNT` 产品类型时，将 Tweet 与该 `line_item` 关联，除了标准的 `PROMOTED_ACCOUNT` 投放位置外，还会在移动端时间线中新增投放位置。

设置 `android_app_store_identifier` 或 `ios_app_store_identifier` 任一字段，将自动为该 line item 添加与所推广移动应用匹配的定向条件；例如，传入 `ios_app_store_identifier` 会为 `iOS` 添加 `PLATFORM` [定向条件](/zh/x-ads-api/campaign-management#targeting-options)。

**注意**：每个广告系列最多 100 个 line item，且跨所有广告系列最多 256 个活跃 line item。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/line_items`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被使用账户的标识符。出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有广告主 API 请求的必需参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| campaign\_id  <br />_必填_ | 将在其下创建此投放单的广告系列标识符。<br /><br />类型：string<br /><br />示例：`8slvg` |
| end\_time  <br />_必填_ | 此投放单停止投放的时间，采用 [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) 格式。<br /><br />类型：string<br /><br />示例：`2017-10-05T00:00:00Z` |
| objective  <br />_必填_ | 此投放单的广告系列目标。<br /><br />类型：enum<br /><br />可能的取值：`APP_ENGAGEMENTS`、`APP_INSTALLS`、`REACH`、`FOLLOWERS`、`ENGAGEMENTS`、`VIDEO_VIEWS`、`PREROLL_VIEWS`、`WEBSITE_CLICKS` |
| placements  <br />_必填_ | 此投放单的投放位置。请指定以逗号分隔的投放位置取值列表。<br /><br />类型：enum<br /><br />可能的取值：`ALL_ON_TWITTER`、`PUBLISHER_NETWORK`、`TAP_BANNER`、`TAP_FULL`、`TAP_FULL_LANDSCAPE`、`TAP_NATIVE`、`TAP_MRECT`、`TWITTER_PROFILE`、`TWITTER_REPLIES`、`TWITTER_SEARCH`、`TWITTER_TIMELINE` |
| product\_type  <br />_必填_ | 此投放单包含的推广产品类型。<br /><br />类型：enum<br /><br />可能的取值：`MEDIA`、`PROMOTED_ACCOUNT`、`PROMOTED_TWEETS` |
| start\_time  <br />_必填_ | 此投放单开始投放的时间，采用 [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) 格式。<br /><br />类型：string<br /><br />示例：`2017-07-05T00:00:00Z` |
| advertiser\_domain  <br />_有时必填_ | 此广告主的网站域名，不包含协议。<br /><br />**注意**：当投放单的投放位置设为 `PUBLISHER_NETWORK` 时必填。<br /><br />类型：string<br /><br />示例：`x.com` |
| android\_app\_store\_identifier  <br />_有时必填_ | 推广应用的 Google 应用商店标识符。<br /><br />**注意**：`APP_INSTALLS` 和 `APP_ENGAGEMENTS` 目标要求至少设置一个应用商店标识符——`android_app_store_identifier` 或 `ios_app_store_identifier` 之一。<br /><br />类型：string<br /><br />示例：`com.twitter.android` |
| bid\_amount\_local\_micro  <br />_有时必填_ | 与此投放单关联的出价金额。将使用指定资金工具对应的货币。以 USD 为例，$5.50 表示为 5500000。<br /><br />**注意**：当 `bid_strategy` 设为 `MAX` 或 `TARGET` 时必填。<br /><br />**注意**：仅接受大于零的数值。<br /><br />类型：long<br /><br />示例：`5500000` |
| categories  <br />_有时必填_ | 此广告主的相关 IAB 分类。参见 [GET iab\_categories](/zh/x-ads-api/campaign-management#iab-categories)。<br /><br />**注意**：当投放单的投放位置设为 `PUBLISHER_NETWORK` 时必填。<br /><br />类型：string<br /><br />示例：`IAB3-1` |
| ios\_app\_store\_identifier  <br />_有时必填_ | 推广应用在 Apple 应用商店标识符中的数字部分。<br /><br />**注意**：`APP_INSTALLS` 和 `APP_ENGAGEMENTS` 目标要求至少设置一个应用商店标识符——`android_app_store_identifier` 或 `ios_app_store_identifier` 之一。<br /><br />类型：string<br /><br />示例：`333903271` |
| primary\_web\_event\_tag  <br />_sometimes required_ | 主要网页事件标签的标识符。用于更准确地跟踪与此广告项相关的广告系列互动。<br /><br />**注意**：当该广告项的目标设置为 `WEBSITE_CONVERSIONS` 时必填。<br /><br />类型：string<br /><br />示例：`nvo4z` |
| advertiser\_user\_id  <br />_optional_ | 用于投放 `PREROLL_VIEWS` 广告的账号所对应的 X 用户标识符。仅特定客户端应用可使用此参数。<br /><br />类型：string<br /><br />示例：`312226591` |
| audience\_expansion  <br />_optional_ | 通过定向与已定向用户相似的用户来扩展广告系列的触达范围。<br /><br />**注意**：默认不进行扩展。<br /><br />类型：enum<br /><br />可能的取值：`BROAD`、`DEFINED`、`EXPANDED` |
| bid\_strategy  <br />_optional_ | 出价策略。<br /><br />`AUTO` 将基于每日预算与广告系列投放日期自动优化出价。<br /><br />`MAX` 设定允许的最高出价，当目标为 `REACH` 或 `FOLLOWERS` 时**不可用**。<br /><br />`TARGET` 尝试使每日平均出价在指定的 `bid_amount_local_micro` 的±20%范围内，当目标为 `REACH`、`FOLLOWERS` 或 `WEBSITE_CLICKS` 时可用。<br /><br />**注意**：若设为 `AUTO`，将忽略 `bid_amount_local_micro`。<br /><br />**注意**：默认值取决于目标。<br /><br />类型：enum<br /><br />可能的取值：`AUTO`、`MAX`、`TARGET` |
| duration\_in\_days  <br />_optional_ | 达到 `frequency_cap` 的时间周期。<br /><br />类型：int<br /><br />可能的取值：`1`、`7`、`30` |
| entity\_status  <br />_optional_ | 广告项状态。<br /><br />类型：enum<br /><br />默认值：`ACTIVE`  <br />可能的取值：`ACTIVE`、`DRAFT`、`PAUSED` |
| frequency\_cap  <br />_optional_ | 向同一用户投放广告的最大次数。<br /><br />**注意**：仅支持目标为 `REACH`、`ENGAGEMENTS`、`VIDEO_VIEWS` 和 `PREROLL_VIEWS`。<br /><br />类型：int<br /><br />示例：`5` |
| goal  <br />_optional_ | 此广告项的优化设置。<br /><br />`APP_PURCHASES` 选项适用于 `APP_INSTALL`。`APP_CLICKS` 和 `APP_INSTALLS` 选项适用于 `APP_INSTALL` 与 `APP_ENGAGEMENTS` 两种目标，并且可能需要使用受支持的 [MACT 合作伙伴](https://business.x.com/en/help/campaign-setup/create-an-app-installs-or-app-engagement-campaign/mobile-app-conversion-tracking.html)。<br /><br />`SITE_VISITS` 选项仅在 `WEBSITE_CLICKS` 目标下可用。<br /><br />**注意**：默认值取决于目标。<br /><br />类型：enum<br /><br />可能的取值：`APP_CLICKS`、`APP_INSTALLS`、`APP_PURCHASES`、`ENGAGEMENT`、`FOLLOWERS`、`LINK_CLICKS`、`MAX_REACH`、`PREROLL`、`PREROLL_STARTS`、`REACH_WITH_ENGAGEMENT`、`SITE_VISITS`、`VIDEO_VIEW`、`VIEW_3S_100PCT`、`VIEW_6S`、`VIEW_15S`、`WEBSITE_CONVERSIONS` |
| name  <br />_optional_ | 广告项名称。<br /><br />类型：string<br /><br />示例：`demo`<br /><br />最小/最大长度：`1`、`255` |
| pay\_by  <br />_可选_ | 该明细项的计费单位。此设置仅可对使用 `APP_INSTALLS` 目标的明细项进行修改。<br /><br />**注意**：默认的 `pay_by` 会根据广告系列目标和明细项的出价单位自动确定。<br /><br />`APP_INSTALLS` 目标支持 `APP_CLICK` 和 `IMPRESSION` 两种取值，默认值为 `IMPRESSION`。<br /><br />`LINK_CLICKS` 目标支持 `LINK_CLICK` 和 `IMPRESSION` 两种取值，默认值为 `IMPRESSION`，但当 `bid_strategy` 设置为 `TARGET` 时不支持。<br /><br />`SITE_VISITS` 目标支持 `IMPRESSION` 取值。<br /><br />类型：枚举<br /><br />可能的取值：`APP_CLICK`、`IMPRESSION`、`LINK_CLICK` |
| standard\_delivery  <br />_可选_ | 启用标准或加速投放。有关两者的更多信息，请参阅[预算节奏](/zh/x-ads-api/campaign-management#budget-pacing)。仅当父级广告系列的 `budget_optimization` 设置为 `LINE_ITEM` 时可用。<br /><br />类型：布尔值<br /><br />默认值：`true`  <br />可能的取值：`true`、`false` |
| total\_budget\_amount\_local\_micro  <br />_可选_ | 分配给该明细项的总预算金额。将使用与指定资金工具关联的货币。以美元为例，$37.50 表示为 37500000。<br /><br />类型：long<br /><br />示例：`37500000` |
| daily\_budget\_amount\_local\_micro  <br />_有时必填_ | 分配给该广告系列的每日预算金额。将使用与指定资金工具关联的货币。以美元为例，$5.50 表示为 5500000。未提供时，广告系列将根据总预算在投放期内均匀消耗。仅当父级广告系列的 `budget_optimization` 设置为 `LINE_ITEM` 时可用。<br /><br />**注意**：此值应小于或等于 `total_budget_amount_local_micro`。<br /><br />类型：long<br /><br />示例：`5500000` |

**示例请求[](#example-request "Permalink to this headline")**

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/line_items?campaign_id=hwtq0&objective=ENGAGEMENTS&product_type=PROMOTED_TWEETS&placements=ALL_ON_TWITTER&bid_amount_local_micro=3210000&entity_status=PAUSED&daily_budget_amount_local_micro=1000000&start_time=2022-06-15`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "placements": [
            "ALL_ON_TWITTER"
          ],
          "start_time": "2022-06-15T00:00:00Z",
          "bid_amount_local_micro": 3210000,
          "daily_budget_amount_local_micro": 1000000,
          "product_type": "PROMOTED_TWEETS",
          "objective": "ENGAGEMENTS",
          "entity_status": "PAUSED",
          "account_id": "18ce54d4x5t",
          "campaign_id": "hwtq0"
        }
      },
      "data": {
        "advertiser_user_id": "756201191646691328",
        "name": null,
        "placements": [
          "ALL_ON_TWITTER"
        ],
        "start_time": "2022-06-15T00:00:00Z",
        "bid_amount_local_micro": 3210000,
        "advertiser_domain": null,
        "target_cpa_local_micro": null,
        "primary_web_event_tag": null,
        "goal": "ENGAGEMENT",
        "daily_budget_amount_local_micro": 1000000,
        "product_type": "PROMOTED_TWEETS",
        "end_time": null,
        "bid_strategy": "MAX",
        "duration_in_days": null,
        "standard_delivery": true,
        "total_budget_amount_local_micro": null,
        "objective": "ENGAGEMENTS",
        "id": "ml5vs",
        "entity_status": "PAUSED",
        "automatic_tweet_promotion": null,
        "frequency_cap": null,
        "android_app_store_identifier": null,
        "categories": [],
        "currency": "USD",
        "pay_by": "ENGAGEMENT",
        "created_at": "2022-06-03T23:47:20Z",
        "ios_app_store_identifier": null,
        "updated_at": "2022-06-03T23:47:20Z",
        "campaign_id": "hwtq0",
        "creative_source": "MANUAL",
        "deleted": false
      }
    }
```

#### POST batch/accounts/:account\_id/line\_items[](#post-batch-accounts-account-id-line-items "Permalink to this headline")

允许使用单个请求批量创建新的[广告单元](#post-accounts-account-id-line-items)。

**批量请求**

- 当前最大批量大小为 40。
- 所有参数都通过请求正文发送，并且需要将 `Content-Type` 设为 `application/json`。
- 批量请求作为一个整体一并成功或失败，且无论错误还是成功，所有 API 响应都会保留初始请求中的项目顺序。

**批量响应**

批量 API 响应返回一个有序的项目集合。除此之外，其结构与对应的单项目端点相同。

**批量错误**

- 请求级错误（例如超出最大批量大小）会在响应中的 `errors` 对象下显示。
- 项目级错误（例如缺少必填的广告单元参数）会在响应中的 `operation_errors` 对象下显示。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/batch/accounts/:account_id/line_items`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 描述 |
| :--- | :--- |
| operation\_type  <br />_必填_ | 针对每个项目执行的操作类型。<br /><br />类型：枚举<br /><br />可选值：`Create`、`Delete`、`Update` |
| params  <br />_必填_ | 一个包含广告单元对象所有参数的 JSON 对象。有关广告单元必填与可选参数列表，请参见[此处](#post-accounts-account-id-line-items)。 |

**示例请求[](#example-request "Permalink to this headline")**

`POST 'Content-Type: application/json' https://ads-api.x.com/12/batch/accounts/18ce54d4x5t/line_items`

```json
    [
      {
        "operation_type":"Create",
        "params":{
          "campaign_id":"8yn7m",
          "objective":"ENGAGEMENTS",
          "product_type":"PROMOTED_TWEETS",
          "placements":"ALL_ON_TWITTER",
          "bid_amount_local_micro":3210000,
          "entity_status":"PAUSED"
        }
      }
    ]
```

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "data": [
        {
          "advertiser_user_id": "756201191646691328",
          "name": null,
          "placements": [
            "ALL_ON_TWITTER"
          ],
          "start_time": null,
          "bid_amount_local_micro": 3210000,
          "advertiser_domain": null,
          "target_cpa_local_micro": null,
          "primary_web_event_tag": null,
          "goal": "ENGAGEMENT",
          "daily_budget_amount_local_micro": null,
          "product_type": "PROMOTED_TWEETS",
          "end_time": null,
          "funding_instrument_id": "lygyi",
          "bid_strategy": "MAX",
          "duration_in_days": null,
          "standard_delivery": null,
          "total_budget_amount_local_micro": null,
          "objective": "ENGAGEMENTS",
          "id": "9cqi0",
          "entity_status": "PAUSED",
          "automatic_tweet_promotion": null,
          "frequency_cap": null,
          "android_app_store_identifier": null,
          "categories": [],
          "currency": "USD",
          "pay_by": "ENGAGEMENT",
          "created_at": "2017-07-07T17:42:20Z",
          "ios_app_store_identifier": null,
          "updated_at": "2017-07-07T17:42:20Z",
          "campaign_id": "8yn7m",
          "creative_source": "MANUAL",
          "deleted": false
        }
      ],
      "request": [
        {
          "params": {
            "placements": [
              "ALL_ON_TWITTER"
            ],
            "bid_amount_local_micro": 3210000,
            "product_type": "PROMOTED_TWEETS",
            "objective": "ENGAGEMENTS",
            "entity_status": "PAUSED",
            "account_id": "18ce54d4x5t",
            "campaign_id": "8yn7m"
          },
          "operation_type": "Create"
        }
      ]
    }
```

#### PUT accounts/:account\_id/line\_items/:line\_item\_id[](#put-accounts-account-id-line-items-line-item-id "Permalink to this headline")

更新当前账户下的指定广告单元。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/line_items/:line_item_id`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被使用账户的标识符。出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有广告主 API 请求的必需参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| line\_item\_id  <br />_必填_ | 你在请求中所操作的线项引用。<br /><br />类型：string<br /><br />示例：`8v7jo` |
| advertiser\_domain  <br />_可选_ | 此广告主的网站域名，不含协议。<br /><br />**注意**：当线项的投放位置设为 `PUBLISHER_NETWORK` 时必填。<br /><br />类型：string<br /><br />示例：`x.com` |
| advertiser\_user\_id  <br />_可选_ | 用于投放 `PREROLL_VIEWS` 广告的账号对应的 Twitter 用户标识符。仅特定客户端应用可使用此参数。<br /><br />类型：string<br /><br />示例：`312226591` |
| android\_app\_store\_identifier  <br />_可选_ | 被推广应用在 Google 应用商店中的标识符。<br /><br />**注意**：`APP_INSTALLS` 和 `APP_ENGAGEMENTS` 目标需至少设置一个应用商店标识符（`android_app_store_identifier` 或 `ios_app_store_identifier`）。<br /><br />类型：string<br /><br />示例：`com.twitter.android` |
| audience\_expansion  <br />_可选_ | 通过定向与已定向用户相似的人群来扩大投放触达。<br /><br />类型：enum<br /><br />可选值：`BROAD`、`DEFINED`、`EXPANDED` |
| bid\_amount\_local\_micro  <br />_可选_ | 与此线项关联的出价金额。将使用指定资金工具所对应的货币。对于美元，$5.50 表示为 5500000。<br /><br />**注意**：当 `bid_strategy` 设为 `MAX` 或 `TARGET` 时必填。<br /><br />**注意**：仅接受大于零的数值。<br /><br />类型：long<br /><br />示例：`140000` |
| bid\_strategy  <br />_可选_ | 竞价机制。<br /><br />`AUTO` 会基于每日预算和广告系列投放日期自动优化出价。<br /><br />`MAX` 用于设定允许的最高出价，且在目标设为 `REACH` 或 `FOLLOWERS` 时**不可用**。<br /><br />`TARGET` 尝试使每日平均出价在指定 `bid_amount_local_micro` 的 20% 以内，并在目标设为 `REACH` 或 `WEBSITE_CLICKS` 时可用。<br /><br />**注意**：若设为 `AUTO`，将忽略 `bid_amount_local_micro`。<br /><br />**注意**：默认值取决于目标。<br /><br />类型：enum<br /><br />可选值：`AUTO`、`MAX`、`TARGET` |
| categories  <br />_可选_ | 与该广告主相关的 IAB 类别。参见 [GET iab\_categories](/zh/x-ads-api/campaign-management#iab-categories)。<br /><br />**注意**：当线项的投放位置设为 `PUBLISHER_NETWORK` 时必填。<br /><br />类型：string<br /><br />示例：`IAB3-1` |
| duration\_in\_days  <br />_可选_ | 达到 `frequency_cap` 的时间周期（天）。<br /><br />类型：int<br /><br />可选值：`1`、`7`、`30` |
| entity\_status  <br />_可选_ | 线项状态。<br /><br />类型：enum<br /><br />可选值：`ACTIVE`、`PAUSED` |
| end\_time  <br />_可选_ | 线项停止投放的时间，采用 [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) 格式表示。<br /><br />类型：string<br /><br />示例：`2017-10-05T00:00:00Z` |
| frequency\_cap  <br />_可选_ | 向同一用户投放某条广告的最大次数。<br /><br />**注意**：仅支持 `REACH`、`ENGAGEMENTS`、`VIDEO_VIEWS` 和 `PREROLL_VIEWS` 目标。<br /><br />类型：int<br /><br />示例：`5` |
| goal  <br />_可选_ | 此订单项的优化设置。`APP_PURCHASES` 选项适用于 `APP_INSTALL`。`APP_CLICKS` 和 `APP_INSTALLS` 选项适用于 `APP_INSTALL` 和 `APP_ENGAGEMENTS`，并且可能需要使用受支持的 [MACT 合作伙伴](https://business.x.com/en/help/campaign-setup/create-an-app-installs-or-app-engagement-campaign/mobile-app-conversion-tracking.html)。<br /><br />**注意**：默认值取决于目标。<br /><br />类型：enum<br /><br />可能的取值：`APP_CLICKS`、`APP_INSTALLS`、`APP_PURCHASES`、`ENGAGEMENT`、`FOLLOWERS`、`LINK_CLICKS`、`MAX_REACH`、`PREROLL`、`PREROLL_STARTS`、`REACH_WITH_ENGAGEMENT`、`VIDEO_VIEW`、`VIEW_3S_100PCT`、`VIEW_6S`、`VIEW_15S`、`WEBSITE_CONVERSIONS` |
| ios\_app\_store\_identifier  <br />_可选_ | 用于推广应用的 Apple App Store 标识符的数字部分。<br /><br />**注意**：`APP_INSTALLS` 和 `APP_ENGAGEMENTS` 目标要求至少设置一个应用商店标识符——可设置 `android_app_store_identifier` 或 `ios_app_store_identifier`。<br /><br />类型：string<br /><br />示例：`333903271` |
| name  <br />_可选_ | 订单项名称。<br /><br />类型：string<br /><br />示例：`demo` |
| pay\_by  <br />_可选_ | 此订单项的计费单位。仅适用于使用 `APP_INSTALLS` 目标的订单项可修改此设置。<br /><br />**注意**：默认的 `pay_by` 会根据广告系列目标和订单项的出价单位自动设置。<br /><br />`APP_INSTALLS` 目标支持 `APP_CLICK` 和 `IMPRESSION` 两种取值，默认值为 `IMPRESSION`。<br /><br />`LINK_CLICKS` 目标支持 `LINK_CLICK` 和 `IMPRESSION` 两种取值，默认值为 `IMPRESSION`，但当 `bid_strategy` 设置为 `TARGET` 时不支持。<br /><br />`SITE_VISITS` 目标支持 `IMPRESSION` 取值。<br /><br />类型：enum<br /><br />可能的取值：`APP_CLICK`、`IMPRESSION`、`LINK_CLICK` |
| start\_time  <br />_可选_ | 订单项开始投放的时间，使用 [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) 格式表示。<br /><br />类型：string<br /><br />示例：`2017-07-05T00:00:00Z` |
| total\_budget\_amount\_local\_micro  <br />_可选_ | 分配给该订单项的总预算金额。将使用所指定资金工具关联的货币。对于 USD，$37.50 表示为 37500000。<br /><br />类型：long<br /><br />示例：`37500000` |
| daily\_budget\_amount\_local\_micro  <br />_可选_ | 分配给该广告系列的每日预算金额。将使用所指定资金工具关联的货币。对于 USD，$5.50 表示为 5500000。未提供时，广告系列将根据总预算和投放周期均匀消耗。仅当父级广告系列的 `budget_optimization` 设置为 `LINE_ITEM` 时可用。<br /><br />**注意**：应小于或等于 `total_budget_amount_local_micro`。<br /><br />类型：long<br /><br />示例：`5500000` |

**示例请求[](#example-request "Permalink to this headline")**

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/line_items/9cqi0?bid_amount_local_micro=140000`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "line_item_id": "9cqi0",
          "bid_amount_local_micro": 140000,
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "advertiser_user_id": "756201191646691328",
        "name": null,
        "placements": [
          "ALL_ON_TWITTER"
        ],
        "start_time": "2017-07-10T00:00:00Z",
        "bid_amount_local_micro": 140000,
        "advertiser_domain": null,
        "target_cpa_local_micro": null,
        "primary_web_event_tag": null,
        "goal": "ENGAGEMENT",
        "daily_budget_amount_local_micro": null,
        "product_type": "PROMOTED_TWEETS",
        "end_time": null,
        "bid_strategy": "MAX",
        "duration_in_days": null,
        "standard_delivery": null,
        "total_budget_amount_local_micro": null,
        "objective": "ENGAGEMENTS",
        "id": "9cqi0",
        "entity_status": "PAUSED",
        "automatic_tweet_promotion": null,
        "frequency_cap": null,
        "android_app_store_identifier": null,
        "categories": [],
        "currency": "USD",
        "pay_by": "ENGAGEMENT",
        "created_at": "2017-07-07T17:42:20Z",
        "ios_app_store_identifier": null,
        "updated_at": "2022-06-03T23:51:36Z",
        "campaign_id": "8yn7m",
        "creative_source": "MANUAL",
        "deleted": false
      }
    }
```

#### DELETE accounts/:account\_id/line\_items/:line\_item\_id[](#delete-accounts-account-id-line-items-line-item-id "Permalink to this headline")

删除当前账户下指定的投放项（line item）。

**注意**：删除投放项不可恢复，随后再次尝试删除该资源将返回 HTTP 404。

**注意**：当投放项被删除时，只有在请求中指定 `with_deleted=true`，其子级 promoted\_tweets 才会在 GET accounts/:account\_id/promoted\_tweets 和 GET accounts/:account\_id/promoted\_tweets/:promoted\_tweet\_id 端点中返回。但这些 promoted\_tweets 实际上并未被删除（响应中的 `"deleted": false`）。我们不会执行级联删除。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/line_items/:line_item_id`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 目标账户的标识符。出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求所必需的参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| line\_item\_id  <br />_required_ | 你在请求中要操作的投放项引用。<br /><br />Type: string<br /><br />Example: `9f2ix` |

**Example Request[](#example-request "Permalink to this headline")**

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/line_items/9f2ix`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "data": {
        "bid_strategy": "MAX",
        "advertiser_user_id": "756201191646691328",
        "name": "Untitled",
        "placements": [],
        "start_time": null,
        "bid_amount_local_micro": 100000,
        "advertiser_domain": null,
        "target_cpa_local_micro": null,
        "primary_web_event_tag": null,
        "pay_by": "ENGAGEMENT",
        "product_type": "PROMOTED_TWEETS",
        "end_time": "2017-07-21T00:00:00Z",
        "duration_in_days": 1,
        "total_budget_amount_local_micro": null,
        "objective": "ENGAGEMENTS",
        "id": "9f2ix",
        "entity_status": "ACTIVE",
        "goal": "ENGAGEMENT",
        "frequency_cap": 5,
        "categories": [],
        "currency": "USD",
        "created_at": "2017-07-14T00:01:50Z",
        "updated_at": "2017-08-09T07:41:08Z",
        "campaign_id": "90r8n",
        "creative_source": "MANUAL",
        "deleted": true
      },
      "request": {
        "params": {
          "line_item_id": "9f2ix",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

<div id="line-item-curated-categories">
  ### 广告项精选类别
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

有关用法的更多详情，请参阅[视频观看量前贴片目标指南](/zh/x-ads-api/campaign-management#video-views-preroll-objective)

#### GET accounts/:account\_id/line\_item\_curated\_categories[](#get-accounts-account-id-line-item-curated-categories "Permalink to this headline")

检索与当前账户关联的部分或全部投放单精选类别的详细信息。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/line_item_curated_categories`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 目标账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求的必需参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| count  <br />_optional_ | 指定每个请求尝试检索的记录数。<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 指定用于获取下一页结果的游标。更多信息请参见 [Pagination](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `8x7v00oow` |
| sort\_by  <br />_optional_ | 按受支持的属性进行升序或降序排序。更多信息请参见 [Sorting](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `created_at-asc` |
| with\_deleted  <br />_optional_ | 在请求中包含已删除的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |
| with\_total\_count  <br />_optional_ | 在响应中包含 `total_count` 属性。<br /><br />**Note**: 此参数与 `cursor` 互斥。<br /><br />**Note**: 包含 `total_count` 的请求将具有更低的速率限制，目前为每 15 分钟 200 次。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/abc1/line_item_curated_categories`

**Example Response[](#example-response "Permalink to this headline")**

```josn
    {
      "request": {
        "params": {
          "account_id": "abc1"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "line_item_id": "by5pw",
          "curated_category_id": "7op29tp2jzeo",
          "id": "1",
          "created_at": "2018-06-29T04:19:53Z",
          "updated_at": "2018-06-29T04:19:53Z",
          "deleted": false
        }
      ]
    }
```

#### GET accounts/:account\_id/line\_item\_curated\_categories/:line\_item\_curated\_category\_id[](#get-accounts-account-id-line-item-curated-categories-line-item-curated-category-id "Permalink to this headline")

检索与当前账户关联的特定 line item 精选分类的详细信息。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/line_item_curated_categories/:line_item_curated_category_id`

**Parameters[](#parameters "Permalink to this headline")**

| 名称 | 描述 |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求所需的参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| line\_item\_curated\_category\_id  <br />_required_ | 你在请求中要操作的 line item 精选分类的引用。<br /><br />Type: string<br /><br />Example: `43853bhii885` |
| with\_deleted  <br />_optional_ | 在请求中包含已删除的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/abc1/line_item_curated_categories/yav`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "line_item_curated_category_id": "yav",
          "account_id": "abc1"
        }
      },
      "data": {
        "line_item_id": "by5pw",
        "curated_category_id": "7op29tp2jzeo",
        "id": "yav",
        "created_at": "2018-06-29T04:19:53Z",
        "updated_at": "2018-06-29T04:19:53Z",
        "deleted": false
      }
    }
```

#### POST accounts/:account\_id/line\_item\_curated\_categories[](#post-accounts-account-id-line-item-curated-categories "Permalink to this headline")

将一个[精选类别](/zh/x-ads-api/campaign-management#curated-categories-2)对象关联到指定的广告单项。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/line_item_curated_categories`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 描述 |
| :--- | :--- |
| account\_id  <br />`required` | 被使用账户的标识符。出现在资源路径中，并且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求所需的参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| curated\_category\_id  <br />`required` | 你在请求中操作的精选类别实体的引用。<br /><br />类型：string<br /><br />示例：`10miy` |
| line\_item\_id  <br />`required` | 你在请求中操作的广告单项的引用。<br /><br />类型：string<br /><br />示例：`8v7jo` |

**示例请求[](#example-request "Permalink to this headline")**

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/line_item_curated_categories?line_item_id=iqwka&curated_category_id=9ddrgesiap6o`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "curated_category_id": "9ddrgesiap6o",
          "line_item_id": "iqwka",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "line_item_id": "iqwka",
        "curated_category_id": "9ddrgesiap6o",
        "id": "xq",
        "created_at": "2021-03-30T17:26:42Z",
        "updated_at": "2021-03-30T17:26:42Z",
        "deleted": false
      }
    }
```

#### PUT accounts/:account\_id/line\_item\_curated\_categories/:line\_item\_curated\_category\_id[](#put-accounts-account-id-line-item-curated-categories-line-item-curated-category-id "Permalink to this headline")

更新指定的广告分项精选类别。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/line_item_curated_categories/:line_item_curated_category_id`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 描述 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被使用账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有广告主 API 请求所需的参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| line\_item\_curated\_category\_id  <br />_必填_ | 请求中所操作的广告分项精选类别的引用。<br /><br />类型：string<br /><br />示例：`1bzq3` |
| curated\_category\_id  <br />`可选` | 请求中所操作的精选类别实体的引用。<br /><br />类型：string<br /><br />示例：`10miy` |
| line\_item\_id  <br />`可选` | 请求中所操作的广告分项的引用。<br /><br />类型：string<br /><br />示例：`8v7jo` |

**示例请求[](#example-request "Permalink to this headline")**

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/line_item_curated_categories/xq?curated_category_id=8tujl1p3yn0g`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "line_item_curated_category_id": "xq",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "line_item_id": "iqwka",
        "curated_category_id": "8tujl1p3yn0g",
        "id": "xq",
        "created_at": "2021-03-30T17:26:42Z",
        "updated_at": "2021-03-30T18:22:52Z",
        "deleted": true
      }
    }
```

#### DELETE accounts/:account\_id/line\_item\_curated\_categories/:line\_item\_curated\_category\_id[](#delete-accounts-account-id-line-item-curated-categories-line-item-curated-category-id "Permalink to this headline")

删除指定的投放项精选类别。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/line_item_curated_categories/:line_item_curated_category_id`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被使用账户的标识符。出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求的必需参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| line\_item\_curated\_category\_id  <br />_必填_ | 你在请求中所操作的投放项精选类别的标识引用。<br /><br />类型：string<br /><br />示例：`1bzq3` |

**示例请求[](#example-request "Permalink to this headline")**

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/line_item_curated_categories/xq`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "line_item_curated_category_id": "xq",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "line_item_id": "iqwka",
        "curated_category_id": "9ddrgesiap6o",
        "id": "xq",
        "created_at": "2021-03-30T17:26:42Z",
        "updated_at": "2021-03-30T18:22:52Z",
        "deleted": true
      }
    }
```

<div id="line-item-placements">
  ### 广告项投放位置
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET line\_items/placements[](#get-line-items-placements "固定链接到此标题")

检索有效的 `placement` 与 `product_type` 组合。

**资源 URL[](#resource-url "固定链接到此标题")**

`https://ads-api.x.com/12/line_items/placements`

**参数[](#parameters "固定链接到此标题")**

| 名称 | 描述 |
| :--- | :--- |
| product\_type  <br />_可选_ | 将响应限定为仅包含指定产品类型的有效投放位置。<br /><br />类型：枚举<br /><br />可选值：`MEDIA`、`PROMOTED_ACCOUNT`、`PROMOTED_TWEETS` |

**示例请求[](#example-request "固定链接到此标题")**

`GET https://ads-api.x.com/12/line_items/placements?product_type=PROMOTED_ACCOUNT`

**示例响应[](#example-response "固定链接到此标题")**

```json
    {
      "data": [
        {
          "product_type": "PROMOTED_ACCOUNT",
          "placements": [
            [
              "ALL_ON_TWITTER"
            ],
            [
              "TWITTER_TIMELINE"
            ]
          ]
        }
      ],
      "request": {
        "params": {
          "product_type": "PROMOTED_ACCOUNT"
        }
      }
    }
```

<div id="media-creatives">
  ### 媒体素材
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET accounts/:account\_id/media\_creatives[](#get-accounts-account-id-media-creatives "Permalink to this headline")

获取与当前账户关联的部分或全部媒体创意的详细信息。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/media_creatives`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用的账户标识符。出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求所必需的参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| campaign\_id  <br />_optional_ | 将响应限定为仅包含与指定广告系列关联的媒体创意。<br /><br />Type: string<br /><br />Example: `8gdx6` |
| count  <br />_optional_ | 指定每个请求尝试检索的记录数。<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 指定用于获取下一页结果的游标。更多信息参见 [Pagination](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `8x7v00oow` |
| line\_item\_ids  <br />_optional_ | 通过提供以逗号分隔的标识符列表，将响应限定为仅包含与指定投放单元关联的媒体创意。最多可提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `8v7jo` |
| media\_creative\_ids  <br />_optional_ | 通过提供以逗号分隔的标识符列表，将响应限定为仅包含所需的媒体创意。最多可提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `1bzq3` |
| sort\_by  <br />_optional_ | 按受支持的属性进行升序或降序排序。更多信息参见 [Sorting](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `created_at-asc` |
| with\_deleted  <br />_optional_ | 在结果中包含已删除的记录。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |
| with\_total\_count  <br />_optional_ | 包含 `total_count` 响应属性。<br /><br />**Note**: 此参数与 `cursor` 互斥。<br /><br />**Note**: 包含 `total_count` 的请求将具有更低的速率限制，目前为每 15 分钟 200 次。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/media_creatives?media_creative_ids=1bzq3`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "media_creative_ids": [
            "1bzq3"
          ]
        }
      },
      "next_cursor": null,
      "data": [
        {
          "line_item_id": "8v7jo",
          "landing_url": "https://dev.x.com",
          "creative_type": "INTERSTITIAL_LANDSCAPE_TABLET",
          "id": "1bzq3",
          "entity_status": "ACTIVE",
          "created_at": "2017-07-05T06:00:42Z",
          "account_media_id": "10miy",
          "updated_at": "2019-01-11T20:21:26Z",
          "approval_status": "ACCEPTED",
          "deleted": false
        }
      ]
    }
```

#### GET accounts/:account\_id/media\_creatives/:media\_creative\_id[](#get-accounts-account-id-media-creatives-media-creative-id "Permalink to this headline")

获取当前账户关联的指定媒体创意详情。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/media_creatives/:media_creative_id`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被使用账户的标识符。出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求的必需参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| media\_creative\_id  <br />_必填_ | 本次请求所操作的媒体创意的引用。<br /><br />类型：string<br /><br />示例：`43853bhii885` |
| with\_deleted  <br />_可选_ | 是否在结果中包含已删除项。<br /><br />类型：boolean<br /><br />默认值：`false`  <br />可选值：`true`、`false` |

**示例请求[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/media_creatives/1bzq3`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "media_creative_id": "1bzq3",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "line_item_id": "8v7jo",
        "landing_url": "https://dev.x.com",
        "creative_type": "INTERSTITIAL_LANDSCAPE_TABLET",
        "id": "1bzq3",
        "entity_status": "ACTIVE",
        "created_at": "2017-07-05T06:00:42Z",
        "account_media_id": "10miy",
        "updated_at": "2019-01-11T20:21:26Z",
        "approval_status": "ACCEPTED",
        "deleted": false
      }
    }
```

#### POST accounts/:account\_id/media\_creatives[](#post-accounts-account-id-media-creatives "Permalink to this headline")

将一个[账户媒体](/zh/x-ads-api/creatives#account-media)对象关联到指定的行项目。

使用此端点在 Twitter Audience Platform 上投放流内广告（当账户媒体的 `creative_type` 为 `PREROLL` 时）或图片广告（例如 `BANNER` 或 `INTERSTITIAL`）。

**注意**：要将媒体资产添加到 Account Media 资源，请使用 [POST accounts/:account\_id/media\_library](/zh/x-ads-api/creatives#account-media) 端点。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/media_creatives`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />`required` | 被使用账户的标识符。出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求的必需参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| account\_media\_id  <br />`required` | 你在请求中所操作的账户媒体实体的引用。<br /><br />类型：string<br /><br />示例：`10miy` |
| line\_item\_id  <br />`required` | 你在请求中所操作的行项目的引用。<br /><br />类型：string<br /><br />示例：`8v7jo` |
| landing\_url  <br />`sometimes required` | 将用户引导至的网站 URL。仅应与 TAP 图片（或“展示创意”）一起使用。与 preroll 资产一起使用时将被忽略。要将 URL 与 preroll 资产关联，请使用 [POST accounts/:account\_id/preroll\_call\_to\_actions](/zh/x-ads-api/creatives#post-accounts-account-id-preroll-call-to-actions) 端点。<br /><br />**注意**：当行项目的目标设置为 `WEBSITE_CLICKS` 时必填。<br /><br />类型：string<br /><br />示例：`https://blog.x.com/` |

**示例请求[](#example-request "Permalink to this headline")**

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/media_creatives?line_item_id=8v7jo&account_media_id=10miy`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "line_item_id": "8v7jo",
          "account_media_id": "10miy",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "line_item_id": "8v7jo",
        "landing_url": "https://dev.x.com",
        "creative_type": "INTERSTITIAL_LANDSCAPE_TABLET",
        "id": "1bzq3",
        "entity_status": "ACTIVE",
        "created_at": "2017-07-05T06:00:42Z",
        "account_media_id": "10miy",
        "updated_at": "2019-01-11T20:21:26Z",
        "approval_status": "ACCEPTED",
        "deleted": false
      }
    }
```

#### DELETE accounts/:account\_id/media\_creatives/:media\_creative\_id[](#delete-accounts-account-id-media-creatives-media-creative-id "Permalink to this headline")

删除当前账户下指定的媒体创意。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/media_creatives/:media_creative_id`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 目标账户的标识符。出现在资源路径中，通常是所有 Advertiser API 请求（[GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 除外）的必填参数。指定的账户必须与已验证的用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| media\_creative\_id  <br />_必填_ | 请求中所操作的媒体创意的引用。<br /><br />类型：string<br /><br />示例：`1bzq3` |

**示例请求[](#example-request "Permalink to this headline")**

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/media_creatives/1bzq3`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "media_creative_id": "1bzq3",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "line_item_id": "8v7jo",
        "landing_url": "https://dev.x.com",
        "creative_type": "INTERSTITIAL_LANDSCAPE_TABLET",
        "id": "1bzq3",
        "entity_status": "ACTIVE",
        "created_at": "2017-07-05T06:00:42Z",
        "account_media_id": "10miy",
        "updated_at": "2021-04-16T21:02:55Z",
        "approval_status": "ACCEPTED",
        "deleted": true
      }
    }
```

### 推广账号

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET accounts/:account\_id/promoted\_accounts[](#get-accounts-account-id-promoted-accounts "Permalink to this headline")

检索当前账户下一个或多个广告单元所关联的部分或全部推广账户的详细信息。

使用 [GET users/lookup](https://developer.x.com/en/docs/x-api/v1/accounts-and-users/follow-search-get-users/api-reference/get-users-lookup) 获取响应中由 `user_id` 标识的用户账户数据。

如果指定的广告单元均未配置包含推广账户，将返回 HTTP 400。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/promoted_accounts`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用的账户标识符。出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求的必需参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| count  <br />_optional_ | 指定每个请求尝试检索的记录数量。<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 指定用于获取下一页结果的游标。更多信息参见 [Pagination](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `8x7v00oow` |
| line\_item\_ids  <br />_optional_ | 通过指定以逗号分隔的标识符列表，仅返回与指定广告单元关联的推广账户。最多可提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `9bpb2` |
| promoted\_account\_ids  <br />_optional_ | 通过指定以逗号分隔的标识符列表，仅返回所需的推广账户。最多可提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `19pl2` |
| sort\_by  <br />_optional_ | 按受支持的属性进行升序或降序排序。更多信息参见 [Sorting](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `created_at-asc` |
| with\_deleted  <br />_optional_ | 在响应中包含已删除的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |
| with\_total\_count  <br />_optional_ | 在响应中包含 `total_count` 属性。<br /><br />**Note**: 此参数与 `cursor` 互斥。<br /><br />**Note**: 包含 `total_count` 的请求具有更低的速率限制，目前为每 15 分钟 200 次。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/promoted_accounts?promoted_account_ids=19pl2`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "promoted_account_ids": [
            "19pl2"
          ],
          "account_id": "18ce54d4x5t"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "line_item_id": "9bpb2",
          "user_id": "756201191646691328",
          "id": "19pl2",
          "entity_status": "ACTIVE",
          "created_at": "2017-07-05T05:54:13Z",
          "updated_at": "2017-07-05T05:54:13Z",
          "approval_status": "ACCEPTED",
          "deleted": false
        }
      ]
    }
```

#### GET accounts/:account\_id/promoted\_accounts/:promoted\_account\_id[](#get-accounts-account-id-promoted-accounts-promoted-account-id "Permalink to this headline")

检索当前账户下某个广告单元所关联账户的特定引用。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/promoted_accounts/:promoted_account_id`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 描述 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被引用账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有广告主 API 请求的必填参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| promoted\_account\_id  <br />_必填_ | 你在请求中所操作的推广账户的引用。<br /><br />类型：string<br /><br />示例：`19pl2` |
| with\_deleted  <br />_可选_ | 在请求中包含已删除的结果。<br /><br />类型：boolean<br /><br />默认值：`false`  <br />可能的取值：`true`、`false` |

**示例请求[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/promoted_accounts/19pl2`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "promoted_account_id": "19pl2",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "line_item_id": "9bpb2",
        "user_id": "756201191646691328",
        "id": "19pl2",
        "entity_status": "ACTIVE",
        "created_at": "2017-07-05T05:54:13Z",
        "updated_at": "2017-07-05T05:54:13Z",
        "approval_status": "ACCEPTED",
        "deleted": false
      }
    }
```

#### POST accounts/:account\_id/promoted\_accounts[](#post-accounts-account-id-promoted-accounts "Permalink to this headline")

将账户（`user_id`）关联到指定的广告行项目（line item）。

如果指定的广告行项目未配置为可关联推广账户（Promoted Accounts），将返回 HTTP 400 `INCOMPATIBLE_LINE_ITEM` 错误。若指定用户不具备推广资格，将返回 HTTP 400，且不会有任何用户被推广。若提供的用户已在推广中，则会忽略本请求。

关于推广账户的更多信息，请参阅我们的[广告系列管理](/zh/x-ads-api/campaign-management#advertiser-api)页面。

**注意**：无法更新（PUT）推广账户实体。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/promoted_accounts`

**参数[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被操作账户的标识符。出现在资源路径中，并且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求必需的参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| line\_item\_id  <br />_required_ | 本次请求所操作的广告行项目引用。<br /><br />Type: string<br /><br />Example: `9bpb2` |
| user\_id  <br />_required_ | 本次请求所操作的用户引用。可使用 [GET users/lookup](https://developer.x.com/en/docs/x-api/v1/accounts-and-users/follow-search-get-users/api-reference/get-users-lookup) 通过用户的屏幕名获取用户 ID。<br /><br />Type: long<br /><br />Example: `756201191646691328` |

**示例请求[](#example-request "Permalink to this headline")**

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/promoted_accounts?line_item_id=9bpb2&user_id=756201191646691328`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "data": {
        "line_item_id": "9bpb2",
        "user_id": "756201191646691328",
        "id": "19pl2",
        "entity_status": "ACTIVE",
        "created_at": "2017-07-05T05:54:13Z",
        "updated_at": "2017-07-05T05:54:13Z",
        "approval_status": "ACCEPTED",
        "deleted": false
      },
      "request": {
        "params": {
          "user_id": "756201191646691328",
          "line_item_id": "9bpb2",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

#### DELETE accounts/:account\_id/promoted\_accounts/:promoted\_account\_id[](#delete-accounts-account-id-promoted-accounts-promoted-account-id "跳转到此标题的永久链接")

将某个账号与指定的广告单元（line item）解除关联。

**资源 URL[](#resource-url "跳转到此标题的永久链接")**

`https://ads-api.x.com/12/accounts/:account_id/promoted_accounts/:promoted_account_id`

**参数[](#parameters "跳转到此标题的永久链接")**

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被使用账号的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求的必需参数。指定的账号必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| promoted\_account\_id  <br />_必填_ | 与某个广告单元（line item）关联的“Promoted Account”实例的标识符。<br /><br />类型：string<br /><br />示例：`19pl2` |

**示例请求[](#example-request "跳转到此标题的永久链接")**

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/promoted_accounts/19pl2`

**示例响应[](#example-response "跳转到此标题的永久链接")**

```json
    {
      "data": {
        "line_item_id": "9bpb2",
        "user_id": "756201191646691328",
        "id": "19pl2",
        "entity_status": "ACTIVE",
        "created_at": "2017-07-05T05:54:13Z",
        "updated_at": "2017-08-23T18:53:15Z",
        "approval_status": "ACCEPTED",
        "deleted": true
      },
      "request": {
        "params": {
          "promoted_account_id": "19pl2",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

<div id="promoted-tweets">
  ### 推广推文
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  使用 Postman 运行
</Button>

#### GET accounts/:account\_id/promoted\_tweets[](#get-accounts-account-id-promoted-tweets "Permalink to this headline")

检索与当前账户下广告线项关联的推文引用。

使用 [GET accounts/:account\_id/tweets](/zh/x-ads-api/creatives#get-accounts-account-id-tweets) 端点获取 Tweet 对象。对每个 promoted\_tweets 对象使用其 `tweet_id` 值。

**注意**：当父级广告线项被删除时，只有在请求中指定 `with_deleted=true` 才会返回 promoted\_tweets。不过这些 promoted\_tweets 实际上并未被删除（响应中 `"deleted": false`）。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/promoted_tweets`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 所使用账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求所必需的参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| count  <br />_可选_ | 指定每次请求尝试检索的记录数。<br /><br />类型：int<br /><br />默认值：`200`  <br />最小值、最大值：`1`、`1000` |
| cursor  <br />_可选_ | 指定用于获取下一页结果的游标。更多信息参见 [Pagination](/zh/x-ads-api/introduction)。<br /><br />类型：string<br /><br />示例：`8x7v00oow` |
| line\_item\_ids  <br />_可选_ | 通过指定以逗号分隔的标识符列表，将响应限定为仅包含与特定广告线项关联的推文。最多可提供 200 个 ID。<br /><br />类型：string<br /><br />示例：`96uzp` |
| promoted\_tweet\_ids  <br />_可选_ | 通过指定以逗号分隔的标识符列表，将响应限定为仅包含所需的推广推文。最多可提供 200 个 ID。<br /><br />类型：string<br /><br />示例：`1efwlo` |
| sort\_by  <br />_可选_ | 按受支持的属性进行升序或降序排序。更多信息参见 [Sorting](/zh/x-ads-api/introduction)。<br /><br />类型：string<br /><br />示例：`created_at-asc` |
| with\_deleted  <br />_可选_ | 在请求中包含已删除的结果。<br /><br />类型：boolean<br /><br />默认值：`false`  <br />可能的取值：`true`、`false` |
| with\_total\_count  <br />_可选_ | 在响应中包含 `total_count` 属性。<br /><br />**注意**：该参数与 `cursor` 互斥。<br /><br />**注意**：包含 `total_count` 的请求具有较低的速率限制，目前为每 15 分钟 200 次。<br /><br />类型：boolean<br /><br />默认值：`false`  <br />可能的取值：`true`、`false` |

**示例请求[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/promoted_tweets?promoted_tweet_ids=1efwlo`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "promoted_tweet_ids": [
            "1efwlo"
          ],
          "account_id": "18ce54d4x5t"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "line_item_id": "96uzp",
          "id": "1efwlo",
          "entity_status": "ACTIVE",
          "created_at": "2017-06-29T05:06:57Z",
          "updated_at": "2017-06-29T05:08:46Z",
          "approval_status": "ACCEPTED",
          "tweet_id": "880290790664060928",
          "deleted": false
        }
      ]
    }
```

#### GET accounts/:account\_id/promoted\_tweets/:promoted\_tweet\_id[](#get-accounts-account-id-promoted-tweets-promoted-tweet-id "此标题的永久链接")

检索当前账户下与某个单元（line item）关联的特定推文引用。

**注意**：当父级单元被删除时，仅当请求中指定 `with_deleted=true` 时才会返回 promoted\_tweets。不过，这些 promoted\_tweets 实际上并未被删除（响应中为 `"deleted": false`）。

**资源 URL[](#resource-url "此标题的永久链接")**

`https://ads-api.x.com/12/accounts/:account_id/promoted_tweets/:promoted_tweet_id`

**参数[](#parameters "此标题的永久链接")**

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被使用账户的标识符。出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有广告主 API 请求所需的必填参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| promoted\_tweet\_id  <br />_必填_ | 你在请求中操作的推广推文的引用 ID。<br /><br />类型：string<br /><br />示例：`1efwlo` |
| with\_deleted  <br />_可选_ | 在请求中包含已删除的结果。<br /><br />类型：boolean<br /><br />默认值：`false`  <br />可能的取值：`true`、`false` |

**请求示例[](#example-request "此标题的永久链接")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/promoted_tweets/1efwlo`

**响应示例[](#example-response "此标题的永久链接")**

```json
    {
      "request": {
        "params": {
          "promoted_tweet_id": "1efwlo",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "line_item_id": "96uzp",
        "id": "1efwlo",
        "entity_status": "ACTIVE",
        "created_at": "2017-06-29T05:06:57Z",
        "updated_at": "2017-06-29T05:08:46Z",
        "approval_status": "ACCEPTED",
        "tweet_id": "880290790664060928",
        "deleted": false
      }
    }
```

#### POST accounts/:account\_id/promoted\_tweets[](#post-accounts-account-id-promoted-tweets "Permalink to this headline")

将一个或多个推文关联到指定的广告项（line item）。并非所有推文都适合推广，具体取决于广告系列目标。请参阅[基于目标的广告系列](/zh/x-ads-api/campaign-management#objective-based-campaigns)了解更多信息。

当使用 `PROMOTED_ACCOUNT` 产品类型时，将推文与 `line_item` 关联，除标准的 `PROMOTED_ACCOUNT` 投放位置外，还会在移动端时间线中新增投放位置。

**注意**：无法更新（PUT）已推广的推文实体。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/promoted_tweets`

**参数[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用账户的标识符。出现在资源路径中，通常是所有 Advertiser API 请求（除[GET accounts](/zh/x-ads-api/campaign-management#get-accounts)外）的必填参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| line\_item\_id  <br />_required_ | 本次请求中所操作的广告项（line item）的引用。<br /><br />Type: string<br /><br />Example: `8v7jo` |
| tweet\_ids  <br />_required_ | 以逗号分隔的推文 ID 列表，对应特定推文。最多可提供 50 个 ID。<br /><br />Type: long<br /><br />Example: `822333526255120384` |

**示例请求[](#example-request "Permalink to this headline")**

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/promoted_tweets?line_item_id=8v7jo&tweet_ids=822333526255120384`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "data": [
        {
          "line_item_id": "8v7jo",
          "id": "1e8i2k",
          "entity_status": "ACTIVE",
          "created_at": "2017-06-24T04:21:36Z",
          "updated_at": "2017-06-24T04:21:36Z",
          "approval_status": "ACCEPTED",
          "tweet_id": "822333526255120384",
          "deleted": false
        }
      ],
      "request": {
        "params": {
          "line_item_id": "8v7jo",
          "tweet_ids": [
            822333526255120384
          ],
          "account_id": "18ce54d4x5t"
        }
      },
      "total_count": 1
    }
```

#### DELETE accounts/:account\_id/promoted\_tweets/:promoted\_tweet\_id[](#delete-accounts-account-id-promoted-tweets-promoted-tweet-id "Permalink to this headline")

将指定行项目与一条 Tweet 解除关联。

**注意**：删除的 promoted\_tweets 实体将在 ads.x.com 界面中显示为“已暂停”。同样，在界面中执行“暂停”也会将该 Tweet 与其行项目解除关联。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/promoted_tweets/:promoted_tweet_id`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 目标账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求的必填参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| promoted\_tweet\_id  <br />_必填_ | 与某个行项目关联的推广推文实例的标识符。该值来自 [GET accounts/:account\_id/promoted\_tweets](#get-accounts-account-id-promoted-tweets) 响应项中的 `id` 字段，而非该 Tweet 的 `tweet_id`。在资源路径中提供。<br /><br />类型：string<br /><br />示例：`1gp8a5` |

**示例请求[](#example-request "Permalink to this headline")**

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/promoted_tweets/1gp8a5`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "data": {
        "line_item_id": "9pl99",
        "id": "1gp8a5",
        "entity_status": "ACTIVE",
        "created_at": "2017-08-17T17:02:21Z",
        "updated_at": "2017-08-18T06:43:48Z",
        "approval_status": "ACCEPTED",
        "tweet_id": "844796297743757315",
        "deleted": true
      },
      "request": {
        "params": {
          "promoted_tweet_id": "1gp8a5",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

<div id="promotable-users">
  ### 可投放推广的用户
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET accounts/:account\_id/promotable\_users[](#get-accounts-account-id-promotable-users "Permalink to this headline")

检索与当前账号关联的部分或全部“可投放用户”的详细信息。

可投放用户类型为 `FULL` 或 `RETWEETS_ONLY`，用于控制该账号可推广的内容类型。广告主必须获得推广他人内容的权限，并联系 Twitter 将该用户以 `RETWEETS_ONLY` 可投放用户的身份添加到你的账号中。

在权限配置正确的情况下，你可以向推广产品相关的端点发起请求，直接引用欲推广推文的 Tweet ID。你可以使用 [POST accounts/:account\_id/promoted-tweets](/zh/x-ads-api/campaign-management#promoted-tweets) 端点推广已发布的推文，使用 [POST accounts/:account\_id/scheduled-promoted-tweets](/zh/x-ads-api/campaign-management#promoted-tweets) 端点推广其他 Twitter Ads 账号的已排程推文。

无需先转推目标推文。采用此方式推广时，返回的 `tweet_id` 将不同于你提供的推文 ID。其原理是系统会将该推文以“静默投放”（nullcast）形式进行转推，然后再进行推广。返回的 `tweet_id` 对应这条新的推文。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/promotable_users`

**参数[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用的账号标识符。出现在资源路径中，并且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求所需的参数。指定的账号必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| count  <br />_optional_ | 指定每个请求尝试检索的记录数。<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 指定用于获取下一页结果的游标。更多信息参见 [Pagination](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `8x7v00oow` |
| promotable\_user\_ids  <br />_optional_ | 通过指定以逗号分隔的标识符列表，将响应限定为所需的可投放用户。最多可提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `l310s` |
| sort\_by  <br />_optional_ | 按受支持的属性进行升序或降序排序。更多信息参见 [Sorting](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `created_at-asc` |
| with\_deleted  <br />_optional_ | 在请求中包含已删除的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |
| with\_total\_count  <br />_optional_ | 在响应中包含 `total_count` 属性。<br /><br />**注意**：此参数与 `cursor` 互斥。<br /><br />**注意**：包含 `total_count` 的请求将具有较低的速率限制，目前为每 15 分钟 200 次。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**示例请求[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/promotable_users?promotable_user_ids=l310s`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "promotable_user_ids": [
            "l310s"
          ],
          "account_id": "18ce54d4x5t"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "user_id": "756201191646691328",
          "id": "l310s",
          "created_at": "2016-07-21T22:42:09Z",
          "updated_at": "2016-07-21T22:42:09Z",
          "deleted": false,
          "promotable_user_type": "FULL"
        }
      ]
    }
```

#### GET accounts/:account\_id/promotable\_users/:promotable\_user\_id[](#get-accounts-account-id-promotable-users-promotable-user-id "Permalink to this headline")

检索与当前账户关联的特定可推广用户。

可推广用户类型为 `FULL` 或 `RETWEETS_ONLY`。这将控制该账户允许推广的内容类型。

广告主必须获得推广其他用户内容的权限。在权限配置正确的情况下，您可以向推广类产品的端点发起请求，直接引用希望推广的推文的 Tweet ID。

无需转发目标推文。使用此方式推广推文时，返回的 `tweet_id` 将不同于您提供的 Tweet ID。在后台，系统会以“静默转发”（nullcast）的方式转发该推文，然后再进行推广。返回的 `tweet_id` 对应的是这条新的推文。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/promotable_users/:promotable_user_id`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被利用的账户标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有广告主 API 请求所必需的参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| promotable\_user\_id  <br />_可选_ | 在请求中操作的可推广用户的引用。<br /><br />Type: string<br /><br />Example: `l310s` |
| with\_deleted  <br />_可选_ | 在请求中包含已删除的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**示例请求[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/promotable_users/l310s`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "promotable_user_id": "l310s",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "user_id": "2417045708",
        "id": "l310s",
        "created_at": "2017-03-10T17:51:24Z",
        "updated_at": "2017-03-10T17:51:24Z",
        "deleted": false,
        "promotable_user_type": "RETWEETS_ONLY"
      }
    }
```

<div id="publishers">
  ### 发布方
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

<div id="get-publishers">
  #### GET publishers[](#get-publishers "Permalink to this headline")
</div>

检索“内容类别”发布方的详细信息列表

更多信息请参阅[视频观看预播目标指南](/zh/x-ads-api/campaign-management#video-views-preroll-objective)

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/publishers`

**参数[](#parameters "Permalink to this headline")**

无请求参数

**示例请求[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/publishers`

**示例响应[](#example-response "Permalink to this headline")**

```json
{
      "request": {
        "params": {}
      },
      "next_cursor": null,
      "data": [
        {
          "monetizable_country_codes": [
            "US"
          ],
          "promotion_eligible_country_codes": [
            "US"
          ],
          "username": "PeoplesSports",
          "user_id": "1353868435021721602",
          "monetization_restricted": true,
          "content_category_ids": [
            "se"
          ]
        },
        {
          "monetizable_country_codes": [
            "JP"
          ],
          "promotion_eligible_country_codes": [
            "JP"
          ],
          "username": "NewYork_Jack",
          "user_id": "1331177123436851206",
          "monetization_restricted": true,
          "content_category_ids": [
            "sk"
          ]
        },
        {
          "monetizable_country_codes": [
            "JP"
          ],
          "promotion_eligible_country_codes": [
            "JP"
          ],
          "username": "twispatv",
          "user_id": "1331165719128461314",
          "monetization_restricted": true,
          "content_category_ids": [
            "sm"
          ]
        },
        {
          "monetizable_country_codes": [
            "US"
          ],
          "promotion_eligible_country_codes": [
            "US"
          ],
          "username": "LAThieves",
          "user_id": "1316808678897455105",
          "monetization_restricted": true,
          "content_category_ids": [
            "s0"
          ]
        },
        {
          "monetizable_country_codes": [
            "US"
          ],
          "promotion_eligible_country_codes": [
            "US"
          ],
          "username": "Quicktake_EE",
          "user_id": "1305900477427724290",
          "monetization_restricted": true,
          "content_category_ids": [
            "sr"
          ]
        },
        {
          "monetizable_country_codes": [
            "BR"
          ],
          "promotion_eligible_country_codes": [
            "BR"
          ],
          "username": "eufloribella",
          "user_id": "1300812459054436354",
          "monetization_restricted": true,
          "content_category_ids": [
            "sm"
          ]
        },
        {
          "monetizable_country_codes": [
            "EG"
          ],
          "promotion_eligible_country_codes": [
            "KW",
            "EG",
            "SA",
            "AE",
            "LB",
            "QA"
          ],
          "username": "Egypt2021EN",
          "user_id": "1296077573399678977",
          "monetization_restricted": true,
          "content_category_ids": [
            "se"
          ]
        },
        {
          "monetizable_country_codes": [
            "US"
          ],
          "promotion_eligible_country_codes": [
            "US"
          ],
          "username": "ClubShayShay",
          "user_id": "1283068366706454529",
          "monetization_restricted": true,
          "content_category_ids": [
            "se"
          ]
        },
        {
          "monetizable_country_codes": [
            "IN",
            "KW",
            "ID",
            "EG",
            "SG",
            "TH",
            "MY",
            "PH",
            "ES",
            "US",
            "AU",
            "SA",
            "AE",
            "LB",
            "GB",
            "FR",
            "KR",
            "BR",
            "MX",
            "QA",
            "CA",
            "JP"
          ],
          "promotion_eligible_country_codes": [
            "KW",
            "EG",
            "SA",
            "AE",
            "LB",
            "QA"
          ],
          "username": "hiaahsanshow",
          "user_id": "1253421442143641601",
          "monetization_restricted": false,
          "content_category_ids": [
            "sh"
          ]
        },
        {
          "monetizable_country_codes": [
            "TH"
          ],
          "promotion_eligible_country_codes": [
            "TH"
          ],
          "username": "HoneKrasae",
          "user_id": "1240684293719904256",
          "monetization_restricted": true,
          "content_category_ids": [
            "sr"
          ]
        },
        {
          "monetizable_country_codes": [
            "US"
          ],
          "promotion_eligible_country_codes": [
            "US"
          ],
          "username": "Sportskind",
          "user_id": "1232708694418300930",
          "monetization_restricted": true,
          "content_category_ids": [
            "se"
          ]
        },
        {
          "monetizable_country_codes": [
            "IN",
            "KW",
            "ID",
            "EG",
            "SG",
            "TH",
            "MY",
            "PH",
            "ES",
            "US",
            "AU",
            "SA",
            "AE",
            "LB",
            "GB",
            "FR",
            "KR",
            "BR",
            "MX",
            "QA",
            "CA",
            "JP"
          ],
          "promotion_eligible_country_codes": [
            "KW",
            "EG",
            "SA",
            "AE",
            "LB",
            "QA"
          ],
          "username": "almeerathShow",
          "user_id": "1229410512762437633",
"monetization_restricted": false,
          "content_category_ids": [
            "sh"
          ]
        },
        {
          "monetizable_country_codes": [
            "US"
          ],
          "promotion_eligible_country_codes": [
            "US"
          ],
          "username": "SeeYourVoiceFOX",
          "user_id": "1225490734653947904",
"monetization_restricted": true,
          "content_category_ids": [
            "sh"
          ]
        },
        {
          "monetizable_country_codes": [
            "IN",
            "KW",
            "ID",
            "EG",
            "SG",
            "TH",
            "MY",
            "PH",
            "ES",
            "US",
            "AU",
            "SA",
            "AE",
            "LB",
            "GB",
            "FR",
            "KR",
            "BR",
            "MX",
            "QA",
            "CA",
            "JP"
          ],
          "promotion_eligible_country_codes": [
            "US"
          ],
          "username": "AUProSports",
          "user_id": "1219303449768185859",
"monetization_restricted": false,
          "content_category_ids": [
            "se"
          ]
        }
      ]
    }
```

<div id="recommendations">
  ### 建议
</div>

<Button href="https://app.getpostman.com/run-collection/369a02c0adc626ff6a06#?env%5BTwitter%20Ads%20API%5D=W3sia2V5IjoiYWNjb3VudF9pZCIsInZhbHVlIjoieW91cl9hZHNfYWNjb3VudF9pZCIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoidmVyc2lvbiIsInZhbHVlIjoiNSIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoiY29uc3VtZXJfa2V5IiwidmFsdWUiOiJ5b3VyX2NvbnN1bWVyX2tleSIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoiY29uc3VtZXJfc2VjcmV0IiwidmFsdWUiOiJ5b3VyX2NvbnN1bWVyX3NlY3JldCIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoiYWNjZXNzX3Rva2VuIiwidmFsdWUiOiJ5b3VyX2FjY2Vzc190b2tlbiIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoidG9rZW5fc2VjcmV0IiwidmFsdWUiOiJ5b3VyX3Rva2VuX3NlY3JldCIsImVuYWJsZWQiOnRydWV9XQ==">
  在 Postman 中运行
</Button>

#### GET accounts/:account\_id/recommendations[](#get-accounts-account-id-recommendations "Permalink to this headline")

状态：_封闭测试_

检索与此广告账户关联的广告系列推荐。目前每个资金工具限 1 条推荐。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/5/accounts/:account_id/recommendations`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 目标账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求的必需参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |

**请求示例[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/5/accounts/18ce54d4x5t/recommendations`

**响应示例[](#example-response "Permalink to this headline")**

```json
    "request": {
      "params": {
        "account_id": "18ce54d4x5t"
      }
    },
    "total_count": 1,
    "data": [
      {
        "funding_instrument_id": "gpvzb",
        "id": "62ce8zza1q0w",
        "account_id": "18ce54d4x5t",
        "status": "PENDING",
        "message": "Recommendation for testing",
        "created_at": "2016-11-14T23:07:54Z",
        "updated_at": "2016-11-14T23:07:54Z"
      }
    ]
```

#### GET accounts/:account\_id/recommendations/:recommendation\_id[](#get-accounts-account-id-recommendations-recommendation-id "此标题的永久链接")

状态：_封闭测试_

检索与此广告账户关联的特定广告系列推荐。

该广告系列推荐以对象树形式给出针对广告系列结构的一整套变更建议。响应树旨在与 Batch API 端点配合使用，但在需要时也可映射到单个更新端点（POST 对应 Create，PUT 对应 Update，DELETE 对应 Delete）。

**资源 URL[](#resource-url "此标题的永久链接")**

`https://ads-api.x.com/5/accounts/:account_id/recommendations/:recommendation_id`

**参数[](#parameters "此标题的永久链接")**

| 名称 | 描述 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被使用账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求的必需参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| recommendation\_id  <br />_必填_ | 本次请求中所操作的推荐 ID 引用<br /><br />类型：string<br /><br />示例：`62ce8zza1q0w` |

**示例请求[](#example-request "此标题的永久链接")**

`GET https://ads-api.x.com/5/accounts/18ce54d4x5t/recommendations/62ce8zza1q0w`

**示例响应[](#example-response "此标题的永久链接")**

```json
{
    "request": {
      "params": {
        "recommendation_id": "62ce8zza1q0w",
        "account_id": "18ce54d4x5t"
      }
    },
    "data_type": "recommendations"
      "data": {
      "changes": [
        {
          "entity_type": "campaigns"
          "params": {
            "start_time": "2016-11-08T22:00:00Z",
            "daily_budget_amount_local_micro": 2200000,
            "end_time": "2016-11-16T07:59:00Z",
            "total_budget_amount_local_micro": 12000000,
            "id": "64m0d"
          },
          "operation_type": "Update"
          "dependent_entities": [
            {
              "entity_type": "line_items"
              "params": {
                "name": "用于推荐的广告系列"
                "placements": [
                  "TWITTER_TIMELINE"
                ],
                "bid_amount_local_micro": 1430000,
                "id": "6f5kq",
                "include_sentiment": "ALL"
              },
              "operation_type": "Update"
              "dependent_entities": [
                {
                  "entity_type": "targeting_criteria"
                  "params": {
                    "id": "a8po6p"
                  },
                  "operation_type": null
                  "dependent_entities": []
                },
                {
                  "entity_type": "targeting_criteria"
                  "params": {
                    "line_item_id": "6f5kq",
                    "name": "election results"
                    "targeting_value": "election results"
                    "targeting_type": "PHRASE_KEYWORD"
                  },
                  "operation_type": "Create"
                  "dependent_entities": []
                },
                {
                  "entity_type": "promoted_tweets"
                  "params": {
                    "id": "101ftp"
                  },
                  "operation_type": "Delete"
                  "dependent_entities": []
                },
                {
                  "entity_type": "targeting_criteria"
                  "params": {
                    "line_item_id": "6f5kq",
                    "name": "Male"
                    "targeting_value": 1,
                    "targeting_type": "GENDER"
                    "targeting_type": "GENDER"
                  "operation_type": "Create"
                  "dependent_entities": []
                },
                {
                  "entity_type": "targeting_criteria"
                  "params": {
                    "line_item_id": "6f5kq",
                    "name": "San Francisco-Oakland-San Jose CA, US"
                    "targeting_value": "",
                    "targeting_type": "LOCATION"
                  },
                  "operation_type": "Create"
                  "dependent_entities": []
                },
                {
                  "entity_type": "promoted_tweets"
                  "params": {
                    "id": "101fto"
                  },
                  "operation_type": "Delete"
                  "dependent_entities": []
                },
                {
                  "entity_type": "promoted_tweets"
                  "params": {
                    "line_item_id": "6f5kq",
                    "display_properties": [],
                    "paused": false,
                    "approval_status": "ACCEPTED"
                    "tweet_id": "91125952589766656"
                  },
                  "operation_type": "Create"
                  "dependent_entities": []
                },
                {
                  "entity_type": "targeting_criteria"
                  "params": {
                    "line_item_id": "6f5kq",
                    "name": "Partner audience targeting"
                    "targeting_value": "v2cx",
                    "targeting_type": "NEGATIVE_BEHAVIOR"
                  },
                  "operation_type": "Create"
                  "dependent_entities": []
                },
                {
                  "entity_type": "targeting_criteria"
                  "params": {
                    "line_item_id": "6f5kq",
                    "name": "AGE_21_TO_34"
                    "targeting_value": "AGE_21_TO_34",
                    "targeting_type": "AGE"
                  },
                  "operation_type": "Create"
                  "dependent_entities": []
                },
                {
                  "entity_type": "targeting_criteria"
                  "params": {
                    "id": "a8po6o"
                  },
                  "operation_type": "Delete"
                  "dependent_entities": []
                },
                {
                  "entity_type": "promoted_tweets"
                  "params": {
                    "line_item_id": "6f5kq",
                    "display_properties": [],
                    "paused": false,
                    "approval_status": "ACCEPTED"
                    "tweet_id": "991101965843460096"
                  },
                  "operation_type": "Create"
                  "dependent_entities": []
                },
                {
                  "entity_type": "promoted_tweets",
                  "params": {
                    "line_item_id": "6f5kq",
                    "display_properties": [],
                    "paused": false,
"approval_status": "ACCEPTED",
                    "tweet_id": "991127212156096516"
                  },
"operation_type": "Create",
                  "dependent_entities": []
                },
                {
"entity_type": "targeting_criteria",
                  "params": {
                    "line_item_id": "6f5kq",
"name": "debate",
"targeting_value": "debate",
"targeting_type": "NEGATIVE_PHRASE_KEYWORD",
                  },
"operation_type": "Create",
                  "dependent_entities": []
                },
                {
"entity_type": "targeting_criteria",
                  "params": {
                    "line_item_id": "6f5kq",
"name": "60004, IL, US",
                    "targeting_value": "",
"targeting_type": "LOCATION",
                  },
"operation_type": "Create",
                  "dependent_entities": []
                },
                {
"entity_type": "targeting_criteria",
                  "params": {
                    "id": "a8po6n"
                  },
"operation_type": null,
                  "dependent_entities": []
                },
                {
"entity_type": "promoted_tweets",
                  "params": {
                    "id": "101ftn"
                  },
"operation_type": null,
                  "dependent_entities": []
                }
              ]
            }
          ]
        }
      ],
"funding_instrument_id": "gpvzb",
      "id": "62ce8zza1q0w",
      "account_id": "18ce54d4x5t",
"status": "PENDING",
"message": "测试建议"
      "created_at": "2016-11-14T23:07:54Z",
      "updated_at": "2016-11-14T23:07:54Z"
      }
    }
```

<div id="scheduled-promoted-tweets">
  ### 预定的推广推文
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET accounts/:account\_id/scheduled\_promoted\_tweets[](#get-accounts-account-id-scheduled-promoted-tweets "Permalink to this headline")

检索与当前账户关联的部分或全部已排期的推广推文详情。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/scheduled_promoted_tweets`

**参数[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有广告主 API 请求所需的必填参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| count  <br />_optional_ | 指定每个独立请求尝试检索的记录数。<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 指定用于获取下一页结果的游标。参见 [Pagination](/zh/x-ads-api/introduction) 了解更多信息。<br /><br />Type: string<br /><br />Example: `8x7v00oow` |
| line\_item\_ids  <br />_optional_ | 通过指定以逗号分隔的标识符列表，将响应限定为与特定广告单元关联的已排期推文。最多可提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `8xdpe` |
| scheduled\_promoted\_tweet\_ids  <br />_optional_ | 通过指定以逗号分隔的标识符列表，将响应限定为所需的已排期推广推文。最多可提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `1xboq` |
| sort\_by  <br />_optional_ | 按受支持的属性进行升序或降序排序。参见 [Sorting](/zh/x-ads-api/introduction) 了解更多信息。<br /><br />Type: string<br /><br />Example: `created_at-asc` |
| with\_deleted  <br />_optional_ | 在请求中包含已删除的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |
| with\_total\_count  <br />_optional_ | 在响应中包含 `total_count` 属性。<br /><br />**Note**: 此参数与 `cursor` 互斥。<br /><br />**Note**: 包含 `total_count` 的请求具有更低的速率限制，目前为每 15 分钟 200 次。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**示例请求[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/scheduled_promoted_tweets?scheduled_promoted_tweet_ids=1xboq`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "scheduled_promoted_tweet_ids": [
            "1xboq"
          ],
          "account_id": "18ce54d4x5t"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "line_item_id": "8xdpe",
          "id": "1xboq",
          "created_at": "2017-06-01T19:53:32Z",
          "updated_at": "2017-06-01T20:00:06Z",
          "scheduled_tweet_id": "870366669373194240",
          "tweet_id": "870369382207070208",
          "deleted": false
        }
      ]
    }
```

#### GET accounts/:account\_id/scheduled\_promoted\_tweets/:scheduled\_promoted\_tweet\_id[](#get-accounts-account-id-scheduled-promoted-tweets-scheduled-promoted-tweet-id "Permalink to this headline")

检索与当前账户关联的特定计划投放推文。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/scheduled_promoted_tweets/:scheduled_promoted_tweet_id`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用账户的标识符。该参数出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求所必需的。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| scheduled\_promoted\_tweet\_id  <br />_required_ | 本次请求中要操作的计划投放推文的引用。<br /><br />Type: string<br /><br />Example: `1xboq` |
| with\_deleted  <br />_optional_ | 在响应中包含已删除的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/scheduled_promoted_tweets/1xboq`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "scheduled_promoted_tweet_id": "1xboq",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "line_item_id": "8xdpe",
        "id": "1xboq",
        "created_at": "2017-06-01T19:53:32Z",
        "updated_at": "2017-06-01T20:00:06Z",
        "scheduled_tweet_id": "870366669373194240",
        "tweet_id": "870369382207070208",
        "deleted": false
      }
    }
```

#### POST accounts/:account\_id/scheduled\_promoted\_tweets[](#post-accounts-account-id-scheduled-promoted-tweets "Permalink to this headline")

将已排期的推文关联到指定的广告组（line item）。

**注意**：无法更新（PUT）已排期的推广推文实体。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/scheduled_promoted_tweets`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用账户的标识符。出现在资源路径中，通常是所有 Advertiser API 请求（不包括 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts)）的必需参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| line\_item\_id  <br />_required_ | 请求中所操作的广告组（line item）的引用。<br /><br />Type: string<br /><br />Example: `8xdpe` |
| scheduled\_tweet\_id  <br />_required_ | 请求中所操作的已排期推文的引用。<br /><br />Type: long<br /><br />Example: `870358555227860992` |

**Example Request[](#example-request "Permalink to this headline")**

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/scheduled_promoted_tweets?line_item_id=8xdpe&scheduled_tweet_id=870358555227860992`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "data": {
        "line_item_id": "8xdpe",
        "id": "1xtfl",
        "created_at": "2017-06-08T07:25:26Z",
        "updated_at": "2017-06-08T07:25:26Z",
        "scheduled_tweet_id": "870358555227860992",
        "tweet_id": null,
        "deleted": false
      },
      "request": {
        "params": {
          "line_item_id": "8xdpe",
          "scheduled_tweet_id": 870358555227860992,
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

#### DELETE accounts/:account\_id/scheduled\_promoted\_tweets/:scheduled\_promoted\_tweet\_id[](#delete-accounts-account-id-scheduled-promoted-tweets-scheduled-promoted-tweet-id "Permalink to this headline")

将已排程的推文与指定的广告线项取消关联。

**注意**：只能在该推文的 `scheduled_at` 时间之前删除 `scheduled_promoted_tweets`。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/scheduled_tweets/:scheduled_tweet_id`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被使用账号的标识符。出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求所需的参数。指定的账号必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| scheduled\_promoted\_tweet\_id  <br />_必填_ | 在请求中所操作的已排程推广推文的引用。取自 [GET accounts/:account\_id/scheduled\_promoted\_tweets](#get-accounts-account-id-scheduled-promoted-tweets) 响应对象的 `id` 属性。<br /><br />类型：string<br /><br />示例：`1xtfl` |

**示例请求[](#example-request "Permalink to this headline")**

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/scheduled_promoted_tweets/1xtfl`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "data": {
        "line_item_id": "8xdpe",
        "id": "1xtfl",
        "created_at": "2017-06-08T07:25:26Z",
        "updated_at": "2017-06-15T05:14:12Z",
        "scheduled_tweet_id": "870358555227860992",
        "tweet_id": null,
        "deleted": true
      },
      "request": {
        "params": {
          "scheduled_promoted_tweet_id": "1xtfl",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

<div id="targeting-criteria">
  ### 定向条件
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET accounts/:account\_id/targeting\_criteria[](#get-accounts-account-id-targeting-criteria "Permalink to this headline")

检索当前账户下投放项关联的部分或全部定向条件详情。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/targeting_criteria`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求的必需参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| line\_item\_ids  <br />_required_ | 通过指定以逗号分隔的标识符列表，将响应限定为指定投放项下的定向条件。最多可提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `8u94t` |
| count  <br />_optional_ | 指定每个请求尝试检索的记录数。<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 指定用于获取下一页结果的游标。更多信息参见 [Pagination](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `8x7v00oow` |
| lang  <br />_optional_ | 一个 [ISO-639-1](https://en.wikipedia.org/wiki/ISO_639-1) 语言代码。传入时，对于具备本地化名称的对象，响应将返回额外的 `localized_name` 属性。<br /><br />Type: string<br /><br />Example: `fr` |
| sort\_by  <br />_optional_ | 按受支持的属性进行升序或降序排序。更多信息参见 [Sorting](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `created_at-asc` |
| targeting\_criterion\_ids  <br />_optional_ | 通过指定以逗号分隔的标识符列表，将响应限定为所需的定向条件。最多可提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `dpl3a6` |
| with\_deleted  <br />_optional_ | 在请求中包含已删除的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |
| with\_total\_count  <br />_optional_ | 在响应中包含 `total_count` 属性。<br /><br />**Note**: 此参数与 `cursor` 互斥。<br /><br />**Note**: 包含 `total_count` 的请求将具有较低的速率限制，目前为每 15 分钟 200 次。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/targeting_criteria?line_item_ids=8u94t`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "line_item_ids": [
            "8u94t"
          ]
        }
      },
      "next_cursor": null,
      "data": [
        {
          "line_item_id": "8u94t",
          "name": "Custom audience targeting",
          "id": "dpl3a6",
          "operator_type": "EQ",
          "created_at": "2017-05-26T03:29:35Z",
          "targeting_value": "249yj",
          "updated_at": "2017-05-26T03:29:35Z",
          "deleted": false,
          "targeting_type": "CUSTOM_AUDIENCE"
        }
      ]
    }
```

#### GET accounts/:account\_id/targeting\_criteria/:targeting\_criterion\_id[](#get-accounts-account-id-targeting-criteria-targeting-criterion-id "Permalink to this headline")

获取与当前账户关联的特定定向条件。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/targeting_criteria/:targeting_criterion_id`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用的账户标识符。出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有广告主 API 请求所必需的参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| targeting\_criterion\_id  <br />_required_ | 你在该请求中所操作的定向条件引用。<br /><br />Type: string<br /><br />Example: `eijd4y` |
| lang  <br />_optional_ | [ISO-639-1](https://en.wikipedia.org/wiki/ISO_639-1) 语言代码。传入该参数时，对于存在本地化名称的对象，响应中将额外返回 `localized_name` 属性。<br /><br />Type: string<br /><br />Example: `fr` |
| with\_deleted  <br />_optional_ | 在请求中包含已删除的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/targeting_criteria/eijd4y`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "targeting_criterion_id": "eijd4y",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "line_item_id": "619jl",
        "name": "🤖",
        "id": "eijd4y",
        "created_at": "2017-07-06T16:51:04Z",
        "targeting_value": "🤖",
        "updated_at": "2017-07-06T16:51:04Z",
        "deleted": false,
        "targeting_type": "BROAD_KEYWORD"
      }
    }
```

#### POST accounts/:account\_id/targeting\_criteria[](#post-accounts-account-id-targeting-criteria "此标题的永久链接")

请参阅 [Targeting Options](/zh/x-ads-api/campaign-management#targeting-options) 页面以查找特定定向类型的 `targeting_value`。我们建议每周刷新所有数据，以确保您使用的是最新的一组定向类型取值。我们会不时更改取值和可用的定向条件；尽管其中大多数不常变更，但有些会。无法保证这些取值保持不变。

使用 `BROAD_KEYWORD`、`EXACT_KEYWORD`、`PHRASE_KEYWORD` 或 `UNORDERED_KEYWORD` 定向类型，并在 `targeting_value` 中指定关键词。通过将请求参数 `operator_type` 设为 `NE` 来排除关键词。参见 [targeting keyword types](/zh/x-ads-api/campaign-management#targeting) 以获取每种类型的详细说明。

**注意**：每个广告单元（line item）只能定向到一个年龄分段。

**注意**：若要定向到自定义受众（Custom Audience），该受众必须可用于定向。即，`targetable` _必须_ 等于 `true`。

**注意**：当使用定向类型 `TV_SHOW` 时，在设置 `TV_SHOW` 定向之前，该广告单元上必须至少已有一个 `LOCATION` 定向条件，且所有 `LOCATION` 必须与所定向的 `TV_SHOW` 处于相同的语系/语言区域。

**Resource URL[](#resource-url "此标题的永久链接")**

`https://ads-api.x.com/12/accounts/:account_id/targeting_criteria`

**Parameters[](#parameters "此标题的永久链接")**

| 名称 | 描述 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被使用账户的标识符。出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求的必需参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| line\_item\_id  <br />_必填_ | 您在请求中操作的广告单元（line item）引用。<br /><br />类型：string<br /><br />示例：`69ob` |
| operator\_type  <br />_必填_ | 指定定向条件应具有的关系。例如，要排除关键词，请使用 `operator_type=NE`。<br /><br />类型：enum<br /><br />可能取值：`EQ`、`NE`、`GTE`、`LT` |
| targeting\_type  <br />_必填_ | 将应用于此广告单元的定向类型。<br /><br />可能的非关键词类取值包括：`AGE`、`DEVICE`、`EVENT`、`CAMPAIGN_ENGAGEMENT`、`CAMPAIGN_ENGAGEMENT_LOOKALIKE`、`CONVERSATION`、`ENGAGEMENT_TYPE`、`FOLLOWERS_OF_USER`、`GENDER`、`INTEREST`、`LANGUAGE`、`LIVE_TV_EVENT`、`LOCATION`、`NETWORK_ACTIVATION_DURATION`、`NETWORK_OPERATOR`、`PLATFORM`、`PLATFORM_VERSION`、`SIMILAR_TO_FOLLOWERS_OF_USER`、`TV_SHOW`、`USER_ENGAGEMENT`、`USER_ENGAGEMENT_LOOKALIKE`、`WIFI_ONLY`<br /><br />**注意**：每个广告单元只能定向到一个 `AGE` 分段。<br /><br />可能的关键词类取值包括：`BROAD_KEYWORD`、`EXACT_KEYWORD`、`PHRASE_KEYWORD`、`UNORDERED_KEYWORD`<br /><br />可能的自定义受众取值包括：`CUSTOM_AUDIENCE`、`CUSTOM_AUDIENCE_EXPANDED`<br /><br />可能的已安装应用商店类别取值：`APP_STORE_CATEGORY`、`APP_STORE_CATEGORY_LOOKALIKE`<br /><br />可能的 Twitter Audience Platform（TAP）应用排除：`APP_LIST`（仅可与 `operator_type=NE` 搭配使用） |
| targeting\_value  <br />_必填_ | 根据所选的 `targeting_type`，指定此定向将应用于哪个用户、兴趣、位置、事件、平台、平台版本、设备、关键词或短语、性别、自定义受众、应用商店类别，或应用列表排除项。<br /><br />类型：string<br /><br />示例：`174958347` |

**Example Request[](#example-request "此标题的永久链接")**

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/targeting_criteria?line_item_id=619jl&targeting_type=BROAD_KEYWORD&targeting_value=technology`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "data": {
        "line_item_id": "619jl",
        "name": "technology",
        "id": "fbyjlr",
        "created_at": "2017-09-06T07:31:21Z",
        "targeting_value": "technology",
        "updated_at": "2017-09-06T07:31:21Z",
        "deleted": false,
        "targeting_type": "BROAD_KEYWORD"
      },
      "request": {
        "params": {
          "line_item_id": "619jl",
          "targeting_type": "BROAD_KEYWORD",
          "targeting_value": "technology",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

#### POST batch/accounts/:account\_id/targeting\_criteria[](#post-batch-accounts-account-id-targeting-criteria "Permalink to this headline")

允许通过单个请求批量创建新的定向条件（Targeting Criteria）。

**批量请求**

- 当前最大批量大小为 500。
- 所有参数都在请求正文中发送，且必须将 `Content-Type` 设为 `application/json`。
- 批量请求作为一个整体要么失败要么成功；无论失败还是成功，所有 API 响应都会保留初始请求中各项的顺序。

**批量响应**

批量 API 响应返回一个有序的条目集合。除此之外，其结构与相应的单条目端点完全相同。

**批量错误**

- 请求级错误（例如超出最大批量大小）会在响应中的 `errors` 对象下显示。
- 条目级错误（例如缺少必需的定向条件参数）会在响应中的 `operation_errors` 对象下显示。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/batch/accounts/:account_id/targeting_criteria`

**参数[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| operation\_type  <br />_required_ | 针对每个条目执行的操作类型。<br /><br />Type: enum<br /><br />Possible values: `Create`, `Delete` |
| params  <br />_required_ | 包含所有定向条件对象参数的 JSON 对象。有关必填和可选的定向条件参数列表，请参见[此处](#post-accounts-account-id-targeting-criteria)。<br /><br />此外，此端点支持 `operator_type` 参数，可与某些 `targeting_type` 值配合使用。该参数的可选值包括：`EQ`（等于）、`GTE`（大于等于）、`LT`（小于）和 `NE`（不等于）。 |

**示例请求[](#example-request "Permalink to this headline")**

`POST https://ads-api.x.com/12/batch/accounts/18ce54d4x5t/targeting_criteria`

```json
    [
      {
        "operation_type":"Create",
        "params":{
          "line_item_id":"6f9an",
          "targeting_type":"LOCATION",
          "targeting_value":"5122804691e5fecc"
        }
      },
      {
        "operation_type":"Delete",
        "params":{
          "targeting_criterion_id":"al2rua"
        }
      }
    ]
```

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "data_type": "targeting_criterion",
      "data": [
        {
          "line_item_id": "6f9an",
          "name": "San Francisco-Oakland-San Jose CA, US",
          "id": "al7vt2",
          "location_type": "CITY",
          "operator_type": "EQ",
          "created_at": "2016-11-11T22:59:50Z",
          "targeting_value": "5122804691e5fecc",
          "updated_at": "2016-11-11T22:59:50Z",
          "deleted": false,
          "targeting_type": "LOCATION"
        },
        {
          "line_item_id": "6keuo",
          "name": "accounts",
          "id": "al2rua",
          "operator_type": "EQ",
          "created_at": "2016-11-11T17:50:19Z",
          "targeting_value": "accounts",
          "updated_at": "2016-11-11T22:59:50Z",
          "deleted": true,
          "targeting_type": "BROAD_KEYWORD"
        }
      ],
      "request": [
        {
          "params": {
            "line_item_id": "6f9an",
            "targeting_type": "LOCATION",
            "targeting_value": "5122804691e5fecc",
            "account_id": "18ce54d4x5t"
          },
          "operation_type": "Create"
        },
        {
          "params": {
            "targeting_criterion_id": "al2rua",
            "account_id": "18ce54d4x5t"
          },
          "operation_type": "Delete"
        }
      ]
    }
```

#### DELETE accounts/:account\_id/targeting\_criteria/:targeting\_criterion\_id[](#delete-accounts-account-id-targeting-criteria-targeting-criterion-id "Permalink to this headline")

删除当前账户下的指定定向条件。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/targeting_criteria/:targeting_criterion_id`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用的账户标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求的必需参数。指定账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| targeting\_criterion\_id  <br />_required_ | 本次请求中所操作的定向条件的引用 ID。<br /><br />Type: string<br /><br />Example: `dpl3a6` |

**Example Request[](#example-request "Permalink to this headline")**

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/targeting_criteria/dpl3a6`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "data": {
        "line_item_id": "8u94t",
        "name": "Custom audience targeting",
        "id": "dpl3a6",
        "created_at": "2017-05-26T03:29:35Z",
        "targeting_value": "249yj",
        "updated_at": "2017-08-30T18:38:58Z",
        "deleted": true,
        "targeting_type": "CUSTOM_AUDIENCE"
      },
      "request": {
        "params": {
          "targeting_criterion_id": "dpl3a6",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

<div id="targeting-options">
  ### 定向选项
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

- [应用商店分类](#get-targeting-criteria-app-store-categories)
- [话题](#get-targeting-criteria-conversations)
- [设备](#get-targeting-criteria-devices)
- [事件](#get-targeting-criteria-events)
- [兴趣](#get-targeting-criteria-interests)
- [语言](#get-targeting-criteria-languages)
- [位置](#get-targeting-criteria-locations)
- [网络运营商](#get-targeting-criteria-network-operators)
- [平台版本](#get-targeting-criteria-platform-versions)
- [平台](#get-targeting-criteria-platforms)
- [电视市场](#get-targeting-criteria-tv-markets)
- [电视节目](#get-targeting-criteria-tv-shows)

#### GET targeting\_criteria/app\_store\_categories[](#get-targeting-criteria-app-store-categories "Permalink to this headline")

查询可用于推广产品的应用商店类别定向条件。应用商店类别目前仅适用于 iOS App Store 和 Google Play 商店。

“已安装应用类别”定向允许基于用户已安装或表达过兴趣的应用类别进行投放定向。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/targeting_criteria/app_store_categories`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| q  <br />_optional_ | 可选查询，用于限定定向条件的范围。省略该参数将返回全部结果。<br /><br />Type: string<br /><br />Example: `music` |
| os\_type  <br />_optional_ | 按指定的应用商店限定结果范围。<br /><br />Type: enum<br /><br />Possible values: `ANDROID`, `IOS` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/targeting_criteria/app_store_categories?q=music&os_type=IOS`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "data": [
        {
          "name": "Games: Music",
          "targeting_type": "APP_STORE_CATEGORY",
          "targeting_value": "qouq",
          "os_type": "IOS"
        },
        {
          "name": "Music",
          "targeting_type": "APP_STORE_CATEGORY",
          "targeting_value": "qov2",
          "os_type": "IOS"
        }
      ],
      "request": {
        "params": {
          "q": "music",
          "os_type": "IOS"
        }
      }
    }
```

#### GET targeting\_criteria/conversations[](#get-targeting-criteria-conversations "Permalink to this headline")

发现可用于推广产品的基于会话的定向条件。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/targeting_criteria/conversations`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| conversation\_type  <br />_optional_ | 可选查询，用于限定特定的会话类型。<br /><br />Type: enum<br /><br />Possible values: `ACTORS`, `ATHLETES`, `BOOK_GENRES`, `BOOKS`, `BRAND_CATEGORIES`, `BRANDS`, `CELEBRITIES`, `COACHES`, `DIGITAL_CREATORS`, `ENTERTAINMENT_BRANDS`, `ENTERTAINMENT_PERSONALITIES`, `FICTIONAL_CHARACTERS`, `JOURNALISTS`, `LIFESTYLES`, `MOVIE_GENRES`, `MOVIES`, `MUSIC_GENRES`, `MUSICIANS`, `NEWS_STORIES`, `NEWS`, `PERSONS`, `PLACES`, `PODCASTS`, `POLITICAL_AFFILIATIONS`, `POLITICIANS`, `PRODUCTS`, `RADIO_STATIONS`, `SPORTS_LEAGUES`, `SPORTS_PERSONALITIES`, `SPORTS_TEAMS`, `SPORTS`, `TRENDS`, `TV_SHOWS`, `VIDEO_GAME_PLATFORMS`, `VIDEO_GAME_PUBLISHERS`, `VIDEO_GAMES` |
| count  <br />_optional_ | 指定每个请求尝试获取的记录数。<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 指定用于获取下一页结果的游标。更多信息请参见 [Pagination](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `8x7v00oow` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/targeting_criteria/conversations?count=2`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "count": 2
        }
      },
      "next_cursor": "1f7m7",
      "data": [
        {
          "targeting_type": "CONVERSATION",
          "targeting_value": "a1",
          "name": "NFL",
          "conversation_type": "SPORTS"
        },
        {
          "targeting_type": "CONVERSATION",
          "targeting_value": "a2",
          "name": "NBA",
          "conversation_type": "SPORTS"
        }
      ]
    }
```

#### GET targeting\_criteria/devices[](#get-targeting-criteria-devices "Permalink to this headline")

发现可用于推广产品的设备定向条件。设备定向适用于推广推文。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/targeting_criteria/devices`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| count  <br />_optional_ | 指定每次请求尝试检索的记录数。<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| q  <br />_optional_ | 用于限定定向条件范围的可选查询。省略此参数以检索全部结果。<br /><br />Type: string<br /><br />Example: `apple` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/targeting_criteria/devices?count=2&q=iphone`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "data": [
        {
          "name": "iPhone 3GS",
          "manufacturer": "Apple",
          "os_type": "iOS",
          "targeting_value": "1q",
          "targeting_type": "DEVICE"
        },
        {
          "name": "iPhone 4",
          "manufacturer": "Apple",
          "os_type": "iOS",
          "targeting_value": "1r",
          "targeting_type": "DEVICE"
        }
      ],
      "request": {
        "params": {
          "q": "iphone",
          "count": 2
        }
      }
    }
```

#### GET targeting\_criteria/events[](#get-targeting-criteria-events "Permalink to this headline")

发现可用于推广产品的基于事件的定向条件。每个单项只能定向一个事件。

**注意**：事件通常跨越不同时区，这在跨时区考量事件时间时会带来复杂性。为简化处理，此端点上的所有事件 `start_time` 和 `end_time` 值均以 UTC±00:00 表示，而不受事件所属地区和时区的影响。在查询和使用事件的 `start_time` 与 `end_time` 值时应牢记这一设计。例如，美国的独立日以 UTC±00:00 表示为 `start_time=2017-07-04T00:00:00Z` 和 `end_time=2017-07-05T00:00:00Z`，从而避免了该节日在美国境内横跨多个时区所带来的问题。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/targeting_criteria/events`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| event\_types  <br />_required_ | 可选查询，用于限定到特定事件类型。<br /><br />Type: enum<br /><br />Possible values: `CONFERENCE`, `HOLIDAY`, `MUSIC_AND_ENTERTAINMENT`, `OTHER`, `POLITICS`, `RECURRING`, `SPORTS` |
| count  <br />_optional_ | 指定每个请求尝试检索的记录数。<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| country\_codes  <br />_optional_ | 可选查询，使用 2 位 ISO 国家代码将定向条件搜索限定在特定国家/地区。若未指定此参数，则返回所有事件。<br /><br />Type: string |
| cursor  <br />_optional_ | 指定用于获取下一页结果的游标。参见 [Pagination](/zh/x-ads-api/introduction) 了解更多信息。<br /><br />Type: string<br /><br />Example: `8x7v00oow` |
| end\_time  <br />_optional_ | 活动结束时间，采用 [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) 格式。<br /><br />Type: string<br /><br />Example: `2017-10-05T00:00:00Z` |
| start\_time  <br />_optional_ | 单项开始投放的时间，采用 [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) 格式。<br /><br />**注意**：默认当前时间。<br /><br />Type: string<br /><br />Example: `2017-07-05T00:00:00Z` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/targeting_criteria/events?count=1`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "count": 1
        }
      },
      "data_type": "events",
      "data": [
        {
          "reach": {
            "total_reach": null
          },
          "name": "New Year's",
          "start_time": "2017-12-31T00:00:00Z",
          "top_users": [],
          "top_tweets": [],
          "top_hashtags": [],
          "gender_breakdown_percentage": {},
          "end_time": "2018-01-02T00:00:00Z",
          "country_code": null,
          "device_breakdown_percentage": {},
          "targeting_value": "1ex",
          "is_global": true,
          "event_type": "HOLIDAY",
          "country_breakdown_percentage": {}
        }
      ],
      "next_cursor": "uww0"
    }
```

#### GET targeting\_criteria/interests[](#get-targeting-criteria-interests "跳转到此标题的永久链接")

获取可用于推广产品的基于兴趣的定向条件。兴趣项变动不频繁，但我们建议至少每周刷新一次该列表。

**资源 URL[](#resource-url "跳转到此标题的永久链接")**

`https://ads-api.x.com/12/targeting_criteria/interests`

**参数[](#parameters "跳转到此标题的永久链接")**

| 名称 | 描述 |
| :--- | :--- |
| count  <br />_可选_ | 指定每个请求尝试检索的记录数。<br /><br />类型：int<br /><br />默认值：`200`  <br />最小值、最大值：`1`、`1000` |
| cursor  <br />_可选_ | 指定用于获取下一页结果的游标。更多信息请参见 [分页](/zh/x-ads-api/introduction)。<br /><br />类型：string<br /><br />示例：`8x7v00oow` |
| q  <br />_可选_ | 可选查询，用于限定定向条件的范围。省略此参数以检索全部结果。<br /><br />类型：string<br /><br />示例：`books` |

**示例请求[](#example-request "跳转到此标题的永久链接")**

`GET https://ads-api.x.com/12/targeting_criteria/interests?q=books`

**示例响应[](#example-response "跳转到此标题的永久链接")**

```json
    {
      "data": [
        {
          "name": "Books and literature/Biographies and memoirs",
          "targeting_type": "INTEREST",
          "targeting_value": "1001"
        }
      ],
      "request": {
        "params": {
          "q": "books",
          "count": 1
        }
      },
      "next_cursor": "6by4n4"
    }
```

#### GET targeting\_criteria/languages[](#get-targeting-criteria-languages "Permalink to this headline")

查询可用于投放定位的语言。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/targeting_criteria/languages`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| count  <br />_optional_ | 指定每个请求尝试检索的记录数。<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 指定用于获取下一页结果的游标。更多信息参见 [Pagination](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `8x7v00oow` |
| q  <br />_optional_ | 用于限定投放定位条件的可选查询。省略此参数以检索全部。<br /><br />Type: string<br /><br />Example: `english` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/targeting_criteria/languages?q=english`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "data": [
        {
          "name": "English",
          "targeting_type": "LANGUAGE",
          "targeting_value": "en"
        }
      ],
      "request": {
        "params": {
          "q": "english"
        }
      },
      "next_cursor": null
    }
```

#### GET targeting\_criteria/locations[](#get-targeting-criteria-locations "Permalink to this headline")

发现适用于推广产品的基于位置的定向条件。地理定向可用于推广账号和推广推文，支持国家级、州/地区级、城市级以及邮政编码级。若希望在邮政编码级检索分析数据，必须使用邮政编码定向。

**注意**：要检索特定可定向城市（例如 San Francisco 或 New York），请在请求参数 `location_type` 中使用 `CITIES` 枚举。

要定向指定市场区域（DMA），请使用 `METROS` 枚举。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/targeting_criteria/locations`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 说明 |
| :--- | :--- |
| count  <br />_可选_ | 指定每次请求尝试检索的记录数。<br /><br />类型：int<br /><br />默认值：`200`  <br />最小值、最大值：`1`、`1000` |
| country\_code  <br />_可选_ | 可选查询，将定向条件搜索限定为特定国家，使用 2 位 ISO 国家代码。不传此参数将检索所有国家的结果。<br /><br />类型：string<br /><br />示例：`JP` |
| cursor  <br />_可选_ | 指定用于获取下一页结果的游标。更多信息参见 [Pagination](/zh/x-ads-api/introduction)。<br /><br />类型：string<br /><br />示例：`8x7v00oow` |
| location\_type  <br />_可选_ | 按特定类型的位置限定结果。比 `COUNTRIES` 更细的定向在所有地区可能并不可用。<br /><br />类型：enum<br /><br />可能取值：`COUNTRIES`、`REGIONS`、`METROS`、`CITIES`、`POSTAL_CODES` |
| q  <br />_可选_ | 可选查询，用于限定定向条件搜索。不传此参数将检索所有结果。<br /><br />类型：string<br /><br />示例：`New York` |

**示例请求[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/targeting_criteria/locations?location_type=CITIES&q=los angeles`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "data": [
        {
          "name": "Los Angeles, Los Angeles CA, CA, USA",
          "country_code": "US",
          "location_type": "CITIES",
          "targeting_value": "3b77caf94bfc81fe",
          "targeting_type": "LOCATION"
        },
        {
          "name": "East Los Angeles, Los Angeles CA, CA, USA",
          "country_code": "US",
          "location_type": "CITIES",
          "targeting_value": "67571a7baaa5906b",
          "targeting_type": "LOCATION"
        },
        {
          "name": "Lake Los Angeles, Los Angeles CA, CA, USA",
          "country_code": "US",
          "location_type": "CITIES",
          "targeting_value": "ea9bfbd43c93400f",
          "targeting_type": "LOCATION"
        },
        {
          "name": "Los Gatos, San Francisco-Oakland-San Jose CA, CA, USA",
          "country_code": "US",
          "location_type": "CITIES",
          "targeting_value": "a2de7c70b82b0ca0",
          "targeting_type": "LOCATION"
        },
        {
          "name": "Los Altos, Monterey-Salinas CA, CA, USA",
          "country_code": "US",
          "location_type": "CITIES",
          "targeting_value": "6a4364ea6f987c10",
          "targeting_type": "LOCATION"
        },
        {
          "name": "Los Banos, CA, USA",
          "country_code": "US",
          "location_type": "CITIES",
          "targeting_value": "b1b6fc646de75904",
          "targeting_type": "LOCATION"
        },
        {
          "name": "Los Alamitos, Los Angeles CA, CA, USA",
          "country_code": "US",
          "location_type": "CITIES",
          "targeting_value": "0799ff0a3c1006e9",
          "targeting_type": "LOCATION"
        },
        {
          "name": "Los Angeles, US",
          "country_code": "US",
          "location_type": "CITIES",
          "targeting_value": "019940ae78c7b3bc",
          "targeting_type": "LOCATION"
        }
      ],
      "request": {
        "params": {
          "location_type": "CITIES",
          "q": "los angeles"
        }
      },
      "next_cursor": null
    }
```

#### GET targeting\_criteria/network\_operators[](#get-targeting-criteria-network-operators "Permalink to this headline")

查询可用于推广产品的基于网络运营商的定向条件。

此端点可在多个国家/地区查找可用于定向的运营商，例如 AT\&T、Verizon、Sprint、T-Mobile 等。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/targeting_criteria/network_operators`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 描述 |
| :--- | :--- |
| count  <br />_可选_ | 指定每个请求尝试检索的记录数。<br /><br />类型：int<br /><br />默认值：`200`  <br />最小值/最大值：`1`、`1000` |
| country\_code  <br />_可选_ | 可选查询，使用 2 个字母的 ISO 国家/地区代码将定向条件搜索限定到特定国家/地区。未指定该参数时，仅返回美国的合作伙伴受众。<br /><br />类型：string<br /><br />默认值：`US` |
| cursor  <br />_可选_ | 指定用于获取下一页结果的游标。参见 [Pagination](/zh/x-ads-api/introduction) 了解更多信息。<br /><br />类型：string<br /><br />示例：`8x7v00oow` |
| q  <br />_可选_ | 可选查询，用于限定定向条件搜索。省略此参数以检索所有结果。<br /><br />类型：string<br /><br />示例：`Airpeak` |

**示例请求[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/targeting_criteria/network_operators?count=5&country_code=US`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "data": [
        {
          "country_code": "US",
          "targeting_type": "NETWORK_OPERATOR",
          "name": "Advantage",
          "targeting_value": "2l"
        },
        {
          "country_code": "US",
          "targeting_type": "NETWORK_OPERATOR",
          "name": "Aeris",
          "targeting_value": "1b"
        },
        {
          "country_code": "US",
          "targeting_type": "NETWORK_OPERATOR",
          "name": "Airadigm",
          "targeting_value": "2t"
        },
        {
          "country_code": "US",
          "targeting_type": "NETWORK_OPERATOR",
          "name": "Airlink PCS",
          "targeting_value": "14"
        },
        {
          "country_code": "US",
          "targeting_type": "NETWORK_OPERATOR",
          "name": "Airpeak",
          "targeting_value": "1i"
        }
      ],
      "request": {
        "params": {
          "country_code": "US",
          "count": 5
        }
      },
      "next_cursor": "o7x9iet1a5u608olj4"
    }
```

#### GET targeting\_criteria/platform\_versions[](#get-targeting-criteria-platform-versions "Permalink to this headline")

发现可用于推广产品的移动操作系统版本定位条件。平台版本定位适用于推广账号和推广推文。借此可精确定位到移动操作系统的次要版本，例如 Android 8.0 或 iOS 10.0。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/targeting_criteria/platform_versions`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| q  <br />_optional_ | 用于限定定位条件搜索范围的可选查询。省略此参数即可检索所有结果。<br /><br />Type: string<br /><br />Examples: `jelly bean` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/targeting_criteria/platform_versions`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
        "data": [
            {...},
            {
                "name": "Ice Cream Sandwich",
                "number": "4.0",
                "os_type": "Android",
                "targeting_type": "PLATFORM_VERSION",
                "targeting_value": "17"
            },
            {
                "name": "Jelly Bean",
                "number": "4.1",
                "os_type": "Android",
                "targeting_type": "PLATFORM_VERSION",
                "targeting_value": "18"
            },
            {...}
        ],
        "data_type": "targeting_criterion",
        "request": {
            "params": {}
        }
    }
```

#### GET targeting\_criteria/platforms[](#get-targeting-criteria-platforms "Permalink to this headline")

获取可用于推广产品的按平台划分的定向条件。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/targeting_criteria/platforms`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| count  <br />_optional_ | 指定每个请求要尝试检索的记录数。<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| q  <br />_optional_ | 用于限定定向条件搜索范围的可选查询。省略此参数以检索所有结果。<br /><br />Type: string<br /><br />Examples: `ios`, `blackberry` |
| lang  <br />_optional_ | 使用一个 [ISO-639-1](https://en.wikipedia.org/wiki/ISO_639-1) 语言代码。传入时，响应中将额外返回 localized\_name 属性。<br /><br />Type: int, string<br /><br />Example: `fr` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/targeting_criteria/platforms`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "data": [
        {
          "name": "iOS",
          "targeting_type": "PLATFORM",
          "targeting_value": "0"
        },
        {
          "name": "Android",
          "targeting_type": "PLATFORM",
          "targeting_value": "1"
        },
        {
          "name": "BlackBerry phones and tablets",
          "targeting_type": "PLATFORM",
          "targeting_value": "2"
        },
        {
          "name": "Mobile web on other devices",
          "targeting_type": "PLATFORM",
          "targeting_value": "3"
        },
        {
          "name": "Desktop and laptop computers",
          "targeting_type": "PLATFORM",
          "targeting_value": "4"
        }
      ],
      "request": {
        "params": {}
      }
    }
```

#### GET targeting\_criteria/tv\_markets[](#get-targeting-criteria-tv-markets "Permalink to this headline")

查询可用于投放电视节目的可用电视市场。按语言区域返回市场列表，可用于调用 [GET targeting\_criteria/tv\_shows](/zh/x-ads-api/campaign-management#get-targeting-criteria-tv-shows) 端点。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/targeting_criteria/tv_markets`

**Parameters[](#parameters "Permalink to this headline")**

无

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/targeting_criteria/tv_markets`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "data": [
        {
          "name": "France",
          "country_code": "FR",
          "locale": "fr-FR"
        },
        {
          "name": "Chile",
          "country_code": "CL",
          "locale": "es-CL"
        },
        {
          "name": "Germany",
          "country_code": "DE",
          "locale": "de-DE"
        },
        {
          "name": "Netherlands",
          "country_code": "NL",
          "locale": "nl-NL"
        },
        {
          "name": "United States",
          "country_code": "US",
          "locale": "en-US"
        },
        {
          "name": "Venezuela",
          "country_code": "VE",
          "locale": "es-VE"
        },
        {
          "name": "Brazil",
          "country_code": "BR",
          "locale": "pt-BR"
        },
        {
          "name": "Mexico",
          "country_code": "MX",
          "locale": "es-MX"
        },
        {
          "name": "Colombia",
          "country_code": "CO",
          "locale": "es-CO"
        },
        {
          "name": "United Kingdom",
          "country_code": "GB",
          "locale": "en-GB"
        },
        {
          "name": "Argentina",
          "country_code": "AR",
          "locale": "es-AR"
        },
        {
          "name": "Japan",
          "country_code": "JP",
          "locale": "ja-JP"
        },
        {
          "name": "Canada",
          "country_code": "CA",
          "locale": "en-CA"
        },
        {
          "name": "Spain",
          "country_code": "ES",
          "locale": "es-ES"
        },
        {
          "name": "Italy",
          "country_code": "IT",
          "locale": "it-IT"
        },
        {
          "name": "United States - Hispanic",
          "country_code": "US",
          "locale": "es-US"
        },
        {
          "name": "Ireland",
          "country_code": "IE",
          "locale": "en-IE"
        }
      ],
      "request": {
        "params": {}
      }
    }
```

#### GET targeting\_criteria/tv\_shows[](#get-targeting-criteria-tv-shows "固定链接到此标题")

查找适用于推广产品的“按电视节目”定向条件。电视节目定向在部分市场可用于推广推文。可用市场请参见 [GET targeting\_criteria/tv\_markets](/zh/x-ads-api/campaign-management#get-targeting-criteria-tv-markets) 端点。

**注意**：任何包含少于 1,000 名用户的受众，其 `estimated_users` 值将显示为 `1000`。

**注意**：不再支持电视频道和类型的定向选项。

**资源 URL[](#resource-url "固定链接到此标题")**

`https://ads-api.x.com/12/targeting_criteria/tv_shows`

**参数[](#parameters "固定链接到此标题")**

| 名称 | 描述 |
| :--- | :--- |
| locale  <br />_必填_ | 必填参数，指定要查询可用电视节目的 tv\_market\_locale。电视市场基于 [GET targeting\_criteria/tv\_markets](/zh/x-ads-api/campaign-management#get-accounts-account-id-targeting-criteria) 返回的 `locale` 进行查询。<br /><br />类型：string<br /><br />示例：`en-US` |
| count  <br />_可选_ | 指定每个请求尝试检索的记录数。<br /><br />类型：int<br /><br />默认值：`50`  <br />最小值、最大值：`1`、`50` |
| cursor  <br />_可选_ | 指定用于获取下一页结果的游标。更多信息请参见 [Pagination](/zh/x-ads-api/introduction)。<br /><br />类型：string<br /><br />示例：`8x7v00oow` |
| q  <br />_可选_ | 可选查询，用于限定定向条件搜索范围。省略此参数以检索所有结果。<br /><br />类型：string<br /><br />示例：`ios`、`blackberry` |

**示例请求[](#example-request "固定链接到此标题")**

`GET https://ads-api.x.com/12/targeting_criteria/tv_shows?locale=en-US&q=news&count=1`

**示例响应[](#example-response "固定链接到此标题")**

```jdon
    {
      "data": [
        {
          "name": "NewsWatch",
          "targeting_value": 10027243420,
          "genre": "PAID",
          "locales": [
            {
              "language": "en",
              "country": "US"
            }
          ]
        }
      ],
      "next_cursor": "c-22838-zdQDJrTxSvOYfQOhb2IlGQ",
      "request": {
        "params": {
          "locale": {
            "countryCode": "US",
            "languageCode": "en"
          },
          "count": 1,
          "q": "news"
        }
      }
    }
```

<div id="targeting-suggestions">
  ### 定向建议
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET accounts/:account\_id/targeting\_suggestions[](#get-accounts-account-id-targeting-suggestions "此标题的永久链接")

获取最多 50 条关键词或用户定向建议，用于补充您的初始选择。

**资源 URL[](#resource-url "此标题的永久链接")**

`https://ads-api.x.com/12/accounts/:account_id/targeting_suggestions`

**参数[](#parameters "此标题的永久链接")**

| 名称 | 描述 |
| :--- | :--- |
| account\_id  <br />_必填_ | 目标账户的标识符。出现在资源路径中，并且通常是所有 Advertiser API 请求（不包括 [GET accounts](/zh/x-ads-api/campaign-management#accounts)）所必需的参数。指定的账户必须与进行身份验证的用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| suggestion\_type  <br />_必填_ | 指定要返回的建议类型。<br /><br />类型：enum<br /><br />可能的取值：`KEYWORD`、`USER_ID` |
| targeting\_values  <br />_必填_ | 以逗号分隔的关键词或用户 ID 集合，用于作为建议的种子。<br /><br />**注意**：这两种建议类型不能混用。<br /><br />示例：`756201191646691328` |
| count  <br />_可选_ | 指定每个请求尝试检索的记录数。<br /><br />类型：int<br /><br />默认值：`30`  <br />最小值、最大值：`1`、`50` |

**示例请求[](#example-request "此标题的永久链接")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/targeting_suggestions?suggestion_type=KEYWORD&targeting_values=developers&count=2"`

**示例响应[](#example-response "此标题的永久链接")**

```json
    {
      "data": [
        {
          "suggestion_type": "KEYWORD",
          "suggestion_value": "devs"
        },
        {
          "suggestion_type": "KEYWORD",
          "suggestion_value": "software"
        }
      ],
      "request": {
        "params": {
          "suggestion_type": "KEYWORD",
          "targeting_values": [
            "developers"
          ],
          "count": 2,
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

<div id="tax-settings">
  ### 税务设置
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET accounts/:account\_id/tax\_settings[](#get-accounts-account-id-tax-settings "Permalink to this headline")

获取与当前账户关联的税务设置信息。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/tax_settings`

**参数[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用账户的标识符。该值出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求的必填参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |

**示例请求[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/tax_settings`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "tax_id": "GB896391250",
        "address_city": "London",
        "business_relationship": "SELF",
        "address_street1": "21 March St",
        "address_last_name": null,
        "address_company": "ABC, Inc.",
        "tax_category": "BUSINESS_WITH_VAT",
        "address_postal_code": "SW1A 1AA",
        "bill_to": "NOT_SET",
        "address_region": "London",
        "address_country": "GB",
        "address_first_name": null,
        "invoice_jurisdiction": "NOT_SET",
        "address_street2": null,
        "address_email": null
      }
    }
```

#### PUT accounts/:account\_id/tax\_settings[](#put-accounts-account-id-tax-settings "Permalink to this headline")

更新当前账户的税务设置。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/tax_settings`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 描述 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被使用的账户标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求的必填参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| address\_city  <br />_可选_ | 账户所有者地址所在的城市。<br /><br />类型：string<br /><br />示例：`San Francisco` |
| address\_country  <br />_可选_ | 账户所有者地址对应的两字母国家/地区代码。<br /><br />类型：string<br /><br />示例：`US` |
| address\_email  <br />_可选_ | 与账户所有者地址关联的电子邮箱。<br /><br />类型：string<br /><br />示例：`api@mctestface.com` |
| address\_first\_name  <br />_可选_ | 账户所有者地址中的名。<br /><br />类型：string<br /><br />示例：`API` |
| address\_last\_name  <br />_可选_ | 账户所有者地址中的姓。<br /><br />类型：string<br /><br />示例：`McTestface` |
| address\_name  <br />_可选_ | 账户所有者地址中的公司名称。<br /><br />类型：string<br /><br />示例：`ABC, Co.` |
| address\_postal\_code  <br />_可选_ | 账户所有者地址的邮政编码。<br /><br />类型：string<br /><br />示例：`94102` |
| address\_region  <br />_可选_ | 账户所有者地址所在的州/省/地区。<br /><br />类型：string<br /><br />示例：`California` |
| address\_street1  <br />_可选_ | 账户所有者地址的街道地址第一行。<br /><br />类型：string<br /><br />示例：`21 March St` |
| address\_street2  <br />_可选_ | 账户所有者地址的街道地址第二行。<br /><br />类型：string<br /><br />示例：`Suite 99` |
| bill\_to  <br />_可选_ | 计费实体。<br /><br />类型：enum<br /><br />可能的取值：`ADVERTISER`，`AGENCY` |
| business\_relationship  <br />_可选_ | 账户由广告主还是代理机构所有。<br /><br />类型：enum<br /><br />可能的取值：`AGENCY`，`SELF` |
| client\_address\_city  <br />_可选_ | 广告主地址所在的城市。<br /><br />当广告账户由代理机构所有时需设置此项。<br /><br />类型：string<br /><br />示例：`Toronto` |
| client\_address\_country  <br />_可选_ | 广告主地址对应的两字母国家/地区代码。<br /><br />当广告账户由代理机构所有时需设置此项。<br /><br />类型：string<br /><br />示例：`CA` |
| client\_address\_email  <br />_可选_ | 与广告主地址关联的电子邮箱。<br /><br />当广告账户由代理机构所有时需设置此项。<br /><br />类型：string<br /><br />示例：`ads@brand.com` |
| client\_address\_first\_name  <br />_可选_ | 广告主地址中的名。<br /><br />当广告账户由代理机构所有时需设置此项。<br /><br />类型：string<br /><br />示例：`Brand` |
| client\_address\_last\_name  <br />_可选_ | 广告主地址中的姓。<br /><br />当广告账户由代理机构所有时需设置此项。<br /><br />类型：string<br /><br />示例：`Advertiser` |
| client\_address\_name  <br />_可选_ | 广告主地址中的公司名称。<br /><br />当广告账户由代理机构所有时需设置此项。<br /><br />类型：string<br /><br />示例：`Brand, Inc.` |
| client\_address\_postal\_code  <br />_可选_ | 广告主地址的邮政编码。<br /><br />当广告账户由代理商拥有时，需设置此项。<br /><br />类型：string<br /><br />示例：`M5H 2N2` |
| client\_address\_region  <br />_可选_ | 广告主地址所在的地区/省份。<br /><br />当广告账户由代理商拥有时，需设置此项。<br /><br />类型：string<br /><br />示例：`Ontario` |
| client\_address\_street1  <br />_可选_ | 广告主地址的街道第一行。<br /><br />当广告账户由代理商拥有时，需设置此项。<br /><br />类型：string<br /><br />示例：`280 Queen St W` |
| client\_address\_street2  <br />_可选_ | 广告主地址的街道第二行。<br /><br />当广告账户由代理商拥有时，需设置此项。<br /><br />类型：string<br /><br />示例：`The 6` |
| invoice\_jurisdiction  <br />_可选_ | 发票适用的法域/司法辖区。<br /><br />类型：enum<br /><br />可能的取值：`LOI_SAPIN`、`NONE`、`NOT_SET` |
| tax\_category  <br />_可选_ | 税务类别（个人或企业）。<br /><br />类型：enum<br /><br />可能的取值：`BUSINESS_NO_VAT`、`BUSINESS_WITH_VAT`、`INDIVIDUAL` |
| tax\_exemption\_id  <br />_可选_ | 增值税免税 ID。<br /><br />类型：string<br /><br />示例：`12345` |
| tax\_id  <br />_可选_ | 增值税注册 ID。<br /><br />类型：string<br /><br />示例：`67890` |

**示例请求[](#example-request "Permalink to this headline")**

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/tax_settings?address_name=ABC, Co.`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "address_name": "ABC Co."
        }
      },
      "data": {
        "tax_id": "GB896391250",
        "address_city": "London",
        "business_relationship": "SELF",
        "address_street1": "21 March St",
        "address_last_name": null,
        "address_company": "ABC, Co.",
        "tax_category": "BUSINESS_WITH_VAT",
        "address_postal_code": "SW1A 1AA",
        "bill_to": "NOT_SET",
        "address_region": "London",
        "address_country": "GB",
        "address_first_name": null,
        "invoice_jurisdiction": "NOT_SET",
        "address_street2": null,
        "address_email": null
      }
    }
```

<div id="tracking-tags">
  ### 追踪标签
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET accounts/:account\_id/tracking\_tags[](#get-accounts-account-id-tracking-tags "Permalink to this headline")

获取与当前账户关联的部分或全部跟踪标签的详细信息。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/tracking_tags`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用的账户标识符。该参数出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求的必需参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| count  <br />_optional_ | 指定每个请求尝试检索的记录数。<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 指定用于获取下一页结果的游标。有关更多信息，请参阅 [Pagination](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `8x7v00oow` |
| line\_item\_ids  <br />_optional_ | 通过指定以逗号分隔的标识符列表，将响应限定为与特定广告单元关联的跟踪标签。最多可提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `96uzp` |
| sort\_by  <br />_optional_ | 按受支持的属性以升序或降序排序。有关更多信息，请参阅 [Sorting](/zh/x-ads-api/introduction)。<br /><br />Type: string<br /><br />Example: `created_at-asc` |
| tracking\_tag\_ids  <br />_optional_ | 通过指定以逗号分隔的标识符列表，将响应限定为所需的跟踪标签。最多可提供 200 个 ID。<br /><br />Type: string<br /><br />Example: `3m82` |
| with\_deleted  <br />_optional_ | 在请求中包含已删除的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |
| with\_total\_count  <br />_optional_ | 包含 `total_count` 响应属性。<br /><br />**Note**: 此参数与 `cursor` 互斥。<br /><br />**Note**: 包含 `total_count` 的请求将具有较低的速率限制，目前设置为每 15 分钟 200 次。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/tracking_tags?tracking_tag_ids=3m82`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "tracking_tag_ids": [
            "3m82"
          ],
          "account_id": "18ce54d4x5t"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "line_item_id": "fdwcl",
          "tracking_tag_url": "https://ad.doubleclick.net/ddm/trackimp/N1234.2061500TWITTER-OFFICIAL/B9156151.125630439;dc_trk_aid=1355;dc_trk_cid=8675309",
          "tracking_tag_type": "IMPRESSION_TAG",
          "id": "3m82",
          "created_at": "2019-06-26T17:04:26Z",
          "updated_at": "2019-06-26T17:04:26Z",
          "deleted": false
        }
      ]
    }
```

#### GET accounts/:account\_id/tracking\_tags/:tracking\_tag\_id[](#get-accounts-account-id-tracking-tags-tracking-tag-id "Permalink to this headline")

获取与当前账户关联的指定跟踪标签。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/tracking_tags/:tracking_tag_id`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用账户的标识符。出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求的必需参数。指定的账户必须与已通过身份验证的用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| tracking\_tag\_id  <br />_required_ | 你在请求中操作的跟踪标签标识。<br /><br />Type: string<br /><br />Example: `555j` |
| with\_deleted  <br />_optional_ | 在响应中包含已删除的结果。<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/tracking_tags/555j`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "with_deleted": true,
          "tracking_tag_id": "555j",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "line_item_id": "72v2x",
        "tracking_tag_url": "https://ad.doubleclick.net/ddm/trackimp/N6344.2061500TWITTER-OFFICIAL/B23028778.279118262;dc_trk_aid=473354132;dc_trk_cid=119658253",
        "tracking_tag_type": "IMPRESSION_TAG",
        "id": "555j",
        "created_at": "2020-08-13T23:02:03Z",
        "updated_at": "2020-08-13T23:02:03Z",
        "deleted": false
      }
    }
```

#### POST accounts/:account\_id/tracking\_tags[](#post-accounts-account-id-tracking-tags "Permalink to this headline")

将跟踪标签关联到指定的推广项（line item）。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/tracking_tags`

**Parameters[](#parameters "Permalink to this headline")**

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被使用账户的标识符。位于资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有广告主 API 请求的必填参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| line\_item\_id  <br />_必填_ | 你在该请求中操作的推广项（line item）的标识。<br /><br />类型：string<br /><br />示例：`8v7jo` |
| tracking\_tag\_type  <br />_必填_ | 跟踪标签的类型。<br /><br />类型：enum<br /><br />可能取值：`IMPRESSION_TAG`, `CLICK_TRACKER` |
| tracking\_tag\_url  <br />_必填_ | 由跟踪合作伙伴提供的跟踪标签 URL。<br /><br />类型：string<br /><br />示例：`https://ad.doubleclick.net/ddm/trackimp/N1234.2061500TWITTER-OFFICIAL/B9156151.125630439;dc_trk_aid=1355;dc_trk_cid=8675309` |

**Example Request[](#example-request "Permalink to this headline")**

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/tracking_tags?line_item_id=fdwcl&tracking_tag_type=IMPRESSION_TAG&tracking_tag_url=https://ad.doubleclick.net/ddm/trackimp/N1234.2061500TWITTER-OFFICIAL/B9156151.125630439;dc_trk_aid=1355;dc_trk_cid=8675309`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "line_item_id": "fdwcl",
          "tracking_tag_type": "IMPRESSION_TAG",
          "tracking_tag_url": "https://ad.doubleclick.net/ddm/trackimp/N1234.2061500TWITTER-OFFICIAL/B9156151.125630439;dc_trk_aid=1355;dc_trk_cid=8675309",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "line_item_id": "fdwcl",
        "tracking_tag_url": "https://ad.doubleclick.net/ddm/trackimp/N1234.2061500TWITTER-OFFICIAL/B9156151.125630439;dc_trk_aid=1355;dc_trk_cid=8675309",
        "tracking_tag_type": "IMPRESSION_TAG",
        "id": "3m82",
        "created_at": "2019-06-26T17:04:26Z",
        "updated_at": "2019-06-26T17:04:26Z",
        "deleted": false
      }
    }
```

#### PUT accounts/:account\_id/tracking\_tags/:tracking\_tag\_id[](#put-accounts-account-id-tracking-tags-tracking-tag-id "Permalink to this headline")

将跟踪标签与指定的广告组件（line item）关联。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/tracking_tags/:tracking_tag_id`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用的账户标识符。出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求所需的参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| tracking\_tag\_url  <br />_required_ | 由跟踪合作伙伴提供的跟踪标签 URL。<br /><br />Type: string<br /><br />Example: `https://ad.doubleclick.net/ddm/trackimp/N1234.2061500TWITTER-OFFICIAL/B9156151.125630439;dc_trk_aid=1355;dc_trk_cid=8675309` |

**Example Request[](#example-request "Permalink to this headline")**

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/tracking_tags/3m82?tracking_tag_url=https://ad.doubleclick.net/ddm/trackimp/N1234.2061500TWITTER-OFFICIAL/B9156151.125630439;dc_trk_aid=1355;dc_trk_cid=8675309`

**Example Response[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "tracking_tag_id": "3m82",
          "tracking_tag_url": "https://ad.doubleclick.net/ddm/trackimp/N1234.2061500TWITTER-OFFICIAL/B9156151.125630439;dc_trk_aid=1355;dc_trk_cid=8675309",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "line_item_id": "fdwcl",
        "tracking_tag_url": "https://ad.doubleclick.net/ddm/trackimp/N1234.2061500TWITTER-OFFICIAL/B9156151.125630439;dc_trk_aid=1355;dc_trk_cid=8675309",
        "tracking_tag_type": "IMPRESSION_TAG",
        "id": "3m82",
        "created_at": "2019-06-26T17:04:26Z",
        "updated_at": "2022-01-26T17:04:26Z",
        "deleted": false
      }
    }
```

#### DELETE accounts/:account\_id/tracking\_tags/:tracking\_tag\_id[](#delete-accounts-account-id-tracking-tags-tracking-tag-id "Permalink to this headline")

将指定的跟踪标签与相应的单元（line item）取消关联。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/tracking_tags/:tracking_tag_id`

**参数[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 所使用账户的标识符。出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 外所有 Advertiser API 请求的必填参数。指定的账户必须与已认证用户关联。<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| tracking\_tag\_id  <br />_required_ | 在该请求中要操作的跟踪标签标识符。<br /><br />Type: string<br /><br />Example: `555j` |

**示例请求[](#example-request "Permalink to this headline")**

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/tracking_tags/555j`

**示例响应[](#example-response "Permalink to this headline")**

```json
    {
      "request": {
        "params": {
          "tracking_tag_id": "555j",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "line_item_id": "72v2x",
        "tracking_tag_url": "https://ad.doubleclick.net/ddm/trackimp/N6344.2061500TWITTER-OFFICIAL/B23028778.279118262;dc_trk_aid=473354132;dc_trk_cid=119658253",
        "tracking_tag_type": "IMPRESSION_TAG",
        "id": "555j",
        "created_at": "2020-08-13T23:02:03Z",
        "updated_at": "2021-08-29T17:12:58Z",
        "deleted": true
      }
    }
```

<div id="user-settings">
  ### 用户设置
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  使用 Postman 运行
</Button>

(https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87)

#### GET accounts/:account\_id/user\_settings/:user\_id[](#get-accounts-account-id-user-settings-user-id "Permalink to this headline")

获取用户设置。

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/user_settings/:user_id`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 被使用的账户标识符。出现在资源路径中，且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 之外所有 Advertiser API 请求所必需的参数。  <br />指定的账户必须与已认证用户关联。  <br />  <br />Type: string  <br />  <br />Example: `18ce54d4x5t` |
| user\_id  <br />_required_ | 本次请求所操作的用户标识。可使用 GET users/lookup 根据用户名获取用户 ID。  <br />  <br />Type: long  <br />  <br />Example: `756201191646691328` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/user_settings/756201191646691328`

**Example Response[](#example-response "Permalink to this headline")**

```json
      {
        "request": {
          "params": {
            "account_id": "18ce54d4x5t",
            "user_id": "756201191646691328"
          }
        },
        "data": {
          "notification_email": "user@domain.com",
          "contact_phone": "",
          "contact_phone_extension": ""
        }
      }
```

#### PUT accounts/:account\_id/user\_settings/:user\_id[](#put-accounts-account-id-user-settings-user-id "Permalink to this headline")

更新用户设置。需要用户上下文。账号管理员无法访问。

**资源 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/user_settings/:user_id`

**参数[](#parameters "Permalink to this headline")**

| 名称 | 描述 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被使用账号的标识符。出现在该资源路径以及 [GET accounts](/zh/x-ads-api/campaign-management#get-accounts) 中。  <br />指定的账号必须与已认证用户关联。  <br />  <br />类型：string  <br />  <br />示例：`18ce54d4x5t` |
| user\_id  <br />_必填_ | 本次请求所操作的用户引用。使用 GET users/lookup 通过用户名检索用户 ID。  <br />  <br />类型：long  <br />  <br />示例：`756201191646691328` |
| notification\_email  <br />_可选_ | 用于接收账号通知的电子邮箱地址。  <br />  <br />类型：string  <br />  <br />示例：`user@domain.com` |
| contact\_phone  <br />_可选_ | 联系电话。  <br />  <br />类型：string  <br />  <br />示例：`202-555-0128` |
| contact\_phone\_extension  <br />_可选_ | `contact_phone` 的分机号。  <br />  <br />类型：string  <br />  <br />示例：`1234` |

**示例请求[](#example-request "Permalink to this headline")**

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/user_settings/756201191646691328?notification_email='user@domain.com'&subscribe_email_types=ACCOUNT_PERFORMANCE,PERFORMANCE_IMPROVEMENT"`

**示例响应[](#example-response "Permalink to this headline")**

```json
      {
        "request": {
          "params": {
            "account_id": "18ce54d4x5t",
            "user_id": "756201191646691328"
            "notification_email": "user@domain.com",
            "subscribed_campaign_events": [
              "ACCOUNT_PERFORMANCE",
              "PERFORMANCE_IMPROVEMENT"
            ]
          }
        },
        "data": {
          "notification_email": "user@domain.com",
          "contact_phone": "",
          "Contact_phone_extension": ""
        }
      }
```