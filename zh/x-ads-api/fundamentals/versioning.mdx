---
title: 版本
---

有关 X 广告 API 各历史版本的最新信息，请参阅下文。

| 版本 | 路径    | 引入日期 | 弃用日期 | 生命周期结束日期 |
|:---------|:---------|:--------------------|:------------------|:-------------------|
| [12.0](#) | /12/    | 2022 年 10 月 27 日 | 待定              | 待定               |
| [11.0](https://devcommunity.x.com/t/ads-api-version-11/168814) | /11/    | 2022 年 3 月 31 日 | 待定              | 待定               |
| [10.0](#v9) | /10/    | 2021 年 8 月 31 日  | 2022 年 3 月 31 日 | 2022 年 10 月 27 日 |
| [9.0](#v9)  | /9/     | 2021 年 3 月 2 日   | 2021 年 8 月 31 日 | 2022 年 3 月 31 日  |
| [8.0](#v8)  | /8/     | 2020 年 9 月 8 日   | 2021 年 3 月 2 日  | 2021 年 8 月 31 日  |
| [7.0](#v7)  | /7/     | 2020 年 3 月 3 日   | 2020 年 9 月 1 日  | 2021 年 3 月 2 日   |
| [6.0](#v6)  | /6/     | 2019 年 8 月 28 日  | 2020 年 3 月 3 日  | 2020 年 9 月 1 日   |
| [5.0](#v5)  | /5/     | 2019 年 2 月 28 日  | 2019 年 8 月 28 日 | 2020 年 3 月 3 日   |
| [4.0](#v4)  | /4/     | 2018 年 8 月 28 日  | 2019 年 2 月 28 日 | 2019 年 8 月 28 日  |
| [3.0](#v3)  | /3/     | 2018 年 2 月 1 日   | 2018 年 8 月 28 日 | 2019 年 2 月 28 日  |
| [2.0](#v2)  | /2/     | 2017 年 7 月 10 日  | 2018 年 2 月 1 日  | 2018 年 8 月 1 日   |
| [1.0](#v1)  | /1/     | 2016 年 3 月 31 日  | 2017 年 7 月 7 日  | 2018 年 1 月 10 日  |
| [0.0](#v0)  | /0/     | 2013 年 2 月 21 日  | 不适用            | 2016 年 10 月 31 日 |

<div id="overview">
  ## 概述
</div>

每个月，我们都会对 X 广告 API 进行更新，并推出多项新功能。这些更新几乎总是向后兼容，但我们每年确实会有少量破坏性更改。我们收到开发者反馈称，广告 API 快速迭代在实现新功能、处理弃用以及测试变更时，会给其开发周期带来挑战。为提升使用我们广告平台的开发者体验，我们引入了端点版本化的概念。

以下是我们讨论的一些概念定义：

**版本**：指任何 X 广告 API 请求的 URL 路径中的版本号，例如：GET /{version_number}/accounts。此类版本控制方式称为 URI 版本化。

**破坏性更改（Breaking Changes）**：指任何需要开发者投入资源以维持现有功能的更改。这包括用于调研需要实施的变更、判定将被弃用的功能/端点，以及最终落地这些变更所需的资源。破坏性更改的示例包括：

- 从 API 请求/响应中移除参数
- 修改任何参数或端点的名称
- 值的表示方式发生变化（preview\_url → card\_uri）
- 端点行为变化（例如，异步与同步统计）
- 添加/变更可选或必填参数（例如，将 name 设为请求中的必填字段）

**弃用（Deprecation）**：被弃用的版本或产品将不再受支持，建议开发者停止使用这些 API。

**下线（Sunset）**：一旦某个产品或 API 下线，其对应的一组端点将不再可通过 API 访问。

<div id="versioning-strategy">
  ## 版本管理策略
</div>

该策略的主要原则如下：

1. 所有破坏性变更将合并发布为新版本

2. 每当宣布新版本时，现有版本的弃用期为 6 个月

3. 在任一时刻，API 将同时接受两个版本的请求，但其中较旧的一个不再受支持

4. 为加速新产品的采用，相关功能将持续发布（不受版本节奏限制）

5. 所有 API 响应都会包含 `x-current-api-version`，其值为当前 API 版本；当调用任何已弃用的 API 端点时，响应还会包含 `x-api-warn` 头。

如因基础产品需求的根本性变化而必须进行 API 破坏性变更（例如弃用多个年龄分组定向），我们将提前 90 天发布通知宣布该破坏性变更，并在通知发布至少 90 天后部署该变更。

<div id="v9">
  ### v9
</div>

今天（2021 年 3 月 3 日），X 广告 API 的第 9 版（v9）现已发布。本次发布旨在提升功能对齐度、简化广告系列创建流程，并为我们的卡片和移动应用推广端点引入关键更新。

与以往版本相同，我们将提供 6 个月的过渡期以迁移至 v9。自 2021 年 8 月 31 日起，现有的第 8 版（v8）Ads API 将不再可用。我们鼓励所有开发者尽快迁移至最新版本的 Ads API，以避免任何服务中断。

<Note>
  **注意：** 自本次发布起，Ads API 的第 7 版（v7）已达到生命周期终点，不再提供服务。
</Note>

有关完整详情，请参阅[开发者论坛上的公告](https://devcommunity.x.com/t/ads-api-version-9/150316)。

<div id="v8">
  ### v8
</div>

今天（2020 年 9 月 20 日），我们发布了 X 广告 API 的第 8 版，带来全新的 Tailored Audiences 功能，提升与 ads.x.com 的功能对齐度，并改进开发者体验。

与以往版本相同，将提供 6 个月的迁移过渡期以升级至 v8。自 2021-03-02 起，X 广告 API 的第 7 版将不再可用。我们鼓励所有开发者尽快迁移到最新 API 版本，以避免服务中断。

完整详情请参阅[开发者论坛公告](https://devcommunity.x.com/t/ads-api-version-8/141914)。

<div id="v7">
  ### v7
</div>

今天（2020 年 3 月 20 日），我们发布了 X 广告 API 的第 7 版，旨在提升与 [ads.x.com](http://ads.x.com/) 的功能对齐。

与先前[版本](https://developer.x.com/en/docs/ads/general/overview/versions)一样，将提供 6 个月的过渡期以迁移至 v7。自 2020-09-01 起，X 广告 API 第 6 版将不再可用。我们鼓励所有开发者尽快迁移到最新版本的 API，以避免服务中断。X 广告 API 第 5 版已到达生命周期终点，现已下线。

完整详情请参阅[开发者论坛的公告](https://devcommunity.x.com/t/ads-api-version-7/135093)。

<div id="v6">
  ### v6
</div>

今天（2019 年 8 月 28 日），X 推出了 Ads API v6，重点在于增强一致性并改进开发者体验。

此次发布包括：用于检索推文的新端点、推广账号的统计数据、按名称搜索实体的功能，以及当前正在处理的异步分析作业数量信息。此外，我们对使用媒体的端点和定向条件端点进行了以一致性为导向的更新。最后，我们对部分参数名称和响应属性进行了小幅更新，并弃用了 Scoped Timeline 端点。

有关完整详情，请参见[开发者论坛上的公告](https://devcommunity.x.com/t/ads-api-version-6/129060)。

<div id="v5">
  ### v5
</div>

今天（2019 年 2 月 28 日），X 推出 Ads API v5，更新重点在于提升规模与效率。

此版本包含一个用于确定在给定时间范围内活跃实体的新端点，提供媒体创意（即 X Audience Platform 上的串流内视频与图片）的统计数据，支持按卡片 URI 获取多个卡片，并在检索定向条件及其他实体方面提供更大灵活性。此外，我们修复了一些缺陷，并更新了参数名称与响应属性。最后，非媒体应用卡片以及 POST `accounts/:account_id/account_media` 端点已弃用。

与以往版本一样，将提供 6 个月的过渡期以迁移至 v5。自 **2019-08-28** 起，Ads API 的第 4 版将不再可用。我们鼓励所有合作伙伴尽快迁移至最新的 API 版本，以避免任何服务中断。_Ads API 的第 3 版已到达生命周期终点且不再可用。_

<div id="new">
  #### 新增
</div>

**确定哪些实体处于活跃状态**

[活跃实体](/zh/x-ads-api/analytics#active-entities-2) 端点用于标识广告实体的分析指标是否发生变化。该端点旨在与分析端点配合使用：通过指定实体类型和日期范围（最多 90 天），返回一组实体 ID，供你的平台据此请求分析数据。非返回列表中的 ID 不应在后续分析请求中查询。

此端点支持以下实体类型：`CAMPAIGN`、`FUNDING_INSTRUMENT`、`LINE_ITEM`、`MEDIA_CREATIVE` 和 `PROMOTED_TWEET`。

**`MEDIA_CREATIVE` 指标**

X 广告 API 的分析端点现已为 Media Creative 实体提供指标。Media Creative 是在 X 受众平台上推广流内广告或图片的方式。X Ads UI 会在“In-stream videos”和“Display creatives”选项卡下展示 Media Creative 指标。同步[分析端点](/zh/x-ads-api/analytics#get-stats-accounts-account-id)和[异步](/zh/x-ads-api/analytics#asynchronous-analytics)分析端点均已支持 `MEDIA_CREATIVE` 实体枚举。

**获取多个卡片**

在面向通过卡片 URI 值检索单个卡片的[v3 版本](https://devcommunity.x.com/t/ads-api-version-3/100732)端点基础上进行了改进，现在可以使用 [GET accounts/:account\_id/cards/all](/zh/x-ads-api/creatives#cards-fetch) 端点一次获取多个卡片。无需为每个卡片单独发起请求，你可以在单个请求中检索最多 200 个卡片。

需要注意两点：

1. URL 路径现为 `accounts/:account_id/cards/all`。（此前的路径已不可用。）此变更用于与[按 ID 检索卡片的端点](/zh/x-ads-api/creatives#cards-fetch)保持一致。
2. 必填请求参数现命名为 card\_uris（复数）。

**检索更灵活**

[GET accounts/:account\_id/targeting\_criteria](/zh/x-ads-api/campaign-management#get-accounts-account-id-targeting-criteria) 端点现支持多个 line item ID。必填参数 line\_item\_ids 可接收最多 200 个 ID。此前仅接受单个 line item，导致同步困难。此更改使你能够在更短时间内检索更多定向数据。

以下端点也已支持多个 line item ID，但对这些端点而言，line\_item\_ids 参数为可选：

- [GET accounts/:account\_id/line\_item\_apps](https://developer.x.com/en/docs/x-ads-api/campaign-management/api-reference/line-item-apps#get-accounts-account-id-line-item-apps)
- [GET accounts/:account\_id/media\_creatives](/zh/x-ads-api/campaign-management#get-accounts-account-id-media-creatives)
- [GET accounts/:account\_id/promoted\_accounts](/zh/x-ads-api/campaign-management#get-accounts-account-id-promoted-accounts)
- [GET accounts/:account\_id/preroll\_call\_to\_actions](/zh/x-ads-api/creatives#preroll-call-to-actions)

<div id="changed">
  #### 变更
</div>

**检索草稿广告系列与广告组项**

检索草稿广告系列与广告组项的方式已更新。现在，将 with\_draft(boolean) 参数设为 true 时，会返回草稿和非草稿实体。此行为与检索已删除实体的方式一致（即使用 with\_deleted）。此前，同时获取草稿和非草稿实体至少需要两次请求。现在可通过一次 API 调用完成。

| **v4** | **v5** |
| :--- | :--- | :--- |
| `draft_only` | `with_draft` |     |

**Network activation duration 定向**

X 广告 API 已修复一个显示问题：在添加 Network Activation Duration 定向后，响应中的定向类型会带有一个 \_IN\_SEC 后缀。由于 Network Activation Duration 始终以“月”为单位表示，引用秒数会引起混淆。此次修复使表示方式保持一致并降低困惑。

| **v4** | **v5** |
| :--- | :--- | :--- |
| `NETWORK_ACTIVATION_DURATION_IN_SEC` | `NETWORK_ACTIVATION_DURATION` |     |

**总计数与游标**

在 v5 中，with\_total\_count 和 cursor 互斥。在同一请求中同时指定两者将返回 EXCLUSIVE\_PARAMETERS 错误码。在 v5 之前，当指定了 cursor 时，with\_total\_count 会被忽略。此变更使二者关系更加明确。

<div id="removed">
  #### 已移除
</div>

将从 Ads API 响应中移除三个字段：preview\_url、account\_id 和 parent\_ids。针对这三项所需的工程工作量极小。

- 在 v4 中，我们已宣布卡片的 preview\_url 响应参数始终为 null。本次迁移的最后一步是从所有卡片响应中移除 preview\_url。
- 针对以下资源，将移除 account\_id 响应属性，因为广告账户 ID 已经包含在 URL 以及 request.params 中。（我们有意将资金工具排除在此列表之外，因为在可能的情况下，父级 ID 应该出现在响应对象中，而账户 ID 是资金工具的父级实体。）
  - 账户媒体
  - 应用事件提供方
  - 应用事件标签
  - 广告系列
  - 卡片
  - 广告单元
  - 可推广用户
  - 定向条件
- 对于 [GET accounts/:account\_id/targeting\_criteria](/zh/x-ads-api/campaign-management#get-accounts-account-id-targeting-criteria) 请求，我们不再返回 parent\_ids 字段，因为它始终是空数组。

**非媒体类应用卡片**

在 v5 中，不再支持非媒体类应用卡片。[此前](https://devcommunity.x.com/t/deprecation-announcement-app-download-cards/87807)，已移除了创建或编辑非媒体类应用卡片的能力。现在，该资源的剩余端点将被弃用。

- 注意：这不影响图片和视频的应用下载卡片。

**账户媒体创建**

在 v5 中，POST accounts/:account\_id/account\_media 端点不再可用。该资源的其他端点不受影响。之所以进行此更改，是因为当向[媒体库](/zh/x-ads-api/creatives#media-library)添加媒体时，某些情况下这些资产会被自动添加为账户媒体实体，而尝试将已存在的资产再次添加到账户媒体资源会导致错误。以下情况会发生这一问题。

- 添加到媒体库的 `AMPLIFY_VIDEO` 资产会被自动添加为账户媒体资产，且创意类型为 `PREROLL`。
- 添加到媒体库、具有特定尺寸的图片会被自动添加为账户媒体资产。其创意类型（例如 `INTERSTITIAL`）取决于图片尺寸。（关于尺寸，请参阅我们的[枚举](/zh/x-ads-api/introduction)页面。）

<div id="v4">
  ### v4
</div>

X 广告 API 第 4 版今日（2018 年 8 月 28 日）上线。

此次发布对我们的 [Audiences](/zh/x-ads-api/audiences) 产品进行了改进，包括一个由更强大的受众处理后端驱动的全新 API 接口。第 4 版还新增了一组用于管理用户、账户和税务设置的端点。此外，accounts/:account\_id/videos 端点将被弃用。本次发布还包含少量参数和响应名称的调整。

与第 3 版相同，我们提供 6 个月的过渡期。自 **2019-02-28** 起，Ads API 第 3 版将不再可用。我们鼓励所有合作伙伴尽快迁移至最新版本的 API，以避免任何服务中断。有关我们的版本策略详情，请参见 [Versions](/zh/x-ads-api/introduction) 页面。

<div id="new">
  #### 新增
</div>

_**Audience API**_

全新的 Audiences API 基于我们新的受众处理后端构建，具备更高的健壮性与可靠性。该新端点允许合作伙伴为单个用户提供多种用户标识符类型，这意味着我们能够利用更多信号进行匹配。新的 Audience 端点参考文档见[此处](/zh/x-ads-api/audiences)。我们计划在今年剩余时间内持续发布该产品的更新与改进。

以下端点因功能重叠将在 v4 中不再提供（它们在 v3 中仍可使用，并将在 v3 下线时彻底停止服务）：

- TON Upload:
  - GET accounts/:account\_id/tailored\_audience\_changes
  - GET accounts/:account\_id/tailored\_audience\_changes/:tailored\_audience\_change\_id
  - POST accounts/:account\_id/tailored\_audience\_changes
  - PUT accounts/:account\_id/tailored\_audiences/global\_opt\_out
- Real Time Audiences:
  - POST tailored\_audience\_memberships

最后，v4 将从\_所有\_ [Tailored Audiences 端点](/zh/x-ads-api/audiences)的请求与响应中移除 `list_type` 参数。

_**Settings Endpoints**_

我们现已支持由账户管理员设置与更新用户、账户及税务设置。[User settings](/zh/x-ads-api/campaign-management#get-accounts-account-id-user-settings-user-id) 对应某广告账户的用户级联系偏好。通过 [PUT accounts/:account\_id](/zh/x-ads-api/campaign-management#put-accounts-account-id) 端点，广告主可更新账户名称与行业类型。最后，[tax settings](/zh/x-ads-api/campaign-management#get-accounts-account-id-tax-settings) 端点允许在征收增值税（VAT）的国家/地区的广告主更新公司名称、地址、VAT ID，以及账户由广告主自有，或由代表广告主投放的代理机构所拥有等信息。

<div id="changed">
  #### 已更改
</div>

_**通用相似人群重命名**_

我们正在更新 [POST accounts/:account\_id/line\_items](/zh/x-ads-api/campaign-management#post-accounts-account-id-line-items) 和 [PUT accounts/:accountit/line\_items/:line\_item\_id](/zh/x-ads-api/campaign-management#put-accounts-account-id-line-items-line-item-id) 端点上 `lookalike_expansion` 参数的枚举值。

| **v3** | **v4** |
| :--- | :--- |
| `NARROW` | `DEFINED` |
| `BALANCED` | `EXPANDED` |

**在各处统一使用 `country_code`**

作为围绕 X 广告 API [一致性](https://devcommunity.x.com/t/feedback-ads-api-consistency/109145) 的更大举措的一部分，我们将以下端点中的参数从 `app_country_code` 重命名为 `country_code`。

- [POST accounts/:account\_id/cards/image\_app\_download](https://devcommunity.x.com/t/ads-api-version-11/168814)
- [PUT accounts/:account\_id/cards/image\_app\_download/:card\_id](https://developer.x.com/content/developer-twitterhttps://developer.x.com/en/docs/ads/creatives/api-reference/image-app-download#put-accounts-account-id-cards-image-app-download-card-id)
- [POST accounts/:account\_id/cards/video\_app\_download](https://developer.x.com/content/developer-twitter/en/docs/ads/creatives/api-reference/video-app-download#post-accounts-account-id-cards-video-app-download)
- [PUT accounts/:account\_id/cards/video\_app\_download/:card\_id](https://developer.x.com/content/developer-twitter/en/docs/ads/creatives/api-reference/video-app-download#put-accounts-account-id-cards-video-app-download-card-id)

此更改不影响这些参数的行为或可接受的取值，仅为命名调整。

**`preview_url` 始终为 null**

如 v3 公告所述，所有现有卡片现在都有 `card_uri`。因此，`preview_url` 的值将始终为 `null`。

提醒：使用卡片的 `card_uri` 值将其与推文关联。请参阅以下示例请求。

$ twurl -X POST -H ads-api.x.com "/4/accounts/18ce54d4x5t/tweet?text=Version 4\&card\_uri=card://958225772740714496"

<div id="removed">
  #### 已移除
</div>

**视频端点**

accounts/:account\_id/videos 端点在 v4 中将不再可用。随着 [Media Library](/zh/x-ads-api/creatives#get-accounts-account-id-media-library) 端点的引入，此端点已被淘汰。请参阅以下用法对比。

- v3 视频端点：`twurl -H ads-api.x.com "/3/accounts/18ce54d4x5t/videos"`

- v4 媒体库（视频）端点：`twurl -H ads-api.x.com "/4/accounts/18ce54d4x5t/media_library?media_type=VIDEO"`

Media Library 端点与 videos 端点功能完全对等，并且还支持处理图像和 GIF 等附加能力。请合作伙伴在所有媒体管理场景中仅使用 Media Library。

**Tweet 预览中的 `as_user_id`**

[GET accounts/:account\_id/tweet/preview/:tweet\_id](/zh/x-ads-api/creatives#get-accounts-account-id-tweets) 端点上的 `as_user_id` 参数将不再被接受。预览将始终以该 Tweet 作者的身份呈现。

<div id="v3">
  ### v3
</div>

X 广告 API 的第 3 版已于 2018 年 2 月 1 日[发布](https://devcommunity.x.com/t/ads-api-version-3/100732)。第 2 版将于 2018 年 8 月 1 日停止服务。

此版本包含全新的 Audience Intelligence 产品、对 Media Library 的访问，以及改进的卡片工作流。我们也宣布弃用 [PUT accounts/:account\_id/targeting\_criteria](/zh/x-ads-api/campaign-management#get-accounts-account-id-targeting-criteria) 端点。最后，第 3 版还包含一些较小的参数与响应更改，并降低了批量大小上限。

与[第 2 版](https://devcommunity.x.com/t/ads-api-version-2/90360)一样，我们给予合作伙伴 6 个月的过渡期。到 2018-08-01，Ads API 的 v2 将被关闭。我们鼓励所有合作伙伴与开发者尽快迁移到 v3。

**Audience Intelligence**

Audience Intelligence 可实时提供与特定 X 受众最相关的热门话题标签、@handle 和事件的洞察。例如，输入“美国 18–34 岁男性”，你将看到该受众中正在流行的 #nintendoswitch、#cardinal 和 @ricegum。

Audience Intelligence 的[端点](/zh/x-ads-api/audiences)将提供以下功能：

- 针对给定输入受众，检索最相关的话题标签、@handle 和事件。
- 针对给定输入受众，检索关键的人口统计信息（如年龄、性别和家庭收入）。
- 针对给定关键词，检索推文量时间序列

**Media Library**

[Media Library](/zh/x-ads-api/creatives#get-accounts-account-id-media-library) 提供管理广告账户中图片、GIF 和视频的能力。这些媒体对象可用于推文并用于创建卡片。它们也可在多个创意中复用，避免重复上传相同素材。

库中的对象通过 media\_key 标识。media\_key 是字符串，例如：13\_875943225764098048。在 Ads API 中，我们正逐步将所有媒体统一为使用 media\_key。

**改进的卡片工作流**

我们所有的卡片端点现已支持 media\_key。这使得可以使用 Media Library 中的对象来创建或更新卡片。

此外，我们引入了两个用于[检索卡片详情](/zh/x-ads-api/creatives#fetching-cards)的新端点。通过指定 card\_uri 或 id，这些端点可用于查找用于推文或定时推文中的卡片。此前无法实现。

<div id="other-changes">
  #### 其他更改
</div>

除了这些新功能外，我们还在第 3 版中包含以下更改。

**新增**

- [GET insights/keywords/search](/zh/x-ads-api/audiences) 端点的响应现在包含 related\_keywords 属性，内含与输入关键词相关的 30 个词项。

**变更**

- 定向条件的最大批处理大小现为 500。
- 响应属性 card\_uri 和 preview\_url 现在互斥。当卡片具有 card\_uri 时，preview\_url 为 null；当卡片没有 card\_uri 时，仅返回 preview\_url。
  - 自 2018-01-29 起创建的所有卡片都会有 card\_uri。
  - 到第 4 版时，所有现有卡片都会有 card\_uri。
- 不再支持创建使用 5:2 比例图片的卡片。现有的 5:2 图片卡片仍可使用，但我们建议合作伙伴切换为表现更佳的 1.91:1 或 1:1 长宽比（在支持的情况下）。

**移除**

- [PUT accounts/:account\_id/targeting\_criteria](/zh/x-ads-api/campaign-management#get-accounts-account-id-targeting-criteria) 端点已停用。我们做出此变更是因为该端点的替换式行为容易引起广告主困惑，且与我们其他一次仅更新单个资源的 PUT 端点不一致。相应地，合作伙伴应使用 [POST batch/accounts/:account\_id/targeting\_criteria](/zh/x-ads-api/campaign-management#post-batch-accounts-account-id-targeting-criteria) 端点，其灵活性更高，支持在单个请求中同时添加和移除定向。
- funding instrument 的响应属性 paused 不再返回。请改用响应属性 entity\_status 来判断某 funding instrument 是否处于暂停状态。此外，由于 paused 与 cancelled 对应同一数值，响应中也不再返回 cancelled。
- 我们已从 [GET accounts/:account\_id/tweet/preview](/zh/x-ads-api/creatives#get-accounts-account-id-tweets) 端点移除 card\_id 参数。
- 由于无法检索已删除的 Scheduled Tweets，with\_deleted 参数不再受支持。
- 以下端点已移除 draft\_only 参数，因为这些实体不会处于草稿状态：
  - [GET accounts/:account\_id/targeting\_criteria](/zh/x-ads-api/campaign-management#get-accounts-account-id-targeting-criteria)
  - [GET accounts/:account\_id/promoted\_tweets](/zh/x-ads-api/campaign-management#get-accounts-account-id-promoted-tweets)
  - [GET accounts/:account\_id/promoted\_accounts](/zh/x-ads-api/campaign-management#get-accounts-account-id-promoted-accounts)
  - [GET accounts/:account\_id/media\_creatives](/zh/x-ads-api/campaign-management#get-accounts-account-id-media-creatives)
  - [GET accounts/:account\_id/preroll\_call\_to\_actions](/zh/x-ads-api/creatives#get-accounts-account-id-preroll-call-to-actions)

**注意**

Video Website Cards 和 Scheduled Tweets 现已脱离测试版。请参阅[此讨论帖](https://devcommunity.x.com/t/announcement-update-to-scheduled-tweets/94869)，了解自发布以来我们对 Scheduled Tweets 所做的更改。其中包括为 Scheduled Tweets 生成 HTML[预览](https://devcommunity.x.com/t/announcement-tweet-preview-improvements/96577) 的功能。

<div id="v2">
  ### v2
</div>

X 广告 API 的第 2 版已于 2017 年 7 月 10 日[发布](https://devcommunity.x.com/t/ads-api-version-2/90360)。广告 API 的第 1 版将于 2018 年 1 月 10 日停止服务。

**重大变更/弃用[¶](#breaking-changes-deprecations "Permalink to this headline")**

- `total_count` 现在是可选的响应属性。仅当 `with_total_count` 设为 `true` 时才会返回

- `line_items` 和 `campaigns` 请求与响应对象中的 `paused` 与 `draft_only` 字段被一个 `entity_status` 参数取代

- 在 [POST accounts/:account\_id/tweet](/zh/x-ads-api/creatives) 和 [GET accounts/:account\_id/tweet/preview](/zh/x-ads-api/creatives#get-accounts-account-id-tweets) 端点上，`status` 参数已重命名为 `text`

- [GET targeting\_criteria/locations](/zh/x-ads-api/campaign-management#get-targeting-criteria-locations) 端点的 `location_type` 枚举现为复数。`COUNTRY` 现为 `COUNTRIES`，`REGION` 现为 `REGIONS`，依此类推。唯一的例外是在 v2 中，`CITY` 现为 `METROS`，以更准确地反映该位置类型指的是指定市场区域（DMA）或“都会区”

- PUT accounts/:account\_id/promoted\_tweets 端点上的 `display_properties` 不再受支持。该值也将不再作为响应的一部分返回

- 由于上一点的更改，将不再能够更新（PUT）promoted\_tweets 实体

- [GET accounts/:account\_id/promoted\_tweets](/zh/x-ads-api/campaign-management#get-accounts-account-id-promoted-tweets) 端点上的 `line_item_id` 参数已被移除

- 在 v2 端点上将不再能够创建 5:2 网站卡片（Website Cards）

- 不再返回 `data_type` 响应属性

**新功能[¶](#new-features "Permalink to this headline")**

1. Cards v2
2. 草稿广告系列/广告组的创建与激活
3. 计划推文（Scheduled Tweets）
4. 异步作业摘要

**Cards v2[¶](#cards-v2 "Permalink to this headline")**

- 在将卡片与推文关联时，应使用 `card_uri` 请求参数，而非将 `preview_url` 附加到推文文本中
- 如果在响应中未返回 `card_uri` 参数（卡片创建步骤期间），则使用 `preview_url`
- 所有新的卡片格式都将在 API 中原生可用，并利用 `card_uri` 参数

**新卡片格式：[¶](#new-card-formats "Permalink to this headline")**

- 视频网站卡片（Video Website Cards）：

  - [GET accounts/:account\_id/cards/video\_website](https://developer.x.com/en/docs/ads/creatives/api-reference/video-website.html#get-accounts-account-id-cards-video-website)
  - [GET accounts/:account\_id/cards/video\_website/:card\_id](https://developer.x.comhttps://developer.x.com/en/docs/ads/creatives/api-reference/video-website.html#get-accounts-account-id-cards-video-website-card-id)
  - [POST accounts/:account\_id/cards/video\_website](https://developer.x.com/en/docs/ads/creatives/api-reference/video-website.html#post-accounts-account-id-cards-video-website)
  - [PUT accounts/:account\_id/cards/video\_website/:card\_id](https://developer.x.com/en/docs/ads/creatives/api-reference/video-website.html#put-accounts-account-id-cards-video-website-card-id)
  - [DELETE accounts/:account\_id/cards/video\_webiste/:card\_id](https://developer.x.com/en/docs/ads/creatives/api-reference/video-website.html#delete-accounts-account-id-cards-video-website-card-id)

**草稿广告系列[¶](#draft-campaigns "Permalink to this headline")**

草稿广告系列可通过 [GET accounts/:account\_id/campaigns](/zh/x-ads-api/campaign-management#get-accounts-account-id-campaigns) 端点查看。在 v2 中，现在可以通过 API 创建/激活草稿广告系列。

- [POST accounts/:account\_id/line\_items](/zh/x-ads-api/campaign-management#post-accounts-account-id-line-items) 和 [POST accounts/:account\_id/campaigns](/zh/x-ads-api/campaign-management#post-accounts-account-id-campaigns) 端点的 `entity_status` 参数可设为 `DRAFT`，以创建新的广告系列或广告项草稿。
- 新建草稿所需参数：

| 广告系列草稿 | 广告项草稿 |
| :--- | :--- |
| `funding_instrument_id` | `campaign_id` |
| `name` | `objective` |
| `start_time` | `product_type` |
|     | `placements` |

**备注[¶](#notes "Permalink to this headline")**

- 广告项或广告系列草稿只能将 `entity_status` 从 `DRAFT` 转为 `PAUSED` 或 `ACTIVE`
- 要激活整个广告系列（包含多个广告项），该广告系列下的每个广告项以及广告系列本身都必须将 `entity_status` 设为 `ACTIVE`。
- 如需更改任何广告系列或广告项的 `entity_status`，请使用相应的 PUT 端点。

**定时推文[¶](#scheduled-tweets "Permalink to this headline")**

- 定时推文包含以下新端点

- 定时推文：

  - [GET accounts/:account\_id/scheduled\_tweets](/zh/x-ads-api/creatives#get-accounts-account-id-scheduled-tweets)
  - [GET accounts/:account\_id/scheduled\_tweets/:scheduled\_tweet\_id](/zh/x-ads-api/creatives#scheduled-tweets)
  - [POST accounts/:account\_id/scheduled\_tweets](/zh/x-ads-api/creatives#post-accounts-account-id-scheduled-tweets)
  - [PUT accounts/:account\_id/scheduled\_tweets/:scheduled\_tweet\_id](/zh/x-ads-api/creatives#scheduled-tweet-management)
  - [DELETE accounts/:account\_id/scheduled\_tweets/:scheduled\_tweet\_id](/zh/x-ads-api/creatives#scheduled-tweet-management)

- 广告系列管理：

  - [GET accounts/:account\_id/scheduled\_promoted\_tweets](/zh/x-ads-api/campaign-management#get-accounts-account-id-scheduled-promoted-tweets)
  - [GET accounts/:account\_id/scheduled\_promoted\_tweets/:scheduled\_promoted\_tweet\_id](/zh/x-ads-api/campaign-management#get-accounts-account-id-scheduled-promoted-tweets-scheduled-promoted-tweet-id)
  - [POST accounts/:account\_id/scheduled\_promoted\_tweets](/zh/x-ads-api/campaign-management#post-accounts-account-id-scheduled-promoted-tweets)
  - [DELETE accounts/:account\_id/scheduled\_promoted\_tweets/:scheduled\_promoted\_tweet\_id](/zh/x-ads-api/campaign-management#delete-accounts-account-id-scheduled-promoted-tweets-scheduled-promoted-tweet-id)

- 新建的定时推文可安排在任意未来日期

- 目前无法预览定时推文

- 只有处于 `SCHEDULED` 状态的定时推文才可编辑/删除

- 在达到 `scheduled_at` 日期/时间之前，定时推文不会被推送到企业级 Firehose 或任何其他数据 API。

<div id="v1">
  ### v1
</div>

X 广告 API 的第 1 版于 2016 年 3 月 31 日发布，并将于 2018 年 1 月 10 日停止支持。

**第 1 版的变更：[¶](#changes-in-version-1 "Permalink to this headline")**

- [版本化支持](https://blog.x.com/2016/versioning-is-coming-to-twitter-s-ads-apis)
- `CUSTOM` [objective](/zh/x-ads-api/campaign-management#objective-based-campaigns) 已不再受支持
- [批量端点](/zh/x-ads-api/campaign-management#post-batch-accounts-account-id-campaigns) 现已全面开放
- [触达量预估更新](https://developer.x.com/en/docs/ads/campaign-management/api-reference/reach-estimate.html#get-accounts-account-id-reach-estimate):
- 为提升触达预估的准确性，该端点现已支持预算感知。以下参数现为必填项：
  - \[新增] `campaign_daily_budget_amount_local_micro`
  - `currency`
  - `bid`
  - `objective`
- 响应对象已有所变更，现在会以区间形式返回响应值。
- 为避免对用途产生混淆，已将 `infinite_count` 重命名为 `infinite_bid_count`
- 除了 `count` 和 `infinite_bid_count` 之外，现将新增返回以下数据点：
  - `impressions`
  - `engagements`
  - `estimated_daily_spend_local_micro`
- 定制受众的数据类型变更
- 我们已在所有响应中将 Tailored Audiences 的 `data_type` 从 `tailored_audiences` 更改为 `tailored_audience`。
- 共享定制受众现已以“仅限 API”的测试版形式提供。共享定制受众允许在多个广告账户间复用同一个受众。使用 [POST accounts/:account\_id/tailored\_audiences/:tailored\_audience\_id/permissions](/zh/x-ads-api/audiences)（及相关）端点来管理你希望在多个广告账户间共享的定制受众的权限。
- 在为广告主账户收集绩效[分析](/zh/x-ads-api/analytics)方面取得了显著改进：
- 为与我们的[最佳实践](/zh/x-ads-api/analytics#best-practices)保持一致，我们现仅允许通过[同步统计端点](/zh/x-ads-api/analytics#get-stats-accounts-account-id)拉取最多**7 天**的数据。
- 为简化拉取指标，我们已将 `metrics` 参数替换为新的 `metric_groups` 参数。开发者只需在请求中指定希望返回的指标组即可。
  - 任何对给定实体不适用的指标请求都会在响应中被排除，并以 `null` 值表示。_这些指标不会计入你的分析费用上限。_
- 响应已被**大幅简化**，并将更贴近我们在 UI 中呈现指标的方式。
  - 之前我们为每个投放位置分别提供独立指标（搜索中的推广推文、时间线中的推广推文、个人资料与推文详情中的推广推文、X Audience Platform）。现在我们将为每个位置返回一套标准化的指标；不再提供 `promoted_tweet_timeline_impressions`、`promoted_tweet_search_impressions`、`promoted_tweets_profile_impressions`、`promoted_tweets_tpn_impressions`。当在以下任一类别中请求时，将以单一指标 `impressions` 提供（适用于所有指标）：
  - `ALL_ON_TWITTER`
  - `PUBLISHER_NETWORK`
  - 发起请求时，将收到单一的 `impressions` 指标，便于与我们 UI 中的数值对齐。
  - 由于二者不可合并，若需获取 `ALL_ON_TWITTER` 和 `PUBLISHER_NETWORK` 的数据，必须分别发起两次查询。
- 基于我们开发者的反馈，[异步统计端点](/zh/x-ads-api/analytics#asynchronous-analytics) 现已开放使用！
  - 一组全新的端点，可用于&#x4EE5;_&#x5F02;&#x6B65;_&#x65B9;式请求统计数据，适用于无需即时返回或需拉取历史数据的场景。
  - 通过一个新的单一端点将统计作业入队。我们会在资源允许时提取你请求的数据。
  - 你可以查询作业状态端点以确定数据是否已可用。
  - 数据可用后，我们会提供提取 ID，供你下载 JSON 响应，其内容将与同步端点的响应一致。
  - 在单个作业中可查询最多**90 天**的数据，且最多覆盖**20 个实体**。
- 请查看我们的 Analytics v1 迁移指南，其中包含从 v0 指标到 v1 指标的映射
- 沙盒改进 \* 您现在可以在沙盒环境中[创建多个测试广告帐户](/zh/x-ads-api/campaign-management#post-accounts)。 \* 您现在可仅在沙盒环境中为测试广告帐户创建多个资金工具，从而测试我们支持的所有资金工具类型。此前仅提供 `CREDIT_CARD` 资金来源用于测试。 \* 想试用测试版功能？现在您可以在沙盒环境中为某个帐户开启/关闭功能，以满足您的测试需求。

<div id="v0">
  ### v0
</div>

X 广告 API 的 0 版于 2013 年 2 月 21 日正式发布，支持持续至 2016 年 10 月 31 日。

所有 0 版的分析端点均已弃用，并将于 2016 年 10 月 31 日后不再提供。这些端点已在 1 版中由 3 个分析端点替代。

在 1 版中，触达预估端点的行为有所变化。