---
title: A/B 测试
---

import { Button } from '/snippets/zh/button.mdx';

<div id="overview">
  ## 概述
</div>

<div id="introduction">
  ### 介绍
</div>

A/B 测试使广告主能够对其在 X 上触达的用户进行分组，从而了解如何更有效地优化广告系列表现，并获取洞察以指导营销策略。

这些分组（称为用户组拆分）是随机且互斥的。通过随机化，影响结果的因素被均匀分配。换言之，各组及其预期行为之间不存在内在差异。因此，当仅对某一用户组应用单一变体而未对其他组应用时，广告系列表现的差异可归因于该变体。

虽然可以同时测试多个变体，但我们强烈建议一次只测试一个变体。这样可以隔离导致广告系列表现差异的因果因素。

变体在广告系列层面进行设置。例如，如果广告主想测试新创意素材的效果，应创建两个相同的广告系列，唯一的区别是所使用的创意素材。未来，我们计划支持在投放项层面设置变体。

<div id="use-cases">
  ### 使用场景
</div>

A/B 测试主要用于以下两类场景：（1）面向绩效客户的优化场景，这些客户希望了解在 X 上哪些做法效果最佳，以优化其投放；（2）面向品牌广告主的学习场景，这些广告主希望基于测试洞察来制定营销策略。

该 API 支持对任何广告系列变量进行 A/B 测试，包括：

- 创意

- 定向

- 出价类型

- 出价单位

<div id="ab-testing">
  ## A/B 测试
</div>

A/B 测试使广告主能够对其在 X 上触达的用户进行分组，从而了解如何更好地优化广告系列表现，并获取洞察以指导其营销策略。

这些分组（称为用户组拆分）是随机且互斥的。通过随机化，影响结果的因素被均匀分配。换言之，各组之间及其预期行为不存在内在差异。正因如此，当仅对某一用户组应用单一变量而未对其他组应用时，广告系列表现的差异即可归因于该变量。

虽然可以同时测试多个变量，但我们强烈建议一次只测试一个变量。这样可以将导致广告系列表现差异的因果因素单独隔离出来。

变量可在广告系列层级或广告组层级进行设置。广告组通过 Ads API 中的[line item](https://developer.x.com/en/docs/twitter-ads-api/campaign-management/api-reference/line-items)进行设置。以广告组层级变量为例，如果广告主想测试新创意的效果，应创建一个包含两个相同广告组的广告系列，且唯一差别是创意。

<div id="use-cases">
  ### 使用场景
</div>

A/B 测试最常用于两类目的：(1) 为绩效广告客户提供优化支持，这些客户希望了解在 X 上哪些做法效果最佳，以便优化投放；(2) 为品牌广告主提供学习支持，这些广告主希望基于测试结论指导其营销策略。

该 API 支持对任何广告系列变量进行 A/B 测试，包括：

- 创意

- 定向

- 出价类型

- 出价单位

<div id="attributes">
  ### 属性
</div>

A/B 测试以嵌套结构表示。顶层包含 A/B 测试本身的字段，以及一个由用户组对象构成的数组，每个对象都有一组用于描述该用户组的字段。

总体而言，每个 A/B 测试必须包含以下信息：

- 测试持续时间，由 start\_time 和 end\_time 字段表示
- 进行分流的层级，由 entity\_type 字段表示
- 至少两个（最多 30 个）用户组，每个用户组在 user\_groups 数组中表示为一个对象

每个用户组必须包含以下信息：

- 分配给该用户组的用户百分比，由 size 字段表示
- 构成该用户组用户池的广告系列 ID/广告组（line item）ID，由 entity\_ids 数组表示

可选地，可以为 A/B 测试和用户组设置 name 和 description。有关校验规则和其他约束的信息见下文。

其他元数据（例如 ID 或创建时间）也会包含在内，但由 X 自动设置。

下面示例展示了广告系列级别的 A/B 测试实体。

```json
{
  "created_at": "2020-12-01T00:00:00Z",
  "created_by": {
    "user_id": "756201191646691328",
    "username": "apimctestface"
  },
  "deleted": false,
  "description": "documentation example",
  "end_time": "2020-12-05T01:00:00Z",
  "entity_type": "CAMPAIGN",
  "id": "hr7l0",
  "name": "first AB test",
  "start_time": "2020-12-01T01:00:00Z",
  "status": "SCHEDULED",
  "user_groups": [
    {
      "id": "p1bcx",
      "name": "first group",
      "description": null,
      "size": "50.0",
      "entity_ids": [
        "f2qcw",
        "f2tht"
      ]
    },
    {
      "id": "p1bcy",
      "name": "second group",
      "description": "second AB test group",
      "size": 50,
      "entity_ids": [
        "f2rqi",
        "f2tws"
      ]
    }
  ],
  "updated_at": "2020-12-01T00:00:00Z",
  "updated_by": {
    "user_id": "756201191646691328",
    "username": "apimctestface"
  }
}
```

下面示例展示了广告组级别的 A/B 测试实体。

```json
{
   "created_by":{
      "user_id":"756201191646691328",
      "username":"apimctestface"
   },
   "name":"Test2e",
   "start_time":"2022-08-15T00:00:00Z",
   "updated_by":{
      "user_id":"756201191646691328",
      "username":"apimctestface"
   },
   "description":"My Second AB test",
   "entity_type":"LINE_ITEM",
   "end_time":"2022-08-30T00:00:00Z",
   "id":"1ul",
   "user_groups":[
      {
         "name":"first group",
         "size":"50.0",
         "description":"first group description",
         "entity_ids":[
            "ij9dh"
         ],
         "id":"4xe"
      },
      {
         "name":"second group",
         "size":"50.0",
         "description":"second group description",
         "entity_ids":[
            "ihng8"
         ],
         "id":"4xf"
      }
   ],
   "status":"SCHEDULED",
   "created_at":"2022-08-11T00:10:50Z",
   "updated_at":"2022-08-11T00:10:50Z",
   "deleted":false
}
```

<div id="usage">
  ### 用法
</div>

以下小节介绍如何创建和更新 A/B 测试。读取和删除的用法与其他所有 Ads API 端点一致。

<div id="creating">
  #### 创建
</div>

使用 [POST accounts/:account\_id/ab\_tests](https://developer.x.com/en/docs/x-ads-api/measurement/api-reference/ab-tests) 端点创建 A/B 测试。该端点仅接受 JSON POST 请求体。必须将 Content-Type 设为 application/json。

在广告主设置了两个或更多广告系列后，即可创建 A/B 测试。如上所述，A/B 测试必须包含：测试时长、拆分级别，以及至少两个用户组。每个用户组必须声明要分配给该组的用户百分比，并指定构成其用户池的广告系列 ID。以下将对每项进行进一步说明。

测试时长：

- start\_time 和 end\_time 的取值必须
  - 位于未来（相对于创建 A/B 测试的时间）
  - 与广告系列/广告单元的投放周期重叠
- 非应用类广告系列的测试至少需持续 1 天；应用类广告系列至少需持续 5 天

拆分级别：

- entity\_type 可设置为 CAMPAIGN 或 LINE\_ITEM

用户组：

- 每个用户组在 user\_groups 数组中表示为一个对象
  - 至少需要两个用户组
  - 最多允许 30 个用户组
- 每个用户组的大小用字符串形式的数值在 1.00 到 99.00 之间设置
  - 注意：各对象的 size 值相加后必须为 100.00
- 应在每个用户组的 entity\_ids 数组中指定广告系列 ID

可选地，可为 A/B 测试或一个或多个用户组设置名称和描述。

以下请求在广告系列级别创建一个为期四天的 A/B 测试，包含两个用户组，每组分配 50% 的用户。第一个用户组基于广告系列 f2qcw 和 f2tht；第二个用户组基于广告系列 f2rqi 和 f2tws。该请求还为部分实体添加了名称和描述。

twurl -X POST -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab\_tests" -d '\{"end\_time": "2020-12-05T01:00:00Z", "entity\_type" : "CAMPAIGN", "start\_time": "2020-12-01T01:00:00Z", "user\_groups": \[\{"entity\_ids": \["f2qcw", "f2tht"], "size": "50.00", "name": "first group"},\{"entity\_ids": \["f2rqi", "f2tws"], "size": "50.00", "name": "second group", "description": "second AB test group"}], "name": "first AB test", "description": "documentation example"}'

```json
twurl -X POST -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab_tests" -d '{"end_time": "2020-12-05T01:00:00Z", "entity_type" : "CAMPAIGN", "start_time": "2020-12-01T01:00:00Z", "user_groups": [{"entity_ids": ["f2qcw", "f2tht"], "size": "50.00", "name": "first group"},{"entity_ids": ["f2rqi", "f2tws"], "size": "50.00", "name": "second group", "description": "second AB test group"}], "name": "first AB test", "description": "documentation example"}'

{
  "request": {
    "params": {
      "account_id": "18ce54d4x5t",
      "end_time": "2020-12-05T01:00:00Z",
      "entity_type": "CAMPAIGN",
      "start_time": "2020-12-01T01:00:00Z",
      "user_groups": [
        {
          "entity_ids": [
            "f2qcw",
            "f2tht"
          ],
          "size": "50.0",
          "name": "first group"
        },
        {
          "entity_ids": [
            "f2rqi",
            "f2tws"
          ],
          "size": "50.0",
          "name": "second group",
          "description": "second AB test group"
        }
      ],
      "name": "first AB test",
      "description": "documentation example"
    }
  },
  "data": {
    "created_at": "2020-12-01T00:00:00Z",
    "created_by": {
      "user_id": "756201191646691328",
      "username": "apimctestface"
    },
    "deleted": false,
    "description": "documentation example",
    "end_time": "2020-12-05T01:00:00Z",
    "entity_type": "CAMPAIGN",
    "id": "hr7l0",
    "name": "first AB test",
    "start_time": "2020-12-01T01:00:00Z",
    "status": "SCHEDULED",
    "user_groups": [
      {
        "id": "p1bcx",
        "name": "first group",
        "description": null,
        "size": "50.0",
        "entity_ids": [
          "f2qcw",
          "f2tht"
        ]
      },
      {
        "id": "p1bcy",
        "name": "second group",
        "description": "second AB test group",
        "size": "50.0",
        "entity_ids": [
          "f2rqi",
          "f2tws"
        ]
      }
    ],
    "updated_at": "2020-12-01T00:00:00Z",
    "updated_by": {
      "user_id": "756201191646691328",
      "username": "apimctestface"
    }
  }
}
```

用于“广告组层级”的 A/B 测试

广告系列层级与广告组层级的 A/B 测试之间的主要区别在于 entity\_type。对广告组层级开展 A/B 测试时，需要将其设置为‘entity\_type’ = ‘LINE\_ITEM’。以下对已创建 A/B 测试执行的所有操作均适用。

要求：

1. A/B 测试所属广告系列中的所有广告组都必须纳入该分流测试。
2. 广告组层级仅支持等比分流。
3. 单次分流测试中允许的用户组（对应的广告组）数量不得超过 5 个。
4. 每个用户组仅允许包含 1 个广告组。

<div id="updating">
  ### 更新
</div>

使用 [PUT accounts/:account\_id/ab\_tests/:ab\_test\_id](https://developer.x.com/en/docs/x-ads-api/measurement/api-reference/ab-tests) 端点更新 A/B 测试。该端点要求在请求中发送一个 JSON 数据块，且 Content-Type 必须设置为 application/json。

与其他更新端点类似，[PUT accounts/:account\_id/ab\_tests/:ab\_test\_id](/zh/x-ads-api/measurement/ab-testing#get-accounts-account-id-ab-tests) 端点要求在 URL 中包含 A/B 测试 ID。一般情况下，A/B 测试仅可在状态为 SCHEDULED 时更新。有一个例外：当状态为 LIVE 时，可以更新 A/B 测试的 end\_time。

该端点支持包含对象 ID 的部分 JSON。适用以下原则：

- 若要添加或移除对象或元素，请传入整个数组（及其子结构）；这是一次“替换”操作

- 其他情况下，通过引用键名或 ID 来修改（变更、添加、删除）现有字段

  - 要移除字段，将其值设为 null

  - 未传入的字段不会被修改

例如，若要向之前创建的 A/B 测试添加第三个用户组，需要在请求中发送 user\_groups 数组，其中既包含两个现有的用户组对象，也包含要新增的对象。将这视为对 user\_groups 数组的“重建”；像最初创建时那样传入数据（不要传入用户组对象 ID）。更新请求中的 user\_groups 数组可表示如下。

```json
[
  {
    "entity_ids": [
      "f2qcw",
      "f2tht"
    ],
    "size": "30.0",
    "name": "first group"
  },
  {
    "entity_ids": [
      "f2rqi",
      "f2tws"
    ],
    "size": "30.0",
    "name": "second group",
    "description": "second AB test group"
  },
  {
    "entity_ids": [
      "i1vwr",
      "i1xre"
    ],
    "size": "40.0"
  }
]
```

请注意，各对象的 size 值相加仍为 100.00。若未将前两个对象（此前各为 50.00）一并更新，请求将会失败。

如果我们只想为第一个用户组新增 description，更新请求中的 user\_groups 数组可表示如下。

```json
[
  {
    "id": "p1bcx",
    "description": "updated using a PUT request"
  }
]
```

我们通过 ID 引用该用户组对象，并仅包含需要修改的字段。

<div id="request-examples">
  #### 请求示例
</div>

本节提供更多更新请求示例。可将它们视为按顺序调用。为便于阅读，JSON 数据已格式化。响应已省略。

要进行以下修改，请按如下方式构造请求。（与上文示例相同。）

1. 添加第三个未命名且无描述的用户组

2. 调整各用户组的用户占比

twurl -X PUT -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab\_tests/hr7l0" -d '

```json
twurl -X PUT -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab_tests/hr7l0" -d '
{
  "user_groups": [
    {
      "entity_ids": [
        "f2qcw",
        "f2tht"
      ],
      "size": "30.00",
      "name": "first group"
    },
    {
      "entity_ids": [
        "f2rqi",
        "f2tws"
      ],
      "size": "30.00",
      "name": "second group",
      "description": "second AB test group"
    },
    {
      "entity_ids": [
        "i1vwr",
        "i1xre"
      ],
      "size": "40.00"
    }
  ]
}'
```

要进行以下修改，请按如下方式构造请求。

1. 移除 A/B 测试的描述

2. 为第一个用户组添加描述

3. 向第二个用户组添加一个实体 ID（f2syz）

twurl -X PUT -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab\_tests/hr7l0" -d '

```json
twurl -X PUT -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab_tests/hr7l0" -d '
{
  "description": null,
  "user_groups": [
    {
      "id": "p1bcx",
      "description": "first AB test group"
    },
    {
      "id": "p1bcy",
      "entity_ids": [
        "f2rqi",
        "f2tws",
        "f2syz"
      ]
    }
  ]
}'
```

第三项修改要求在传入新的实体 ID 的同时一并传入两个现有实体 ID。请注意，第三个用户组未作任何更改。

要进行以下修改，请按如下方式构造请求。

1. 移除第二个用户组

2. 调整各用户组的用户占比

```json
twurl -X PUT -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab_tests/hr7l0" -d '
{
  "user_groups": [
    {
      "entity_ids": [
        "f2qcw",
        "f2tht"
      ],
      "size": "55.00",
      "name": "first group"
    },
    {
      "entity_ids": [
        "i1vwr",
        "i1xre"
      ],
      "size": "45.00"
    }
  ]
}'
```

<div id="api-reference">
  ## API 参考文档
</div>

<div id="ab-tests">
  ### A/B 测试
</div>

[]()

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  在 Postman 中运行
</Button>

#### GET accounts/:account\_id/ab\_tests

获取部分或全部 A/B 测试的详细信息。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/12/accounts/:account_id/ab_tests`

<div id="parameters">
  ##### 示例请求
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/ab_tests`

<div id="example-request">
  ##### 示例响应
</div>

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t"
        }
      },
      "data": [
        {
          "created_at": "2022-05-25T00:00:00Z",
          "created_by": {
            "user_id": "756201191646691328",
            "username": "apimctestface"
          },
          "deleted": false,
          "description": "文档示例",
          "end_time": "2022-05-30T01:00:00Z",
          "entities": [
            {
              "id": "p1bcx",
              "account_id": "18ce54d4x5t"
            },
            {
              "id": "p1bcy",
              "account_id": "18ce54d4x5t"
            }
          ],
          "entity_type": "CAMPAIGN",
          "id": "hr7l0",
          "name": "首次 A/B 测试",
          "start_time": "2022-05-25T01:00:00Z",
          "status": "SCHEDULED",
          "user_groups": [
            {
              "id": "p1bcx",
              "name": "第一组",
              "description": null,
              "size": "50.0",
              "entity_ids": [
                "f2qcw",
                "f2tht"
              ]
            },
            {
              "id": "p1bcy",
              "name": "第二组",
              "description": "第二个 A/B 测试组",
              "size": "50.0",
              "entity_ids": [
                "f2rqi",
                "f2tws"
              ]
            }
          ],
          "updated_at": "2022-05-25T00:00:00Z",
          "updated_by": {
            "user_id": "756201191646691328",
            "username": "apimctestface"
          }
        }
      ],
      "next_cursor": null
    }
```

#### POST accounts/:account\_id/ab\_tests

创建一个新的 A/B 测试。

所有参数通过请求正文发送，并且必须将 `Content-Type` 设置为 `application/json`。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/12/accounts/:account_id/ab_tests`

<div id="resource-url">
  ##### 参数
</div>

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被使用账户的标识符。出现在资源路径中，通常是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 之外所有 Advertiser API 请求的必填参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| end\_time  <br />_必填_ | A/B 测试的结束时间，采用 ISO 8601 表示。<br /><br />类型：string<br /><br />示例：`2020-10-02T00:00:00Z` |
| entity\_type  <br />_必填_ | 用于划分用户组的实体类型。<br /><br />类型：enum<br /><br />可能的取值：`CAMPAIGN`、`LINE_ITEM` |
| start\_time  <br />_必填_ | A/B 测试的开始时间，采用 ISO 8601 表示。<br /><br />类型：string<br /><br />示例：`2022-05-30T00:00:00Z` |
| user\_groups  <br />_必填_ | 对用户组的描述。详见下表。可指定 2 到 30 个用户组。<br /><br />类型：array of objects |
| description  <br />_可选_ | A/B 测试的描述。最大长度：1,024 个字符。<br /><br />类型：string<br /><br />示例：`documentation example` |
| name  <br />_可选_ | A/B 测试的名称。最大长度：255 个字符。<br /><br />类型：string<br /><br />示例：`first AB test` |

#### 用户组

| 名称 | 说明 |
| :--- | :--- |
| entity\_ids  <br />_必填_ | 实体 ID 的数组。<br /><br />**注意**：每个实体只能关联到一个 A/B 测试。<br /><br />类型：array<br /><br />示例：`["dxi0l", "e66bl"]` |
| size  <br />_必填_ | 分配给该用户组的用户百分比。这是一个以字符串表示的数值，小数点后最多两位。例如，可将 40% 表示为：40、40.0 或 40.00。<br /><br />**注意**：各个\_对象\_的 size 数值**必须**相加为 100.00。<br /><br />类型：array<br /><br />最小值、最大值：`1.00`、`99.00` |
| description  <br />_可选_ | 用户组的描述。最大长度：1,024 个字符。<br /><br />类型：string<br /><br />示例：`second AB test group` |
| name  <br />_可选_ | 用户组的名称。最大长度：255 个字符。<br /><br />类型：string<br /><br />示例：`first group` |

### 示例请求

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/ab_tests -d '{"end_time": "2022-05-30T01:00:00Z", "entity_type" : "CAMPAIGN", "start_time": "2022-05-25T01:00:00Z", "user_groups": [{"entity_ids": ["f2qcw", "f2tht"], "size": "50.00", "name": "第一组"},{"entity_ids": ["f2rqi", "f2tws"], "size": "50.00", "name": "第二组", "description": "AB 测试第二区组"}], "name": "首次 AB 测试", "description": "文档示例"}'`

<div id="example-request">
  ### 示例响应
</div>

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "end_time": "2022-05-30T01:00:00Z",
          "entity_type": "CAMPAIGN",
          "start_time": "2022-05-25T01:00:00Z",
          "user_groups": [
            {
              "entity_ids": [
                "f2qcw",
                "f2tht"
              ],
              "size": "50.0",
              "name": "first group"
            },
            {
              "entity_ids": [
                "f2rqi",
                "f2tws"
              ],
              "size": "50.0",
              "name": "second group",
              "description": "second AB test group"
            }
          ],
          "name": "first AB test",
          "description": "documentation example"
        }
      },
      "data": {
        "created_at": "2022-05-25T00:00:00Z",
        "created_by": {
          "user_id": "756201191646691328",
          "username": "apimctestface"
        },
        "deleted": false,
        "description": "documentation example",
        "end_time": "2022-05-30T01:00:00Z",
        "entities": [
          {
            "id": "p1bcx",
            "account_id": "18ce54d4x5t"
          },
          {
            "id": "p1bcy",
            "account_id": "18ce54d4x5t"
          }
        ],
        "entity_type": "CAMPAIGN",
        "id": "hr7l0",
        "name": "first AB test",
        "start_time": "2022-05-25T01:00:00Z",
        "status": "SCHEDULED",
        "user_groups": [
          {
            "id": "p1bcx",
            "name": "first group",
            "description": null,
            "size": "50.0",
            "entity_ids": [
              "f2qcw",
              "f2tht"
            ]
          },
          {
            "id": "p1bcy",
            "name": "second group",
            "description": "second AB test group",
            "size": "50.0",
            "entity_ids": [
              "f2rqi",
              "f2tws"
            ]
          }
        ],
        "updated_at": "2022-05-25T00:00:00Z",
        "updated_by": {
          "user_id": "756201191646691328",
          "username": "apimctestface"
        }
      }
    }
```

#### PUT accounts/:account\_id/ab\_tests/:ab\_test\_id

更新指定的 A/B 测试。

所有参数都通过请求正文发送，且需将 `Content-Type` 设为 `application/json`。

此端点支持仅包含对象 ID 的部分 JSON。适用以下原则：

- 如需添加或移除对象或元素，请传入整个数组（及其子结构）；这是一次“替换”操作
  - 可将其理解为重新创建该数组
- 其他情况下，可通过引用键名或 ID 来修改（更改、添加、移除）现有字段
  - 如需移除字段，将其值设为 `null`
  - 未传入的字段不会被修改

一般情况下，仅当 `status` 为 `SCHEDULED` 时才可更新 A/B 测试。有一个例外：当其为 `LIVE` 时，可以更新 A/B 测试的 `end_time`。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/12/accounts/18ce54d4x5t/:ab_test_id`

<div id="resource-url">
  ##### 参数
</div>

| 名称 | 说明 |
| :--- | :--- |
| account\_id  <br />_必填_ | 被使用账户的标识符。出现在资源路径中，并且通常是除 [GET accounts](/zh/x-ads-api/campaign-management#accounts) 之外所有广告主 API 请求的必填参数。指定的账户必须与已认证用户关联。<br /><br />类型：string<br /><br />示例：`18ce54d4x5t` |
| ab\_test\_id  <br />_必填_ | 在该请求中所操作的 A/B 测试的引用 ID。<br /><br />类型：string<br /><br />示例：`hr7l0` |
| description  <br />_可选_ | A/B 测试的描述。最大长度：1,024 个字符。<br /><br />**注意**：仅当 A/B 测试的 `status` 为 `SCHEDULED` 时可更新。<br /><br />类型：string<br /><br />示例：`documentation example` |
| end\_time  <br />_可选_ | A/B 测试的结束时间，采用 ISO 8601 格式。<br /><br />**注意**：仅当 A/B 测试的 `status` 为 `SCHEDULED` 或 `LIVE` 时可更新。<br /><br />类型：string<br /><br />示例：`2020-10-02T00:00:00Z` |
| name  <br />_可选_ | A/B 测试的名称。最大长度：255 个字符。<br /><br />**注意**：仅当 A/B 测试的 `status` 为 `SCHEDULED` 时可更新。<br /><br />类型：string<br /><br />示例：`first AB test` |
| start\_time  <br />_可选_ | A/B 测试的开始时间，采用 ISO 8601 格式。<br /><br />**注意**：仅当 A/B 测试的 `status` 为 `SCHEDULED` 时可更新。<br /><br />类型：string<br /><br />示例：`2022-05-30T00:00:00Z` |
| user\_groups  <br />_必填_ | 用户分组的定义。详见下表。<br /><br />**注意**：仅当 A/B 测试的 `status` 为 `SCHEDULED` 时可更新。<br /><br />类型：对象数组 |

#### 用户组

| 名称 | 说明 |
| :--- | :--- |
| id  <br />_有时必填_ | 在请求中所操作的用户组对象的引用。<br /><br />**注意**：当修改（更改、添加或移除）用户组对象的\_字段\_时必填。<br /><br />**注意**：在添加或移除整个用户组对象时不要指定 ID。<br /><br />类型：string<br /><br />示例：`p1bcx` |
| description  <br />_可选_ | 用户组的描述。最大长度：1,024 个字符。<br /><br />**注意**：通过将该字段设为 `null` 可以取消设置（移除）。<br /><br />类型：string<br /><br />示例：`second AB test group` |
| entity\_ids  <br />_可选_ | 实体 ID 的数组。<br /><br />**注意**：这是替换操作，会覆盖之前已设置的值。<br /><br />**注意**：实体只能关联到一个 A/B 测试。<br /><br />类型：array<br /><br />示例：`["dxi0l", "e66bl"]` |
| name  <br />_可选_ | 用户组名称。最大长度：255 个字符。<br /><br />**注意**：通过将该字段设为 `null` 可以取消设置（移除）。<br /><br />类型：string<br /><br />示例：`first group` |
| size  <br />_可选_ | 分配给此用户组的用户百分比。该数值以字符串形式表示，小数点后最多两位。例如，40% 可表示为：40、40.0 或 40.00。<br /><br />**注意**：各\_对象\_的 size 值相加**必须**等于 100.00。<br /><br />类型：string<br /><br />最小值、最大值：`1.00`、`99.00` |

<div id="parameters">
  ##### 示例请求
</div>

此请求会进行以下修改：

1. 删除 A/B 测试描述
2. 修改结束时间
3. 为第一个用户组添加描述
4. 调整各用户组的用户占比
5. 向第二个用户组添加一个实体 ID（`f2syz`）

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/ab_tests/hr7l0 -d '{"description": null, "end_time": "2022-06-01T01:00:00Z", "user_groups": [{"id": "p1bcx", "description": "first AB test group", "size": "60.00"},{"id": "p1bcy", "size": "40.00", "entity_ids": ["f2rqi", "f2tws", "f2syz"]}]}'`

<div id="example-request">
  ##### 示例响应
</div>

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "ab_test_id": "hr7l0",
          "description": null,
          "end_time": "2022-06-01T01:00:00Z",
          "user_groups": [
            {
              "id": "p1bcx",
              "description": "第一个 AB 测试分组",
              "size": "60.0"
            },
            {
              "id": "p1bcy",
              "size": "40.0",
              "entity_ids": [
                "f2rqi",
                "f2tws",
                "f2syz"
              ]
            }
          ]
        }
      },
      "data": {
        "created_at": "2020-05-25T00:00:00Z",
        "created_by": {
          "user_id": "756201191646691328",
          "username": "apimctestface"
        },
        "deleted": false,
        "description": null,
        "end_time": "2022-06-01T01:00:00Z",
        "entities": [
          {
            "id": "p1bcx",
            "account_id": "18ce54d4x5t"
          },
          {
            "id": "p1bcy",
            "account_id": "18ce54d4x5t"
          }
        ],
        "entity_type": "CAMPAIGN",
        "id": "hr7l0",
        "name": "第一次 AB 测试",
        "start_time": "2022-05-25T01:00:00Z",
        "status": "SCHEDULED",
        "user_groups": [
          {
            "id": "p1bcx",
            "name": "第一组",
            "description": "第一个 AB 测试分组",
            "size": "60.0",
            "entity_ids": [
              "f2qcw",
              "f2tht"
            ]
          },
          {
            "id": "p1bcy",
            "name": "第二组",
            "description": "第二个 AB 测试分组",
            "size": "40.0",
            "entity_ids": [
              "f2rqi",
              "f2tws",
              "f2syz"
            ]
          }
        ],
        "updated_at": "2022-05-25T00:17:23Z",
        "updated_by": {
          "user_id": "756201191646691328",
          "username": "apimctestface"
        }
      }
    }
```

#### DELETE accounts/:account\_id/ab\_tests/:ab\_test\_id

删除指定的 A/B 测试。

**注意**：删除 A/B 测试操作不可撤销，后续再次尝试删除该资源将返回 HTTP 404。

<div id="resource-url">
  ##### 资源 URL
</div>

`https://ads-api.x.com/12/accounts/:account_id/ab_tests/:ab_test_id`

<div id="resource-url">
  ##### 参数
</div>

| 名称 | 说明 |
| :--- | :--- |
| ab\_test\_id  <br />_必填_ | 请求中所使用的 A/B 测试的标识引用。<br /><br />类型：string<br /><br />示例：`hr7l0` |

<div id="parameters">
  ##### 示例请求
</div>

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/ab_tests/hr7l0`

<div id="example-request">
  ### 示例响应
</div>

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "ab_test_id": "hr7l0"
        }
      },
      "data": {
        "created_at": "2022-05-25T00:00:00Z",
        "created_by": {
          "user_id": "756201191646691328",
          "username": "apimctestface"
        },
        "deleted": true,
        "description": null,
        "end_time": "2022-06-01T01:00:00Z",
        "entities": [
          {
            "id": "p1bcx",
            "account_id": "18ce54d4x5t"
          },
          {
            "id": "p1bcy",
            "account_id": "18ce54d4x5t"
          }
        ],
        "entity_type": "CAMPAIGN",
        "id": "hr7l0",
        "name": "first AB test",
        "start_time": "2022-05-25T01:00:00Z",
        "status": "SCHEDULED",
        "user_groups": [
          {
            "id": "p1bcx",
            "name": "first group",
            "description": "first AB test group",
            "size": "60.0",
            "entity_ids": [
              "f2qcw",
              "f2tht"
            ]
          },
          {
            "id": "p1bcy",
            "name": "second group",
            "description": "second AB test group",
            "size": "40.0",
            "entity_ids": [
              "f2rqi",
              "f2tws",
              "f2syz"
            ]
          }
        ],
        "updated_at": "2022-06-02T00:18:31Z",
        "updated_by": {
          "user_id": "756201191646691328",
          "username": "apimctestface"
        }
      }
    }
```