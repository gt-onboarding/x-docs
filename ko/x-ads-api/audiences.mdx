---
title: 잠재고객
---

import { Button } from '/snippets/ko/button.mdx';

<div id="custom-audiences">
  ## 맞춤 잠재고객
</div>

<div id="overview">
  ### 개요
</div>

파트너가 [맞춤 잠재고객](https://business.x.com/en/targeting/tailored-audiences.html)을 생성하는 방법은 여러 가지가 있습니다.

- [잠재고객 API(CRM)](#crm)
- [웹](#web)
- [모바일](#mobile)
- [유연한 잠재고객](#flexible)

유사 맞춤 잠재고객은 타게팅에서 제외할 수 없습니다. 또한 동일한 광고 라인 아이템(광고 그룹)에서 맞춤 잠재고객과 유사 맞춤 잠재고객을 동시에 타게팅할 수 없습니다.

**잠재고객 관리**

잠재고객은 잠재고객 파트너 및 Ads API 파트너를 통해 관리할 수 있습니다. API에서는 맞춤 잠재고객에 액세스하고 유지 관리할 수 있는 일련의 엔드포인트를 제공합니다.

맞춤 잠재고객 정보와 관련하여 다음 2개의 엔드포인트를 제공합니다:

- [GET accounts/:account\_id/custom\_audiences](/ko/x-ads-api/audiences)
- [GET accounts/:account\_id/custom\_audiences/:custom\_audience\_id](/ko/x-ads-api/audiences)

잠재고객 업로드 및 관리 방법에 대한 자세한 내용은 [Audience API 가이드](/ko/x-ads-api/audiences)를 확인하세요.

**처리 시간**

일반적으로 잠재고객 변경 사항은 6~8시간 간격으로 실행되는 배치로 처리됩니다. 변경 사항이 처리되는 동안 업데이트 대상인 기존 잠재고객은 영향을 받지 않습니다. 이 기간 내에는 잠재고객당 추가 1회, 제거 1회를 초과하는 업데이트는 권장하지 않습니다.

**타게팅**

잠재고객은 X가 소유·운영하는 클라이언트에서 지난 90일 내에 활성화된 사용자 최소 100명과 일치하는 경우에만 타게팅할 수 있습니다. [GET accounts/:account\_id/custom\_audiences/:custom\_audience\_id](/ko/x-ads-api/audiences)는 일치하는 사용자가 너무 적어 해당 잠재고객을 타게팅할 수 없는지 여부를 표시합니다.

**잠재고객 API(CRM)**

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/crm_0.png" alt="image2" />
</Frame>

잠재고객 또는 API 파트너가 해시된 식별자 목록을 제공하면 X가 매칭을 수행하고, X에서의 미디어 구매에 활용할 수 있는 세그먼트를 생성합니다. 파트너는 [Audience API](/ko/x-ads-api/audiences)를 사용해 이러한 잠재고객을 생성할 수 있습니다.

**작동 방식**

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/crm_1.png" alt="image3" />
</Frame>

**웹**

MPP 잠재고객 파트너와 협업할 때, X에서의 미디어 구매 타게팅을 위해 세그먼트를 식별하는 표준 쿠키 매칭 프로세스를 제공합니다. 또한 광고주는 [X Web Event Tag](/ko/x-ads-api/measurement/web-conversions#web-event-tags)를 설정해 웹사이트 사용자 데이터를 수집하고 해당 맞춤 잠재고객을 생성할 수 있습니다.

**설정 단계**

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/screen_shot_2013-11-26-cookie-usage.png" alt="image0" />
</Frame>

![]()

**작동 방식**

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/tailored_audience_web.png" alt="image1" />
</Frame>

**모바일**

자세한 내용은 [모바일 앱에서의 맞춤 잠재고객 소개 블로그 게시물](https://blog.x.com/2014/introducing-tailored-audiences-from-mobile-apps)을 참조하세요.

**유연한 잠재고객**

[유연한 잠재고객](/ko/x-ads-api/audiences)은 광고주가 기존 맞춤 잠재고객 또는 그 하위 집합을 기반으로 잠재고객 조합을 구성하고 저장할 수 있도록 합니다. 맞춤 잠재고객 구성원의 하위 집합은 상호작용의 최신성과 빈도에 따라 타게팅할 수 있습니다.

**맞춤 잠재고객의 제한된 사용 사례**

[제한 사항 자세히 보기](https://developer.x.com/en/developer-terms/more-on-restricted-use-cases "제한 사항 자세히 보기")

<div id="audiences-faq">
  ### 잠재고객 FAQ[](#real-time-tailored-audiences "Permalink to this headline")
</div>

**Q: 매우 많은 데이터를 푸시했는데, 잠재고객 규모가 TOO\_SMALL로 표시되는 이유는 무엇인가요?**

A: 현재 데이터는 실시간으로 잠재고객에 추가되고 있지만, 잠재고객 규모 계산을 위한 처리 작업은 일정 시간이 지난 후에만 실행됩니다. 몇 시간 후 UI에 올바른 잠재고객 규모가 표시될 것입니다.

**Q: 잠재고객 데이터를 전송한 후 24시간 이상 기다렸지만 아직도 해당 잠재고객을 타게팅할 수 없습니다. 다음 단계로 무엇을 해야 하나요?**

A: 다음 사항을 확인해 주세요.

- 전달되는 사용자 ID가 올바르며 형식 오류가 없는지
- 전달되는 잠재고객 이름이 정확하며 이전 멤버십 업데이트와 일치하는지
- POST 명령의 응답이 정상인지
- ID Sync 픽셀이 올바르게 구현되었는지, 그리고 ID Sync 프로세스에 설명된 대로 충분한 사용자가 해당 사이트를 방문해 매핑이 이뤄졌는지. 멤버십 업데이트에 포함된 미매핑 사용자는 타겟 사용자로 전환되지 않습니다.

모든 사항이 정상이라면 가능한 한 상세한 정보를 포함해 X 제품 담당자에게 문의해 주세요(선호 정보 예시는 [Guide to Partner Inbounds](/ko/x-ads-api/introduction) 참조).

**Q: 해당 엔드포인트는 얼마나 자주 호출할 수 있으며, 어떤 방식으로 호출해야 하나요?**

A: 전체 잠재고객 멤버십을 재전송하지 말고, 증분 델타로 호출할 것을 강력히 권장합니다. 본 시스템은 세계 최대 규모 웹사이트의 증분 데이터 업데이트를 처리할 수 있을 만큼의 처리량으로 검증되었습니다. 초기 잠재고객 업로드는 신중하게 제한(스로틀링)해야 하며, 최초 업로드 완료까지 상당한 시간이 소요될 수 있습니다.

**Q: 타게팅에 사용할 수 있는 잠재고객의 최소 규모는 얼마인가요?**

- 잠재고객의 최소 규모는 100명입니다(매칭 후). 500명 미만의 사용자가 매칭된 잠재고객은 X Ads UI에서 타게팅에 사용할 수 없습니다.

**Q: 잠재고객 파일을 처리하는 데 얼마나 걸리며, X 사용자 인터페이스에서 준비되기까지는 얼마나 걸리나요?**

- 일반적으로 잠재고객 파일 처리에는 4~6시간이 소요되지만 파일 크기에 따라 달라질 수 있습니다. 파일 처리 완료 후 해당 잠재고객은 X Ads UI에서 사용할 수 있습니다.

**Q: 매치율은 어떻게 계산하나요?**

- 매치율 = 최근 90일 활성 X 사용자 수 / 제공된 사용자 수

**Q: 잠재고객 파일이 제대로 작동하는지 어떻게 테스트하나요?**

- 테스트 잠재고객 파일을 제공하고 광고주 핸들로 “keltonlynn”을 사용하시면 됩니다. 그러면 파일이 X UI에 정상적으로 수집되고 로드되는지 검증할 수 있습니다.

**Q: 파트너 사용자 식별자(`p_user_id`)란 무엇인가요?**

- 귀사가 각 고객을 고유하게 식별하는 데 사용하는 식별자입니다.

**Q: 표준 ID란 무엇인가요?**

- 이메일 주소, 디바이스 ID, X @handle 또는 ID일 수 있습니다.

**Q: HMAC 키는 어떻게 받나요?**

- 암호화된 이메일로 제공됩니다. [mpp-inquiry%x.com](mailto:mpp-inquiry%x.com)으로 공개 PGP 키를 보내 주시면, 모든 것이 정상 동작하는지 확인하기 위한 테스트 이메일을 발송합니다. 검증이 완료되면 HMAC 키를 보내드립니다.

**Q: 제공된 HMAC 키를 사용해 해시 프로세스가 정상 작동했는지 어떻게 검증하나요?**

- X가 테스트 파일(샘플 이메일 주소, 디바이스 ID 등 포함)과 결과 해시 파일을 제공하므로, 이를 기준으로 결과를 검증하실 수 있습니다.

**Q: 전체 데이터 매치 파일에 파일 크기 제한이 있나요?**

- 아니요. 전체 데이터 매치 파일에는 크기 제한이 없습니다.

**Q: 전체 데이터 매치 파일이 처리되는 데는 얼마나 걸리나요?**

- X가 파일을 수신한 후 처리에는 약 1일이 소요됩니다.

<div id="crm">
  ### CRM
</div>

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/crm_0.png" alt="image0" />
</Frame>

이 문서는 맞춤 잠재고객 CRM 파트너를 위한 통합 세부사항을 설명하며, 파일 형식과 데이터 교환 절차를 포함합니다.

**요약**

Company는 고객을 대신해 해시된 공통 사용자 식별자(예: 이메일 주소) 또는 파트너 사용자 ID 목록을 X에 제공하여 블라인드 매칭을 수행하고, 타기팅용 X 사용자 ID 목록을 생성합니다. 타기팅용 세그먼트는 ads.x.com 캠페인 설정에서 파일명에 지정된 광고주의 특정 @handle에 제공됩니다.

Company가 제공하는 모든 파일은 X가 Company에 부여한 전용 계정을 통해 IronBox(www.golockbox.com)의 보안 패키지를 사용해 X로 전달됩니다. X는 IronBox 접근 권한을 제공합니다. IronBox API 문서는 [https://secure.goironcloud.com/Docs/Help/](https://secure.goironcloud.com/Docs/Help/)에서 확인할 수 있습니다.

<div id="partner-id-matching-requirements">
  #### 파트너 ID 매칭 요건
</div>

회사가 자체 표준 ID 시스템을 사용해 사용자를 추적하는 경우(예: 이메일 주소, 디바이스 ID, X 사용자 ID 등과 같은 일반 사용자 식별자를 사용하지 않는 경우) 다음 프로세스를 권장합니다.

**1. 전체 데이터 매칭**

초기에 Company는 X와의 전체 데이터 매칭을 위해, 고유한 일반 사용자 식별자를 포함한 모든 사용자 레코드의 포괄적 목록을 단일 파일로 제공하여 파트너 ID(`p_user_id`)를 X ID(`tw_id`)에 매핑하고 이 매핑을 X에 저장합니다. 이는 적절한 유지 관리를 위해 정기적으로 2~3개월 주기로 수행됩니다. 매칭이 완료되면 X는 이 파일 기준의 초기 매칭률을 이메일로 Company에 공유합니다.

이 파일의 형식은 다음과 같습니다:

이름 규칙: FullDataMatch.\[CompanyName].txt

해시 알고리즘: HMAC\_SHA-256

형식:

열 1: 일반 사용자 식별자의 HMAC 해시 값

열 2: 파트너 사용자 ID(사용자별 고유, 파일 내에서는 중복 가능)

열 구분자(CSV): 해시된 일반 사용자 식별자와 파트너 ID는 쉼표로 구분

줄바꿈으로 구분된 값

- 예: 사용자 레코드 A에 파트너 사용자 ID 1과 일반 사용자 식별자 1, 2, 3이 있는 경우:

|     |     |
| :--- | :--- |
| 일반 사용자 식별자 1 | p\_user\_1 |
| 일반 사용자 식별자 2 | p\_user\_1 |
| 일반 사용자 식별자 3 | p\_user\_1 |

\*아래 ‘해싱 지침’ 섹션의 일반 사용자 식별자를 참조하세요

**2. 커스텀 세그먼트 목록**

Company는 X에서 타게팅할 고객용 맞춤 잠재고객을 생성하기 위해 `p_user_id` 형태의 사용자 목록을 제공합니다.

- 줄바꿈으로 구분된 값
- `p_user_id`
- - (위 1. 전체 데이터 매칭 섹션에서 제공한 것과 동일합니다. 전체 데이터 매칭에서 제공한 값이 해시된 경우, Company는 잠재고객 파일에도 동일한 해시 값을 제공합니다. 해시되지 않은 값을 제공한 경우에는 해시되지 않은 값을 제공합니다.)

<div id="standard-matching-requirements">
  #### 표준 매칭 요구 사항
</div>

회사가 모든 고객 사용자 식별자를 매핑하는 데 표준 ID를 사용하지 않는 경우, 다음 프로세스를 권장합니다.

**맞춤 세그먼트 목록**

회사는 고객을 대신해 해시된 공통 사용자 식별자 목록을 X에 직접 제공하여 맞춤 잠재고객을 생성합니다.

이 파일의 형식은 다음과 같아야 합니다:

- 줄바꿈으로 구분된 값
- 해시된 공통 사용자 식별자(예: 이메일 주소)
- 아래에 명시된 파일 명명 규칙 준수
- 아래의 ‘해싱 지침’에 따른 이메일 주소 해싱 지침 준수

<div id="custom-segment-list-file-naming-operations">
  #### 맞춤 세그먼트 목록 파일 명명 및 작업
</div>

파일의 처리 방식은 파일 이름에 따라 결정되며, 사용 가능한 작업과 일반적인 파일 명명 규칙은 다음과 같습니다: audiencename\_partnername.handle.operation.filetype

- audiencename: 맞춤 잠재고객의 이름. 이 값은 ads.x.com 캠페인 설정 UI에서 잠재고객을 선택할 때 표시되는 이름입니다. 예: brand\_loyalty\_card\_holders.
- partnername: 광고주를 대신해 데이터를 제공하는 회사의 이름. 예: company\_name.
- handle: 맞춤 잠재고객에 접근 권한이 있는 X 계정(@handle). 예: @pepsi, @dietpepsi
- operation: new, add, remove, removeall, replace (아래 상세)
- timestamp: 업로드되는 각 잠재고객 파일의 고유성을 보장하기 위해 사용하는 표준 Unix epoch 시간(초)
- filetype: 파일은 \*.txt 형식이어야 합니다

<div id="creating-and-updating-audiences">
  #### 잠재고객 생성 및 업데이트
</div>

단일 파일로 새 잠재고객을 생성합니다. 예: loyalty\_card\_holders\_partnername.pepsi.new.txt

Add - 목록의 매칭 항목을 기존 잠재고객에 추가합니다. 예: loyalty\_card\_holders\_partnername.pepsi.add..txt

Remove - 목록의 매칭 항목을 기존 잠재고객에서 제거합니다. 예: loyalty\_card\_holders\_partnername.pepsi.remove..txt

Remove All - 정기적으로 업데이트되는 누적 목록에서 생성된 매칭 항목을 해당 클라이언트의 모든 잠재고객에서 제거합니다(즉, 클라이언트의 옵트아웃 목록). 예: partnername.pepsi.removeall.txt

- 이는 광고주로부터 옵트아웃한 사용자에 대한 포괄적 목록에 사용할 수 있습니다.
- X는 이 파일에 제공된 최신 목록만을 적용하며, 매칭된 기존 및 향후 모든 잠재고객 전반에 이를 적용합니다.

이 파일이 제공되고 처리된 시점의 X 사용자 기준.

Replace - 기존 잠재고객을 제거하고 새 잠재고객 목록으로 대체합니다. 예: loyalty\_card\_holders\_partnername.pepsi.replace..txt

전체 회사 옵트아웃 - 회사는 자사 옵트아웃 정책에 따라 옵트아웃한 사용자를 제거하기 위한 누적 옵트아웃 파일을 제공합니다.

X는 이 회사 옵트아웃 파일에 제공된 최신 목록만을 적용하며, 이 파일이 제공되고 처리된 시점에 매칭된 X 사용자 기준으로 기존 및 향후 모든 잠재고객 전반에 이를 적용합니다. 회사 옵트아웃 파일 형식은 다음과 같습니다. 예: partnername.removeall.txt

Delete - 기존 잠재고객을 현재 잠재고객 목록에서 삭제합니다. 예: loyalty\_card\_holders\_partnername.pepsi.delete.txt

<div id="hashing-directions">
  #### 해싱 지침
</div>

X는 일반 사용자 식별자(예: 이메일 주소)를 해싱하기 위해 PGP를 통해 Base64로 인코딩된 프로덕션 키를 안전하게 공유합니다. 회사는 키를 Base64 디코딩하여 해싱에 사용할 32바이트 키를 생성합니다.

Base64 인코딩된 키 예시:

BrQvOg+dACBUmKjRiNxZgJLh6zydjS0ZOv80FelTNzM=

Base64 디코딩된 키 예시:

/:� TшY

정규화: 회사는 해싱 전에 일반 사용자 식별자에 대해 기본 정규화를 수행합니다(디바이스 ID는 제외되며, ‘디바이스 ID 정규화’ 섹션을 참조).

<div id="e-mail-normalization">
  #### 이메일 정규화
</div>

앞뒤 공백을 제거하고 이메일 주소를 모두 소문자로 변환합니다.

예: 원본 이메일 주소: testemail\_Organisational\_baseball+884`@`It92I6Ev2B`.`Com

정규화 후: testemail\_organisational\_baseball+884`@`it92i6ev2b`.`com

해시값: 74d9584eded0ad1e5572a1c1849f3716751d371d6117a6155dad5363f4b4fbec

참고: 인코딩된 HMAC과 키의 문자 수는 입력값과 인코딩 방식에 따라 달라질 수 있으므로 고정되어 있지 않습니다.

<div id="device-id-normalization">
  #### 디바이스 ID 정규화
</div>

데이터 파트너에게 제공하는 공통 솔트와 SHA-256 해시 알고리즘을 사용해 디바이스 ID를 해시하는 동일한 요구 사항을 적용합니다. 이메일 주소와 마찬가지로 공백은 제거하지만, IDFA/Android ID에 대해서는 소문자 변환 등의 정규화를 하지 않으며, IDFA/Android ID는 정확한 원본 형식을 사용해야 합니다.

다음은 해싱 이전 iOS 및 Android용 디바이스 ID의 원시 형식 예시입니다:

iOS IDFA: DD99CFF7-6186-4602-9DF2-ED3FD0B2D431

Android ID: b5bf2122961b3595

해시된 iOS IDFA: 134fb8cd95c7fd42e2793f469a447198ca5f990968db2dbadad70e723ed9750b

해시된 Android ID: 130dddff1939f229476f50bc8adab8fcb7e3525b0e9604fe8effc15e68cee4a4

<div id="x-user-id-normalization">
  #### X 사용자 ID 정규화
</div>

X ID는 데이터 그룹화(예: 광고주 전용 @handle 고객 목록)가 PII는 아니더라도 광고주에게 비공개이므로 계속 해시 처리됩니다. 데이터 파트너에게 제공하는 공통 salt와 SHA-256 해싱 알고리즘을 사용하여 X ID에 동일한 해시 요건이 적용됩니다. 공백은 X ID와 `@`username 모두에서 제거해야 하지만, User ID는 별도의 정규화가 필요하지 않습니다. @username은 정규화를 위해 소문자로 변환해야 하며, @ 기호는 username에 포함하지 않아야 합니다.

원시 ID 형식은 다음과 같습니다:

- User ID: 27674040
- @username: testusername

해시된 User ID: bf6b57d4e861e83bea8bbed2b800b251a64c95468ee6e8cb07c3368c9ed45e85

해시된 @username: 12201ae78ad1afa907c7112d17f498154ffb0bf9ea523f5390e072a06d7d9812

<div id="id-sync-integration">
  ### ID 동기화 통합
</div>

`p_id`와 함께 데이터를 전송하는 파트너는 광고주 또는 파트너의 사용자 ID를 X 사용자 ID에 매핑하기 위한 ID 동기화 절차를 거쳐야 합니다. 이를 통해 광고주는 X에서 자체 사용자 세그먼트를 직접 타기팅할 수 있습니다. 또한 파트너는 멤버십 업데이트를 전송할 때 `user_identifier_type` 매개변수 값을 `TALIST_PARTNER_USER_ID` 또는 `TAWEB_PARTNER_USER_ID`로 설정해야 합니다.

- **웹 전용**: 아래에 설명된 대로 광고주의 사이트에 픽셀을 설치하여 수행할 수 있습니다.
- **목록**: [CRM](/ko/x-ads-api/audiences#crm) 페이지에 설명된 방법 중 어느 것이든 사용하여 수행할 수 있습니다.

<div id="pixel-url">
  #### 픽셀 URL
</div>

|     |
| :--- |
| **기본 URL** |
| [https://analytics.x.com/i/adsct](https://analytics.x.com/i/adsct) |

<div id="pixel-parameters">
  #### 픽셀 매개변수
</div>

|     |     |
| :--- | :--- |
| **매개변수** | **설명** |
| `p_id` | X에서 부여한 파트너 ID |
| `p_user_id` | 파트너 시스템의 사용자 ID |

<div id="id-sync-pixel">
  #### ID 동기화 픽셀:
</div>

파트너 ID 예시 111과 `p_user_id` 예시 abc를 사용할 때, 구성되는 픽셀은 다음과 같습니다:

```json
    <pre class="brush: xml">
    <img height="1" width="1" src="https://analytics.x.com/i/adsct?p_id=111&p_user_id=abc" style="display:none" />
    </pre>
```

**옵트아웃 파일 구성 및 옵트아웃 파일 전송**

파트너는 타깃 광고 송출을 옵트아웃하기로 선택한 사용자 목록을, 파트너가 파악한 최선의 범위 내에서 X에 제공해야 합니다. 파일 형식은 다음과 같이 전송해야 합니다:

|     |     |     |     |
| :--- | :--- | :--- | :--- |
| **열 번호** | **열 이름** | **열 유형** | **설명** |
| 1   | Partner ID | string | “partner id”는 각 파트너를 고유하게 식별하기 위해 X가 파트너에게 제공하는 ID입니다. |
| 2   | 파트너 시스템의 사용자 ID | string | `p_user_id`는 파트너가 사용자를 식별하는 데 사용하는 고유 ID입니다. 이러한 옵트아웃 사용자를 포함한 파일은 [TON upload](/ko/x-ads-api/audiences) 엔드포인트를 사용해 업로드해야 하며, 업로드된 데이터의 경로는 다음의 Global Opt Out 엔드포인트로 전송해야 합니다: [PUT accounts/:account\_id/custom\_audiences/global\_opt\_out](/ko/x-ads-api/audiences). |

**멤버십 업데이트 전송**

엔드포인트 문서에 명시된 바와 같이, [POST custom\_audience\_memberships](/ko/x-ads-api/audiences) 엔드포인트를 통해 사용자를 전달할 때에는 쿠키 기반 매칭을 활성화하기 위해 고객 ID를 전달해야 합니다. `p_id`로 데이터를 전송하는 파트너는 `user_identifier_type`을 반드시 `TALIST_PARTNER_USER_ID` 또는 `TAWEB_PARTNER_USER_ID`로 설정해야 합니다.

그 외 모든 단계는 [Real-Time Audience API Integration Guide](/ko/x-ads-api/audiences)에 기재된 내용과 동일합니다.

<div id="custom-audiences-user-data">
  ### 맞춤 잠재고객 사용자 데이터
</div>

이 문서는 \[맞춤 잠재고객]/x-ads-api/audiences 사용자 데이터의 형식을 설명합니다.

**데이터 정규화**

**디바이스 ID**:

- IDFA - 소문자, 대시 포함; 예: `4b61639e-47cc-4056-a16a-c8217e029462`
- AdID - 디바이스의 원래 형식이어야 하며, 대문자·대시 형태는 사용하지 않음; 예: `2f5f5391-3e45-4d02-b645-4575a08f86e`
- Android ID - 디바이스의 원래 형식이어야 하며, 대문자·대시·공백 형태는 사용하지 않음; 예: `af3802a465767e36`

**이메일 주소**:

- 소문자로 변환하고 앞뒤 공백 제거; 예: `support@x.com`

**X 사용자 이름**:

- @ 제외, 소문자로 변환하고 앞뒤 공백 제거; 예: `jack`

**X 사용자 ID**:

- 표준 정수; 예: `143567`

**데이터 해싱**

각 줄의 데이터는 솔트 없이 `SHA256`으로 해시해야 합니다. 또한 최종 출력 해시는 소문자여야 합니다. 예: 49e0be2aeccfb51a8dee4c945c8a70a9ac500cf6f5cb08112575f74db9b1470d이며, **49E0BE2AECCFB51A8DEE4C945C8A70A9AC500CF6F5CB08112575F74DB9B1470D가 아님**

```
# Python으로 @AdsAPI 사용자 해싱
import hashlib
hashlib.sha256("adsapi".encode()).hexdigest()

# 출력
49e0be2aeccfb51a8dee4c945c8a70a9ac500cf6f5cb08112575f74db9b1470d
```

해싱용 추가 코드 샘플은 [github.com/xdevplatform/ads-platform-tools](https://github.com/xdevplatform/ads-platform-tools)에서 확인할 수 있습니다.

<div id="custom-audiences-web">
  ### 맞춤 잠재고객: 웹
</div>

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/info.png" alt="info.png" />
</Frame>

**정보**

파트너는 광고주를 대신해 타깃팅할 ID(`p_user_ids`) 목록을 보냅니다. 이는 `p_user_ids`와 X 사용자 ID 간의 매핑을 구축하는 ID 동기화(ID Sync) 프로세스를 통해 이루어집니다. 이 매핑은 타깃팅에 사용할 수 있는 X 사용자 ID 목록을 생성하는 데 활용됩니다. 이러한 맞춤 잠재고객은 ads.x.com의 Custom Audiences Web 캠페인 설정에서 라벨로 지정된 광고주의 특정 @handle에 제공됩니다.

X는 파트너 태그와 사이트에 삽입해 ID(`p_user_ids`)를 X 사용자 ID와 매칭할 수 있는 보안 픽셀을 제공합니다. ID 동기화가 완료되면 파트너가 타깃팅 파일을 생성하여 HTTPS 엔드포인트를 통해 X에 제공하게 됩니다. 이 타깃팅 파일은 X가 정기적으로 수집하며 이후 X UI에서 사용할 수 있게 됩니다.

**X 보안 픽셀**

X 보안 픽셀은 다음과 같은 형태입니다:

https://analytics.x.com/i/adsct?p\_user\_id=xyz\&p\_id=123

**`p_user_id`** - xyz는 파트너가 제공하는 파트너 사용자 ID를 의미합니다.

**`p_id`** - 123은 파트너에 대한 고유 ID(X에서 제공)를 의미합니다.

**파트너 HTTPS 엔드포인트 및 타깃팅 사용자 파일**

파트너는 X가 타깃팅 파일을 정기적으로 수집할 수 있도록 HTTPS 엔드포인트와 자격 증명(사용자 이름/비밀번호)을 제공해야 합니다. 샘플 HTTPS 엔드포인트는 다음과 같은 형태입니다:

```
https://<partnerdomain>/twitter/partner_targeting_%Y-%M-%D.tsv.gz
```

%Y - 연도 형식 코드(YYYY)

%M - 월 형식 코드(MM)

%D - 일 형식 코드(DD)

전송되는 데이터는 다음 파일로 구성됩니다:

1. 파트너 타깃팅 사용자 파일
2. 타깃팅 전환 파일

모든 파일은 TSV 형식이며, 각 행의 개별 필드는 탭 문자로 구분됩니다. 유효한 필드 값 자체에는 탭 문자가 포함되지 않습니다.

**허용되는 X IP 범위:**

파트너 엔드포인트에 대한 액세스를 허용할 수 있는 IP 범위는 다음과 같습니다.

- 199.16.156.0/22
- 199.59.148.0/22

**파트너 타깃팅 사용자 파일:**

| **열 번호** | **열 이름** | **열 유형** | **설명** |
| :--- | :--- | :--- | :--- |
| 1   | partner id | string | “partner id”는 각 파트너를 고유하게 식별하기 위해 X가 파트너에게 제공하는 ID입니다. |
| 2   | advertiser id | string | “advertiser id”는 광고주의 @handle입니다. |
| 3   | p\_user\_id | string | “p\_user\_id”는 파트너가 사용자를 식별하는 데 사용하는 고유 ID입니다. |
| 3   | confidence score | integer | “confidence score”는 선택 사항입니다. 권장 범위는 0–100입니다. 리타깃팅 용도의 경우 “100”은 직접 리타깃팅된 사용자를 의미합니다. 0–99 점수는 유사 타깃팅에 대한 신뢰 수준을 나타냅니다. |
| 4   | segment label | string | “segment label”은 선택 사항입니다. 예를 들어 제품 카테고리를 지정하는 데 사용할 수 있습니다. ads.x.com UI에서 Custom Audiences에 표시되는 사람이 읽을 수 있는 이름이므로 이 “segment label”의 사용을 권장합니다. |

**참고 사항:**

새 파트너 타깃팅 파일을 수신할 때마다, 별도 합의가 없는 한 증분이 아닌 파트너가 타깃팅을 권장하는 전체 사용자 목록일 것으로 기대합니다. 이 파일의 전달 빈도는 각 파트너와 협의해 정합니다. 예정된 파일을 받지 못하면, 사전에 정의된 만료 시간 내에서 이전 버전을 사용합니다.

<div id="audience-api-integration">
  ## 잠재고객 API 통합
</div>

<div id="overview">
  ### 개요
</div>

Audience API는 Ads API의 [v4](/ko/x-ads-api/introduction) 출시와 함께 도입되었으며, 기존 Audiences 엔드포인트를 여러 면에서 개선합니다. 이 새 엔드포인트는 신규 Audience 처리 백엔드를 기반으로 하며, 안정성, 견고성, 신뢰성 측면에서 다수의 향상을 제공합니다. 이 가이드는 Audience API와 기존 Audience 업로드 및 관리 프로세스 간의 차이점을 강조하는 데 목적이 있습니다.

참고 문서는 [Audience API](/ko/x-ads-api/audiences) 참조 문서 페이지에서 확인할 수 있습니다.

**참고**: 모든 Audience 사용자 데이터는 업로드 전에 SHA-256으로 해시되어야 합니다. 허용되는 사용자 식별자 유형과 데이터 정규화에 대한 자세한 내용은 [사용자 데이터](/ko/x-ads-api/audiences) 페이지에서 확인할 수 있습니다.

**Audience 기능 변경 사항**

v4부터 맞춤 잠재고객에는 다음 변경 사항이 도입되었으며, Ads API v3가 종료되면 사용 중단된 엔드포인트는 더 이상 제공되지 않습니다:

- **사용 중단됨** TON 업로드:
  - GET accounts/:account\_id/custom\_audience\_changes
  - GET accounts/:account\_id/custom\_audience\_changes/:custom\_audience\_change\_id
  - POST accounts/:account\_id/custom\_audience\_changes
  - PUT accounts/:account\_id/custom\_audiences/global\_opt\_out
- **사용 중단됨** 실시간 Audiences:
  - POST custom\_audience\_memberships
- 맞춤 잠재고객:
  - 모든 [Custom Audience](/ko/x-ads-api/audiences) 엔드포인트의 요청 및 응답에서 `list_type` 매개변수가 제거됩니다. 이 매개변수는 이전에 Audience의 사용자 식별자 유형(예: 이메일, X 사용자 ID 등)을 식별하는 데 사용되었으나, 이제 Audience는 동일한 Audience에 대해 여러 사용자 식별자를 수용할 수 있게 되어 이 값은 더 이상 관련성이 없습니다.
- 일반:
  - Audience 조회 기간이 과거 30일에서 과거 90일 동안 활성 사용자를 기준으로 일치하도록 업데이트되었습니다.
  - 타겟팅 가능하도록 요구되는 일치 사용자 최소 수가 500명에서 100명으로 감소했습니다.

<Note>
  **사전 준비 사항**

  - X Ads API 액세스
  - Audience 엔드포인트에 접근하려면 허용 목록에 추가되어야 합니다. 2018-08-01 이전에 초기 승인을 받은 경우, 이 양식을 제출하고 새로운 [X Ads Products and Services Agreement](/ko/x-ads-api/introduction)에 동의해 주세요.
</Note>

**Audience 업로드 프로세스**

아래 표는 기존과 새로운 Audience 생성 흐름의 주요 차이점을 나열한 것이며, 자세한 내용은 아래에서 추가로 확인할 수 있습니다:

| 프로세스 단계 | Audience API | (사용 중단됨) TON 업로드 |
| :--- | :--- | :--- |
| 셸 Audience 생성 | \[POST custom\_audience endpoint]/x-ads-api/audiences 를 통해 생성 가능 | \[POST custom\_audience endpoint]/x-ads-api/audiences 를 통해 생성 가능 |
| 신규 사용자 추가 | [Audience endpoint](/ko/x-ads-api/audiences)에서 `operation_type` `Update` 사용 | [POST custom\_audience\_changes](/ko/x-ads-api/audiences) 엔드포인트에서 `operation` `ADD` 사용 |
| 사용자 제거 | [Audience endpoint](/ko/x-ads-api/audiences)에서 `operation_type` `Delete` 사용 | [POST custom\_audience\_changes](/ko/x-ads-api/audiences) 엔드포인트에서 `operation` `REMOVE` 사용 |
| 사용자 옵트아웃 | [Audience endpoint](/ko/x-ads-api/audiences)에서 사용자가 속한 해당 `custom_audience_id`와 함께 `operation_type` `Delete` 사용 | [Global opt-out endpoint](/ko/x-ads-api/audiences) 사용 |

**참고** TON 업로드 경로를 통해 업데이트되거나 옵트아웃되는 모든 Audience는 [TON Upload](/ko/x-ads-api/audiences) 엔드포인트를 통해 해당 목록이 업로드되어야 하며, [custom\_audience\_changes](/ko/x-ads-api/audiences) 엔드포인트를 사용하여 Audience에 연결되어야 합니다.

**요청 제한**

Audience API 엔드포인트에는 계정당 1분에 1500건의 요청 제한이 있습니다. 단일 페이로드에 포함할 수 있는 사용자 수에는 제한이 없습니다. 페이로드 제약은 다음과 같습니다:

1. 총 작업 수: 2,500건
2. 최대 페이로드 크기: 5,000,000바이트

**Audience 사용자 관리**

새로운 Audience를 생성하려면 다음 단계를 수행합니다

<div id="create-a-new-custom-audience">
  ### 새 맞춤 잠재고객 생성
</div>

\[POST custom\_audience]/x-ads-api/audiences 엔드포인트를 사용해 새 맞춤 잠재고객의 "셸"을 생성하고 해당 맞춤 잠재고객 `id`를 조회합니다. 이 단계는 처음부터 잠재고객을 만드는 경우에 필요합니다. 기존 잠재고객을 업데이트하는 경우 다음 섹션으로 건너뛰세요.

<div id="add-users-to-an-audience">
  ### 잠재고객에 사용자 추가
</div>

맞춤 잠재고객 `id`와 아래와 같은 샘플 페이로드를 사용하여 [POST accounts/:account\_id/custom\_audiences/:custom\_audience\_id/users](/ko/x-ads-api/audiences)를 호출합니다:

POST https://ads-api.x.com/11/accounts/18ce54d4x5t/custom\_audiences/1nmth/users

```
    # 모든 값은 해시되어야 하며, 여기서는 설명을 위해 해시되지 않은 값을 예시로 사용합니다.
    [
      {
        "operation_type": "Update",
        "params": {
          "effective_at": "2018-05-15T00:00:00Z",
          "expires_at": "2019-01-01T07:00:00Z",
          "users": [
            {
              "email": [
                "abc@x.com"
              ],
              "handle": [
                "x",
                "adsapi"
              ]
            },
            {
              "email": [
                "edf@x.com"
              ],
              "twitter_id": [
                "121291606",
                "17874544"
              ]
            }
          ]
        }
      }
    ]
```

잠재고객에 사용자를 추가하려면 `operation_type`으로 `Update`를 사용합니다. 새로운 잠재고객 인터페이스는 단일 사용자에 대해 여러 사용자 키를 전달할 수 있습니다. JSON 객체 배열의 각 객체는 하나의 사용자에 해당합니다. 위의 예시 페이로드를 사용하면 요청은 `email`과 `handle`을 가진 사용자 한 명과 `email`과 `twitter_id`를 가진 또 다른 사용자 한 명, 총 두 사용자를 잠재고객에 추가합니다. 

<div id="remove-users-from-an-audience">
  #### 잠재고객에서 사용자 제거
</div>

사용자 추가 절차와 마찬가지로, 다음과 같이 사용자를 잠재고객에서 제거할 수 있습니다:

POST https://ads-api.x.com/11/accounts/18ce54d4x5t/custom\_audiences/1nmth/users

```
    # 모든 값은 해시되어야 하며, 아래의 해시되지 않은 값들은 설명을 위한 예시입니다
    [
      {
        "operation_type": "Delete",
        "params": {
          "effective_at": "2018-05-15T00:00:00Z",
          "expires_at": "2019-01-01T07:00:00Z",
          "users": [
            {
              "email": [
                "abc@x.com"
              ],
              "twitter_id": [
                "783214",
                "1225933934"
              ]
            },
            {
              "email": [
                "edf@x.com"
              ],
              "twitter_id": [
                "121291606",
                "17874544"
              ]
            }
          ]
        }
      }
    ]
```

`operation_type`는 반드시 `Delete`로 설정해야 하며, 사용자는 잠재고객에 추가할 때 사용된 어떤 키로도 매칭됩니다. 예를 들어, 사용자가 `email`과 `twitter_id`로 잠재고객에 추가되었다면, 동일한 사용자는 이들 키 중 하나(즉, `email` 또는 `twitter_id`) 또는 둘 다를 사용해 제거할 수 있습니다.

또한, 하나의 요청에서 잠재고객에 사용자를 추가하고 제거하는 작업을 함께 수행할 수 있습니다. 이 엔드포인트는 요청당 여러 `operation_type`을 지원합니다.

<div id="opt-out-users">
  #### 옵트아웃 사용자
</div>

글로벌 옵트아웃 엔드포인트가 사용 중단됨에 따라 파트너는 어떤 잠재고객에서든 옵트아웃한 사용자를 `Delete`해야 합니다. 이를 수행하는 방법은 다음과 같습니다:

1. 어떤 사용자가 어떤 잠재고객에 속해 있는지 추적하고 각 잠재고객에서 해당 사용자를 개별적으로 제거합니다.
2. Ads 계정과 연결된 **모든** 잠재고객에서 해당 사용자를 제거합니다.

**일반 모범 사례**

- 처리 지연을 유발하고 시스템에 불필요한 부하를 가중시키는 급격한 큐 적체를 피하기 위해, 이 엔드포인트를 거의 실시간 배치로 호출할 것을 강력히 권장합니다. 이렇게 하면 사용자를 캠페인 타기팅에 더 빨리 활용할 수 있습니다.
- 성공적인 API 호출은 요청에서 수신된 `user` 객체 수에 해당하는 `success_count`와 `total_count`를 반환합니다.
- 이 엔드포인트는 원자적입니다. 즉, 전체 요청이 모두 성공하거나 오류가 있는 경우 전체 요청이 실패합니다. 오류 응답이 발생하면 API 소비자는 오류를 수정한 뒤 전체 페이로드로 요청을 다시 시도하는 것이 권장됩니다.
- 실패 시에는 재시도와 함께 [지수 백오프](https://en.wikipedia.org/wiki/Exponential_backoff) 방식을 사용할 것을 권장합니다. 예를 들어, 첫 번째 실패 시 즉시 재시도하고, 두 번째 실패 후 1분 뒤에 재시도하며, 세 번째 연속 실패 후 5분 뒤에 재시도하는 식으로 진행합니다.

<div id="api-reference">
  ## API 레퍼런스
</div>

<div id="keyword-insights">
  ### 키워드 인사이트
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Postman에서 실행하기
</Button>

<div id="get-insightskeywordssearch">
  #### GET insights/keywords/search[](#get-insights-keywords-search "Permalink to this headline")
</div>

키워드 그룹을 기준으로 해당 트윗 볼륨과 관련 키워드 30개 세트를 가져옵니다. 트윗 볼륨은 관련 키워드가 아니라 입력한 키워드에만 해당합니다.

허용되는 최대 시간 범위(`end_time` - `start_time`)는 7일입니다.

결과는 단일 지역(국가)으로 한정됩니다.

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/insights/keywords/search`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| granularity  <br />_required_ | `start_time`과 `end_time`으로 지정된 시간 범위에 대해 반환되는 데이터의 세분화 수준을 지정합니다. 예를 들어 `HOUR`로 설정하면 `start_time`과 `end_time` 사이의 각 시간에 대한 데이터 포인트가 제공됩니다.<br /><br />Type: enum<br /><br />Possible values: `DAY`, `HOUR` |
| keywords  <br />_required_ | 검색을 좁히기 위한 쉼표로 구분된 키워드 문자열입니다. 모든 키워드는 서로 OR로 결합됩니다.<br /><br />**Note**: 최대 10개의 키워드(`keywords`와 `negative_keywords` 합산)를 사용할 수 있습니다.<br /><br />Type: string<br /><br />Example: `developers` |
| start\_time  <br />_required_ | `start_time`과 `end_time` 사이의 시간 창에서 수집된 데이터로 반환 데이터를 한정합니다. [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) 형식으로 표현됩니다.<br /><br />Type: string<br /><br />Example: `2017-07-10T00:00:00Z` |
| end\_time  <br />_optional_ | `start_time`과 `end_time` 사이의 시간 창에서 수집된 데이터로 반환 데이터를 한정합니다. [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) 형식으로 표현됩니다.<br /><br />**Note**: 기본값은 현재 시간입니다.<br /><br />Type: string<br /><br />Example: `2017-07-11T00:00:00Z` |
| location  <br />_optional_ | 계정 사용자의 위치 기준으로 결과를 좁히기 위해 [GET targeting\_criteria/locations](/ko/x-ads-api/campaign-management#get-targeting-criteria-locations) 엔드포인트에서 가져오는 타기팅 값입니다. 현재는 국가 수준 위치만 지원됩니다.<br /><br />Type: string<br /><br />Example: `0ce8b9a7b2742f7e` |
| negative\_keywords  <br />_optional_ | 제외할 쉼표로 구분된 키워드 문자열입니다. 모든 제외 키워드는 서로 OR로 결합됩니다.<br /><br />**Note**: 최대 10개의 키워드(`keywords`와 `negative_keywords` 합산)를 사용할 수 있습니다.<br /><br />Type: string<br /><br />Example: `rain` |

**Example Request[](#example-request "Permalink to this headline")**

```json
GET https://ads-api.x.com/12/insights/keywords/search?end_time=2018-02-02&granularity=DAY&keywords=developers&start_time=2018-02-01
```

**Example Response[](#example-response "Permalink to this headline")**\*

```
    {
      "request": {
        "params": {
          "start_time": "2018-02-01T00:00:00Z",
          "end_time": "2018-02-02T00:00:00Z",
          "granularity": "DAY",
          "keywords": [
            "developers"
          ]
        }
      },
      "data": {
        "related_keywords": [
          "dev",
          "developer",
          "coders",
          "mysql",
          "devs",
          "#technology",
          "#developers",
          "security",
          "programmers",
          "#tech",
          "javascript",
          "#iot",
          "#bigdata",
          "cloud",
          "devops",
          "php",
          "developer",
          "programmer",
          "engineer",
          "big data",
          "agile",
          "app",
          "programming",
          "ios",
          "maker",
          "startups",
          "developer's",
          "java",
          "#devops",
          "startup"
        ],
        "tweet_volume": [
          15707
        ]
      }
    }
```

<div id="tailored-audience-permissions">
  ### 맞춤 잠재고객 권한
</div>

<Button href="https://app.getpostman.com/run-collection/369a02c0adc626ff6a06#?env%5BTwitter%20Ads%20API%5D=W3sia2V5IjoiYWNjb3VudF9pZCIsInZhbHVlIjoieW91cl9hZHNfYWNjb3VudF9pZCIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoidmVyc2lvbiIsInZhbHVlIjoiNSIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoiY29uc3VtZXJfa2V5IiwidmFsdWUiOiJ5b3VyX2NvbnN1bWVyX2tleSIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoiY29uc3VtZXJfc2VjcmV0IiwidmFsdWUiOiJ5b3VyX2NvbnN1bWVyX3NlY3JldCIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoiYWNjZXNzX3Rva2VuIiwidmFsdWUiOiJ5b3VyX2FjY2Vzc190b2tlbiIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoidG9rZW5fc2VjcmV0IiwidmFsdWUiOiJ5b3VyX3Rva2VuX3NlY3JldCIsImVuYWJsZWQiOnRydWV9XQ==">
  Postman에서 실행
</Button>

#### GET accounts/:account\_id/tailored\_audiences/:tailored\_audience\_id/permissions[](#get-accounts-account-id-tailored-audiences-tailored-audience-id-permissions "Permalink to this headline")

지정된 맞춤 잠재고객과 연계된 일부 또는 모든 권한의 세부 정보를 조회합니다.

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/5/accounts/:account_id/tailored_audiences/:tailored_audience_id/permissions`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 사용 중인 계정의 식별자입니다. 리소스 경로에 포함되며, [GET accounts](/ko/x-ads-api/campaign-management#accounts)를 제외한 모든 Advertiser API 요청에 일반적으로 필요한 매개변수입니다. 지정된 계정은 인증된 사용자와 연동되어 있어야 합니다.<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| tailored\_audience\_id  <br />_required_ | 요청에서 조작 대상이 되는 맞춤 잠재고객의 참조 ID입니다.<br /><br />Type: string<br /><br />Example: `1nmth` |
| count  <br />_optional_ | 각 요청당 조회할 레코드 수를 지정합니다.<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 다음 페이지 결과를 가져오기 위한 커서를 지정합니다. 자세한 내용은 [Pagination](/ko/x-ads-api/introduction)을 참조하세요.<br /><br />Type: string<br /><br />Example: `8x7v00oow` |
| granted\_account\_ids  <br />_optional_ | 쉼표로 구분된 식별자 목록을 지정하여 응답을 원하는 계정으로만 한정합니다. 최대 200개의 ID를 제공할 수 있습니다.<br /><br />Type: string<br /><br />Example: `18ce54aymz3` |
| sort\_by  <br />_optional_ | 지원되는 속성 기준으로 오름차순 또는 내림차순 정렬합니다. 자세한 내용은 [Sorting](/ko/x-ads-api/introduction)을 참조하세요.<br /><br />Type: string<br /><br />Example: `created_at-asc` |
| tailored\_audience\_permission\_ids  <br />_optional_ | 쉼표로 구분된 식별자 목록을 지정하여 응답을 원하는 맞춤 잠재고객 권한으로만 한정합니다. 최대 200개의 ID를 제공할 수 있습니다.<br /><br />Type: string<br /><br />Example: `ri` |
| with\_total\_count  <br />_optional_ | 응답에 `total_count` 속성을 포함합니다.<br /><br />**참고**: 이 매개변수와 `cursor`는 상호 배타적입니다.<br /><br />**참고**: `total_count`를 포함하는 요청에는 더 낮은 속도 제한이 적용되며, 현재 15분당 200회로 설정되어 있습니다.<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/5/accounts/18ce54d4x5t/tailored_audiences/1nmth/permissions`

**Example Response[](#example-response "Permalink to this headline")**

```
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "tailored_audience_id": "1nmth"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "tailored_audience_id": "1nmth",
          "permission_level": "READ_ONLY",
          "id": "ri",
          "created_at": "2017-06-08T23:17:59Z",
          "granted_account_id": "18ce54aymz3",
          "updated_at": "2017-06-08T23:17:59Z",
          "deleted": false
        }
      ]
    }

```

#### POST accounts/:account\_id/tailored\_audiences/:tailored\_audience\_id/permissions[](#post-accounts-account-id-tailored-audiences-tailored-audience-id-permissions "Permalink to this headline")

지정된 잠재고객을 특정 계정과 공유할 수 있도록 새로운 권한 객체를 생성합니다.

**참고**: 맞춤 잠재고객의 권한을 생성하거나 수정하려면 해당 잠재고객이 권한을 변경하려는 계정의 소유여야 합니다. 특정 잠재고객의 응답에서 `is_owner` 응답 속성을 확인하여 소유 여부를 확인할 수 있습니다.

**참고**: 잠재고객은 동일한 비즈니스에 속한 광고 계정 간에만 공유할 수 있으며, 잠재고객을 소유한 광고 계정에 `SHARE_AUDIENCE_OUTSIDE_BUSINESS` 계정 기능이 있는 경우에만 비즈니스 외부로 공유할 수 있습니다.

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/5/accounts/:account_id/tailored_audiences/:tailored_audience_id/permissions`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 사용 중인 계정의 식별자입니다. 리소스 경로에 포함되며 [GET accounts](/ko/x-ads-api/campaign-management#accounts)를 제외한 모든 Advertiser API 요청에 일반적으로 필수 매개변수입니다. 지정된 계정은 인증된 사용자와 연계되어 있어야 합니다.<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| granted\_account\_id  <br />_required_ | 맞춤 잠재고객에 대한 권한을 부여할 대상 계정입니다.<br /><br />Type: string<br /><br />Example: `18ce54aymz3` |
| permission\_level  <br />_required_ | `granted_account_id`가 가지게 될 맞춤 잠재고객에 대한 접근 수준입니다.<br /><br />Type: enum<br /><br />Possible values: `READ_ONLY`, `READ_WRITE` |
| tailored\_audience\_id  <br />_required_ | 요청에서 대상으로 하는 맞춤 잠재고객의 식별자입니다.<br /><br />Type: string<br /><br />Example: `2906h` |

**Example Request[](#example-request "Permalink to this headline")**

`POST https://ads-api.x.com/5/accounts/18ce54d4x5t/tailored_audiences/2906h/permissions?granted_account_id=18ce54aymz3&permission_level=READ_ONLY`

**Example Response[](#example-response "Permalink to this headline")**

```
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "granted_account_id": "18ce54aymz3",
          "permission_level": "READ_ONLY",
          "tailored_audience_id": "2906h"
        }
      },
      "data": {
        "tailored_audience_id": "2906h",
        "permission_level": "READ_ONLY",
        "id": "14m",
        "created_at": "2017-09-12T23:49:34Z",
        "granted_account_id": "18ce54aymz3",
        "updated_at": "2017-09-12T23:49:34Z",
        "deleted": false
      }
    }
```

#### DELETE accounts/:account\_id/tailored\_audiences/:tailored\_audience\_id/permissions/:tailored\_audience\_permission\_id[](#delete-accounts-account-id-tailored-audiences-tailored-audience-id-permissions-tailored-audience-permission-id "Permalink to this headline")

지정된 맞춤 잠재고객 공유 권한을 해제합니다.

**참고**: 맞춤 잠재고객의 권한을 생성하거나 수정하려면 해당 잠재고객을 소유한 계정이어야 합니다. 특정 잠재고객의 응답에서 `is_owner` 응답 속성을 확인하여 소유 여부를 확인할 수 있습니다.

권한이 해제되면 부여된 계정(`granted_account_id`)은 향후 캠페인에서 해당 잠재고객을 타기팅할 수 없음을 보장합니다. 기존 캠페인은 공유된 잠재고객으로 계속 운영되며, 캠페인이 중지되거나 캠페인에서 잠재고객이 제거되지는 않습니다. 잠재고객 공유 권한을 해제한 이후에는 이 캠페인을 복사할 수 없습니다.

**리소스 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/5/accounts/:account_id/tailored_audiences/:tailored_audience_id/permissions/:tailored_audience_permission_id`

**매개변수[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 활용 중인 계정의 식별자입니다. 리소스 경로에 포함되며 [GET accounts](/ko/x-ads-api/campaign-management#accounts)를 제외한 모든 Advertiser API 요청에 일반적으로 필요한 매개변수입니다. 지정된 계정은 인증된 사용자와 연결되어 있어야 합니다.<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| tailored\_audience\_id  <br />_required_ | 요청에서 대상으로 하는 맞춤 잠재고객에 대한 참조입니다.<br /><br />Type: string<br /><br />Example: `1nmth` |
| tailored\_audience\_permission\_id  <br />_required_ | 요청에서 대상으로 하는 맞춤 잠재고객 권한에 대한 참조입니다.<br /><br />Type: string<br /><br />Example: `ri` |

**예시 요청[](#example-request "Permalink to this headline")**

`DELETE https://ads-api.x.com/5/accounts/18ce54d4x5t/tailored_audiences/1nmth/permissions/ri`

**예시 응답[](#example-response "Permalink to this headline")**

```
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "tailored_audience_permission_id": "ri",
          "tailored_audience_id": "1nmth"
        }
      },
      "data": {
        "tailored_audience_id": "1nmth",
        "permission_level": "READ_ONLY",
        "id": "ri",
        "created_at": "2017-06-08T23:17:59Z",
        "granted_account_id": "18ce54aymz3",
        "updated_at": "2017-08-30T18:29:35Z",
        "deleted": true
      }
    }
```

<div id="targeted-audiences">
  ### 타깃 잠재고객
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Postman에서 실행
</Button>

#### GET accounts/:account\_id/custom\_audiences/:custom\_audience\_id/targeted[](#get-accounts-account-id-custom-audiences-custom-audience-id-targeted "Permalink to this headline")

지정된 `custom_audience_id`를 타깃팅하는 활성 또는 전체 라인 아이템과 캠페인 목록을 조회합니다

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 사용 중인 계정의 식별자입니다. 리소스 경로에 포함되며 [GET accounts](/ko/x-ads-api/campaign-management#accounts)를 제외한 모든 Advertiser API 요청에 일반적으로 필요한 매개변수입니다. 지정한 계정은 인증된 사용자와 연동되어 있어야 합니다.<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| custom\_audience\_id  <br />_required_ | 요청에서 사용 중인 맞춤 잠재고객에 대한 참조입니다.<br /><br />Type: string<br /><br />Example: `2906h` |
| with\_active  <br />_optional_ | `false`인 경우 `servable=false` 상태의 라인 아이템을 포함합니다.<br /><br />Type: boolean<br /><br />Default: `true`  <br />Possible values: `true`, `false` |
| cursor  <br />_optional_ | 다음 결과 페이지를 가져오기 위한 커서를 지정합니다. 자세한 내용은 [Pagination](/ko/x-ads-api/introduction)을 참조하세요.  <br />  <br />Type: string  <br />  <br />Example: `8x7v00oow` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences/2906h/targeted`

**Example Response[](#example-response "Permalink to this headline")**

```
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "custom_audience_id": "2906h",
        }
      },
      "next_cursor": null,
      "data": [
        {
          "campaign_id": "59hod",
          "campaign_name": "test-campaign",
          "line_items": [
            {
              "id": "5gzog",
              "name": "test-line-item",
              "servable": true
            }
          ]
        },
        {
          "campaign_id": "arja7",
          "campaign_name": "Untitled campaign",
          "line_items": [
            {
              "id": "bjw1q",
              "name": null,
              "servable": true
            }
          ]
        }
      ]
    }
```

<div id="custom-audiences-users">
  ### 맞춤 잠재고객 사용자
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Postman에서 실행
</Button>

#### POST accounts/:account\_id/custom\_audiences/:custom\_audience\_id/users[](#post-accounts-account-id-custom-audiences-custom-audience-id-users "Permalink to this headline")

이 엔드포인트를 통해 파트너는 주어진 `custom_audience_id`에 사용자를 추가, 업데이트, 제거할 수 있습니다. 이 엔드포인트는 사용자별로 여러 종류의 사용자 식별자도 허용합니다.

요청의 `users` 필드에 제공되는 모든 데이터는 `partner_user_id`를 **제외하고** `SHA256`으로 해시하고 [정규화](/ko/x-ads-api/audiences#twitter-user-id-normalization)해야 합니다.

**배치 요청**

- 현재 최대 배치 크기는 `이 엔드포인트에 한해` `2500`입니다. 배치 크기는 요청당 작업(`Update`/`Delete`) 수로 결정됩니다. 예를 들어, 하나의 배열에 2500개를 초과하는 작업 객체(`{"operation_type": "Update/Delete", [..] }`)가 있으면 오류가 발생합니다.
- 이 엔드포인트가 허용하는 최대 요청 POST 본문 크기는 `5,000,000`바이트입니다.
- 이 엔드포인트의 레이트 리밋은 1분 창당 1500입니다.
- 모든 매개변수는 요청 본문으로 전송되며, `Content-Type`은 `application/json`이어야 합니다.
- 배치 요청은 하나의 그룹으로 함께 실패하거나 성공하며, 오류와 성공에 대한 모든 API 응답은 초기 요청의 항목 순서를 보존합니다.

**배치 응답**

Ads API가 반환하는 응답에는 `success_count`와 `total_count` 두 필드가 포함됩니다. 이 값들은 항상 같아야 하며, 백엔드가 처리한 요청 내 레코드 수를 의미합니다. 요청 본문에서 전송된 레코드 수가 `success_count` 및 `total_count`와 같지 않은 상황은 오류 상태로 간주되어 재시도가 필요합니다.

**배치 오류**

- 요청 수준 오류(예: 최대 배치 크기 초과)는 응답의 `errors` 객체에 표시됩니다.
- 항목 수준 오류(예: 필수 매개변수 누락)는 응답의 `operation_errors` 객체에 표시됩니다.
- `operation_errors`의 오류 인덱스는 입력 항목의 인덱스를 가리키며, 해당 오류 메시지가 포함됩니다.

<div id="resource-url">
  #### 리소스 URL[](#resource-url "Permalink to this headline")
</div>

`https://ads-api.x.com/12/accounts/:account_id/custom_audiences/:custom_audience_id/users`

<div id="parameters">
  #### 매개변수[](#parameters "Permalink to this headline")
</div>

| 이름 | 설명 |
| :--- | :--- |
| operation\_type  <br />_required_ | `users` 그룹 단위로 수행되는 작업 유형입니다.<br /><br />유형: enum<br /><br />가능한 값: `Update`, `Delete` |
| params  <br />_required_ | `users` 배열과 `effective_at`, `expires_at` 타임스탬프를 포함하는 JSON 객체입니다.<br /><br />유형: JSON |
| users  <br />_required_ | 개별 사용자에 대한 모든 매개변수를 담은 JSON 객체의 배열입니다.<br /><br />유형: JSON |
| effective\_at  <br />_optional_ | 맞춤 잠재고객 연동이 적용될 UTC 시간입니다. [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) 형식으로 표현됩니다. 기본값은 현재 날짜와 시간입니다.<br /><br />유형: string<br /><br />예시: `2017-07-05T07:00:00Z` |
| expires\_at  <br />_optional_ | 맞춤 잠재고객 연동이 만료될 UTC 시간입니다. 지정한 시간은 `effective_at` 값보다 이후여야 합니다. [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) 형식으로 표현됩니다. 기본값은 요청 타임스탬프 기준 13개월 후입니다.<br /><br />유형: string<br /><br />예시: `2017-07-05T07:00:00Z` |

`users` 객체에 대한 다중 키 접근 방식에 따라, 이 객체의 각 요소는 아래와 같습니다:

| 이름 | 설명 |
| :--- | :--- |
| email  <br />_optional_ | 사용자의 이메일 주소.<br /><br />유형: Array\[String] |
| device\_id  <br />_optional_ | IDFA/AdID/Android ID<br /><br />유형: Array\[String] |
| handle  <br />_optional_ | 사용자의 @handle.<br /><br />유형: Array\[String] |
| twitter\_id  <br />_optional_ | 사용자의 X ID.<br /><br />유형: Array\[String] |
| phone\_number  <br />_optional_ | 사용자의 전화번호.<br /><br />유형: Array\[String] |
| partner\_user\_id  <br />_optional_ | 파트너 시스템에서의 사용자 ID.<br /><br />유형: Array\[String] |

<div id="example-request">
  #### 예제 요청[](#example-request "Permalink to this headline")
</div>

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences/1nmth/users`

```
    [
      {
        "operation_type": "Update",
        "params": {
          "effective_at": "2018-05-15T00:00:00Z",
          "expires_at": "2019-01-01T07:00:00Z",
          "users": [
            {
              "email": [
                "4798b8bbdcf6f2a52e527f46a3d7a7c9aefb541afda03af79c74809ecc6376f3"
              ],
              "handle": [
                "7352f353c460e74c7ae226952d04f8aa307b12329c5512ec8cb6f1a0f8f9b2cb",
                "49e0be2aeccfb51a8dee4c945c8a70a9ac500cf6f5cb08112575f74db9b1470d"
              ]
            },
            {
              "email": [
                "5bf13d5ad4200407c5bc8b9bb578e425d05ef936fd488e3799a9d0806669223c"
              ],
              "twitter_id": [
                "34d56c7159a7eea941f359653029410f813f65a1d2d13ecc5ccbdd5a8cb755cf",
                "00e7b76c9739dec57f4c4a20ec021a20ffcf26bd00f519b17ea00f0ed6048f85"
              ]
            }
          ]
        }
      },
      {
        "operation_type": "Delete",
        "params": {
          "effective_at": "2018-05-15T00:00:00Z",
          "expires_at": "2019-01-01T07:00:00Z",
          "users": [
            {
              "device_id": [
                "8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92"
              ],
              "email": [
                "4798b8bbdcf6f2a52e527f46a3d7a7c9aefb541afda03af79c74809ecc6376f3"
              ],
              "handle": [
                "461222f5dd690a20651c3d19848015cb0369db3f8e937571ffb775de70750847"
              ],
              "twitter_id": [
                "c623c7e163984493b46c547088542e95d0aaa529bc52bbecce3ff91eb6b7843b"
              ]
            },
            {
              "email": [
                "5bf13d5ad4200407c5bc8b9bb578e425d05ef936fd488e3799a9d0806669223c"
              ],
              "twitter_id": [
                "858cdc7f313f84a3f3c48e9a6323307c1ef1bb7439b8e3623e140454b0fd8fa5",
                "bb074e154657b91d99bd1bb3757409149670e8ae7a0fe9136fae29a26a7881c8"
              ]
            }
          ]
        }
      }
    ]
```

<div id="example-response">
  #### 예시 응답[](#example-response "이 제목으로 연결되는 고유 링크")
</div>

```
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "custom_audience_id": "1nmth"
        }
      },
      "data": {
        "success_count": 4,
        "total_count": 4
      }
    }
```

<div id="tailored-audience-permissions">
  ### 맞춤 잠재고객 권한
</div>

<Button href="https://app.getpostman.com/run-collection/369a02c0adc626ff6a06#?env%5BTwitter%20Ads%20API%5D=W3sia2V5IjoiYWNjb3VudF9pZCIsInZhbHVlIjoieW91cl9hZHNfYWNjb3VudF9pZCIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoidmVyc2lvbiIsInZhbHVlIjoiNSIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoiY29uc3VtZXJfa2V5IiwidmFsdWUiOiJ5b3VyX2NvbnN1bWVyX2tleSIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoiY29uc3VtZXJfc2VjcmV0IiwidmFsdWUiOiJ5b3VyX2NvbnN1bWVyX3NlY3JldCIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoiYWNjZXNzX3Rva2VuIiwidmFsdWUiOiJ5b3VyX2FjY2Vzc190b2tlbiIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoidG9rZW5fc2VjcmV0IiwidmFsdWUiOiJ5b3VyX3Rva2VuX3NlY3JldCIsImVuYWJsZWQiOnRydWV9XQ==">
  Postman에서 실행
</Button>

#### GET accounts/:account\_id/custom\_audiences/:custom\_audience\_id/permissions[](#get-accounts-account-id-custom-audiences-custom-audience-id-permissions "Permalink to this headline")

지정한 맞춤 잠재고객에 연관된 일부 또는 모든 권한의 세부 정보를 가져옵니다.

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/custom_audiences/:custom_audience_id/permissions`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 사용 중인 계정의 식별자입니다. 리소스 경로에 포함되며 [GET accounts](/ko/x-ads-api/campaign-management#accounts)를 제외한 모든 Advertiser API 요청에 일반적으로 필요한 매개변수입니다. 지정된 계정은 인증된 사용자와 연계되어 있어야 합니다.<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| custom\_audience\_id  <br />_required_ | 요청에서 작업 대상이 되는 맞춤 잠재고객을 참조합니다.<br /><br />Type: string<br /><br />Example: `1nmth` |
| count  <br />_optional_ | 각 요청당 조회할 레코드 수를 지정합니다.<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 다음 페이지 결과를 가져오기 위한 커서를 지정합니다. 자세한 내용은 [Pagination](/ko/x-ads-api/introduction)을 참조하세요.<br /><br />Type: string<br /><br />Example: `8x7v00oow` |
| granted\_account\_ids  <br />_optional_ | 쉼표로 구분된 식별자 목록을 지정하여 응답을 원하는 계정으로만 제한합니다. 최대 200개의 ID를 제공할 수 있습니다.<br /><br />Type: string<br /><br />Example: `18ce54aymz3` |
| sort\_by  <br />_optional_ | 지원되는 속성으로 오름차순 또는 내림차순 정렬합니다. 자세한 내용은 [Sorting](/ko/x-ads-api/fundamentals/sorting)을 참조하세요.<br /><br />Type: string<br /><br />Example: `created_at-asc` |
| custom\_audience\_permission\_ids  <br />_optional_ | 쉼표로 구분된 식별자 목록을 지정하여 응답을 원하는 맞춤 잠재고객 권한으로만 제한합니다. 최대 200개의 ID를 제공할 수 있습니다.<br /><br />Type: string<br /><br />Example: `ri` |
| with\_total\_count  <br />_optional_ | `total_count` 응답 속성을 포함합니다.<br /><br />**Note**: 이 매개변수와 `cursor`는 상호 배타적입니다.<br /><br />**Note**: `total_count`를 포함한 요청은 더 낮은 사용 한도가 적용되며, 현재 15분당 200으로 설정되어 있습니다.<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences/1nmth/permissions`

**Example Response[](#example-response "Permalink to this headline")**

```
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "custom_audience_id": "1nmth"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "custom_audience_id": "1nmth",
          "permission_level": "READ_ONLY",
          "id": "ri",
          "created_at": "2017-06-08T23:17:59Z",
          "granted_account_id": "18ce54aymz3",
          "updated_at": "2017-06-08T23:17:59Z",
          "deleted": false
        }
      ]
    }
```

#### POST accounts/:account\_id/custom\_audiences/:custom\_audience\_id/permissions[](#post-accounts-account-id-custom-audiences-custom-audience-id-permissions "Permalink to this headline")

지정한 맞춤 잠재고객을 특정 계정과 공유할 수 있도록 하는 새 권한 객체를 생성합니다.

**참고**: 맞춤 잠재고객의 권한을 생성하거나 수정하려면, 해당 잠재고객이 권한을 수정하려는 계정의 소유여야 합니다. 특정 잠재고객에 대한 응답의 `is_owner` 응답 속성을 확인하여 소유 여부를 확인할 수 있습니다.

**참고**: 잠재고객은 동일한 비즈니스 소속의 광고 계정 간에만 공유할 수 있으며, 또는 잠재고객을 소유한 광고 계정에 `SHARE_AUDIENCE_OUTSIDE_BUSINESS` 계정 기능이 있는 경우에만 외부로 공유할 수 있습니다.

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/custom_audiences/:custom_audience_id/permissions`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 사용 중인 계정의 식별자입니다. 리소스 경로에 포함되며, [GET accounts](/ko/x-ads-api/campaign-management#accounts)를 제외한 모든 Advertiser API 요청에서 일반적으로 필수 매개변수입니다. 지정된 계정은 인증된 사용자와 연결되어 있어야 합니다.<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| granted\_account\_id  <br />_required_ | 맞춤 잠재고객 권한을 부여하려는 계정입니다.<br /><br />Type: string<br /><br />Example: `18ce54aymz3` |
| permission\_level  <br />_required_ | `granted_account_id`가 해당 맞춤 잠재고객에 대해 가져야 하는 접근 수준입니다.<br /><br />Type: enum<br /><br />Possible values: `READ_ONLY`, `READ_WRITE` |
| custom\_audience\_id  <br />_required_ | 요청에서 작업하려는 맞춤 잠재고객의 참조입니다.<br /><br />Type: string<br /><br />Example: `2906h` |

**Example Request[](#example-request "Permalink to this headline")**

```
POST https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences/2906h/permissions?granted_account_id=18ce54aymz3&permission_level=READ_ONLY
```

**Example Response[](#example-response "Permalink to this headline")**

```
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "granted_account_id": "18ce54aymz3",
          "permission_level": "READ_ONLY",
          "custom_audience_id": "2906h"
        }
      },
      "data": {
        "custom_audience_id": "2906h",
        "permission_level": "READ_ONLY",
        "id": "14m",
        "created_at": "2017-09-12T23:49:34Z",
        "granted_account_id": "18ce54aymz3",
        "updated_at": "2017-09-12T23:49:34Z",
        "deleted": false
      }
    }
```

#### DELETE accounts/:account\_id/custom\_audiences/:custom\_audience\_id/permissions/:custom\_audience\_permission\_id[](#delete-accounts-account-id-custom-audiences-custom-audience-id-permissions-custom-audience-permission-id "이 제목의 고유 링크")

지정된 맞춤 잠재고객 공유 권한을 회수합니다.

**참고**: 맞춤 잠재고객의 권한을 생성하거나 수정하려면 해당 잠재고객이 권한을 수정하려는 계정의 소유여야 합니다. 특정 잠재고객의 응답에서 `is_owner` 응답 속성을 확인하여 해당 맞춤 잠재고객의 소유 여부를 확인할 수 있습니다.

권한이 회수되면, 부여된 계정(`granted_account_id`)은 향후 캠페인에서 해당 잠재고객을 타기팅할 수 없음을 보장합니다. 기존 캠페인은 공유된 잠재고객과 함께 계속 실행됩니다. 캠페인은 중지되지 않으며 캠페인에서 잠재고객이 제거되지도 않습니다. 잠재고객 공유 권한이 회수된 이후에는 이 캠페인을 복사할 수 없습니다.

**리소스 URL[](#resource-url "이 제목의 고유 링크")**

`https://ads-api.x.com/12/accounts/:account_id/custom_audiences/:custom_audience_id/permissions/:custom_audience_permission_id`

**매개변수[](#parameters "이 제목의 고유 링크")**

| 이름 | 설명 |
| :--- | :--- |
| account\_id  <br />_required_ | 활용 중인 계정의 식별자입니다. 리소스 경로에 나타나며, [GET accounts](/ko/x-ads-api/campaign-management#accounts)를 제외한 모든 Advertiser API 요청에서 일반적으로 필수 매개변수입니다. 지정된 계정은 인증된 사용자와 연결되어 있어야 합니다.<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| custom\_audience\_id  <br />_required_ | 요청에서 작업 중인 맞춤 잠재고객에 대한 참조입니다.<br /><br />Type: string<br /><br />Example: `1nmth` |
| custom\_audience\_permission\_id  <br />_required_ | 요청에서 작업 중인 맞춤 잠재고객 권한에 대한 참조입니다.<br /><br />Type: string<br /><br />Example: `ri` |

**예시 요청[](#example-request "이 제목의 고유 링크")**

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences/1nmth/permissions/ri`

**예시 응답[](#example-response "이 제목의 고유 링크")**

```
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "custom_audience_permission_id": "ri",
          "custom_audience_id": "1nmth"
        }
      },
      "data": {
        "custom_audience_id": "1nmth",
        "permission_level": "READ_ONLY",
        "id": "ri",
        "created_at": "2017-06-08T23:17:59Z",
        "granted_account_id": "18ce54aymz3",
        "updated_at": "2017-08-30T18:29:35Z",
        "deleted": true
      }
    }
```

<div id="custom-audiences">
  ### 맞춤 잠재고객
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Postman에서 실행하기
</Button>

#### GET accounts/:account\_id/custom\_audiences[](#get-accounts-account-id-custom-audiences "Permalink to this headline")

현재 계정과 연관된 일부 또는 모든 맞춤 잠재고객의 세부 정보를 조회합니다.

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/custom_audiences`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 사용 중인 계정의 식별자입니다. 리소스 경로에 포함되며 [GET accounts](/ko/x-ads-api/campaign-management#accounts)를 제외한 모든 Advertiser API 요청에서 일반적으로 필수 매개변수입니다. 지정한 계정은 인증된 사용자와 연계되어 있어야 합니다.<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| count  <br />_optional_ | 각 요청마다 시도하여 가져올 레코드 수를 지정합니다.<br /><br />Type: int<br /><br />Default: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | 다음 페이지 결과를 가져오기 위한 커서를 지정합니다. 자세한 내용은 [Pagination](/ko/x-ads-api/introduction)을 참조하세요.<br /><br />Type: string<br /><br />Example: `8x7v00oow` |
| permission\_scope  <br />_optional_ | 소유 목록 또는 공유받은 목록으로 응답을 필터링합니다. 기본적으로 이 매개변수를 지정하지 않으면 소유한 잠재고객만 표시됩니다.<br /><br />Type: enum<br /><br />Default: `OWNER`  <br />Possible values: `OWNER`, `SHARED` |
| q  <br />_optional_ | `name` 기준으로 리소스를 범위 지정하는 선택적 쿼리입니다.<br /><br />**Note**: 대소문자 구분 없이 접두사 일치를 수행합니다.<br /><br />Type: string<br /><br />Min, Max length: `1`, `255` |
| sort\_by  <br />_optional_ | 지원되는 속성으로 오름차순 또는 내림차순 정렬합니다. 자세한 내용은 [Sorting](/ko/x-ads-api/fundamentals/sorting)을 참조하세요.<br /><br />Type: string<br /><br />Example: `created_at-asc` |
| custom\_audience\_ids  <br />_optional_ | 쉼표로 구분된 식별자 목록을 지정하여 원하는 맞춤 잠재고객만 응답에 포함하도록 범위를 제한합니다. 최대 200개의 ID를 제공할 수 있습니다.<br /><br />Type: string<br /><br />Example: `1nmth` |
| with\_deleted  <br />_optional_ | 삭제된 결과를 포함합니다.<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |
| with\_total\_count  <br />_optional_ | `total_count` 응답 속성을 포함합니다.<br /><br />**Note**: 이 매개변수와 `cursor`는 상호 배타적입니다.<br /><br />**Note**: `total_count`를 포함하는 요청은 더 낮은 레이트 한도가 적용되며, 현재 15분당 200건으로 설정되어 있습니다.<br /><br />Type: boolean<br /><br />Default: `false`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences?custom_audience_ids=1nmth`

**Example Response[](#example-response "Permalink to this headline")**

```
    {
      "request": {
        "params": {
          "custom_audience_ids": [
            "1nmth"
          ],
          "account_id": "18ce54d4x5t"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "targetable": true,
          "name": "twurl-using-subshell-for-file",
          "targetable_types": [
            "CRM",
            "EXCLUDED_CRM"
          ],
          "audience_type": "CRM",
          "description": null,
          "permission_level": "READ_WRITE",
          "owner_account_id": "18ce54d4x5t",
          "id": "1nmth",
          "reasons_not_targetable": [],
          "created_at": "2017-01-08T08:19:58Z",
          "updated_at": "2017-01-08T16:21:13Z",
          "partner_source": "OTHER",
          "deleted": false,
          "audience_size": 1470
        }
      ]
    }
```

#### GET accounts/:account\_id/custom\_audiences/:custom\_audience\_id[](#get-accounts-account-id-custom-audiences-custom-audience-id "Permalink to this headline")

현재 계정에 연결된 특정 맞춤 잠재고객을 조회합니다.

**리소스 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/custom_audiences/:custom_audience_id`

**매개변수[](#parameters "Permalink to this headline")**

| 이름 | 설명 |
| :--- | :--- |
| account\_id  <br />_필수_ | 사용하는 계정의 식별자입니다. 리소스 경로에 포함되며, [GET accounts](/ko/x-ads-api/campaign-management#accounts)를 제외한 모든 Advertiser API 요청에서 일반적으로 필수입니다. 지정한 계정은 인증된 사용자와 연결되어 있어야 합니다.<br /><br />유형: string<br /><br />예시: `18ce54d4x5t` |
| custom\_audience\_id  <br />_필수_ | 요청에서 조작하려는 맞춤 잠재고객에 대한 참조입니다.<br /><br />유형: string<br /><br />예시: `2906h` |
| with\_deleted  <br />_선택_ | 삭제된 결과를 포함할지 여부입니다.<br /><br />유형: boolean<br /><br />기본값: `false`  <br />가능한 값: `true`, `false` |

**예시 요청[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences/2906h`

**예시 응답[](#example-response "Permalink to this headline")**

```
    {
      "request": {
        "params": {
          "custom_audience_id": "2906h",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "targetable": false,
        "name": "developers",
        "targetable_types": [
          "CRM",
          "EXCLUDED_CRM"
        ],
        "audience_type": "CRM",
        "description": null,
        "permission_level": "READ_WRITE",
        "owner_account_id": "18ce54d4x5t",
        "id": "2906h",
        "reasons_not_targetable": [],
        "created_at": "2017-08-22T23:34:26Z",
        "updated_at": "2017-08-22T23:34:26Z",
        "partner_source": "OTHER",
        "deleted": false,
        "audience_size": 140321
      }
    }
```

#### POST accounts/:account\_id/custom\_audiences[](#post-accounts-account-id-custom-audiences "Permalink to this headline")

현재 계정에 연결된 새 자리표시자 맞춤 잠재고객을 생성합니다.

**리소스 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/custom_audiences`

**매개변수[](#parameters "Permalink to this headline")**

| 이름 | 설명 |
| :--- | :--- |
| account\_id  <br />_필수_ | 사용 중인 계정의 식별자입니다. 리소스 경로에 포함되며, [GET accounts](/ko/x-ads-api/campaign-management#accounts)를 제외한 모든 Advertiser API 요청에서 일반적으로 필수 매개변수입니다. 지정된 계정은 인증된 사용자와 연결되어 있어야 합니다.<br /><br />유형: string<br /><br />예시: `18ce54d4x5t` |
| name  <br />_필수_ | 이 잠재고객의 표시 이름입니다. 고유한 이름 값을 사용해야 하며, 그렇지 않으면 오류가 발생합니다.<br /><br />유형: string<br /><br />예시: `ads api users` |
| description  <br />_선택_ | 이 잠재고객에 대한 설명입니다.<br /><br />유형: string<br /><br />예시: `Ads API 사용자 전체 모음` |

**예시 요청[](#example-request "Permalink to this headline")**

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences?name=developers`

**예시 응답[](#example-response "Permalink to this headline")**

```
    {
      "data": {
        "targetable": false,
        "name": "developers",
        "targetable_types": [
          "CRM",
          "EXCLUDED_CRM"
        ],
        "audience_type": "CRM",
        "description": null,
        "permission_level": "READ_WRITE",
        "owner_account_id": "18ce54d4x5t",
        "id": "2906h",
        "reasons_not_targetable": [
          "PROCESSING",
          "TOO_SMALL"
        ],
        "created_at": "2017-08-22T23:34:26Z",
        "updated_at": "2017-08-22T23:34:26Z",
        "partner_source": "OTHER",
        "deleted": false,
        "audience_size": null
      },
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "name": "developers"
        }
      }
    }
```

#### PUT accounts/:account\_id/custom\_audiences/:custom\_audience\_id[](#put-accounts-account-id-custom-audiences-custom-audience-id "이 제목의 고유 링크")

현재 계정과 연관된 특정 맞춤 잠재고객을 업데이트합니다.

**리소스 URL[](#resource-url "이 제목의 고유 링크")**

`https://ads-api.x.com/12/accounts/:account_id/custom_audiences/:custom_audience_id`

**매개변수[](#parameters "이 제목의 고유 링크")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 사용 중인 계정의 식별자입니다. 리소스 경로에 표시되며, [GET accounts](/ko/x-ads-api/campaign-management#accounts)를 제외한 모든 Advertiser API 요청에서 일반적으로 필수 매개변수입니다. 지정된 계정은 인증된 사용자와 연결되어 있어야 합니다.<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| custom\_audience\_id  <br />_required_ | 요청에서 작업 중인 맞춤 잠재고객을 가리키는 참조입니다.<br /><br />Type: string<br /><br />Example: `2906h` |
| name  <br />_optional_ | 이 잠재고객의 표시 이름입니다. 고유한 이름 값을 사용해야 하며, 그렇지 않으면 오류가 발생합니다.<br /><br />Type: string<br /><br />Example: `ads api users` |
| description  <br />_optional_ | 이 잠재고객에 대한 설명입니다.<br /><br />Type: string<br /><br />Example: `Ads API의 모든 사용자 집합` |

**예시 요청[](#example-request "이 제목의 고유 링크")**

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences/2906h?name=developers_changed`

**예시 응답[](#example-response "이 제목의 고유 링크")**

```
    {
      "data": {
        "targetable": false,
        "name": "developers_changed",
        "targetable_types": [
          "CRM",
          "EXCLUDED_CRM"
        ],
        "audience_type": "CRM",
        "description": null,
        "permission_level": "READ_WRITE",
        "is_owner": true,
        "id": "2906h",
        "reasons_not_targetable": [
          "PROCESSING",
          "TOO_SMALL"
        ],
        "created_at": "2017-08-22T23:34:26Z",
        "updated_at": "2017-08-22T23:34:26Z",
        "partner_source": "OTHER",
        "deleted": false,
        "audience_size": null
      },
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "name": "developers_changed"
        }
      }
    }
```

#### POST batch/accounts/:account\_id/custom\_audiences[](#post-batch-accounts-account-id-custom-audiences "이 제목의 고유 링크")

맞춤 잠재고객을 일괄 생성할 수 있습니다. 잠재고객에 대한 자세한 내용은 [맞춤 잠재고객 개요](/ko/x-ads-api/audiences) 페이지를 참조하세요.

**참고:** 이 배치 엔드포인트는 현재 **클로즈드 베타**로, 일부 광고주에게만 제공됩니다. 베타 기간에는 모바일 맞춤 잠재고객을 기반으로 한 유연한 잠재고객만 생성할 수 있습니다.

**배치 요청**

- 현재 최대 배치 크기는 10입니다.
- 모든 매개변수는 요청 본문으로 전송되며, `Content-Type`은 `application/json`이어야 합니다.
- 배치 요청은 그룹 단위로 함께 실패하거나 성공하며, 오류와 성공 모두에서 API 응답은 초기 요청의 항목 순서를 유지합니다.

**배치 응답**

배치 API 응답은 순서가 있는 항목 컬렉션을 반환합니다. 그 외에는 해당 단일 항목 엔드포인트와 구조가 동일합니다.

**배치 오류**

- 요청 수준 오류(예: 최대 배치 크기 초과)는 응답의 `errors` 객체에 표시됩니다.
- 항목 수준 오류(예: 필수 매개변수 누락)는 응답의 `operation_errors` 객체에 표시됩니다.

**유연한 잠재고객**

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Postman에서 실행
</Button>

- 유연한 잠재고객은 생성 후 변경할 수 없습니다.
- 유연한 잠재고객을 생성하기 위해 맞춤 잠재고객을 불리언 로직으로 조합한 트리 구조로 전달합니다.
- 하나의 유연한 잠재고객을 생성할 때 최대 10개의 맞춤 잠재고객 리프 노드를 사용할 수 있습니다.

**리소스 URL[](#resource-url "이 제목의 고유 링크")**

`https://ads-api.x.com/12/batch/accounts/:account_id/custom_audiences`

**매개변수[](#parameters "이 제목의 고유 링크")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 활용할 계정의 식별자입니다. 리소스 경로에 포함되며 [GET accounts](/ko/x-ads-api/campaign-management#accounts)를 제외한 모든 Advertiser API 요청에서 일반적으로 필수 매개변수입니다. 지정한 계정은 인증된 사용자와 연동되어 있어야 합니다.<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| audience\_type  <br />_required_ | 생성할 잠재고객의 유형입니다.<br /><br />Type: enum<br /><br />Possible values: `FLEXIBLE`, `MOBILE_AUDIENCE` |
| child\_segments  <br />_required_ | 타겟팅하려는 맞춤 잠재고객 구성원의 부분집합을 정의하는 객체 배열입니다. 각 객체에는 `custom_audience_id`, `frequency`, `frequency_comparator`, `lookback_window`, `negate` 및 필요에 따라 추가 `child_segments`가 포함되어야 합니다.<br /><br />Type: array |
| name  <br />_required_ | 잠재고객의 표시 이름입니다. 고유한 이름이어야 하며, 그렇지 않으면 오류가 발생합니다.<br /><br />Type: string<br /><br />Example: `my_flexible_audience_name` |
| operation\_type  <br />_required_ | 각 항목에 대해 수행되는 작업 유형입니다.<br /><br />Type: enum<br /><br />Possible values: `Create`, `Update`, `Delete` |
| boolean\_operator  <br />_sometimes required_ | 상위(포함하는) 객체 내 하위 세그먼트 간의 논리적 관계입니다. 상위 객체의 child\_segments가 비어 있지 않으면 필수입니다.<br /><br />Type: enum<br /><br />Possible values: `AND`, `OR` |
| lookback\_window  <br />_sometimes required_ | 사용자가 특정 작업을 수행하여 해당 맞춤 잠재고객에 포함될 자격을 갖춘 기간(일 수)을 지정하는 정수입니다.<br /><br />Type: int<br /><br />Possible values: `1`, `7`, `14`, `30` |
| segments  <br />_sometimes required_ | 타겟팅하려는 맞춤 잠재고객 구성원의 부분집합을 정의하는 `boolean_operator` 및 `child_segments`를 포함하는 객체입니다.<br /><br />Type: object |
| custom\_audience\_id  <br />_sometimes required_ | 하위 세그먼트로 사용할 맞춤 잠재고객의 ID입니다.<br /><br />Type: string<br /><br />Example: `tyfo` |
| frequency  <br />_optional_ | 사용자가 lookback window 내에서 특정 작업을 수행하여 해당 맞춤 잠재고객 자격을 충족한 빈도를 지정하는 정수입니다.<br /><br />Type: int<br /><br />Default value: `1` |
| frequency\_comparator  <br />_optional_ | 요청에 전달된 `frequency`의 비교 연산자입니다.<br /><br />**Note**: 아래 값에서 `GTE`는 이상, `LT`는 미만 등을 의미합니다.<br /><br />Type: string<br /><br />Possible values: `NUM_GTE`, `NUM_GT`, `NUM_EQ`, `NUM_LTE`, `NUM_LT` Default value: `NUM_GTE` |
| negate  <br />_optional_ | 해당 세그먼트를 부정하여 조합에서 제외합니다.<br /><br />Type: boolean<br /><br />Default value: `true`  <br />Possible values: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`POST https://ads-api.x.com/12/batch/accounts/18ce54d4x5t/custom_audiences`

```
    [
      {
        "operation_type":"Create",
        "params":{
          "name":"my_flexible_audience_name",
          "audience_type":"FLEXIBLE",
          "segments":{
            "boolean_operator":"AND",
            "child_segments":[
              {
                "custom_audience_id":"TYIF",
                "frequency":1,
                "frequency_comparator":"NUM_GT",
                "lookback_window":30,
                "negate":true,
                "child_segments":[

                ]
              },
              {
                "boolean_operator":"OR",
                "child_segments":[
                  {
                    "custom_audience_id":"TXR1",
                    "lookback_window":30,
                    "child_segments":[

                    ]
                  },
                  {
                    "custom_audience_id":"TYFO",
                    "frequency":1,
                    "frequency_comparator":"NUM_GT",
                    "lookback_window":30,
                    "negate":true,
                    "child_segments":[

                    ]
                  }
                ]
              }
            ]
          }
        }
      }
    ]
```

**예제 응답[](#example-response "이 제목으로 고정 링크")**

```
    {
      "data": {
        "targetable": false,
        "name": "my_flexible_audience_name",
        "targetable_types": [
          "FLEXIBLE",
          "EXCLUDED_FLEXIBLE"
        ],
        "audience_type": "FLEXIBLE",
        "id": "13ld7",
        "reasons_not_targetable": [
          "PROCESSING",
          "TOO_SMALL"
        ],
        "metadata": [
          {
            "custom_audience_id": "13ld7",
            "account_id": "qsx3w2",
            "name": "my_flexible_audience_name",
            "audience_source": "FLEXIBLE_AUDIENCE",
            "upload_status": "UPLOADED",
            "segments": {
              "boolean_operator": "AND",
              "frequency": 1,
              "frequency_comparator": "NUM_GTE",
              "negate": false,
              "child_segments": [
                {
                  "custom_audience_id": "tyif",
                  "lookback_window": 30,
                  "frequency": 1,
                  "frequency_comparator": "NUM_GT",
                  "negate": true,
                  "child_segments": [

                  ]
                },
                {
                  "boolean_operator": "OR",
                  "frequency": 1,
                  "frequency_comparator": "NUM_GTE",
                  "negate": false,
                  "child_segments": [
                    {
                      "custom_audience_id": "txr1",
                      "lookback_window": 30,
                      "frequency": 1,
                      "frequency_comparator": "NUM_GTE",
                      "negate": false,
                      "child_segments": [

                      ]
                    },
                    {
                      "custom_audience_id": "tyfo",
                      "lookback_window": 30,
                      "frequency": 1,
                      "frequency_comparator": "NUM_GT",
                      "negate": true,
                      "child_segments": [

                      ]
                    }
                  ]
                }
              ]
            }
          }
        ],
        "created_at": "2015-11-10T21:26:43Z",
        "updated_at": "2015-11-11T01:11:47Z",
        "partner_source": "OTHER",
        "deleted": false,
        "audience_size": null
      },
      "request": [
        {
          "params": {
            "name": "my_flexible_audience_name",
            "audience_type": "FLEXIBLE",
            "segments": {
              "boolean_operator": "AND",
              "child_segments": [
                {
                  "custom_audience_id": "TYIF",
                  "lookback_window": 30,
                  "frequency": 1,
                  "frequency_comparator": "NUM_GT",
                  "negate": true,
                  "child_segments": [

                  ]
                },
                {
                  "boolean_operator": "OR",
                  "child_segments": [
                    {
                      "custom_audience_id": "TXR1",
                      "lookback_window": 30,
                      "child_segments": [

                      ]
                    },
                    {
                      "custom_audience_id": "TYFO",
                      "lookback_window": 30,
                      "frequency": 1,
                      "frequency_comparator": "NUM_GT",
                      "negate": true,
                      "child_segments": [

                      ]
                    }
                  ]
                }
              ]
            },
            "account_id": "qsx3w2"
          },
          "operation_type": "Create"
        }
      ]
    }
```

#### DELETE accounts/:account\_id/custom\_audiences/:custom\_audience\_id[](#delete-accounts-account-id-custom-audiences-custom-audience-id "Permalink to this headline")

현재 계정에 속한 지정된 맞춤 잠재고객을 삭제합니다.

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/custom_audiences/:custom_audience_id`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 사용 중인 계정의 식별자입니다. 리소스 경로에 포함되며 [GET accounts](/ko/x-ads-api/campaign-management#accounts)를 제외한 모든 Advertiser API 요청에서 일반적으로 필수 매개변수입니다. 지정된 계정은 인증된 사용자와 연결되어 있어야 합니다.<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| custom\_audience\_id  <br />_required_ | 요청에서 대상으로 작업하는 맞춤 잠재고객의 참조 ID입니다.<br /><br />Type: string<br /><br />Example: `2906h` |

**Example Request[](#example-request "Permalink to this headline")**

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences/2906h`

**Example Response[](#example-response "Permalink to this headline")**

```
    {
      "data": {
        "targetable": false,
        "name": "developers",
        "targetable_types": [
          "CRM",
          "EXCLUDED_CRM"
        ],
        "audience_type": "CRM",
        "description": null,
        "permission_level": "READ_WRITE",
        "owner_account_id": "18ce54d4x5t",
        "id": "2906h",
        "reasons_not_targetable": [
          "TOO_SMALL"
        ],
        "created_at": "2017-08-22T23:34:26Z",
        "updated_at": "2017-08-30T18:09:00Z",
        "partner_source": "OTHER",
        "deleted": true,
        "audience_size": null
      },
      "request": {
        "params": {
          "custom_audience_id": "2906h",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

<div id="do-not-reach-lists">
  ### 접촉 금지 목록
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Postman에서 실행하기
</Button>

#### GET accounts/:account\_id/do\_not\_reach\_lists[](#get-accounts-account-id-do-not-reach-lists "Permalink to this headline")

현재 계정과 연결된 접촉 금지 목록(DNRL)의 일부 또는 전체 세부 정보를 조회합니다.

**참고**: `account_id`에는 접촉 금지 목록이 최대 한 개만 존재할 수 있습니다.

**리소스 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/do_not_reach_lists`

**매개변수[](#parameters "Permalink to this headline")**

| 이름 | 설명 |
| :--- | :--- |
| account\_id  <br />_필수_ | 사용하는 계정의 식별자입니다. 리소스 경로에 포함되며, [GET accounts](/ko/x-ads-api/campaign-management#accounts)를 제외한 대부분의 Advertiser API 요청에서 일반적으로 필요한 매개변수입니다. 지정한 계정은 인증된 사용자와 연계되어 있어야 합니다.<br /><br />유형: string<br /><br />예시: `18ce54d4x5t` |
| with\_deleted  <br />_선택_ | 삭제된 결과를 응답에 포함할지 여부입니다.<br /><br />유형: boolean<br /><br />기본값: `false`  <br />가능한 값: `true`, `false` |

**예시 요청[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54bgxky/do_not_reach_lists`

**예시 응답[](#example-response "Permalink to this headline")**

```
    {
      "request": {
        "params": {
          "account_id": "18ce54bgxky"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "targetable": false,
          "name": "Do Not Reach List",
          "description": "test DNRL",
          "id": "4kzrq",
          "reasons_not_targetable": [
            "TOO_SMALL"
          ],
          "created_at": "2021-10-28T22:09:29Z",
          "list_size": null,
          "updated_at": "2021-11-04T03:33:06Z",
          "deleted": false
        }
      ]
    }
```

#### POST accounts/:account\_id/do\_not\_reach\_lists[](#post-accounts-account-id-do-not-reach-lists "Permalink to this headline")

현재 계정과 연결된 새로운 접촉 금지 목록(DNRL)을 생성합니다.

**참고**: 하나의 `account_id`에는 접촉 금지 목록을 최대 하나만 둘 수 있습니다.

**리소스 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/do_not_reach_lists`

**매개변수[](#parameters "Permalink to this headline")**

| 이름 | 설명 |
| :--- | :--- |
| account\_id  <br />_필수_ | 사용 중인 계정의 식별자입니다. 리소스 경로에 포함되며, [GET accounts](/ko/x-ads-api/campaign-management#accounts)를 제외한 모든 Advertiser API 요청에 일반적으로 필요한 매개변수입니다. 지정된 계정은 인증된 사용자와 연결되어 있어야 합니다.<br /><br />유형: string<br /><br />예시: `18ce54d4x5t` |
| description  <br />_선택_ | 이 잠재고객에 대한 설명입니다.<br /><br />유형: string<br /><br />예시: `제외할 사용자 목록` |

**예시 요청[](#example-request "Permalink to this headline")**

`POST https://ads-api.x.com/12/accounts/18ce54bgxky/do_not_reach_lists?description=A list of users to exclude`

**예시 응답[](#example-response "Permalink to this headline")**

```
    {
      "request": {
        "params": {
          "description": "A list of users to exclude",
          "account_id": "18ce54bgxky"
        }
      },
      "data": {
        "targetable": false,
        "name": "Do Not Reach List",
        "description": "A list of users to exclude",
        "id": "4ofrq",
        "reasons_not_targetable": [
          "PROCESSING",
          "TOO_SMALL"
        ],
        "created_at": "2022-02-08T23:02:48Z",
        "list_size": null,
        "updated_at": "2022-02-08T23:02:48Z",
        "deleted": false
      }
    }
```

#### POST batch/accounts/:account\_id/do\_not\_reach\_lists/:do\_not\_reach\_list\_id/users[](#post-batch-accounts-account-id-do-not-reach-lists-do-not-reach-list-id-users "Permalink to this headline")

이 엔드포인트는 지정된 `do_not_reach_list_id`에 사용자를 추가, 업데이트, 제거할 수 있습니다. 이 엔드포인트는 유효한 사용자 식별자 유형으로 이메일만 허용합니다.

요청의 `emails` 필드에 제공되는 모든 데이터는 `SHA256`으로 해시하고 [정규화](/ko/x-ads-api/audiences#e-mail-normalization)해야 합니다.

**참고**

- `account_id`는 접촉 금지 목록(DNRL)을 최대 하나만 가질 수 있습니다
- 이 목록에 추가되는 사용자는 현재 타임스탬프로부터 13개월 미만이 되도록 `expires_at` 타임스탬프가 설정되어야 합니다
- 접촉 금지 목록 API는 `effective_at` 타임스탬프를 허용하지 않으며, 기본값은 현재 타임스탬프입니다
- 접촉 금지 목록은 계정의 맞춤 잠재고객에서 사용자를 제거하지 않으며, 계정에서 집행되는 모든 캠페인에 대해 제외 타기팅으로 작동합니다

**배치 요청**

- 현재 최대 배치 크기는 이 엔드포인트의 경우 `2500`입니다. 배치 크기는 요청당 작업(`Update`/`Delete`) 수로 결정됩니다. 예를 들어, 하나의 배열에 2500개를 초과하는 작업 객체(`{"operation_type": "Update/Delete", [..] }`)가 있으면 오류가 발생합니다.
- 이 엔드포인트가 수락할 수 있는 요청 POST 본문 최대 크기는 `5,000,000`바이트입니다.
- 이 엔드포인트의 레이트 리밋은 1분당 1500입니다
- 모든 매개변수는 요청 본문으로 전송되며, `Content-Type`은 `application/json`이어야 합니다.
- 배치 요청은 그룹 단위로 함께 실패하거나 함께 성공하며, 오류 및 성공에 대한 모든 API 응답은 초기 요청의 항목 순서를 보존합니다.

**배치 응답**

Ads API에서 반환되는 응답에는 `success_count`와 `total_count` 두 필드가 포함됩니다. 이 값들은 항상 같아야 하며, 백엔드에서 처리된 요청 내 레코드 수를 나타냅니다. 요청 본문에 전송된 레코드 수가 `success_count` 및 `total_count`와 같지 않은 상황은 오류 상태로 간주되어 재시도가 필요합니다.

**배치 오류**

- 요청 수준 오류(예: 최대 배치 크기 초과)는 응답의 `errors` 객체에 표시됩니다.
- 항목 수준 오류(예: 필수 매개변수 누락)는 응답의 `operation_errors` 객체에 표시됩니다.
- `operation_errors`의 오류 인덱스는 입력 항목의 인덱스를 가리키며, 해당 오류 메시지가 함께 제공됩니다

**리소스 URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/batch/accounts/:account_id/do_not_reach_lists/:do_not_reach_list_id/users`

**매개변수[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | 사용하는 계정의 식별자입니다. 리소스 경로에 나타나며 [GET accounts](/ko/x-ads-api/campaign-management#accounts)를 제외한 모든 Advertiser API 요청에 일반적으로 필요한 매개변수입니다. 지정된 계정은 인증된 사용자와 연결되어 있어야 합니다.<br /><br />Type: string<br /><br />Example: `18ce54d4x5t` |
| do\_not\_reach\_list\_id  <br />_required_ | 요청에서 작업 중인 접촉 금지 목록에 대한 참조입니다<br /><br />Type: string<br /><br />Example: `2906h` |
| operation\_type  <br />_required_ | `users` 그룹별로 수행되는 작업 유형입니다.<br /><br />Type: enum<br /><br />Possible values: `Update`, `Delete` |
| params  <br />_required_ | `emails` 배열과 `expires_at` 타임스탬프를 포함하는 JSON 객체입니다.<br /><br />Type: JSON |
| users  <br />_required_ | 개별 사용자의 모든 매개변수를 포함하는 JSON 객체 배열입니다.<br /><br />Type: JSON |
| expires\_at  <br />_optional_ | 사용자 연관이 만료되어야 하는 UTC 시간입니다. 지정된 시간은 현재 타임스탬프보다 이후여야 합니다. [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)로 표현됩니다. 기본값은 현재 타임스탬프로부터 13개월입니다.<br /><br />Type: string<br /><br />Example: `2017-07-05T07:00:00Z` |

`users` 객체의 다중 키 접근 방식에 따라, 이 객체의 각 요소는 아래에 문서화되어 있습니다:

| 이름 | 설명 |
| :--- | :--- |
| email  <br />_옵션_ | 사용자의 이메일 주소(들).<br /><br />타입: Array\[String] |
| phone\_number  <br />_옵션_ | 사용자의 전화번호(들).<br /><br />타입: Array\[String] |

**예시 요청[](#example-request "Permalink to this headline")**

```
`POST https://ads-api.x.com/12/batch/accounts/18ce54bgxky/do_not_reach_lists/4kzro/users`

    [
      {
        "operation_type": "Update",
        "params": {
          "expires_at": "2023-01-22T00:00:00Z",
          "users": [
            {
              "email": [
                "FEAD76F6ADF99FFFB997AA4E3C8AD38FF531BC4C956DBD03CD0163F744D8AABC"
              ],
              "phone_number": [
                "CCABF1B62A202E0FE28BC6C014983C89A65451DD4482BD66A0ADB65366F38A9A"
              ]
            },
            {
              "email": [
                "FEAD76F6ADF99FFFB997AA4E3C8AD38FF531BC4C956DBD03CD0163F744D8AABA"
              ],
              "phone_number": [
                "CCABF1B62A202E0FE28BC6C014983C89A65451DD4482BD66A0ADB65366F38A9E"
              ]
            }
          ]
        }
      }
    ]
```

**예시 응답[](#example-response "Permalink to this headline")**

```
    {
      "data": [
        {
          "success_count": 2,
          "total_count": 2
        }
      ],
      "request": [
        {
          "params": {
            "do_not_reach_list_id": "4ofrq",
            "expires_at": "2023-01-22T00:00:00Z",
            "account_id": "18ce54bgxky"
          },
          "operation_type": "Update"
        }
      ]
    }
```

#### DELETE accounts/:account\_id/do\_not\_reach\_lists/:do\_not\_reach\_list\_id[](#delete-accounts-account-id-do-not-reach-lists-do-not-reach-list-id "이 제목의 퍼머링크")

현재 계정에 속한 지정된 접촉 금지 목록(DNRL)을 삭제합니다.

**리소스 URL[](#resource-url "이 제목의 퍼머링크")**

`https://ads-api.x.com/12/accounts/:account_id/do_not_reach_lists/:do_not_reach_list_id`

**매개변수[](#parameters "이 제목의 퍼머링크")**

없음

**요청 예시[](#example-request "이 제목의 퍼머링크")**

`DELETE https://ads-api.x.com/12/accounts/18ce54bgxky/do_not_reach_lists/4ofrp`

**응답 예시[](#example-response "이 제목의 퍼머링크")**

```
    {
      "request": {
        "params": {
          "do_not_reach_list_id": "4ofrp",
          "account_id": "18ce54bgxky"
        }
      },
      "data": {
        "targetable": false,
        "name": "Do Not Reach List",
        "description": null,
        "id": "4ofrp",
        "reasons_not_targetable": [
          "PROCESSING",
          "TOO_SMALL"
        ],
        "created_at": "2022-02-08T23:02:07Z",
        "list_size": null,
        "updated_at": "2022-02-08T23:02:21Z",
        "deleted": true
      }
    }
```