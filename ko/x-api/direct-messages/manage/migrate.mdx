---
title: 마이그레이션 안내서
sidebarTitle: 마이그레이션 안내서
---

import { Button } from '/snippets/ko/button.mdx';

<div id="comparing-v11-and-v2-manage-direct-message-endpoints">
  ## v1.1과 v2 Direct Message 관리 엔드포인트 비교
</div>

Direct Messages 엔드포인트의 v1.1과 v2 버전 모두 Direct Message를 생성하는 메서드를 제공합니다. 이 가이드는 차이점을 이해하고 v2로 마이그레이션하는 데 도움이 되는 정보를 제공합니다. 

두 버전의 주요 차이점은 v1.1은 일대일 대화만 지원하는 반면 v2는 그룹 대화를 지원한다는 점입니다. 이로 인해 v1.1은 "message created" 이벤트만 지원하지만, v2는 참가자의 대화 참여 및 이탈과 관련된 이벤트도 지원합니다. 실제로 v2의 근본적인 업데이트는 dm\_conversations를 핵심 API 객체로 확립한 것입니다.   

v1.1에서는 Direct Messages를 관리하기 위한 두 개의 엔드포인트가 있습니다:

- POST direct\_messages/events/new - 일대일 Direct Message를 생성합니다. 이 v1.1 엔드포인트는 일대일 메시지만 생성할 수 있으며, 그룹 메시지는 지원하지 않습니다.  

- DELETE direct\_messages/events/destroy - 인증된 사용자의 보기에서 일대일 메시지를 삭제합니다. 

이번 v2 릴리스에서는 Direct Message를 생성하기 위한 세 가지 POST 메서드가 있습니다: 

- **POST /2/dm\_conversations/with/:participant\_id/messages** - 일대일 Direct Message를 생성합니다. 이 메서드는 기존 일대일 대화에 메시지를 추가하거나 새 대화를 생성합니다. :participant\_id 경로 매개변수는 메시지를 받는 계정의 User ID입니다. 

- **POST /2/dm\_conversations** - 새로운 그룹 대화를 생성하고 Direct Message를 추가합니다. 이 요청에는 대화 참가자 목록이 필요합니다. 동일한 참가자 목록으로 여러 대화를 생성할 수 있습니다. 이러한 요청은 항상 새로운 대화 ID를 반환합니다. 

- **POST /2/dm\_conversations/:dm\_conversation\_id/messages** - Direct Message를 생성하여 기존 대화에 추가합니다. :dm\_conversations\_id 경로 매개변수는 메시지가 추가될 대화의 ID입니다. 

중요한 점은 대화 및 이벤트 ID가 X 플랫폼의 v1.1과 v2 전반에서 공유된다는 것입니다. 이는 두 버전을 함께 사용할 수 있음을 의미합니다. 예를 들어, Direct Messages v1.1 엔드포인트에는 단일 이벤트 조회 및 이벤트 삭제 메서드가 있는데, 이는 v2에서는 아직 제공되지 않습니다. ID가 v1.1과 v2에서 공통이므로 v2에서 제공된 ID를 기반으로 v1.1 요청을 하거나, X 애플리케이션의 대화 URL에 표시된 대화 ID를 참조할 수 있습니다.

다음 표는 v1.1과 v2 Direct Messages 관리 엔드포인트의 기본 측면을 비교합니다. 여기 공유된 X API v2 특성은 모든 Direct Message 조회 엔드포인트에 공통입니다.

|     |     |     |
| :--- | :--- | :--- |
| **Description** | **Standard v1.1** | **X API v2** |
| Host domain | https://api.x.com | https://api.x.com |
| Endpoint root path | [/1.1/direct\_messages](https://api.x.com/1.1/direct_messages) | [/2/dm\_conversations](https://api.x.com/2/users/:id/dm_conversations)<br /><br />Direct Messages 대화가 기본 API 객체로 도입됩니다.   <br /><br />이 엔드포인트는 MessageCreate, ParticipantsJoin, ParticipantsLeave 이벤트를 반환합니다. |
| HTTP methods supported | POST | POST |
| Supports Group Direct Messages |     | ✔   |
| Event types supported | message\_create | MessageCreate, ParticipantsJoin, ParticipantsLeave |
| [Authentication](/ko/resources/fundamentals/authentication) | OAuth 1.0a User Context | OAuth 1.0a User Context<br /><br />OAuth 2 User Context (scopes: dm.read, dm.write) |
| Requires the use of credentials from a [developer App](/ko/resources/fundamentals/authentication) associated with a X API v2 [Project](/ko/resources/fundamentals/projects) |     | ✔   |
| Default request [rate limits](/ko/x-api/fundamentals/rate-limits)\*  <br />\*All requests require user tokens | 사용자당 24시간 기준 1000회 요청  <br />앱당 24시간 기준 15000회 요청 | 사용자당 15분당 200회 요청<br /><br />사용자당 24시간 기준 1000회 요청<br /><br />앱당 24시간 기준 15000회 요청<br /><br />이 레이트 리밋은 모든 dm\_conversations POST 엔드포인트에 공유됩니다. |

다음 표는 v2 POST 메서드를 v1.1과 비교합니다. 이러한 v2 기능은 그룹 대화를 지원함으로써 사용 가능한 기능을 확장합니다. 

**새로운 일대일 Direct Message 생성**

Path: POST /2/dm\_conversations/with/:participant\_id/messages

|     |     |     |
| :--- | :--- | :--- |
| **설명** | **Standard v1.1** | **X API v2** |
| 엔드포인트 경로 | POST direct\_messages/events/new (message\_create) | POST /2/dm\_conversations/with/:participant\_id/messages |
| 기본 요청 [요율 제한](/ko/x-api/fundamentals/rate-limits) | 사용자당 24시간 내 1,000회 요청<br />앱당 24시간 내 15,000회 요청 | 사용자당 15분 내 200회 요청<br /><br />사용자당 24시간 내 1,000회 요청<br /><br />앱당 24시간 내 15,000회 요청<br /><br />이 요율 제한은 모든 dm\_conversations POST 엔드포인트에 공통으로 적용됩니다. |
| 그룹 다이렉트 메시지 지원 |     | ✔   |

**새 그룹 다이렉트 메시지 대화를 생성하고 메시지를 추가**

경로: POST /2/dm\_conversations

|     |     |     |
| :--- | :--- | :--- |
| **설명** | **Standard v1.1** | **X API v2** |
| 엔드포인트 경로 | 지원되지 않음 | POST /2/dm\_conversations |
| 기본 요청 [요율 제한](/ko/x-api/fundamentals/rate-limits) |     | 사용자당 15분 내 200회 요청<br /><br />사용자당 24시간 내 1,000회 요청<br /><br />앱당 24시간 내 15,000회 요청<br /><br />이 요율 제한은 모든 dm\_conversations POST 엔드포인트에 공통으로 적용됩니다. |
| 그룹 다이렉트 메시지 지원 |     | ✔   |

**ID로 지정한 기존 대화에 다이렉트 메시지 추가**

경로: POST /2/dm\_conversations/:dm\_conversation\_id/messages

|     |     |     |
| :--- | :--- | :--- |
| **설명** | **Standard v1.1** | **X API v2** |
| 엔드포인트 경로 | 지원되지 않음 | POST /2/dm\_conversations/:dm\_conversation\_id/messages |
| 기본 요청 [요율 제한](/ko/x-api/fundamentals/rate-limits) |     | 사용자당 15분 내 200회 요청<br /><br />사용자당 24시간 내 1,000회 요청<br /><br />앱당 24시간 내 15,000회 요청<br /><br />이 요율 제한은 모든 dm\_conversations POST 엔드포인트에 공통으로 적용됩니다. |
| 그룹 다이렉트 메시지 지원 |     | ✔   |