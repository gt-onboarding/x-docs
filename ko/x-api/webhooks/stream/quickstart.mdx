---
title: 빠른 시작
sidebarTitle: 빠른 시작
---

<div id="getting-started-with-the-filtered-stream-webhooks-api">
  ## 필터드 스트림 웹훅 API 시작하기
</div>

v2 필터드 스트림 웹훅 API는 필터링 규칙을 설정하는 방식이 [v2 필터드 스트림 엔드포인트](/ko/x-api/posts/filtered-stream/introduction)와 유사합니다. 차이점은 규칙과 일치하는 게시물을 전달하는 메커니즘에 있습니다.

- v2 필터드 스트림 엔드포인트는 지속 연결을 설정하고 규칙과 일치하는 게시물을 수신해야 합니다.
- 필터드 스트림 웹훅 엔드포인트는 웹훅을 등록하면 X가 규칙과 일치하는 게시물을 웹훅으로 전달합니다.

이 가이드는 필터드 스트림 웹훅 엔드포인트를 사용해 게시물을 필터링하고 수신하는 방법을 설명합니다. 총 3단계가 있습니다.

1. 필터드 스트림 규칙 설정
2. 웹훅 생성
3. Filtered Stream 인스턴스를 웹훅에 연결

Filtered Stream 인스턴스를 웹훅에 연결하면 X가 규칙과 일치하는 게시물을 웹훅으로 전송합니다.

<div id="setting-up-your-filtered-stream-rules">
  ### 필터드 스트림 규칙 설정
</div>

필터드 스트림 규칙은 전달할 게시물을 정의하기 위해 불리언 논리와 괄호로 결합된 하나 이상의 연산자로 구성됩니다. 필터드 스트림 웹훅 API는 규칙을 생성하고 관리할 때 [v2 필터드 스트림 엔드포인트](/ko/x-api/posts/filtered-stream/introduction)와 동일한 엔드포인트 집합을 사용합니다. 필터를 구성하는 방법을 보여주는 [자세한 가이드](/ko/x-api/posts/filtered-stream/integrate/build-a-rule)를 확인하세요.

<div id="creating-your-webhook">
  ### 웹후크 생성
</div>

공개적으로 접근 가능한 HTTPS URL을 X API에 등록해 이벤트를 수신할 웹후크를 생성하세요. 웹후크는 CRC 검증을 위한 GET 요청과 이벤트 페이로드를 위한 POST 요청을 처리해야 합니다. 웹후크의 생성 및 관리에 관한 자세한 절차는 [웹후크 소개 문서](/ko/x-api/webhooks/introduction)를 참조하세요.

**참고:** 이미 [Account Activity API(AAA)](/ko/x-api/account-activity/introduction)용 웹후크를 사용 중이라면, 그때 설정한 웹후크와 여기서 필요한 웹후크는 동일합니다. 실제로 처리 여유가 있고 이벤트를 분리할 수 있다면, AAA에 사용 중인 동일한 웹후크 엔드포인트를 이 API에도 사용할 수 있습니다.

<div id="linking-your-filtered-stream-instance-to-your-webhook">
  ### 필터드 스트림 인스턴스를 웹훅에 연결하기
</div>

규칙을 설정하고 웹훅을 만든 후, 웹훅을 필터드 스트림 인스턴스에 연결하십시오. 이렇게 하면 일치하는 게시물 이벤트가 웹훅 URL로 라우팅됩니다.

엔드포인트: `POST /2/tweets/search/webhooks/:webhook_id`

스트리밍 엔드포인트(`/2/tweets/search/stream`)에서 사용하는 것과 동일한 쿼리 매개변수(확장, 필드, 미디어 옵션 등)를 포함할 수 있습니다. 이를 통해 이벤트 페이로드에 포함되는 데이터를 커스터마이즈할 수 있습니다.

**예시:**

```bash
curl --request POST \ 
  --url 
'https://api.x.com/2/tweets/search/webhooks/123456789012345678?ex
pansions=author_id&user.fields=username,name,id' \ 
  --header 'Authorization: Bearer $BEARER_TOKEN' 
```

성공 응답 예시:

```json
{ 
  "data": { 
    "provisioned": true 
  } 
}
```

**팁:** 동일한 스트림에 여러 웹훅을 연결해 중복성을 확보하거나 서로 다른 필드 세트를 수신할 수 있습니다. 각 연결마다 고유한 매개변수를 지정할 수 있습니다.

필터드 스트림 인스턴스를 웹훅에 연결하면 아래와 같이 규칙과 일치하는 게시물을 수신하기 시작합니다:

```json
{
    "data": {
        "id": "1346889436626259968",
        "text": "Learn how to use the user Post timeline and user mention timeline endpoints in the X API v2 to explore Post… https://t.co/56a0vZUx7i",
        "created_at": "2021-01-06T18:40:40.000Z",
        "author_id": "2244994945"
    },
    "includes": {
        "users": [
            {
                "id": "2244994945",
                "name": "Developers",
                "username": "Xdevelopers",
                "created_at": "2013-12-14T04:35:55Z",
                "protected": false
            }
        ]
    },
    "matching_rules": [
        {
            "id": "120897978112909812",
            "tag": "api-posts"
        }
    ]
}
```

<div id="retrieving-webhooks-linked-to-filtered-stream">
  ### 필터드 스트림에 연결된 웹훅 조회
</div>

현재 필터드 스트림에 연결된 모든 웹훅 목록을 조회합니다:

```bash
GET /2/tweets/search/stream/webhooks 
```

응답 예시:

```json
{
    "data": {
        "links": [
            {
                "application_id": "29893711",
                "business_user_id": "1877374016438091776",
                "fields": [
                    "user.fields=username",
                    "name",
                    "id",
                    "expansions=author_id"
                ],
                "instance_id": "1877375130462289920",
                "webhook_id": "1952390923729424384"
            }
        ]
    }
}
```

<div id="unlinking-your-webhook-from-filtered-stream">
  ### 필터드 스트림에서 웹훅 연결 해제
</div>

특정 웹훅으로 이벤트 수신을 중단하려면 다음 요청으로 연결을 해제하세요:

```bash
DELETE /2/tweets/search/webhooks/:webhook_id
```

응답은 다음과 같습니다.

```json
{
    "data": {
        "deleted": true
    }
}
```