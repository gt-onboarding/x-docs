---
title: 규칙과 게시물 매칭하기
sidebarTitle: 규칙과 게시물 매칭하기
---

<div id="matching-returned-posts-to-their-associated-rule">
  ### 반환된 게시물을 연관된 규칙과 매칭하기
</div>

필터드 스트림 엔드포인트는 단일 연결로 여러 규칙을 설정할 수 있게 해줍니다. 스트림에서 게시물을 수신하기 시작하기 전에, 관심 있는 게시물 유형을 지정하는 규칙을 먼저 생성해야 합니다.

사용자 속성, 지리적 위치, 언어 등 다양한 속성에 기반해 게시물을 매칭하는 규칙을 지정할 때, 이 규칙을 상위 수준에서 구분할 수 있도록 태그를 붙일 수 있습니다. 태그는 특히 규칙이 많은 경우 규칙에 맥락을 부여하는 좋은 방법입니다. 필터링 규칙은 연결을 통해 전송될 게시물 활동을 결정합니다.

다른 유형의 게시물을 포착하기 위해 새로운 필터링 규칙을 추가하거나 기존 규칙을 제거해야 하는 경우, 앱은 [POST tweets/search/stream/rules](/ko/x-api/posts/filtered-stream#post-2-tweets-search-stream-rules) 엔드포인트로 요청을 보내면 됩니다. 이 요청이 전송되면 필터링 규칙은 자동으로 수정되며, 다시 연결할 필요 없이 데이터 스트림에 변경 사항이 바로 반영됩니다. 대부분의 규칙 추가는 약 20초 이내에 적용됩니다. 가능성은 낮지만 외부 요인(예: 네트워크 상태)에 따라 일치하는 게시물을 수신하기까지 더 오래 걸릴 수 있습니다. 목록 조회 엔드포인트에서 규칙을 찾을 수 없다면, 규칙 생성 요청이 성공했는지 확인하십시오. 이는 로그에서 오류 메시지를 확인하여 검증할 수 있습니다.

<div id="matching-rules">
  #### 일치 규칙
</div>

활동이 필터드 스트림 연결을 통해 전달되면, matching\_rules 배열에 전달된 게시물과 일치한 필터 목록이 포함됩니다.

게시물 페이로드에는 특정 게시물이 전달되도록 한 규칙 id와 태그를 포함하는 추가 문자열 메타데이터가 있습니다. 여러 규칙이 하나의 게시물과 일치한 경우, 활동은 이 메타데이터에 각 일치 규칙이 포함된 상태로 한 번만 전달됩니다. 일치 규칙은 특정 게시물을 특정 규칙과 손쉽게 연결할 수 있게 해 주며, 서로 다른 규칙이 많은 경우 특히 유용합니다. 데이터가 이러한 방식으로 단일 스트림을 통해 전달되므로, 고유한 id와 tag를 유지하는 것이 매칭에 필수적입니다.

**다음은 게시물 페이로드에서 “matching\_rules” 배열이 표시되는 예시입니다:**
 

```"matching_rules": [
    {
      "id": "1166916266197536768",
      "tag": "test-rule-tag-00000"
    },
    {
      "id": "1166916266197536769",
      "tag": "test-rule-tag-12345"
    }
  ]
```

<div id="rule-tags">
  #### 규칙 태그
</div>

각 필터링 규칙은 생성할 때 태그를 함께 지정할 수 있습니다. 규칙 태그는 규칙과 함께 전달되는 불투명한 문자열일 뿐 별도의 의미는 없습니다. 반환되는 활동의 matching\_rules 메타데이터에 포함되며, 상위 수준에서 규칙을 구분하기 쉽게 하기 위한 용도입니다.

태그는 필터링 규칙을 논리적으로 묶는 간편한 방법을 제공합니다. 예를 들어 특정 규칙의 태그로 고유 ID를 생성하고, 앱이 처리하는 활동에서 그 ID를 참조하도록 하여 결과를 특정 고객, 캠페인, 카테고리 또는 기타 관련 그룹과 연계할 수 있습니다.

태그는 기존 규칙에서 업데이트할 수 없으며 규칙을 생성할 때만 포함할 수 있다는 점에 유의하세요. 태그를 “업데이트”하거나 “이름을 변경”하려면 먼저 해당 규칙을 삭제한 뒤 원하는 태그로 다시 추가해야 합니다. 가장 좋은 방법은 태그로 고유 식별자를 사용하는 것이며, 이를 통해 시스템이 자체 앱의 다양한 데이터 포인트와 연계할 수 있어 규칙 집합은 변경할 필요가 없습니다.

<div id="filtered-stream-recovery-and-redundancy-features">
  ### 필터드 스트림 - 복구 및 이중화 기능
</div>

<Note>
  참고: 이러한 복구 및 이중화 기능은 Enterprise 액세스 보유자에게만 제공됩니다.
</Note>