---
title: v1에서 v2로
sidebarTitle: v1에서 v2로
---

<div id="standard-v11-compared-to-x-api-v2">
  ### Standard v1.1와 X API v2 비교
</div>

v1.1 [search/posts](/ko/x-api/posts/search/introduction)을(를) 사용해 오셨다면, 이 가이드는 Standard와 X API v2 검색 Posts 엔드포인트의 유사점과 차이점을 이해하는 데 도움을 드립니다.

- **유사점**
  - OAuth 1.0a 사용자 컨텍스트 및 OAuth 2.0 앱 전용
  - 게시물 편집 이력 및 메타데이터 지원
- **차이점**
  - 엔드포인트 URL

  - 앱 및 프로젝트 요구 사항

  - 응답 데이터 형식

  - 요청 매개변수

  - 새로운 쿼리 연산자

  - AND / OR 연산자 우선순위 

<div id="similarities">
  #### 유사점
</div>

**OAuth 1.0a 사용자 컨텍스트 및 OAuth 2.0 앱 전용 인증**

v1.1 search/posts와 X API v2 최근 검색 엔드포인트는 [OAuth 1.0a User Context](/ko/resources/fundamentals/authentication)와 [OAuth 2.0 App-Only](/ko/resources/fundamentals/authentication#oauth-2-0)를 모두 지원합니다.

따라서 이전에 표준 v1.1 검색 엔드포인트를 사용했다면 X API v2 버전으로 마이그레이션하더라도 동일한 인증 방법을 계속 사용할 수 있습니다.

사용 중인 인증 라이브러리/패키지에 따라 앱 전용 인증이 가장 간단하게 시작할 수 있는 방법일 가능성이 높으며, 간단한 요청 헤더로 설정할 수 있습니다. 앱 액세스 토큰 생성 방법은 이 [OAuth 2.0 App-Only 가이드](/ko/resources/fundamentals/authentication#bearer-token-also-known-as-app-only)를 참조하세요.

X API v2 엔드포인트로 비공개 데이터나 광고 지표를 가져오려면 OAuth 1.0a 사용자 컨텍스트를 사용해야 하며, 해당 지표를 조회하려는 게시물을 작성한 사용자와 연관된 사용자 액세스 토큰을 전달해야 합니다.

**게시물 편집 이력 및 메타데이터 지원**

두 버전 모두 편집 이력을 설명하는 메타데이터를 제공합니다. 자세한 내용은 [검색 API 참고서](/ko/x-api/posts/recent-search)와 [게시물 편집 기본 사항 페이지](/ko/x-api/fundamentals/edit-posts)를 확인하세요. 

<div id="differences">
  #### 차이점
</div>

**엔드포인트 URL**

- 표준 v1.1 엔드포인트:
  - https://api.x.com/1.1/search/tweets

- X API v2 엔드포인트:
  - https://api.x.com/2/tweets/search/recent
     

**앱 및 프로젝트 요구사항**

X API v2 엔드포인트는 요청 인증 시 [개발자 App](/ko/resources/fundamentals/developer-apps)의 자격 증명을 사용해야 하며, 해당 App은 [Project](/ko/resources/fundamentals/projects)에 연결되어 있어야 합니다. X API v1.1의 모든 엔드포인트는 독립형 App 또는 Project에 연결된 App의 자격 증명을 사용할 수 있습니다. 

**응답 데이터 형식**

표준 v1.1과 X API v2 엔드포인트 버전 간 가장 큰 차이 중 하나는 페이로드에 어떤 필드를 반환할지 선택하는 방식입니다.

표준 엔드포인트의 경우 기본적으로 많은 응답 필드가 포함되며, 추가로 매개변수를 사용해 페이로드에 반환할 필드나 필드 집합을 지정할 수 있습니다.

X API v2는 기본적으로 Post id와 text 필드만 제공합니다. 추가 필드나 객체를 요청하려면 [fields](/ko/x-api/fundamentals/fields) 및 [expansions](/ko/x-api/fundamentals/expansions) 매개변수를 사용해야 합니다. 이 엔드포인트에서 요청한 Post 필드는 기본 Post 객체에 반환됩니다. 확장된 사용자, 미디어, 설문조사, 장소 객체와 해당 필드는 응답의 includes 객체에 반환됩니다. 이후 Post와 확장 객체 양쪽에 있는 ID를 매칭하여 확장 객체를 Post 객체에 연결할 수 있습니다. 

이러한 새로운 매개변수는 각 가이드에서 자세히 확인하시거나, [fields 및 expansions 사용 방법](/ko/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions) 가이드를 참고하시기 바랍니다. 

또한 표준 v1.1 필드를 최신 v2 필드에 매핑하는 데 도움이 되는 [데이터 형식 마이그레이션 가이드](/ko/x-api/migrate/data-format-migration#migrating-from-standard-v1-1s-data-format-to-v2)를 마련했습니다. 이 가이드는 특정 필드를 반환하기 위해 v2 요청에 포함해야 하는 구체적인 expansion 및 field 매개변수도 제공합니다. 
 

특정 필드 요청 방식의 변경과 더불어, X API v2는 [Post](/ko/x-api/fundamentals/data-dictionary#tweet) 및 [user](/ko/x-api/fundamentals/data-dictionary#user) 객체를 포함해 API가 반환하는 객체에 새로운 JSON 설계를 도입합니다.

- JSON 루트 수준에서 표준 엔드포인트는 Post 객체를 statuses 배열로 반환하는 반면, X API v2는 data 배열로 반환합니다. 
- 리트윗 및 인용 “statuses” 대신, X API v2 JSON은 리트윗된 트윗과 인용된 트윗을 지칭합니다. contributors 및 user.translator\_type 같은 많은 레거시 및 사용 중단된 필드는 제거됩니다. 
- Post 객체의 favorites와 user 객체의 favourites를 모두 사용하는 대신, X API v2는 like라는 용어를 사용합니다. 
- X는 값이 없는 JSON 값(예: null)은 페이로드에 기록하지 않는 관례를 채택했습니다. Post 및 user 속성은 null이 아닌 값이 있을 때만 포함됩니다. 
   

또한 [Post 객체](/ko/x-api/fundamentals/data-dictionary#tweet)에 다음과 같은 새로운 필드를 도입했습니다:

- [conversation\_id](/ko/x-api/fundamentals/conversation-id) 필드
- context 및 entities를 포함한 두 개의 새로운 [annotations](/ko/x-api/fundamentals/post-annotations) 필드
- 여러 개의 새로운 [metrics](/ko/x-api/fundamentals/metrics) 필드 
- 특정 Post에 누가 회신할 수 있는지를 나타내는 새로운 reply\_setting 필드

<div id="request-parameters">
  #### 요청 매개변수
</div>

다음 표준 v1.1 요청 매개변수에는 X API v2에서의 대응 항목이 있습니다:

| 표준 검색 v1.1 | Search Posts v2 |
| :--- | :--- |
| q   | query |
|     | start\_time (YYYY-MM-DDTHH:mm:ssZ) |
| until (YYYY-MM-DD) | end\_time (YYYY-MM-DDTHH:mm:ssZ) |
| since\_id | since\_id |
| max\_id | until\_id |
| count | max\_results |
| Response provides search\_metadata.next\_results | next\_token |

또한 X API v2에서 지원되지 않는 표준 Search Posts 요청 매개변수도 있습니다:

| **표준 v1.1 매개변수** | **세부 정보** |
| :--- | :--- |
| geocode | Basic Access 수준의 Search Posts는 지리 연산자를 지원하지 않습니다. |
| locale | 표준 검색에서는 쿼리의 언어를 지정하는 데 사용되었으나 완전히 구현되지는 않았습니다. |
| lang | Search Posts 엔드포인트는 관심 있는 언어와 매칭하기 위한 lang 쿼리 연산자를 제공합니다. |
| include\_entities | Post 엔터티는 항상 포함됩니다. |
| result\_type | Search Posts 엔드포인트는 참여 수준과 관계없이 일치하는 모든 Post를 제공합니다. |
| extended | X API v2는 최대 280자까지의 Post를 지원하도록 처음부터 설계되었습니다. v2에는 ‘extended’ Post라는 개념이 없습니다. |

다음은 Standard 요청과 Search Posts 요청의 차이를 보여주는 예시 요청입니다:

|     |     |
| :--- | :--- |
| **Standard v1.1** | **X API v2** |
| https://api.x.com/1.1/search/tweets.json?q=snow\&count=50 | https://api.x.com/2/tweets/search/recent?query=snow\&max\_results=50 |

이 두 요청은 모두 ‘snow’ 키워드를 포함하는 가장 최근 Post 50개를 반환합니다. v2 요청은 일치하는 Post의 기본 id 및 text 필드를 반환합니다. 다음은 JSON 페이로드에 포함할 추가 Post 및 사용자 필드를 지정하는 예시입니다:

|     |
| :--- |
| **X API v2** |
| https://api.x.com/2/tweets/search/recent?query=snow\&max\_results=50\&tweet.fields=id,created\_at,author\_id,text,source,entities,attachments\&user.fields=id,name,username,description |

**새 쿼리 연산자**

Search Posts는 두 가지 새로운 X API v2 기능을 지원하기 위해 새로운 연산자를 도입합니다:

- **[Conversation IDs](/ko/x-api/fundamentals/conversation-id)** - X에서 대화가 전개됨에 따라 대화의 일부인 Post를 식별하기 위한 대화 ID가 제공됩니다. 대화의 모든 Post는 해당 대화를 시작한 Post ID로 conversation\_id가 설정됩니다.
  - `conversation_id:`
- **[X Annotations](/ko/x-api/fundamentals/post-annotations)** 는 Post에 대한 문맥 정보를 제공하며, 엔터티 및 컨텍스트 주석을 포함합니다. 엔터티는 사람, 장소, 제품, 조직으로 구성됩니다. 컨텍스트는 도메인 또는 토픽으로, 노출된 엔터티가 속한 범주입니다. 예를 들어 Post에 언급된 사람은 그들이 운동선수, 배우, 또는 정치인인지 나타내는 컨텍스트를 가질 수 있습니다.
  - context: 관심 있는 컨텍스트로 주석 처리된 Post와 매칭합니다.
  - entity: 관심 있는 엔터티로 주석 처리된 Post와 매칭합니다. 

     

#### AND / OR 연산자 우선순위 

검색 쿼리를 구성하는 기본 단위는 OR와 AND 논리 그룹입니다. 표준 검색 API는 AND보다 OR를 먼저 적용하는 반면, Search Posts 엔드포인트(프리미엄 및 엔터프라이즈 버전 포함)는 OR보다 AND를 먼저 적용합니다. 이 차이는 두 방식 간 쿼리를 변환할 때 매우 중요합니다. 

예를 들어, 표준 검색에서 키워드 ‘storm’과 함께 단어 ‘colorado’ 또는 #COwx 해시태그를 언급한 게시물을 찾고 싶다면, 다음과 같은 검색 쿼리를 사용할 수 있습니다:

storm #COwx OR colorado

Search Posts의 연산자 우선순위에서는 AND가 OR보다 먼저 적용됩니다. 따라서 위 쿼리는 다음과 동일합니다: 

(storm #COwx) OR colorado

그러나 위 규칙은 게시물이 ‘storm’이나 #COwx 해시태그를 언급했는지와 상관없이 ‘colorado’를 언급한 모든 게시물과 일치합니다. 또한 키워드 ‘storm’과 #COwx 해시태그를 모두 언급한 게시물과도 일치합니다. 

쿼리가 원래 의도대로 동작하도록 하려면 OR 절을 함께 묶어야 합니다. 원래 표준 쿼리를 Search Posts에 맞게 변환하면 다음과 같습니다:

storm (#COwx OR colorado)

이 두 규칙은 매우 다른 매칭 동작을 보입니다. 2019년 10월 한 달 동안 원래 규칙은 1,175,000개가 넘는 게시물과 일치하는 반면, 올바르게 변환된 규칙은 약 5,600개 게시물과 일치합니다. AND와 OR를 주의 깊게 사용하고, 필요한 경우 괄호를 사용하세요. 

<div id="curl-requests">
  #### cURL 요청
</div>

**다음 섹션에서는 표준 v1.1 엔드포인트와 이에 상응하는 v2 엔드포인트에 대한 cURL 요청을 보여줍니다.**

요청은 \[OAuth 2.0 App-Only]\(https://developer.x.com(/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token). In order to run the following cURL requests, you will need to replace ACCESS\_TOKEN in the authorization header with your app access token. For v2 endpoints, your app access token must belong to a [developer App](/ko/resources/fundamentals/developer-apps/overview) within a [Project](/ko/resources/fundamentals/projects/overview). 

v1.1 엔드포인트가 반환하는 응답 페이로드는 v2 엔드포인트의 응답 페이로드와 다릅니다. v2에서는 기본 필드와 함께 [fields](/ko/x-api/fundamentals/fields) 및 [expansions](/ko/x-api/fundamentals/expansions) 매개변수로 요청한 추가 필드가 응답에 포함됩니다. 이들 매개변수를 사용해 반환할 필드 집합을 지정할 수 있습니다.

**표준 v1.1 [GET search/tweets](https://developer.x.com/en/docs/twitter-api/v1/tweets/search/api-reference/get-search-tweets) 및 v2 [GET tweets/search/recent](/ko/x-api/posts/recent-search) 엔드포인트**

```bash
      curl --request GET \
  --url 'https://api.x.com/1.1/search/tweets.json?q=from%3ATwitterDev%20-is%3Aretweet&count=100' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```

```bash
      curl --request GET \
  --url 'https://api.x.com/2/tweets/search/recent?query=from%3ATwitterDev%20-is%3Aretweet&tweet.fields=created_at%2Cconversation_id%2Centities&max_results=100' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```

**다음 단계**

[X API v2 최근 검색 빠른 시작 가이드를 확인하세요](/ko/x-api/posts/search/quickstart/recent-search)

[최근 검색 API 참고 문서를 검토하세요](/ko/x-api/posts/recent-search)

[이 엔드포인트용 샘플 코드를 확인하세요](https://github.com/xdevplatform/Twitter-API-v2-sample-code "Check out some sample code for these endpoints")

[최근 검색에 첫 요청을 보내는 단계별 가이드](/ko/x-api/getting-started/make-your-first-request "Step-by-step guide to making your first request to recent search")