---
title: Mejores pr√°cticas
---

import { Button } from "/snippets/es/button.mdx";

Tus claves y tokens de API deben protegerse con sumo cuidado.

Estas credenciales est√°n directamente vinculadas a tu [App de desarrollador](/es/resources/fundamentals/developer-apps) y a las cuentas de X que te han autorizado a realizar solicitudes en su nombre. Si tus claves se ven comprometidas, actores maliciosos podr√≠an usarlas para realizar solicitudes a los endpoints de X en nombre de tu App de desarrollador o de sus usuarios autorizados, lo que podr√≠a hacer que alcances l√≠mites de tasa inesperados, agotes tu asignaci√≥n de acceso de pago o incluso provoques la suspensi√≥n de tu App de desarrollador.

Las siguientes secciones incluyen pr√°cticas recomendadas que deben considerarse al gestionar tus claves y tokens de API.

<div id="regenerate-api-keys-and-tokens">
  ## Regenerar claves y tokens de API
</div>

Si crees que tus claves de API se han expuesto, debes regenerarlas siguiendo estos pasos:

1. Ve a la [p√°gina ¬´Projects and Apps¬ª del portal para desarrolladores](https://developer.x.com/en/portal/projects-and-apps.html).
2. Haz clic en el √≠cono ¬´Keys and tokens¬ª (üóù ) junto a la App correspondiente.
3. Haz clic en el bot√≥n ¬´Regenerate¬ª junto al conjunto de claves y tokens que deseas regenerar.

Si prefieres regenerar tus Access Tokens o Bearer Tokens de forma program√°tica, puedes hacerlo usando nuestros endpoints de autenticaci√≥n.

- Si deseas regenerar tus Access Tokens, primero debes invalidarlos usando el endpoint [POST oauth/invalidate\_token](/es/resources/fundamentals/authentication/api-reference#post-oauth2-invalidate-token) y luego regenerarlos usando el [flujo OAuth de 3 patas](/es/resources/fundamentals/authentication/oauth-1-0a/obtaining-user-access-tokens).
- Si deseas regenerar tu Bearer Token, primero debes invalidarlo usando el endpoint [POST oauth2/invalidate\_token](/es/resources/fundamentals/authentication/api-reference#post-oauth2-invalidate-token) y luego regenerarlo usando el endpoint [POST oauth2/token](/es/resources/fundamentals/authentication/api-reference#post-oauth2-token).

<div id="having-a-central-file-for-your-secrets">
  ## Tener un archivo central para tus secretos
</div>

Tener un archivo como .env o alg√∫n .yaml para almacenar tus secretos puede ser √∫til, pero aseg√∫rate de contar con un .gitignore s√≥lido que evite que los subas accidentalmente a un repositorio de Git.¬†

<div id="environment-variables">
  ## Variables de entorno
</div>

Escribir c√≥digo que use variables de entorno puede resultar √∫til.¬†

Un ejemplo de esto en Python es el siguiente:

```python
import os

consumer_key = os.environ.get("CONSUMER_KEY")

consumer_secret = os.environ.get("CONSUMER_SECRET")
```

En la terminal, querr√°s escribir algo como lo siguiente:

```bash
export CONSUMER_KEY='xxxxxxxxxxxxxxxxxxx'
export CONSUMER_SECRET='xxxxxxxxxxxxxxxxxxxxxxx'
```

<div id="source-code-and-version-control">
  ## C√≥digo fuente y control de versiones
</div>

Los errores de seguridad m√°s comunes que cometen los desarrolladores son tener claves y tokens de API incluidos en el c√≥digo fuente dentro de sistemas de control de versiones accesibles, como GitHub y Bitbucket. Muchos de estos repositorios de c√≥digo son de acceso p√∫blico. Este error ocurre con tanta frecuencia en repositorios p√∫blicos que existen bots rentables que rastrean claves de API.

- Use variables de entorno del servidor. Al almacenar las claves de API en variables de entorno, las mantiene fuera de su c√≥digo y del control de versiones. Esto tambi√©n le permite usar diferentes claves para distintos entornos con facilidad.
- Use un archivo de configuraci√≥n excluido del control de versiones. Agregue el nombre del archivo a su archivo [.gitignore](https://git-scm.com/docs/gitignore) para excluirlo del seguimiento del control de versiones.
- Si elimina las claves de API de su c√≥digo despu√©s de haber usado control de versiones, es probable que las claves sigan siendo accesibles consultando versiones anteriores de su base de c√≥digo. Regener√© sus claves de API, como se describe en la siguiente secci√≥n.

<div id="databases">
  ## Bases de datos
</div>

Si necesita almacenar tokens de acceso en una base de datos, tenga en cuenta lo siguiente:

- Restrinja el acceso a la base de datos de modo que los tokens de acceso solo puedan ser le√≠dos por el propietario del token.
- Limite los permisos de edici√≥n/escritura en la tabla que contiene los tokens de acceso; esto debe automatizarse mediante el sistema de gesti√≥n de claves.
- Cifre los tokens de acceso antes de almacenarlos en cualquier almac√©n de datos.

<div id="password-management-tools">
  ## Herramientas de gesti√≥n de contrase√±as
</div>

Las herramientas de gesti√≥n de contrase√±as como 1Password o LastPass pueden ayudar a mantener tus claves y tokens en un lugar seguro. Es posible que quieras evitar compartirlos dentro de una herramienta de gesti√≥n de contrase√±as compartida por el equipo.

<div id="web-storage-cookies">
  ## Almacenamiento web y cookies
</div>

Hay dos tipos de almacenamiento web: LocalStorage y SessionStorage. Estos se crearon como mejoras frente al uso de cookies, ya que la capacidad de almacenamiento del almacenamiento web es mucho mayor que la de las cookies. Sin embargo, cada una de estas opciones tiene distintos pros y contras.
¬†

**Almacenamiento web: LocalStorage**

Todo lo que se almacena en el almacenamiento web local es persistente. Esto significa que los datos permanecer√°n hasta que se eliminen expl√≠citamente. Dependiendo de las necesidades de tu proyecto, esto puede ser positivo. No obstante, debes ser prudente al usar LocalStorage, ya que cualquier cambio o adici√≥n a los datos estar√° disponible en todas las visitas futuras a la p√°gina en cuesti√≥n. Por lo general, no recomendamos usar LocalStorage, aunque puede haber algunas excepciones. Si decides utilizar LocalStorage, conviene saber que respeta la pol√≠tica de mismo origen, por lo que todos los datos almacenados aqu√≠ solo estar√°n disponibles desde el mismo origen. Una ventaja de rendimiento adicional de usar LocalStorage es la disminuci√≥n del tr√°fico cliente-servidor, ya que los datos no tienen que enviarse al servidor en cada solicitud HTTP.
¬†

**Almacenamiento web: SessionStorage**

SessionStorage es similar a LocalStorage, pero la diferencia clave es que no es persistente. Una vez que se cierra la ventana (o pesta√±a, seg√∫n el navegador que utilices) que se us√≥ para escribir en SessionStorage, los datos se pierden. Esto es √∫til para restringir el acceso de lectura a tu token dentro de una sesi√≥n de usuario. Usar SessionStorage suele ser preferible a LocalStorage en t√©rminos de seguridad. Al igual que LocalStorage, SessionStorage tambi√©n se beneficia de la pol√≠tica de mismo origen y de la disminuci√≥n del tr√°fico cliente-servidor.
¬†

**Cookies**

Las cookies son la forma m√°s tradicional de almacenar datos de sesi√≥n. Puedes establecer un tiempo de expiraci√≥n para cada cookie, lo que facilita su revocaci√≥n y la restricci√≥n de acceso. Sin embargo, el tr√°fico cliente-servidor aumentar√° al usar cookies, ya que los datos se env√≠an al servidor en cada solicitud HTTP. Si decides usar cookies, debes protegerte contra el secuestro de sesi√≥n. De forma predeterminada, las cookies se env√≠an en texto claro a trav√©s de HTTP, lo que hace que su contenido sea vulnerable a la inspecci√≥n de paquetes y/o a ataques de intermediario (man-in-the-middle), en los que los atacantes pueden modificar tu tr√°fico. Debes imponer siempre HTTPS para proteger tus datos en tr√°nsito. Esto proporcionar√° confidencialidad, integridad (de los datos) y autenticaci√≥n. No obstante, si tu aplicaci√≥n web o sitio est√° disponible tanto por HTTP como por HTTPS, tambi√©n querr√°s usar el indicador ‚ÄúSecure‚Äù en la cookie. Esto evitar√° que los atacantes puedan enviar a un usuario enlaces a la versi√≥n HTTP de tu sitio y escuchar la solicitud HTTP resultante generada.

Otra defensa secundaria contra el secuestro de sesi√≥n cuando se usan cookies es volver a validar la identidad del usuario antes de realizar cualquier acci√≥n de alto impacto. Otro indicador a considerar para mejorar la seguridad de tus cookies es ‚ÄúHttpOnly‚Äù. Este indicador le indica al navegador que la cookie en cuesti√≥n solo ser√° accesible desde el servidor especificado. Cualquier intento realizado por scripts del lado del cliente quedar√° prohibido por este indicador, ayudando as√≠ a proteger contra la mayor√≠a de los ataques de cross-site scripting (XSS).