---
title: Buscar publicaciones (archivo completo)
sidebarTitle: Buscar publicaciones (archivo completo)
---

import { Button } from '/snippets/es/button.mdx';

### Introducción al endpoint de conteos de publicaciones del archivo completo    

Esta guía de inicio rápido le ayudará a realizar su primera solicitud al endpoint de conteos de publicaciones del archivo completo usando Postman, una herramienta gráfica que permite realizar solicitudes HTTP.

Si desea ver código de ejemplo en distintos lenguajes de programación, visite nuestro repositorio de GitHub [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code). 

<Note>
  ### Requisitos previos

  El endpoint de conteos de publicaciones del archivo completo está disponible actualmente solo para quienes tienen acceso Pro o Enterprise. Para usar este endpoint, debe solicitar acceso Pro o [Enterprise](https://docs.google.com/forms/d/e/1FAIpQLScO3bczKWO2jFHyVZJUSEGfdyfFaqt2MvmOfl_aJp0KxMqtDA/viewform). 

  Además de que se le apruebe el acceso, necesitará un conjunto de [keys and tokens](/es/resources/fundamentals/authentication) para autenticar su solicitud. Puede generar estas claves y tokens siguiendo estos pasos:

  - Vaya a su [Project](/es/resources/fundamentals/projects) con acceso Enterprise en el portal para desarrolladores y asegúrese de tener una [developer App](/es/resources/fundamentals/developer-apps) asociada dentro de ese Project.

  - Vaya a la página “Keys and tokens” de su App para generar las credenciales necesarias. Asegúrese de guardar todas las credenciales en un lugar seguro.
</Note>

<div id="steps-to-build-a-full-archive-post-counts-request">
  #### Pasos para crear una solicitud de conteo de Publicaciones del archivo completo
</div>

**Paso uno: Comience con una herramienta o biblioteca**

Existen varias herramientas, ejemplos de código y bibliotecas que puede usar para realizar una solicitud a este endpoint, pero aquí usaremos la herramienta Postman para simplificar el proceso.

Para cargar la colección de Postman de la API de X v2 en su entorno, haga clic en el siguiente botón:

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Agregar API de X v2 a Postman
</Button>

Una vez que tenga la colección de la API de X v2 cargada en Postman, navegue a la solicitud Post counts > Full-archive Post counts.

**Paso dos: Autentique su solicitud**

Para realizar correctamente una solicitud a la API de X, debe verificar que tiene permiso. Para hacerlo con este endpoint, debe autenticar su solicitud con los métodos de autenticación [OAuth 2.0 App-Only](/es/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token).

Debe agregar sus claves y tokens, específicamente el [App Access Token](/es/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token) (también conocido como App-only Bearer Token) en Postman. Puede hacerlo seleccionando el entorno llamado "X API v2" en la esquina superior derecha de Postman y agregando sus claves y tokens en los campos "initial value" y "current value" (haciendo clic en el ícono de ojo junto al menú desplegable del entorno).

Esta variable se insertará automáticamente en la pestaña de autorización de la solicitud si lo ha hecho correctamente.
 

**Paso tres: Cree una consulta**

Cada solicitud de conteo de Publicaciones del archivo completo requiere una única [consulta](/es/x-api/posts/counts/integrate/build-a-query). Para este ejemplo, usaremos una consulta que coincida con Publicaciones publicadas por la cuenta @XDevelopers. Para esta consulta usamos el operador from y lo establecemos en XDevelopers (no distingue mayúsculas):

`from:XDevelopers`

En Postman, navegue a la pestaña "Params" e ingrese este ID, o una cadena de IDs de Publicación separadas por comas, en la columna "Value" del parámetro `ids`.
 

| Key | Value | Description |
| :--- | :--- | :--- |
| `query` | `from:XDevelopers` | Consulta que se enviará al endpoint de conteo de Publicaciones del archivo completo |

Step four (optional): Specify the granularity and time period

Si hace clic en el botón 'Send' después del paso tres, obtendrá el conteo de Publicaciones del archivo completo predeterminado: por hora durante los últimos 30 días. Si desea obtener conteo de Publicaciones del archivo completo por día, deberá agregar el parámetro granularity con el valor day. Si desea conteo de Publicaciones de hace más de 30 días, deberá especificar los parámetros start\_time y end\_time con los valores deseados. 

En Postman, navegue a la pestaña "Params" y agregue el siguiente par clave:valor a la tabla "Query Params":

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Description** |
| granularity | day | La granularidad para los resultados de conteo de Publicaciones. Los valores posibles son day, hour o minute |
| start\_time | 2021-05-01T00:00:00Z | La marca de tiempo UTC más antigua desde la cual se proporcionarán las Publicaciones |
| end\_time | 2021-06-01T00:00:00Z | La marca de tiempo UTC más reciente hasta la cual se proporcionarán las Publicaciones. |

Ahora debería ver la siguiente URL junto al botón "Send":

`https://api.x.com/2/tweets/counts/all?query=from%3AXDevelopers&start_time=2021-05-01T00:00:00Z&end_time=2021-06-01T00:00:00Z&granularity=day`

**Paso cinco: Haga su solicitud y revise su respuesta**

Una vez que tenga todo configurado, presione el botón "Send" y recibirá una respuesta similar a la siguiente:

```
{
   "data": [
       {
           "end": "2021-05-02T00:00:00.000Z",
           "start": "2021-05-01T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-03T00:00:00.000Z",
           "start": "2021-05-02T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-04T00:00:00.000Z",
           "start": "2021-05-03T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-05T00:00:00.000Z",
           "start": "2021-05-04T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-06T00:00:00.000Z",
           "start": "2021-05-05T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-07T00:00:00.000Z",
           "start": "2021-05-06T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-08T00:00:00.000Z",
           "start": "2021-05-07T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-09T00:00:00.000Z",
           "start": "2021-05-08T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-10T00:00:00.000Z",
           "start": "2021-05-09T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-11T00:00:00.000Z",
           "start": "2021-05-10T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-12T00:00:00.000Z",
           "start": "2021-05-11T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-13T00:00:00.000Z",
           "start": "2021-05-12T00:00:00.000Z",
           "tweet_count": 6
       },
       {
           "end": "2021-05-14T00:00:00.000Z",
           "start": "2021-05-13T00:00:00.000Z",
           "tweet_count": 1
       },
       {
           "end": "2021-05-15T00:00:00.000Z",
           "start": "2021-05-14T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-16T00:00:00.000Z",
           "start": "2021-05-15T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-17T00:00:00.000Z",
           "start": "2021-05-16T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-18T00:00:00.000Z",
           "start": "2021-05-17T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-19T00:00:00.000Z",
           "start": "2021-05-18T00:00:00.000Z",
           "tweet_count": 1
       },
       {
           "end": "2021-05-20T00:00:00.000Z",
           "start": "2021-05-19T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-21T00:00:00.000Z",
           "start": "2021-05-20T00:00:00.000Z",
           "tweet_count": 8
       },
       {
           "end": "2021-05-22T00:00:00.000Z",
           "start": "2021-05-21T00:00:00.000Z",
           "tweet_count": 1
       },
       {
           "end": "2021-05-23T00:00:00.000Z",
           "start": "2021-05-22T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-24T00:00:00.000Z",
           "start": "2021-05-23T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-25T00:00:00.000Z",
           "start": "2021-05-24T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-26T00:00:00.000Z",
           "start": "2021-05-25T00:00:00.000Z",
           "tweet_count": 1
       },
       {
           "end": "2021-05-27T00:00:00.000Z",
           "start": "2021-05-26T00:00:00.000Z",
           "tweet_count": 1
       },
       {
           "end": "2021-05-28T00:00:00.000Z",
           "start": "2021-05-27T00:00:00.000Z",
           "tweet_count": 1
       },
       {
           "end": "2021-05-29T00:00:00.000Z",
           "start": "2021-05-28T00:00:00.000Z",
           "tweet_count": 2
       },
       {
           "end": "2021-05-30T00:00:00.000Z",
           "start": "2021-05-29T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-31T00:00:00.000Z",
           "start": "2021-05-30T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-06-01T00:00:00.000Z",
           "start": "2021-05-31T00:00:00.000Z",
           "tweet_count": 0
       }
   ],
   "meta": {
       "total_tweet_count": 22
   }
}
```

**Paso seis: pagina por tus resultados**

Si el objeto ‘meta’ en tu respuesta también contiene next\_token, puedes pasar su valor al parámetro de consulta next\_token.

| Key | Value | Description |
| :--- | :--- | :--- |
| next\_token | Agregarás el next\_token que extraigas del objeto meta de tu solicitud anterior y lo colocarás aquí. | Si tu solicitud más reciente no devuelve el resto de los resultados, recibirás un next\_token en el objeto meta. Extraerás el valor de ese campo y lo usarás como valor del parámetro next\_token en tu siguiente solicitud, manteniendo constantes todos los demás parámetros de la solicitud. |

Una vez que hayas establecido el valor correcto para next\_token, haz clic en el botón "Send" y recibirás la página siguiente de resultados.