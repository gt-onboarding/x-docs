---
title: v1 a v2 (Enterprise)
sidebarTitle: v1 a v2 (Enterprise)
---

<div id="enterprise-compared-to-x-api-v2">
  ### Comparación entre Enterprise y la API de X v2
</div>

**Similitudes**

- Granularidad
- Paginación
- Zona horaria

**Diferencias**

- URL de endpoints
- Requisito de App y Proyecto
- Periodos de tiempo disponibles
- Formato de los datos de respuesta
- Métodos HTTP
- Formatos de hora en la solicitud
- Parámetros de la solicitud
- Operadores de filtrado

<div id="similarities">
  #### Similitudes
</div>

**Granularidad**

Aunque el parámetro para seleccionar la granularidad de los datos devueltos es diferente (`bucket` para la versión enterprise, `granularity` para la versión v2), los valores que se pueden pasar con ese parámetro son los mismos, al igual que el comportamiento predeterminado:

- `day`
- `hour` (predeterminado)
- `minute`

**Paginación**

Si bien v2 incorpora funciones adicionales de paginación (nuevos parámetros que permiten navegar usando IDs de publicaciones con `since_id` y `until_id`), tanto enterprise como v2 permiten paginar por tiempo (`fromDate` y `toDate` en enterprise, y `start_time` y `end_time` en v2).

Si usa la versión enterprise, utilizará el parámetro `next` para paginar; el campo del siguiente token se llama `next` y se encuentra en la raíz de la respuesta.

Si usa v2, puede usar los parámetros `next_token` o `pagination_token` para paginar; el siguiente token se encuentra en `meta.next_token` en la respuesta.
 

**Zona horaria**

Como se indicó en la sección de paginación, puede navegar por distintas páginas de datos usando el tiempo tanto en enterprise como en v2. En ambos casos, usará UTC como zona horaria al emplear estos parámetros.

<div id="differences">
  #### Diferencias
</div>

**URLs de endpoints**

- Endpoints de Enterprise:
  - 30 días - `http://gnip-api.x.com/search/30day/accounts/:account_name/:label/counts.json`
  - Archivo completo - `http://gnip-api.x.com/search/fullarchive/accounts/:account_name/:label/counts.json`
- Endpoints de la API de X v2
  - Reciente (7 días) - `https://api.x.com/2/tweets/counts/recent`
  - Archivo completo - `https://api.x.com/2/tweets/counts/all`

**Requisito de App y Proyecto**

Los endpoints de la API de X v2 requieren usar credenciales de una [App de desarrollador](/es/resources/fundamentals/developer-apps) asociada a un [Proyecto](/es/resources/fundamentals/developer-apps) al autenticar tus solicitudes. Todos los endpoints de la API de X v1.1 pueden usar credenciales de Apps independientes o Apps asociadas a un Proyecto.
 

**Períodos de tiempo disponibles**

Tanto la API de Enterprise como la API de X v2 ofrecen endpoints que te permiten recuperar datos de volumen de publicaciones para el archivo completo.

Sin embargo, la API de X v2 no ofrece un endpoint con un período de 30 días como sí lo hace la API de Enterprise. En su lugar, ofrece el mencionado archivo completo o un período de 7 días, que se alinean con los [endpoints de búsqueda de publicaciones v2](/es/x-api/posts/search/introduction).
 

**Formato de datos de la respuesta**

Existen algunas ligeras diferencias en el formato de los datos que recibirás a través de Enterprise y de la API de X v2:

- Los datos de conteo de Enterprise se encuentran dentro de un objeto `results`, mientras que los datos de conteo de v2 se encuentran dentro de un objeto `data`.
- Los campos de conteo de Enterprise se llaman `timePeriod` (hora de inicio) y `count`, mientras que v2 desglosa el período en campos `start` y `end` (que usan un formato de fecha/hora diferente al de Enterprise, explicado en los formatos de tiempo de la solicitud) y renombra el campo de conteo a `tweet_count`.
- Los metadatos de Enterprise incluyen `totalCount`, `next` y el objeto `requestParameters` en el nivel raíz. En cambio, v2 no incluye el objeto `requestParameters` y mueve/renombra lo siguiente dentro de un objeto `meta` que está en el nivel raíz: `total_tweet_count` y `next_token`.
   

**Métodos HTTP**

La versión Enterprise de la API te permite enviar la solicitud como un método HTTP POST con un cuerpo JSON o como un método HTTP GET con una cadena de consulta.

V2 solo permite usar el método HTTP GET con una cadena de consulta.
 

**Formatos de tiempo de la solicitud**

La versión Enterprise de este endpoint usa el siguiente formato de fecha/hora tanto en los parámetros de paginación como en el campo de respuesta `timePeriod`: `YYYYMMDDHHmm`

El endpoint de v2 usa el formato de fecha/hora ISO 8601/RFC 3339 tanto en los parámetros de paginación como en los campos de respuesta `start` y `end`: `YYYY-MM-DDTHH:mm:ssZ`

**Parámetros de la solicitud**

A continuación se muestra una tabla de los parámetros de la solicitud para Enterprise y la API de X v2:

| Enterprise | Búsqueda de publicaciones v2 |
| :--- | :--- |
| query | query |
| bucket | granularity |
| fromDate (YYMMDDHHmm) | start\_time (YYYY-MM-DDTHH:mm:ssZ) |
| toDate (YYMMDDHHmm) | end\_time (YYYY-MM-DDTHH:mm:ssZ) |
|     | since\_id |
|     | until\_id |
| next | next\_token and pagination\_token |

**Operadores de filtrado**

Si bien los operadores entre Enterprise y la API de X v2 son en su mayoría los mismos, existen algunas diferencias en su disponibilidad y se introdujeron algunos operadores nuevos solo en la versión de la API de X v2.

Para ver una tabla completa de los operadores disponibles para la API de X v2, Enterprise e incluso premium, visita la [página de migración de conteos de publicaciones](/es/x-api/posts/counts/migrate/overview).

<div id="api-reference-index">
  ## Índice de referencia de la API
</div>

Para consultar la referencia completa de la API, selecciona un endpoint de la siguiente lista.

<div id="recent-post-counts">
  ### Recuentos de publicaciones recientes
</div>

|     |     |
| :--- | :--- |
| **Obtenga el recuento de publicaciones que coinciden con una consulta en los últimos 7 días** | `[GET /2/tweets/counts/recent](/x-api/posts/tweet-counts#api-reference-index/get-tweets-counts-recent)` |

<div id="full-archive-post-counts">
  ### Recuento de publicaciones del archivo completo
</div>

Disponible solo para quienes tienen [acceso Pro y Enterprise](/es/x-api/getting-started/about-x-api)

|     |     |
| :--- | :--- |
| **Obtenga el recuento de publicaciones que coinciden con una consulta** | `[GET /2/tweets/counts/all](/x-api/posts/tweet-counts#api-reference-index/get-tweets-counts-all)` |