---
title: B√∫squeda de archivo completo
sidebarTitle: B√∫squeda de archivo completo
---

import { Button } from '/snippets/es/button.mdx';

<div id="getting-started-with-the-full-archive-search-endpoint">
  ## Introducci√≥n al endpoint de b√∫squeda de archivo completo
</div>

Esta gu√≠a de inicio r√°pido le ayudar√° a realizar su primera solicitud al endpoint de b√∫squeda de archivo completo con un conjunto de campos especificados usando Postman.

Si desea ver c√≥digo de ejemplo en diferentes lenguajes, visite nuestro repositorio de GitHub [C√≥digo de ejemplo de la API de X v2](https://github.com/xdevplatform/Twitter-API-v2-sample-code).

<Note>
  ### Requisitos previos

  El endpoint de b√∫squeda de archivo completo est√° disponible actualmente solo como parte del acceso Pro y Enterprise. Para usar este endpoint, debe actualizar al acceso Pro o [solicitar el nivel de acceso Enterprise](https://docs.google.com/forms/d/e/1FAIpQLScO3bczKWO2jFHyVZJUSEGfdyfFaqt2MvmOfl_aJp0KxMqtDA/viewform).

  Adem√°s de contar con la aprobaci√≥n de acceso, necesitar√° un conjunto de [claves y tokens](/es/resources/fundamentals/authentication) para autenticar su solicitud. Puede generarlos siguiendo estos pasos:

  - Vaya a su [Proyecto](/es/resources/fundamentals/projects) con acceso Enterprise o Pro en el portal para desarrolladores y aseg√∫rese de tener una [App de desarrollador](/es/resources/fundamentals/developer-apps) asociada dentro de ese Proyecto.

  - Vaya a la p√°gina ‚ÄúKeys and tokens‚Äù de su App para generar las credenciales necesarias. Aseg√∫rese de guardar todas las credenciales en un lugar seguro.
</Note>

<div id="steps-to-build-a-full-archive-search-request">
  ### Pasos para crear una solicitud de b√∫squeda de archivo completo
</div>

**Paso uno: Comience con una herramienta o biblioteca**

Existen varias herramientas, ejemplos de c√≥digo y bibliotecas que puede usar para realizar una solicitud a este endpoint, pero aqu√≠ usaremos la herramienta Postman para simplificar el proceso.

Para cargar la colecci√≥n de Postman de la API de X v2 en su entorno, haga clic en el siguiente bot√≥n:

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Agregar API de X v2 a Postman
</Button>

Una vez que tenga la colecci√≥n de la API de X v2 cargada en Postman, navegue a Search Posts > Full-archive search request.

**Paso dos: Autentique su solicitud**

Para realizar correctamente una solicitud a la API de X, debe verificar que tiene permiso. Para hacerlo con este endpoint, debe autenticar su solicitud con los m√©todos de autenticaci√≥n [OAuth 2.0 App-Only](/es/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token).

Debe agregar sus claves y tokens, espec√≠ficamente el [App Access Token](/es/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token) (tambi√©n conocido como App-only Bearer Token) a Postman. Puede hacerlo seleccionando el entorno llamado ‚ÄúX API v2‚Äù en la esquina superior derecha de Postman y agregando sus claves y tokens en los campos ‚Äúinitial value‚Äù y ‚Äúcurrent value‚Äù (haciendo clic en el √≠cono de ojo junto al men√∫ desplegable del entorno).

Esta variable se incorporar√° autom√°ticamente en la pesta√±a de autorizaci√≥n de la solicitud si lo ha hecho correctamente.
¬†

**Paso tres: Cree una consulta de b√∫squeda**

Cada b√∫squeda de archivo completo requiere una √∫nica consulta. Para este ejemplo, usaremos una consulta que coincida con las publicaciones realizadas por la cuenta @XDevelopers. Para esta consulta usamos el operador from y lo establecemos en XDevelopers (no distingue may√∫sculas y min√∫sculas):

`from:XDevelopers`

En Postman, navegue a la pesta√±a ‚ÄúParams‚Äù e ingrese este ID, o una cadena de IDs de publicaciones separadas por comas, en la columna ‚ÄúValue‚Äù del par√°metro `ids`.
¬†

| Key | Value | Description |
| :--- | :--- | :--- |
| `query` | `from:XDevelopers` | Consulta de b√∫squeda que se enviar√° al endpoint de b√∫squeda de archivo completo |

Paso cuatro: Identifique y especifique qu√© campos desea recuperar

Si hace clic en el bot√≥n ‚ÄúSend‚Äù despu√©s del paso tres, recibir√° los campos predeterminados del [objeto Post](/es/x-api/fundamentals/data-dictionary#tweet) en su respuesta: `id`, `text` y `edit_history_tweet_ids`. Tenga en cuenta que, si recibe publicaciones anteriores a la disponibilidad de la edici√≥n, no se proporcionar√° el campo `edit_history_tweet_ids`. No se realiz√≥ una carga hist√≥rica para este campo.¬†

Si desea recibir campos adicionales m√°s all√° de estos campos predeterminados, deber√° especificarlos en su solicitud con los par√°metros [field](/es/x-api/fundamentals/fields) y/o [expansion](/es/x-api/fundamentals/expansions).

Para este ejercicio, solicitaremos cuatro conjuntos diferentes de campos de distintos objetos:

1. Los campos predeterminados del objeto Post
2. El campo adicional tweet.created\_at en los objetos de publicaci√≥n principales
3. Los campos predeterminados del [objeto user](/es/x-api/fundamentals/data-dictionary#user) de los autores asociados para las publicaciones devueltas
4. El campo adicional user.description en los objetos de usuario asociados
   ¬†

En Postman, navegue a la pesta√±a ‚ÄúParams‚Äù y agregue el siguiente par clave:valor a la tabla ‚ÄúQuery Params‚Äù:

| Key | Value | Returned fields |
| :--- | :--- | :--- |
| `tweet.fields` | `created_at` | `tweets.created_at` |
| `expansions` | `author_id` | includes.users.id, includes.users.name, includes.users.username |
| user.fields | description | includes.users.description |

Ahora deber√≠a ver la siguiente URL junto al bot√≥n ‚ÄúSend‚Äù:

`https://api.x.com/2/tweets/search/all?query=from:XDevelopers&tweet.fields=created_at&expansions=author_id&user.fields=created_at`

<Note>
  **Tenga en cuenta**

  De forma predeterminada, solo se devolver√°n las 10 publicaciones m√°s recientes. Si desea m√°s de 10 publicaciones por solicitud, puede usar el par√°metro max\_results y establecerlo en un m√°ximo de 500 publicaciones por solicitud. De manera similar, de forma predeterminada se devolver√°n publicaciones de los √∫ltimos 30 d√≠as. Si desea obtener publicaciones de m√°s de 30 d√≠as, puede usar los par√°metros start\_time y end\_time en su llamada a la API.
</Note>

**Paso cinco: realiza tu solicitud y revisa la respuesta**

Una vez que tengas todo configurado, haz clic en el bot√≥n "Send" y recibir√°s una respuesta similar a la siguiente:

```
{
   "data": [
       {
           "author_id": "2244994945",
           "created_at": "2020-06-11T16:05:06.000Z",
           "id": "1271111223220809728",
           "text": "Tune in tonight and watch as @jessicagarson takes us through running your favorite Python package in R. üçø\n\nLearn how to use two powerful programming languages for data science together, and see a live example that uses the recent search endpoint from Twitter‚Äôs Developer Labs. https://t.co/v178oUZNuj"
       },
       {
           "author_id": "2244994945",
           "created_at": "2020-06-10T19:25:24.000Z",
           "id": "1270799243071062016",
           "text": "As we work towards building the new Twitter API, we‚Äôve extended the deprecation timeline for several Labs v1 endpoints. Learn more üìñ https://t.co/rRWaJYJgKk"
       },
       {
           "author_id": "2244994945",
           "created_at": "2020-06-09T18:08:47.000Z",
           "id": "1270417572001976322",
           "text": "Annotations help you learn more about a Tweet ‚Äî they can even help you find topics of interest. üî¨\n\nIn this tutorial, @suhemparack shows us how find Tweets related to COVID-19 using annotations + the filtered stream endpoint.\n\nLearn how you can, too. ‚§µÔ∏è\nhttps://t.co/qwVOgw0zSV"
       }
   ],
   "includes": {
       "users": [
           {
               "description": "The voice of Twitter's #DevRel team, and your official source for updates, news, & events about Twitter's API. \n\n#BlackLivesMatter",
               "id": "2244994945",
               "name": "Twitter Dev",
               "username": "TwitterDev"
           }
       ]
   },
   "meta": {
       "newest_id": "1271111223220809728",
       "oldest_id": "1270417572001976322",
       "result_count": 3
   }
}
```

En este ejemplo, usamos una consulta muy simple. Si deseas ver gu√≠as m√°s detalladas, visita los recursos que se enumeran a continuaci√≥n.

**Pr√≥ximos pasos**

[Personaliza tu solicitud usando la Referencia de la API](/es/x-api/posts/full-archive-search)

[Consulta la lista completa de operadores de consulta](/es/x-api/posts/search/integrate/build-a-query "See a full list of query operators")

[Usa c√≥digo de ejemplo para estos endpoints](https://github.com/xdevplatform/Twitter-API-v2-sample-code "Use sample code for these endpoints")