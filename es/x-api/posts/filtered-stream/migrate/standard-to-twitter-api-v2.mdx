---
title: de v1 a v2
sidebarTitle: de v1 a v2
---

<div id="standard-v11-compared-to-x-api-v2">
  ### Comparación entre Standard v1.1 y API de X v2
</div>

Si has estado trabajando con el endpoint v1.1 [statuses/filter](https://developer.x.com/en/docs/x-api/v1/tweets/filter-realtime/api-reference/post-statuses-filter), esta guía puede ayudarte a entender las similitudes y diferencias entre los endpoints de flujo filtrado de Standard y de la API de X v2.

- **Similitudes**
  - Parámetros de solicitud y operadores
  - Compatibilidad con el historial de edición de publicaciones y metadatos
- **Diferencias**
  - URL de los endpoints
  - Requisito de App y Proyecto
  - Método de autenticación
  - Volumen de reglas y flujo persistente
  - Formato de los datos de respuesta
  - Parámetros de solicitud
  - Disponibilidad de funciones de recuperación y redundancia
  - Operadores de consulta

<div id="similarities">
  #### Similitudes
</div>

**Parámetros de solicitud y operadores**

El endpoint estándar statuses/filter de v1.1 incluye algunos parámetros que pueden pasarse junto con la solicitud para filtrar el flujo. Con el flujo filtrado de v2, en su lugar se utiliza un conjunto de [operadores](/es/x-api/posts/filtered-stream#building-rules-for-filtered-stream) que pueden conectarse mediante lógica booleana para filtrar las Publicaciones deseadas. Los operadores disponibles incluyen algunos que sustituyen directamente a los parámetros estándar existentes de v1.1. 

Los siguientes parámetros de solicitud estándar de v1.1 tienen operadores equivalentes en la API de X v2:
 

| **Estándar** | **API de X v2** |
| :--- | :--- |
| follow - Una lista de IDs de usuario separada por comas, que indica los usuarios cuyas Publicaciones deben entregarse en el flujo. | Varios operadores que pueden ayudarte a encontrar Publicaciones relacionadas con usuarios específicos:<br /><br />\* @<br />\* from:<br />\* to:<br />\* etc. |
| track - Una lista de frases separadas por comas que se usarán para determinar qué Publicaciones se entregarán en el flujo. | Varios operadores que pueden ayudarte a encontrar Publicaciones relacionadas con palabras clave específicas:<br /><br />\* keyword<br />\* "exact phrase match"<br />\* #<br />\* etc. |

**Compatibilidad con el historial de edición de la Publicación y metadatos**

Ambas versiones proporcionan metadatos que describen cualquier historial de edición. Consulta las [Referencias de la API de flujo filtrado](/es/x-api/posts/filtered-stream#api-reference-index) y la [página de fundamentos de ediciones de Publicaciones](/es/x-api/fundamentals/edit-posts) para obtener más detalles. 

<div id="differences">
  #### Diferencias
</div>

**URLs de endpoints**

- Endpoints estándar v1.1:
  - https://stream.x.com/1.1/statuses/filter.json
- Endpoint de la API de X v2:
  - https://api.x.com/2/tweets/search/stream
  - https://api.x.com/2/tweets/search/stream/rule

**Requisitos de App y Proyecto**

Los endpoints de la API de X v2 requieren que uses credenciales de una [App de desarrollador](/es/resources/fundamentals/developer-apps) asociada a un [Proyecto](/es/resources/fundamentals/projects) al autenticar tus solicitudes. Todos los endpoints de la API de X v1.1 pueden usar credenciales de Apps independientes o de Apps asociadas a un Proyecto.

**Método de autenticación**

El endpoint estándar admite [OAuth 1.0a User Context](/es/resources/fundamentals/authentication), mientras que los endpoints de flujo filtrado de la API de X v2 admiten [OAuth 2.0 App-Only](/es/resources/fundamentals/authentication#oauth-2-0) (también conocido como autenticación de solo aplicación). Para realizar solicitudes a la versión de la API de X v2 debes usar un App Access Token para autenticar tus solicitudes.

Si ya no tienes el App Access Token que se te mostró cuando creaste tu Proyecto y App en el portal de desarrolladores, puedes generar uno nuevo desde la página “Keys and tokens” de tu App en el portal de desarrolladores. Si deseas generar un App Access Token de forma programática, consulta esta [guía de OAuth 2.0 App-Only](/es/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token).

**Volumen de reglas y flujo persistente**

El endpoint estándar v1.1 admite una única regla para filtrar la conexión de streaming. Para cambiar la regla, debes desconectar el flujo y enviar una nueva solicitud con las reglas de filtrado revisadas como parámetros.

El endpoint de flujo filtrado de la API de X v2 te permite aplicar múltiples reglas a un solo flujo y agregar o eliminar reglas en tu flujo mientras mantienes la conexión.

**Formato de datos de respuesta**

Una de las mayores diferencias entre las versiones de endpoints estándar v1.1 y API de X v2 es cómo seleccionas qué campos se devuelven en tu payload.

En los endpoints estándar, recibes muchos de los campos de respuesta de forma predeterminada y luego tienes la opción de usar parámetros para identificar qué campos o conjuntos de campos deberían devolverse en el payload.

La versión de la API de X v2 solo entrega de forma predeterminada los campos id y text de la Publicación. Para solicitar campos u objetos adicionales, necesitas usar los parámetros [fields](/es/x-api/fundamentals/fields) y [expansions](/es/x-api/fundamentals/expansions). Cualquier campo de Publicación que solicites desde estos endpoints se devolverá en el objeto principal de la Publicación. Cualquier objeto y campo de usuario, medio, encuesta o lugar expandido se devolverá en un objeto includes dentro de tu respuesta. Luego puedes correlacionar cualquier objeto expandido con el objeto Publicación haciendo coincidir los ID presentes tanto en la Publicación como en el objeto expandido.

Te recomendamos leer más sobre estos nuevos parámetros en sus respectivas guías o en nuestra guía sobre [cómo usar fields y expansions](/es/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions).

También hemos preparado una [guía de migración de formato de datos](/es/x-api/migrate/data-format-migration#migrating-from-standard-v1-1s-data-format-to-v2) que puede ayudarte a mapear campos estándar de v1.1 a los campos más nuevos de v2. Esta guía también te proporcionará el parámetro específico de expansión y de campo que necesitas pasar con tu solicitud v2 para devolver campos específicos.

Además de los cambios en cómo solicitas ciertos campos, la API de X v2 también introduce nuevos diseños JSON para los objetos que devuelven las APIs, incluidos los objetos de Publicación y de [usuario](/es/x-api/fundamentals/data-dictionary#user).

- En el nivel raíz de JSON, los endpoints estándar devuelven objetos de Publicación en un arreglo statuses, mientras que la API de X v2 devuelve un arreglo data.
- En lugar de referirse a "statuses" Retweeted y Quoted, el JSON de la API de X v2 se refiere a Tweets Retweeted y Quoted. Muchos campos heredados y obsoletos, como contributors y user.translator\_type, se están eliminando.
- En lugar de usar tanto favorites (en el objeto de Publicación) como favourites (en el objeto de usuario), la API de X v2 usa el término like.
- X adopta la convención de que los valores JSON sin valor (por ejemplo, null) no se escriben en el payload. Los atributos de Publicación y usuario solo se incluyen si tienen valores no nulos.

También introdujimos un nuevo conjunto de campos en el [objeto Publicación](/es/x-api/fundamentals/data-dictionary#tweet), incluidos los siguientes:

- Un campo [conversation\_id](/es/x-api/fundamentals/conversation-id)
- Dos campos nuevos de [annotations](/es/x-api/fundamentals/post-annotations), incluidos context y entities
- Varios campos nuevos de [metrics](/es/x-api/fundamentals/metrics)
- Un nuevo campo reply\_setting, que muestra quién puede responder a una Publicación determinada

**Parámetros de la solicitud**

También hay un conjunto de parámetros estándar del flujo filtrado de la solicitud que **no** son compatibles en la API de X v2:

| Parámetro estándar v1.1 | Detalles |
| :--- | :--- |
| locations - Una lista separada por comas de pares longitud,latitud que especifican un conjunto de cuadros delimitadores para filtrar Publicaciones. | Aún no hemos publicado operadores basados en ubicación para la API de X v2. |
| Delimited | Con el endpoint v1.1, establecerlo a la longitud de la cadena indica que las publicaciones deben delimitarse en el flujo, de modo que los clientes sepan cuántos bytes leer antes del final del mensaje.<br /><br />Esta funcionalidad no está disponible en la API de X v2. |
| Stall\_warnings | Con el endpoint v1.1, establecer este parámetro en true hará que se entreguen mensajes periódicos si el cliente corre peligro de desconectarse. <br /><br />Con la API de X v2, las advertencias de bloqueo se envían de forma predeterminada con una nueva línea enviada cada cierto tiempo. |

**Disponibilidad de funciones de recuperación y redundancia**

La versión de flujo filtrado de la API de X v2 introduce funciones de recuperación y redundancia que pueden ayudarle a maximizar el tiempo de actividad de la transmisión, así como a recuperar cualquier Publicación que pueda haberse perdido debido a una desconexión que haya durado cinco minutos o menos.

Las conexiones redundantes le permiten conectarse a un flujo determinado hasta dos veces, lo que puede ayudar a garantizar que mantenga una conexión con el flujo en todo momento, incluso si una de sus conexiones falla. 

El parámetro backfill\_minutes se puede utilizar para recuperar hasta cinco minutos de datos perdidos. 

Ambas funciones solo están disponibles mediante [Acceso para investigación académica](/es/x-api/getting-started/about-x-api). Puede obtener más información sobre esta funcionalidad en nuestra guía de integración de [funciones de recuperación y redundancia](/es/x-api/posts/filtered-stream#filtered-stream-recovery-and-redundancy-features). 

**Nuevos operadores de consulta**

La API de X v2 introduce nuevos operadores para dos funciones nuevas: 

- **[Conversation IDs](/es/x-api/fundamentals/conversation-id)** - A medida que se desarrollan las conversaciones en X, habrá un ID de conversación disponible para marcar las Publicaciones que formen parte de la conversación. Todas las Publicaciones de la conversación tendrán su conversation\_id establecido en el ID de la Publicación que la inició. 
  - conversation\_id:
- **[X Annotations](/es/x-api/fundamentals/post-annotations)** proporcionan información contextual sobre las Publicaciones e incluyen anotaciones de entity y context. Las entities se componen de personas, lugares, productos y organizaciones. Los contexts son dominios o temas de los que forman parte las entidades detectadas. Por ejemplo, las personas mencionadas en una Publicación pueden tener un contexto que indique si son atletas, actores o políticos.  
  - context: - coincide con Publicaciones que han sido anotadas con un contexto de interés. 
  - entity: - coincide con Publicaciones que han sido anotadas con una entidad de interés. 