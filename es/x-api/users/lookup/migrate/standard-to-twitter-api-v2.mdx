---
title: de v1 a v2
sidebarTitle: de v1 a v2
---

import { Button } from '/snippets/es/button.mdx';

<div id="standard-v11-compared-to-x-api-v2">
  ### Comparación entre Standard v1.1 y API de X v2
</div>

Si has estado trabajando con los endpoints estándar v1.1 GET users/show y GET users/lookup, el objetivo de esta guía es ayudarte a comprender las similitudes y diferencias entre los endpoints de consulta de usuarios estándar y de la API de X v2.

- **Similitudes**
  - Contexto de usuario con OAuth 1.0a
  - Límite de usuarios por solicitud
- **Diferencias**
  - URL de los endpoints
  - Requisitos de App y Proyecto
  - Formato de los datos de respuesta
  - Parámetros de la solicitud

<div id="similarities">
  #### Similitudes
</div>

**Método de autenticación OAuth 1.0a User Context**

El endpoint estándar admite [OAuth 1.0a User Context](/es/resources/fundamentals/authentication#oauth-1-0a-2), mientras que los nuevos endpoints de consulta de usuarios de la API de X v2 admiten tanto OAuth 1.0a User Context como [App only](/es/resources/fundamentals/authentication#oauth-2-0). Por lo tanto, si antes utilizabas uno de los endpoints estándar de v1.1 para la consulta de usuarios, puedes seguir usando el mismo método de autenticación si migras a la versión de la API de X v2.

Según la biblioteca o paquete de autenticación que utilices, la autenticación App only probablemente sea la manera más sencilla de empezar y se puede configurar con un encabezado de solicitud simple. Para aprender a generar un App only Access Token, consulta [esta guía de App only](/es/resources/fundamentals/authentication#bearer-token-also-known-as-app-only).

**Límites de usuarios por solicitud**

El endpoint estándar v1.1 GET users/lookup permite especificar 100 usuarios por solicitud. Esto también aplica a los endpoints GET /users y GET /users/by. Para especificar 100 usuarios completos, deberás pasar el parámetro ids (GET /users) o el parámetro username (GET /users/by) como parámetro de consulta e incluir la lista de ID de usuario/nombres de usuario en una lista separada por comas. 
 

<div id="differences">
  #### Diferencias
</div>

**URLs de endpoints**

- Endpoints estándar v1.1:
  - https://api.x.com/1.1/users/show (búsqueda por un solo ID o nombre de usuario)
  - https://api.x.com/1.1/users/lookup (búsqueda por múltiples IDs o nombres de usuario)
- Endpoints de la API de X v2:
  - https://api.x.com/2/users (búsqueda por múltiples IDs)
  - https://api.x.com/2/users/:id (búsqueda por un solo ID)
  - https://api.x.com/2/users/by (búsqueda por múltiples nombres de usuario)
  - https://api.x.com/2/users/by/username/:username (búsqueda por un solo nombre de usuario)

**Requisitos de App y Proyecto**

Los endpoints de la API de X v2 requieren que utilices credenciales de una [App de desarrollador](/es/resources/fundamentals/developer-apps) asociada a un [Proyecto](/es/resources/fundamentals/projects) al autenticar tus solicitudes. Todos los endpoints de la API de X v1.1 pueden usar credenciales de Apps independientes o de Apps asociadas a un proyecto.

**Formato de datos de respuesta**

Una de las mayores diferencias entre los endpoints estándar v1.1 y los de la API de X v2 es cómo seleccionas qué campos se devuelven en la carga útil.

En los endpoints estándar, recibes muchos campos de respuesta de forma predeterminada y luego tienes la opción de usar parámetros para indicar qué campos o conjuntos de campos deben incluirse en la carga útil.

La API de X v2 solo entrega de forma predeterminada los campos id de usuario, name y username. Para solicitar campos u objetos adicionales, necesitarás usar los parámetros [fields](/es/x-api/fundamentals/fields) y [expansions](/es/x-api/fundamentals/expansions). Cualquier campo de usuario que solicites desde este endpoint se devolverá en el objeto de usuario principal. Cualquier objeto de Post y campos expandidos se devolverán en un objeto includes dentro de tu respuesta. Luego puedes hacer coincidir cualquier objeto expandido con el objeto de usuario comparando los IDs presentes tanto en el usuario como en el objeto de Post expandido.

Te recomendamos leer más sobre estos parámetros en sus guías respectivas, o consultar nuestra guía sobre [cómo usar fields y expansions](/es/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions).

También hemos preparado una [guía de migración de formato de datos](/es/x-api/migrate/data-format-migration#migrating-from-standard-v1-1s-data-format-to-v2) que puede ayudarte a mapear los campos estándar de v1.1 a los campos más recientes de v2. Esta guía también te proporcionará el parámetro específico de expansión y de campo que tendrás que incluir en tu solicitud v2 para devolver campos concretos.

Además de los cambios en cómo solicitas ciertos campos, la API de X v2 también introduce nuevos diseños JSON para los objetos devueltos por las APIs, incluidos los objetos [Post](/es/x-api/fundamentals/data-dictionary#tweet) y [user](/es/x-api/fundamentals/data-dictionary#user).

- En el nivel raíz de JSON, los endpoints estándar devuelven objetos Post en un arreglo statuses, mientras que la API de X v2 devuelve un arreglo data.
- En lugar de referirse a “statuses” Retweeted y Quoted, el JSON de la API de X v2 se refiere a Tweets Retweeted y Quoted. Muchos campos heredados y obsoletos, como contributors y user.translator\_type, se están eliminando.
- En lugar de usar tanto favorites (en el objeto Post) como favourites (en el objeto user), la API de X v2 utiliza el término like.
- X adopta la convención de que los valores JSON sin valor (por ejemplo, null) no se escriben en la carga útil. Los atributos de Post y user solo se incluyen si tienen valores no nulos.

También hemos incorporado un nuevo conjunto de campos al [objeto Post](/es/x-api/fundamentals/data-dictionary#tweet), incluidos los siguientes:

- Un campo [conversation\_id](/es/x-api/fundamentals/conversation-id)
- Dos nuevos campos de [annotations](/es/x-api/fundamentals/post-annotations), incluidos context y entities
- Varios campos nuevos de [metrics](/es/x-api/fundamentals/metrics)
- Un nuevo campo reply\_setting, que indica quién puede responder a una determinada publicación

**Parámetros de solicitud**

Los siguientes parámetros de solicitud estándar v1.1 tienen equivalentes en la API de X v2:

|     |     |
| :--- | :--- |
| **Estándar** | **API de X v2** |
| user\_id | ids |
| screen\_name | username |

También hay un conjunto de parámetros estándar de búsqueda de usuarios que **no** son compatibles en la API de X v2:

| Estándar | Comentario |
| :--- | :--- |
| include\_entities | Este parámetro se usa para eliminar el nodo entities del payload de la publicación. Se ha sustituido por la funcionalidad de campos y expansiones aditivas. |