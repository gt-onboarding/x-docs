---
title: Consulta de usuarios
sidebarTitle: Consulta de usuarios
---

import { Button } from '/snippets/es/button.mdx';

<div id="getting-started-with-the-users-lookup-endpoints">
  ## Introducción a los endpoints de consulta de usuarios
</div>

Esta guía de inicio rápido le ayudará a realizar su primera solicitud a los endpoints de consulta de usuarios con un conjunto de campos especificados utilizando [Postman](/es/tutorials/postman-getting-started).

Si desea ver código de ejemplo en distintos lenguajes, visite nuestro repositorio de GitHub [Código de ejemplo de la API de X v2](https://github.com/xdevplatform/Twitter-API-v2-sample-code).

<Note>
  ### Prerrequisitos

  Para completar esta guía, necesitará un conjunto de [claves y tokens](/es/resources/fundamentals/authentication) para autenticar su solicitud. Puede generar estas claves y tokens siguiendo estos pasos:

  - [Regístrese para obtener una cuenta de desarrollador](https://developer.x.com/en/apply-for-access) y reciba la aprobación.
  - Cree un [Proyecto](/es/resources/fundamentals/projects) y una [App de desarrollador](/es/resources/fundamentals/developer-apps) asociada en el portal de desarrolladores.
  - Vaya a la página “Keys and tokens” de su App para generar las credenciales necesarias. Asegúrese de guardar todas las credenciales en un lugar seguro.
</Note>

<div id="steps-to-build-a-users-lookup-request">
  ### Pasos para construir una solicitud de búsqueda de usuarios
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### Paso uno: Comience con una herramienta o biblioteca
</div>

Existen varias herramientas, ejemplos de código y bibliotecas que puede usar para realizar una solicitud a este endpoint, pero aquí utilizaremos la herramienta Postman para simplificar el proceso.

Para cargar la colección de la API de X v2 en su entorno de Postman, haga clic en el siguiente botón:

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Agregar API de X v2 a Postman
</Button>

Una vez que tenga cargada la colección de la API de X v2 en Postman, vaya al endpoint GET /users/by.
 

<div id="step-two-authenticate-your-request">
  #### Paso dos: autentica tu solicitud
</div>

Para realizar correctamente una solicitud a la API de X, debes verificar que tienes permiso. Para ello, este endpoint requiere que autentiques tu solicitud con [App only](/es/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token), [OAuth 2.0 Authorization Code con PKCE](es/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) o [OAuth 1.0a User Context](/es/resources/fundamentals/authentication).

Para simplificar, usaremos App only en esta solicitud, pero deberás utilizar uno de los otros métodos de autenticación si deseas solicitar [métricas](/es/x-api/fundamentals/metrics) o usuarios privados.

Para utilizar App only, debes agregar tus claves y tokens, específicamente el [App Access Token](/es/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token) (también conocido como el App only Bearer Token), en Postman. Puedes hacerlo seleccionando el entorno llamado “API de X v2” en la esquina superior derecha de Postman y agregando tus claves y tokens en los campos “initial value” y “current value” (haciendo clic en el icono de ojo junto al menú desplegable de entornos).

Estas variables se incorporarán automáticamente en la pestaña de autorización de la solicitud si lo has hecho correctamente.
 

<div id="step-three-identify-and-specify-which-users-you-would-like-to-retrieve">
  #### Paso tres: Identifica y especifica qué usuario(s) deseas recuperar
</div>

Debes especificar un usuario o un conjunto de usuarios que deseas incluir en la solicitud. Según el endpoint de usuarios que utilices, puedes pasar un ID de usuario o un nombre de usuario. En este caso, usaremos el [endpoint GET /users/by](/es/x-api/users/user-lookup-by-usernames), que te permite pasar varios nombres de usuario en una sola solicitud (en lugar de los endpoints de [ID único](/es/x-api/users/user-lookup-by-id), [IDs múltiples](/es/x-api/users/user-lookup-by-ids) y [nombre de usuario único](/es/x-api/users/user-lookup-by-username)), y enviar un conjunto de nombres de usuario mediante el parámetro de consulta usernames.

Los nombres de usuario son simplemente el handle de la cuenta que puedes encontrar en la URL del perfil. Por ejemplo, el nombre de usuario de la siguiente cuenta es XDevelopers.

`https://x.com/XDevelopers`

En Postman, ve a la pestaña "Params" e introduce este nombre de usuario, o una cadena de nombres de usuario separados por comas, en la columna "Value" del parámetro username, asegurándote de no incluir espacios entre los nombres de usuario y las comas.

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `username` | XDevelopers,API,adsapi |

<div id="step-four-identify-and-specify-which-fields-you-would-like-to-retrieve">
  #### Paso cuatro: Identifique y especifique qué campos desea recuperar
</div>

Si hace clic en el botón “Send” después del paso tres, recibirá en su respuesta los campos predeterminados del [objeto de usuario](/es/x-api/fundamentals/data-dictionary#user): id, name y username.

Si desea recibir campos adicionales más allá de id, name y username, deberá especificarlos en su solicitud con los parámetros [field](/es/x-api/fundamentals/fields) y/o [expansion](/es/x-api/fundamentals/expansions).

Para este ejercicio, solicitaremos tres conjuntos adicionales de campos de distintos objetos:

1. El campo adicional user.created\_at en los objetos de usuario principales.
2. Los campos predeterminados del objeto de publicaciones fijadas asociadas para los usuarios devueltos: id y text.
3. El campo adicional tweet.created\_at en los objetos de publicación asociados.
    

En Postman, vaya a la pestaña “Params” y agregue el siguiente par clave:valor a la tabla “Query Params”:

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Returned fields** |
| `user.fields` | `created_at` | `user.created_at` |
| `expansions` | `author_id` | tweet.id, tweet.text |
| `tweet.fields` | `created_at` | `includes.users.created_at` |

Ahora debería ver la siguiente URL junto al botón “Send”:

```
      https://api.x.com/2/users/by?usernames=twitterdev,twitterapi,adsapi&user.fields=created_at&expansions=pinned_tweet_id&tweet.fields=author_id,created_at
```

<div id="step-five-make-your-request-and-review-your-response">
  #### Paso cinco: realiza tu solicitud y revisa la respuesta
</div>

Una vez que tengas todo configurado, haz clic en el botón "Send" y recibirás la siguiente respuesta:

```
{
  "data": [
    {
      "created_at": "2013-12-14T04:35:55.000Z",
      "id": "2244994945",
      "name": "Twitter Dev",
      "pinned_tweet_id": "1255542774432063488",
      "username": "TwitterDev"
    },
    {
      "created_at": "2007-05-23T06:01:13.000Z",
      "id": "6253282",
      "name": "Twitter API",
      "username": "TwitterAPI"
    },
    {
      "created_at": "2013-02-27T20:01:12.000Z",
      "id": "1225933934",
      "name": "Twitter Ads API",
      "username": "AdsAPI"
    }
  ],
  "includes": {
    "tweets": [
      {
        "author_id": "2244994945",
        "created_at": "2020-04-29T17:01:38.000Z",
        "id": "1255542774432063488",
        "text": "During these unprecedented times, what’s happening on Twitter can help the world better understand &amp; respond to the pandemic. \n\nWe're launching a free COVID-19 stream endpoint so qualified devs &amp; researchers can study the public conversation in real-time. https://t.co/BPqMcQzhId"
      }
    ]
  }
}
```