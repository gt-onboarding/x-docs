---
title: Expansiones
---

Con las expansiones, los desarrolladores pueden ampliar objetos referenciados en la carga útil. Los objetos disponibles para expansión se referencian por ID. Por ejemplo, los campos `referenced_tweets.id` y `author_id` devueltos en la carga útil de [Posts lookup](/es/x-api/posts/lookup/introduction) se pueden ampliar a objetos completos. Si desea solicitar campos relacionados con el usuario que publicó esa publicación, o con el contenido multimedia, la encuesta o el lugar incluidos en esa publicación, deberá pasar el parámetro de consulta de expansión correspondiente en su solicitud para recibir esos datos en la respuesta. Actualmente, los endpoints de v2 que devuelven publicaciones, usuarios, listas, Spaces y eventos de Mensajes Directos admiten expansiones (vea los ejemplos a continuación).

Al incluir una expansión en su solicitud, incluiremos los campos predeterminados de ese objeto ampliado dentro de la misma respuesta. Esto permite devolver datos adicionales en la misma respuesta sin necesidad de solicitudes por separado. Si desea solicitar [campos](/es/x-api/fundamentals/fields) adicionales relacionados con el objeto ampliado, puede incluir el parámetro de campos asociado a ese objeto, junto con una lista de campos separados por comas que desea recibir en la respuesta. Tenga en cuenta que los campos no siempre se devuelven en el mismo orden en que se solicitaron en la consulta.

La carga útil de la publicación siguiente contiene IDs de referencia para objetos complementarios que podemos ampliar, incluido el `author_id` de quien publicó la publicación, el `id` de una publicación _referenciada_ y un `media_key` de un archivo multimedia adjunto.

```json
{
    "data": {
        "attachments": {
            "media_keys": ["16_1211797899316740096"]
        },
        "author_id": "2244994945",
        "id": "1212092628029698048",
        "referenced_tweets": [
            {
                "type": "replied_to",
                "id": "1212092627178287104"
            }
        ],
        "text": "We believe the best future version of our API will come from building it with YOU. Here’s to another great year with everyone who builds on the Twitter platform. We can’t wait to continue working with you in the new year. https://t.co/yvxdK6aOo2"
    }
}
```

<div id="available-expansions-for-post-payloads">
  ### Expansiones disponibles para cargas útiles de publicaciones
</div>

| Expansión                      | Descripción                                                                        |
|:--------------------------------|:------------------------------------------------------------------------------------|
| `author_id`                    | Devuelve un objeto de usuario que representa al autor de la publicación            |
| `referenced_tweets.id`         | Devuelve un objeto de publicación al que esta publicación hace referencia (ya sea como Retuit, tuit citado o respuesta) |
| `edit_history_tweet_ids`       | Devuelve objetos de publicación que forman parte del historial de ediciones de una publicación |
| `in_reply_to_user_id`          | Devuelve un objeto de usuario que representa al autor de la publicación a la que responde esta publicación solicitada |
| `attachments.media_keys`       | Devuelve un objeto de medio que representa las imágenes, videos y GIF incluidos en la publicación |
| `attachments.poll_ids`         | Devuelve un objeto de encuesta que contiene metadatos de la encuesta incluida en la publicación |
| `geo.place_id`                 | Devuelve un objeto de lugar que contiene metadatos de la ubicación etiquetada en la publicación |
| `entities.mentions.username`   | Devuelve un objeto de usuario del usuario mencionado en la publicación            |
| `referenced_tweets.id.author_id` | Devuelve un objeto de usuario del autor de la publicación referenciada           |

<div id="available-expansion-for-user-payloads">
  ### Expansiones disponibles para cargas útiles de usuario
</div>

| Expansión          | Descripción                                               |
|:--------------------|:-----------------------------------------------------------|
| `pinned_tweet_id`  | Devuelve un objeto Post que representa la publicación fijada en la parte superior del perfil del usuario |

<div id="available-expansions-for-direct-message-event-payloads">
  ### Expansiones disponibles para cargas útiles de eventos de Mensaje Directo
</div>

| Expansion                | Descripción                                                              |
|:--------------------------|:--------------------------------------------------------------------------|
| `attachments.media_keys` | Devuelve un objeto Media adjunto a un Mensaje Directo                    |
| `referenced_tweets.id`   | Devuelve un objeto Post referido en un Mensaje Directo                   |
| `sender_id`              | Devuelve un objeto User que representa al autor de un Mensaje Directo y a quien invitó a un participante a unirse a una conversación |
| `participant_ids`        | Devuelve un objeto User que representa a un participante que se unió o abandonó una conversación |

<div id="available-expansions-for-spaces-payloads">
  ### Expansiones disponibles para cargas útiles de Spaces
</div>

| Expansion          | Descripción                                               |
|:--------------------|:-----------------------------------------------------------|
| `invited_user_ids` | Devuelve objetos User que representan las cuentas que fueron invitadas |
| `speaker_ids`      | Devuelve objetos User que representan las cuentas que hablaron durante un Space |
| `creator_id`       | Devuelve un objeto User que representa la cuenta que creó el Space |
| `host_ids`         | Devuelve objetos User que representan las cuentas que se configuraron como anfitrionas |
| `topics_ids`       | Devuelve descripciones de temas que fueron configuradas por el creador |

<div id="available-expansion-for-lists-payloads">
  ### Expansiones disponibles para las cargas útiles de Listas
</div>

| Expansión   | Descripción                                                    |
|:-------------|:----------------------------------------------------------------|
| `owner_id`  | Devuelve un objeto de Usuario que representa la cuenta que creó y mantiene la Lista |

<div id="expanding-the-media-object">
  ## Ampliación del objeto de medios
</div>

En la siguiente solicitud, pedimos la expansión de `geo.place_id` para incluirla junto con los campos predeterminados de la publicación:

**Solicitud de ejemplo**

```
{`curl 'https://api.x.com/2/tweets/:ID?expansions=geo.place_id' --header 'Authorization: Bearer $ACCESS_TOKEN'`}
```

**Respuesta de ejemplo**

```
{`{
  "data": {
      "geo": {
          "place_id": "01a9a39529b27f36"
      },
      "id": "ID",
      "text": "Test"
  },
  "includes": {
      "places": [
          {
              "full_name": "Manhattan, NY",
              "id": "01a9a39529b27f36"
          }
      ]
  }
}`}

```

<div id="expanding-the-poll-object">
  ## Ampliación del objeto Poll
</div>

En la siguiente solicitud, pedimos la expansión `attachments.poll_ids` para incluirla junto con los campos predeterminados de la publicación:

**Solicitud de ejemplo**

<CodeBlock language="bash">
  {`curl 'https://api.x.com/2/tweets/1199786642791452673?expansions=attachments.poll_ids' --header 'Authorization: Bearer $ACCESS_TOKEN'`}
</CodeBlock>

**Respuesta de ejemplo**

```
{`{
  "data": {
      "attachments": {
          "poll_ids": ["1199786642468413448"]
      },
      "id": "1199786642791452673",
      "text": "C#"
  },
  "includes": {
      "polls": [
          {
              "id": "1199786642468413448",
              "options": [
                  {
                      "position": 1,
                      "label": "“C Sharp”",
                      "votes": 795
                  },
                  {
                      "position": 2,
                      "label": "“C Hashtag”",
                      "votes": 156
                  }
              ]
          }
      ]
  }
}`}
```

<div id="expanding-the-place-object">
  ## Ampliar el objeto Place
</div>

En la siguiente solicitud, pedimos la expansión de `geo.place_id` para incluirla junto con los campos predeterminados de la publicación:

**Solicitud de ejemplo**

<CodeBlock language="bash">
  {`curl 'https://api.x.com/2/tweets/:ID?expansions=geo.place_id' --header 'Authorization: Bearer $ACCESS_TOKEN'`}
</CodeBlock>

**Respuesta de ejemplo**

```s
{`{
  "data": {
      "geo": {
          "place_id": "01a9a39529b27f36"
      },
      "id": "ID",
      "text": "Test"
  },
  "includes": {
      "places": [
          {
              "full_name": "Manhattan, NY",
              "id": "01a9a39529b27f36"
          }
      ]
  }
}`}
```