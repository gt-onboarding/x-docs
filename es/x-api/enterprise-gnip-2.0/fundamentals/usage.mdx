---
title: API de uso
description: "La API de uso es una API REST gratuita que proporciona acceso programático y visibilidad sobre el consumo de actividad en los distintos productos de tu cuenta empresarial."
sidebarTitle: API de uso
---

<div id="usage-api-twitter-api">
  ## API de Uso | API de Twitter
</div>

<div id="overview">
  ### Descripción general
</div>

`Enterprise`

Es la herramienta más importante y la mejor para supervisar y gestionar el uso en las distintas APIs de tu cuenta.

**Aviso importante:**

Los recuentos de uso que devuelve la Usage API pueden no coincidir con los de una factura debido a periodos de prueba y otros ajustes de facturación. Todos los números se basan en actividades desduplicadas consumidas dentro de un día determinado (en UTC).

<div id="features">
  #### Funcionalidades
</div>

- Recuperar de forma programática los datos de uso disponibles en la interfaz de console.gnip.com
- Datos de uso a nivel de stream: proporciona datos de uso a nivel de stream (p. ej., dev y prod), además del nivel de producto
- Datos granulares y descriptivos: las “solicitudes” de búsqueda se dividen por los productos Búsqueda de archivo completo y Búsqueda de 30 días
- “Días” y “jobs” de Historical PowerTrack 

<div id="supported-apis">
  ### APIs compatibles
</div>

A continuación se muestra una lista de las APIs actualmente compatibles con la Usage API:

- PowerTrack API `enterprise`
- 30-Day Search API `enterprise`
- Full-Archive Search API `enterprise`
- Historical PowerTrack `enterprise`

<div id="limitations">
  ### Limitaciones
</div>

- La Usage API permite acceder a datos de uso desde el 1 de mayo de 2018. A partir del 1 de julio de 2019, la Usage API permite acceder a datos de uso de los **últimos 13 meses calendario**.

- Puede acceder a datos de uso en **intervalos de tres meses** definidos con fromDate y toDate.

Vea a continuación un ejemplo de solicitud y respuesta:

```bash
curl -u<username>:<password> \
"https://gnip-api.x.com/metrics/usage/accounts/<account-name>.json?bucket=month"
```

```json
{
  "account": {
    "name": "accountnamehere"
  },
  "publishers": [
    {
      "type": "twitter",
      "used": [
        {
          "timePeriod": "201805010000",
          "activities": 1235,
          "searchRequests30Day": 3,
          "searchRequestsFullArchive": 19,
          "historicalPowertrackDays": 0,
          "historicalPowertrackJobs": 0
        },
        {
          "timePeriod": "201806010000",
          "activities": 23467,
          "searchRequests30Day": 0,
          "searchRequestsFullArchive": 66,
          "historicalPowertrackDays": 0,
          "historicalPowertrackJobs": 0
        },
        {
          "timePeriod": "201807010000",
          "activities": 431,
          "searchRequests30Day": 11,
          "searchRequestsFullArchive": 4,
          "historicalPowertrackDays": 0,
          "historicalPowertrackJobs": 0
        }
      ],
      "projected": {
        "timePeriod": "201807010000",
        "activities": 803,
        "searchRequests30Day": 20,
        "searchRequestsFullArchive": 7,
        "historicalPowertrackDays": 0,
        "historicalPowertrackJobs": 0
      },
      "products": [
        {
          "type": "Suscripción a PowerTrack histórico",
          "used": [
            {
              "timePeriod": "201805010000",
              "activities": 0,
              "days": 0,
              "jobs": 0
            },
            {
              "timePeriod": "201806010000",
              "activities": 0,
              "days": 0,
              "jobs": 0
            },
            {
              "timePeriod": "201807010000",
              "activities": 0,
              "days": 0,
              "jobs": 0
            }
          ],
          "projected": {
            "timePeriod": "201807010000",
            "activities": 0,
            "days": 0,
            "jobs": 0
          }
        },
        {
          "type": "PowerTrack",
          "used": [
            {
              "timePeriod": "201805010000",
              "activities": 267
            },
            {
              "timePeriod": "201806010000",
              "activities": 3
            },
            {
              "timePeriod": "201807010000",
              "activities": 32
            }
          ],
          "projected": {
            "timePeriod": "201807010000",
            "activities": 59
          },
          "endpoints": [
            {
              "type": "PowerTrack 2.0",
              "label": "actformat",
              "used": [
                {
                  "timePeriod": "201805010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201806010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201807010000",
                  "activities": 0
                }
              ],
              "projected": {
                "timePeriod": "201807010000",
                "activities": 0
              }
            },
              {
              "type": "PowerTrack Replay 2.0",
              "label": "ogformat",
              "used": [
                {
                  "timePeriod": "201805010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201806010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201807010000",
                  "activities": 0
                }
              ],
              "projected": {
                "timePeriod": "201807010000",
                "activities": 0
              }
            }
          ]
        },
        {
          "type": "API de búsqueda (30 días) 2.0",
          "used": [
            {
              "timePeriod": "201805010000",
              "activities": 10,
              "searchRequests30Day": 3
            },
            {
              "timePeriod": "201806010000",
              "activities": 0,
              "searchRequests30Day": 0
            },
            {
              "timePeriod": "201807010000",
              "activities": 23,
              "searchRequests30Day": 11
            }
          ],
          "projected": {
            "timePeriod": "201807010000",
            "activities": 42,
            "searchRequests30Day": 20
          },
          "endpoints": [
            {
              "type": "API de búsqueda (30 días) 2.0",
              "label": "ogformat",
              "used": [
                {
                  "timePeriod": "201805010000",
                  "activities": 10,
                  "searchRequests30Day": 3
                },
                {
                  "timePeriod": "201806010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                },
                {
                  "timePeriod": "201807010000",
                  "activities": 21,
                  "searchRequests30Day": 10
                }
              ],
              "projected": {
                "timePeriod": "201807010000",
                "activities": 39,
                "searchRequests30Day": 18
              }
            }
          ]
        },
        {
          "type": "API de Búsqueda (archivo completo)",
          "used": [
            {
              "timePeriod": "201805010000",
              "activities": 961,
              "searchRequestsFullArchive": 19
            },
            {
              "timePeriod": "201806010000",
              "activities": 23466,
              "searchRequestsFullArchive": 66
            },
            {
              "timePeriod": "201807010000",
              "activities": 379,
              "searchRequestsFullArchive": 4
            }
          ],
          "projected": {
            "timePeriod": "201807010000",
            "activities": 706,
            "searchRequestsFullArchive": 7
          },
          "endpoints": [
            {
              "type": "API de Búsqueda (archivo completo)",
              "label": "actformat",
              "used": [
                {
                  "timePeriod": "201805010000",
                  "activities": 1,
                  "searchRequestsFullArchive": 3
                },
                {
                  "timePeriod": "201806010000",
                  "activities": 0,
                  "searchRequestsFullArchive": 0
                },
                {
                  "timePeriod": "201807010000",
                  "activities": 2,
                  "searchRequestsFullArchive": 1
                }
              ],
              "projected": {
                "timePeriod": "201807010000",
                "activities": 3,
                "searchRequestsFullArchive": 1
              }
            },
            {
              "type": "API de Búsqueda (archivo completo)",
              "label": "ogformat",
              "used": [
                {
                  "timePeriod": "201805010000",
                  "activities": 961,
                  "searchRequestsFullArchive": 16
                },
                {
                  "timePeriod": "201806010000",
                  "activities": 23466,
                  "searchRequestsFullArchive": 66
                },
                {
                  "timePeriod": "201807010000",
                  "activities": 379,
                  "searchRequestsFullArchive": 3
                }
              ],
              "projected": {
                "timePeriod": "201807010000",
                "activities": 706,
                "searchRequestsFullArchive": 5
              }
            }
          ]
        }
      ]
    }
  ],
  "bucket": "mes"
  "fromDate": "201805010000",
  "toDate": "201808010000"
}
```

<div id="sample-payload">
  ### Ejemplo de carga
</div>

A continuación se muestra un ejemplo del payload:

```bash
{
  "account": {
    "name": "gnip-username"
  },
  "bucket": "month",
  "publishers": [
    {
      "type": "automattic",
      "used": [
        {
          "activities": 0,
          "timePeriod": "201603010000"
        }
      ],
      "projected": {
        "activities": 0,
        "timePeriod": "201603010000"
      },
      "products": [
        {
          "type": "PowerTrack",
          "used": [
            {
              "timePeriod": "201603010000",
              "activities": 0
            }
          ],
          "projected": {
            "timePeriod": "201603010000",
            "activities": 0
          },
          "endpoints": [
            {
              "type": "PowerTrack",
              "label": "dev",
              "used": [
                {
                  "timePeriod": "201603010000",
                  "activities": 0
                }
              ],
              "projected": {
                "timePeriod": "201603010000",
                "activities": 0
              }
            }
          ]
        }
      ]
    },
    {
      "type": "twitter",
      "used": [
        {
          "activities": 84,
          "searchRequests30Day": 4,
          "searchRequestsFullArchive": 0,
          "historicalPowertrackDays": 0,
          "historicalPowertrackJobs": 0,
          "timePeriod": "201603010000"
        }
      ],
      "projected": {
        "activities": 0,
        "searchRequests30Day": 0,
        "searchRequestsFullArchive": 0,
        "historicalPowertrackDays": 0,
        "historicalPowertrackJobs": 0,
        "timePeriod": "201601010000"
      },
      "products": [
        {
          "type": "Historical PowerTrack 2.0",
          "used": [
            {
              "timePeriod": "201511010000",
              "activities": 11884,
              "days": 5,
              "jobs": 5
            },
            {
              "timePeriod": "201512010000",
              "activities": 0,
              "days": 0,
              "jobs": 0
            },
            {
              "timePeriod": "201601010000",
              "activities": 0,
              "days": 0,
              "jobs": 0
            }
          ]
        },
        {
          "type": "PowerTrack",
          "used": [
            {
              "timePeriod": "201511010000",
              "activities": 0
            },
            {
              "timePeriod": "201512010000",
              "activities": 27456
            },
            {
              "timePeriod": "201601010000",
              "activities": 0
            }
          ],
          "projected": {
            "timePeriod": "201601010000",
            "activities": 0
          },
          "endpoints": [
            {
              "type": "PowerTrack",
              "label": "devel",
              "used": [
                {
                  "timePeriod": "201511010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201512010000",
                  "activities": 2930
                },
                {
                  "timePeriod": "201601010000",
                  "activities": 0
                }
              ],
              "projected": {
                "timePeriod": "201601010000",
                "activities": 0
              }
            },
            {
              "type": "PowerTrack 2.0",
              "label": "devel-v2",
              "used": [
                {
                  "timePeriod": "201511010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201512010000",
                  "activities": 24542
                },
                {
                  "timePeriod": "201601010000",
                  "activities": 0
                }
              ],
              "projected": {
                "timePeriod": "201601010000",
                "activities": 0
              }
            },
            {
              "type": "PowerTrack 2.0",
              "label": "devel-v2-1",
              "used": [
                {
                  "timePeriod": "201511010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201512010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201601010000",
                  "activities": 0
                }
              ],
              "projected": {
                "timePeriod": "201601010000",
                "activities": 0
              }
            }
          ]
        },
        {
          "type": "API de búsqueda",
          "used": [
            {
              "timePeriod": "201511010000",
              "activities": 0,
              "searchRequests30Day": 0
            },
            {
              "timePeriod": "201512010000",
              "activities": 0,
              "searchRequests30Day": 0
            },
            {
              "timePeriod": "201601010000",
              "activities": 0,
              "searchRequests30Day": 0
            }
          ],
          "projected": {
            "timePeriod": "201601010000",
            "activities": 0,
            "searchRequests30Day": 0
          },
          "endpoints": [
            {
              "type": "API de búsqueda",
              "label": "devel",
              "used": [
                {
                  "timePeriod": "201511010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                },
                {
                  "timePeriod": "201512010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                },
                {
                  "timePeriod": "201601010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                }
              ],
              "projected": {
                "timePeriod": "201601010000",
                "activities": 0,
                "searchRequests30Day": 0
              }
            }
          ]
        },
        {
          "type": "API de búsqueda (30 días)",
          "used": [
            {
              "timePeriod": "201511010000",
              "activities": 0,
              "searchRequests30Day": 0
            },
            {
              "timePeriod": "201512010000",
              "activities": 0,
              "searchRequests30Day": 0
            },
            {
              "timePeriod": "201601010000",
              "activities": 0,
              "searchRequests30Day": 0
            }
          ],
          "projected": {
            "timePeriod": "201601010000",
            "activities": 0,
            "searchRequests30Day": 0
          },
          "endpoints": [
            {
              "type": "API de búsqueda (30 días)",
              "label": "devel",
              "used": [
                {
                  "timePeriod": "201511010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                },
                {
                  "timePeriod": "201512010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                },
                {
                  "timePeriod": "201601010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                }
              ],
              "projected": {
                "timePeriod": "201601010000",
                "activities": 0,
                "searchRequests30Day": 0
              }
            }
          ]
        },
        {
          "type": "API de búsqueda (archivo completo)",
          "used": [
            {
              "timePeriod": "201511010000",
              "activities": 0,
              "searchRequestsFullArchive": 0
            },
            {
              "timePeriod": "201512010000",
              "activities": 0,
              "searchRequestsFullArchive": 0
            },
            {
              "timePeriod": "201601010000",
              "activities": 0,
              "searchRequestsFullArchive": 0
            }
          ],
          "projected": {
            "timePeriod": "201601010000",
            "activities": 0,
            "searchRequestsFullArchive": 0
          },
          "endpoints": [
            {
              "type": "API de búsqueda (archivo completo)",
              "label": "devel",
              "used": [
                {
                  "timePeriod": "201511010000",
                  "activities": 0,
                  "searchRequestsFullArchive": 0
                },
                {
                  "timePeriod": "201512010000",
                  "activities": 0,
                  "searchRequestsFullArchive": 0
                },
                {
                  "timePeriod": "201601010000",
                  "activities": 0,
                  "searchRequestsFullArchive": 0
                }
              ],
              "projected": {
                "timePeriod": "201601010000",
                "activities": 0,
                "searchRequestsFullArchive": 0
              }
            }
          ]
        }
      ]
    }
  ]
}
```

<div id="api-reference">
  ## Referencia de API
</div>

<div id="get-usage">
  ### get-usage
</div>

<div id="methods">
  #### **Métodos**
</div>

| Método | Descripción |
| :--- | :--- |
| [GET /metrics/usage/accounts/{ACCOUNT_NAME}.json](#GETData) | Recuperar datos de uso |

Donde:

- :account\_name es el nombre (distingue mayúsculas y minúsculas) asociado a su cuenta, tal como se muestra en console.gnip.com

<div id="authentication-and-rate-limit">
  #### **Autenticación y límites de tasa**
</div>

<div id="authentication">
  ##### **Autenticación**
</div>

Todas las solicitudes a la Usage API requieren autenticación básica HTTP, usando cualquiera de las credenciales de correo electrónico y contraseña habilitadas en su cuenta para iniciar sesión en console.gnip.com o para conectarse a cualquier stream de Gnip.

<div id="rate-limit">
  ##### **Límite de velocidad**
</div>

La API de Usage impone un límite de dos solicitudes por minuto.

<div id="best-practices-limitations">
  #### **Mejores prácticas y limitaciones**
</div>

<div id="data-availability">
  ##### **Disponibilidad de datos**
</div>

Los datos de uso se basan en actividades deduplicadas consumidas hasta el último período completo (UTC) en que se procesaron los datos. Por lo general, los datos se procesan y actualizan al minuto, excepto cuando Gnip está implementando sistemas.

- La Usage API le permite acceder a datos de uso desde el 1 de mayo de 2018. Después del 1 de julio de 2019, la Usage API le permite acceder a datos de uso de los **últimos 13 meses calendario**.

- Puede acceder a datos de uso en **intervalos de tres meses** definidos con un fromDate y un toDate

<div id="requesting-and-receiving-data">
  #### **Solicitud y recepción de datos**
</div>

La API de Usage funciona realizando una solicitud HTTP GET con credenciales de autenticación básica (HTTP Basic Auth) al endpoint de la API de tu cuenta.

<div id="get-request">
  ##### Solicitud GET:
</div>

Realice una solicitud GET al siguiente endpoint con sus credenciales de usuario y nombre de cuenta:

https://gnip-api.x.com/metrics/usage/accounts/:account\_name.json

**Parámetros adicionales**

|     |     |
| :--- | :--- |
| bucket | Opcional. La unidad de tiempo para la que se proporcionarán los datos de uso. Los datos de uso pueden devolverse con granularidad diaria o mensual.  <br />  <br />Las solicitudes realizadas sin un bucket especificado devolverán granularidad mensual.  <br />  <br />Opciones: 'month' o 'day' |
| fromDate (YYYYMMDDHHMM) | Opcional. Los datos de uso solo están disponibles a partir del 1 de mayo de 2018. La marca de tiempo UTC más antigua desde la cual se proporcionarán los datos de uso. La marca de tiempo tiene granularidad de día y es inclusiva (es decir, 201805010000 incluye el día 0501). Las solicitudes que contengan valores distintos de '0000' para la granularidad de hora y minuto se ajustarán por defecto a '0000'.  <br />  <br />Las solicitudes realizadas sin fromDate o toDate devolverán datos de uso por mes para el mes en curso e incluirán una referencia histórica de los dos meses anteriores.  <br />  <br />**Tenga en cuenta:** A partir del 1 de junio de 2019, puede acceder a los últimos 13 meses calendario de datos de uso. Por ejemplo, si fuera el 10 de octubre, podrá acceder a los datos de uso hasta el 1 de septiembre del año anterior.  <br />**Ejemplo:** 201810010000 devolverá datos a partir del 1 de octubre de 2018, incluido el 1 de octubre. |
| toDate (YYYYMMDDHHMM) | Opcional. La marca de tiempo UTC más reciente hasta la cual se proporcionarán los datos de uso. La marca de tiempo tiene granularidad de día y no es inclusiva (es decir, 201703020000 no incluye datos para el día 0302). Cuando se especifica un toDate para el día actual o un día futuro, los datos de uso se devolverán hasta el último día completo (UTC). Las solicitudes que contengan valores distintos de '0000' para la granularidad de hora y minuto se ajustarán por defecto a '0000'.  <br />  <br />Una solicitud sin toDate tendrá como valor predeterminado el siguiente bucket (mañana para bucket=day y el próximo mes para bucket=month). Una solicitud realizada sin fromDate ni toDate tendrá como valor predeterminado bucket=month y mostrará datos para el mes en curso más los dos meses inmediatamente anteriores.  <br />  <br />**Ejemplo:** 201703050000 devolverá datos hasta el 5 de marzo de 2017, sin incluir ningún dato del 5 de marzo. |

**Ejemplo de solicitud GET**

Esta solicitud devolverá datos con granularidad mensual desde el 1 de marzo de 2017 hasta el 5 de marzo de 2017, sin incluir ningún dato del 5 de marzo de 2017.

curl -u "https://gnip-api.x.com/metrics/usage/accounts/:account\_name.json?bucket=month\&fromdate=201403010000\&toDate=201403150000"

<div id="data-format">
  #### **Formato de datos**
</div>

Las siguientes tablas describen las estructuras de datos de nivel raíz para los datos de uso devueltos por la Usage API. Para los campos con varios niveles de subcampos, haz clic en los enlaces proporcionados para ver detalles sobre los subcampos.

Si deseas ver un ejemplo de una carga completa de la Usage API, visita [esta página](/es/x-api/usage/introduction).

|     |     |
| :--- | :--- |
| **account** | Objeto que representa la cuenta para la cual se solicitaron datos de uso. |
| **bucket** | Unidad de tiempo para la cual se proporcionan los datos de uso. Puede ser ‘day’ o ‘month’. |
| **fromDate** | La marca de tiempo UTC más temprana desde la cual deseas extraer datos de uso (inclusive). |
| **toDate** | La marca de tiempo UTC más reciente hasta la cual deseas extraer datos de uso (exclusiva). |
| **publishers** | Incluye tres objetos principales: used, projected y products. |