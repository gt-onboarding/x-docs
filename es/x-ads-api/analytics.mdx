---
title: Análisis
---

import { Button } from '/snippets/es/button.mdx';

<div id="introduction">
  ## Introducción
</div>

Las métricas de analítica ayudan a socios y anunciantes a comprender el rendimiento del contenido que promocionan en X. Esto incluye información como impresiones, clics, reproducciones de video y gasto. Además, los socios y anunciantes pueden obtener métricas detalladas para diversos segmentos de las audiencias a las que alcanzan.

La API de Anuncios de X admite dos formas de recuperar métricas detalladas de rendimiento de campañas: de manera sincrónica y asincrónica. Con las llamadas de analítica sincrónica, las métricas solicitadas se devuelven en la respuesta. Con los endpoints de analítica asincrónica, las métricas solicitadas están disponibles en un archivo de resultados descargable una vez que el “trabajo” asociado ha finalizado su procesamiento. El endpoint sincrónico admite rangos de tiempo cortos y es ideal para optimizaciones de campañas en tiempo real. Los endpoints asincrónicos admiten rangos de tiempo mucho más extensos y, por lo tanto, están pensados para obtener un volumen de datos mucho mayor, ideal para generar informes o completar históricos.

<div id="details">
  ## Detalles
</div>

<div id="synchronous-vs-asynchronous">
  ### Sincrónico vs. asíncrono
</div>

Las diferencias entre los endpoints de analítica sincrónicos y asíncronos se resumen en la siguiente tabla. Esta información tiene como objetivo ayudar a los desarrolladores a elegir qué conjunto de endpoints usar.

| Característica | Sincrónico | Asíncrono |
|:---------|:------------|:--------------|
| Limitación de tasa | A nivel de usuario: 250 solicitudes/15 minutos | A nivel de cuenta: 100 trabajos concurrentes\* |
| Intervalo de tiempo | 7 días | 90 días (no segmentado)<br />45 días (segmentado) |
| Segmentación | No | Sí |
| Respuesta | Datos de métricas | Estado de procesamiento del trabajo\*\* |
| Caso de uso recomendado | Optimización en tiempo real<br />Solicitudes de la interfaz de usuario | Sincronizaciones programadas<br />Relleno de datos históricos |

<Note>
  \* Se refiere al número máximo de trabajos que pueden estar en estado de procesamiento en un momento dado.

  \*\* Cuando el trabajo termina de procesarse correctamente, se devuelve una URL desde la cual se puede descargar el archivo de resultados comprimido (gzip).

  Fuera de esto, los endpoints ofrecen la misma funcionalidad.
</Note>

<div id="use-cases">
  ### Casos de uso
</div>

Existen tres casos de uso principales para la analítica.

1. Optimización en tiempo real: usar métricas de rendimiento para actualizar campañas activas
2. Sincronización: sincronizaciones periódicas en segundo plano
3. Incorporación de nuevas cuentas: completar datos históricos

El endpoint de analítica síncrona puede usarse para la optimización en tiempo real a fin de actualizar campañas según cambios en las métricas de los últimos 5 a 15 minutos. Cualquiera de los endpoints puede usarse para la sincronización de analítica. Tenga en cuenta que el intervalo de tiempo deseado y si se requiere segmentación determinarán qué endpoint usar. La incorporación de nuevas cuentas solo debe realizarse usando los endpoints de analítica asíncrona. (El endpoint de analítica síncrona nunca debe usarse para recuperar grandes volúmenes de datos).

Los endpoints de analítica asíncrona pueden alimentar paneles y otros elementos de la interfaz de usuario si las métricas se sincronizan mediante un proceso en el backend. Su implementación debe evitar llamar a los endpoints de analítica asíncrona para atender solicitudes de la interfaz de usuario.

<div id="request-options">
  ### Opciones de la solicitud
</div>

Las solicitudes de analíticas se aplican al nivel de cuentas de anuncios y, por lo tanto, requieren el ID de la cuenta en la ruta del recurso. Las opciones de la solicitud, enumeradas a continuación, se indican como parámetros de consulta. Se requieren los siguientes tipos de valores.

- Entidades: el tipo de entidad y hasta 20 IDs de entidad para las que deseas solicitar analíticas
- Rango de tiempo: las horas de inicio y fin, en formato ISO 8601
  - **Nota:** deben expresarse en horas completas
- Grupos de métricas: uno o más conjuntos de métricas relacionadas (consulta Métricas y segmentación para ver la lista de métricas de cada grupo)
- Granularidad: especifica el nivel de agregación con el que se deben devolver las métricas
- Ubicación: determina si las métricas se obtienen para anuncios publicados dentro o fuera de X
  - **Nota:** solo se puede especificar un único valor de ubicación por solicitud

Usa los parámetros de solicitud `start_time` y `end_time` para especificar un rango de tiempo. Estos valores deben alinearse con la granularidad indicada de la siguiente manera.

1. `TOTAL`: especifica cualquier rango de tiempo (dentro de los límites del endpoint)
2. `DAY`: tanto la hora de inicio como la hora de fin deben alinearse con la medianoche en la zona horaria de la cuenta
3. `HOUR`: especifica cualquier rango de tiempo (dentro de los límites del endpoint)

La hora de fin es exclusiva. Por ejemplo, una solicitud con `start_time=2019-01-01T00:00:00Z` y `end_time=2019-01-02T00:00:00Z` devolverá métricas de analíticas correspondientes a un solo día (no dos), ya que este rango abarca únicamente un período de 24 horas.

**Segmentación**

Disponible solo a través de nuestros endpoints de analíticas asíncronas, la segmentación permite a socios y anunciantes obtener métricas desglosadas por valores de segmentación específicos. Para solicitar métricas segmentadas, usa el parámetro de solicitud `segmentation_type`. Para más detalles sobre las opciones de segmentación, consulta [Métricas y segmentación](/es/x-ads-api/analytics#metrics-and-segmentation).

<div id="faqs">
  ## Preguntas frecuentes
</div>

¿Por qué las cifras de la API de Anuncios no coinciden con lo que se muestra en la interfaz de X Ads?

- Asegúrate de haber solicitado datos para todas las ubicaciones: `ALL_ON_TWITTER`, `PUBLISHER_NETWORK`, `SPOTLIGHT` y `TREND`.
- Recuerda que las horas de finalización en la API de Anuncios son exclusivas; en la interfaz de Anuncios son inclusivas.

¿Por qué las cifras cambian según cuándo solicito los datos?

- En cuanto las métricas de reportes están disponibles, puedes recuperarlas. Están disponibles casi en tiempo real. No obstante, estos primeros resultados son estimaciones y, por lo tanto, es de esperar que cambien. Las métricas se consolidan tras 24 horas, con la excepción de los datos de gasto.
- Las métricas de gasto generalmente se consolidan dentro de los 3 días posteriores al evento. Sin embargo, procesamos los datos de facturación hasta 14 días desde la fecha del evento (por ejemplo, para el filtrado de spam).

¿Cómo puedo determinar qué IDs de entidades solicitar para un período específico?

- Usa el [endpoint de Entidades activas](/es/x-ads-api/analytics#active-entities-2)

¿Por qué todos los valores en la respuesta de analítica son `null`?

- Es probable que la campaña no haya tenido entregas durante el período solicitado.
- Usa el [endpoint de Entidades activas](/es/x-ads-api/analytics#active-entities-2) para determinar para qué entidades y para qué período obtener analíticas.

¿Por qué la API muestra valores `null` mientras que la interfaz muestra 0?

- La interfaz decide mostrar estos valores como 0, pero los valores son equivalentes.

¿Cómo puedo solicitar métricas asociadas con una ubicación granular, como el timeline de X?

- Admitimos los siguientes valores de Ubicación en analítica: `ALL_ON_TWITTER`, `PUBLISHER_NETWORK`, `SPOTLIGHT` y `TREND` (es decir, la [X Audience Platform](/es/x-ads-api/audiences)).

¿Es posible recuperar métricas de entidades eliminadas o en pausa?

- Sí. El estado de la entidad no afecta la disponibilidad de las métricas de analítica.

¿Por qué los valores segmentados no coinciden con los no segmentados?

- No se espera que los datos segmentados sumen el 100% de los datos no segmentados, debido a cómo se derivan.

¿Es posible solicitar datos segmentados por múltiples dimensiones?

- No admitimos la multisegmentación.

<div id="best-practices">
  ## Mejores prácticas
</div>

Algunas prácticas recomendadas al recopilar datos de [analítica](/es/x-ads-api/analytics) desde la API de Anuncios de X.

<div id="rate-limiting-and-retries">
  ### Limitación de velocidad y reintentos
</div>

- En las consultas sujetas a limitación de velocidad (las que devuelven un código de estado `HTTP 429`), debes inspeccionar el encabezado `x-rate-limit-reset` y reintentar únicamente en o después del momento indicado.
- En las consultas que devuelvan un código de estado `HTTP 503 Service Unavailable`, debes inspeccionar el encabezado `retry-after` y reintentar únicamente después del momento indicado.
- Las aplicaciones que no respeten los tiempos indicados para los reintentos podrían tener su acceso a la API de Anuncios de X revocado o restringido sin previo aviso.

<div id="analytics-metrics-in-a-nutshell">
  ### Métricas de analítica en pocas palabras
</div>

- Todas las métricas de analítica quedan fijas y no cambiarán después de 24 horas, con la excepción de `billed_charge_local_micro`.
- La métrica `billed_charge_local_micro` es una estimación durante hasta 3 días después de que se entreguen los datos.
- Después de 24 horas, esta métrica puede disminuir debido a créditos por gasto excedido (anuncios servidos después del `end_time` indicado) y por eventos facturables considerados no válidos. Esta métrica cambia mínimamente después de 24 horas.
- Consulta [Analytics](/es/x-ads-api/analytics) para obtener más información.

<div id="fetching-real-time-non-segmented-data">
  ### Obtención de datos en tiempo real no segmentados
</div>

- Proporcione siempre tanto `start_time` como `end_time`.
- No extraiga datos de entidades con más de 7 días.
- Solicite (idealmente) datos con granularidad `HOUR`, ya que siempre puede agregar y resumir las métricas para obtener granularidad `DAY` y `TOTAL`.
- Solicite (idealmente) datos a nivel de `line_items` y `promoted_tweets`, ya que siempre puede agregar y resumir estas métricas para obtener totales en toda la jerarquía de entidades de anuncios (p. ej., a nivel de campaña, instrumento de financiación o cuenta).
- Guarde y almacene localmente los valores de las métricas de analítica de su lado.
- No consulte repetidamente datos de hace más de 30 días. Estos datos no cambiarán y deben almacenarse localmente.
- Todos los datos no segmentados son en tiempo real y deberían estar disponibles en segundos tras producirse un evento.
- Agrupe las métricas de conversión y las de no conversión en solicitudes separadas.

<div id="fetching-segmented-data">
  ### Obtención de datos segmentados
</div>

- Consulte las pautas anteriores para “Obtención de datos en tiempo real no segmentados”. A continuación se ofrece orientación adicional.
- En la mayoría de los tipos de datos segmentados, puede que los datos no estén completos durante hasta 1 hora en algunos casos. Los datos segmentados por `INTERESTS` pueden retrasarse hasta 12 horas.
- No se espera que los datos segmentados sumen el 100% de los datos no segmentados, debido a la forma en que se derivan.

<div id="fetching-historical-data">
  ### Obtención de datos históricos
</div>

- Al completar datos históricos (por ejemplo, al agregar una nueva cuenta de anunciante), es posible que deba realizar varias solicitudes en intervalos más pequeños de `start_time` y `end_time`.
- Limite sus consultas a ventanas de 30 días.
- Aplique control de frecuencia a estas solicitudes y distribúyalas en el tiempo para no agotar sus límites de tasa.

<div id="sample">
  ### Ejemplo
</div>

Puedes encontrar un script de ejemplo que demuestra algunas de estas prácticas recomendadas (`fetch_stats`) en nuestro repositorio [ads-platform-tools en GitHub](https://github.com/xdevplatform/ads-platform-tools).

<div id="metrics-by-objective">
  ## Métricas por objetivo
</div>

Las métricas aplicables a una entidad dependen del [objetivo de la campaña](/es/x-ads-api/campaign-management). Use esta guía para determinar qué grupos de métrricas solicitar para cada tipo de objetivo, así como la manera de calcular métricas derivadas adicionales.

<div id="engagements">
  ### `ENGAGEMENTS`
</div>

**Grupos de métricas relevantes:** `ENGAGEMENT` y `BILLING`. `MEDIA` también aplica si se usa contenido multimedia en los creativos.

|     |     |
| :--- | :--- |
| Métrica derivada | Cálculo de la métrica expuesta |
| Tasa de interacción | `engagements/impressions` |
| CPE | `billed_charge_local_micro/engagements` |
| Tasa de visualización de medios | `media_views/impressions` |

<div id="website_clicks-and-website_conversions">
  ### `WEBSITE_CLICKS` y `WEBSITE_CONVERSIONS`
</div>

**Grupos de métricas relevantes:** `ENGAGEMENT`, `BILLING` y `WEB_CONVERSION`. `MEDIA` también aplica si se utiliza contenido multimedia en los creativos.

|     |     |
| :--- | :--- |
| Métrica derivada | Cálculo de la métrica expuesta |
| CPM | `billed_charge_local_micro/impressions/1000` |
| Tasa de clics | `clicks/impressions` |
| CPLC | `billed_charge_local_micro/clicks` |
| Conversiones totales | `conversion_custom` + `conversion_site_visits` + `conversion_sign_ups` + `conversion_downloads` + `conversion_purchases` |
| Tasa de conversión | Conversiones totales / `impressions` |
| CPA | `billed_charge_local_micro` / Conversiones totales |

<div id="app_installs-and-app_engagements">
  ### `APP_INSTALLS` y `APP_ENGAGEMENTS`
</div>

**Grupos de métricas relevantes:** `ENGAGEMENT`, `BILLING`, `MOBILE_CONVERSION` y `LIFE_TIME_VALUE_MOBILE_CONVERSION`. `MEDIA` y `VIDEO` también aplican si se utiliza una app card de medios o de video en los creativos.

|     |     |
| :--- | :--- |
| Métrica derivada | Cálculo de la métrica expuesta |
| CPM | `billed_charge_local_micro/impressions/1000` |
| Tasa de clics en la app | `app_clicks/impressions` |
| CPAC | `billed_charge_local_micro/app_clicks` |
| CPI | `billed_charge_local_micro/mobile_conversion_installs` |

<div id="followers">
  ### `FOLLOWERS`
</div>

**Grupos de métricas relevantes:** `ENGAGEMENT` y `BILLING`. `MEDIA` también aplica si se usa contenido multimedia en los creativos.

|     |     |
| :--- | :--- |
| Métrica derivada | Cálculo de la métrica expuesta |
| CPM | `billed_charge_local_micro/impressions/1000` |
| Tasa de seguimiento | `follows/impressions` |
| CPF | `billed_charge_local_micro/follows` |
| Tasa de visualización de medios | `media_views/impressions` |

<div id="lead_generation">
  ### `LEAD_GENERATION`
</div>

**Grupos de métricas relevantes:** `ENGAGEMENT` y `BILLING`. `MEDIA` también aplica si se utiliza contenido multimedia en los creativos.

|     |     |
| :--- | :--- |
| Métrica derivada | Cálculo de la métrica expuesta |
| CPM | `billed_charge_local_micro/impressions/1000` |
| Leads | `card_engagements` |
| Tasa de leads | `card_engagements/impressions` |
| Costo por lead | `billed_charge_local_micro/card_engagements` |

<div id="video_views">
  ### `VIDEO_VIEWS`
</div>

**Grupos de métricas relevantes:** `ENGAGEMENT`, `BILLING` y `VIDEO`.

|     |     |
| :--- | :--- |
| Métrica derivada | Cálculo de la métrica expuesta |
| CPM | `billed_charge_local_micro/impressions/1000` |
| Tasa de video | `video_total_views/impressions` |
| Costo por visualización | `billed_charge_local_micro/video_total_views` |

<div id="video_views_preroll">
  ### `VIDEO_VIEWS_PREROLL`
</div>

**Grupos de métricas relevantes:** `ENGAGEMENT`, `BILLING` y `VIDEO`.

|     |     |
| :--- | :--- |
| Métrica derivada | Cálculo de la métrica expuesta |
| CPM | `billed_charge_local_micro/impressions/1000` |
| Tasa de video | `video_total_views/impressions` |
| Costo por visualización | `billed_charge_local_micro/video_total_views` |

<div id="metrics-and-segmentation">
  ## Métricas y segmentación
</div>

Este documento ofrece una visión general de las métricas disponibles en nuestra [analítica](/es/x-ads-api/analytics) para cada tipo de entidad, así como de la segmentación disponible para cada métrica.

|     |     |     |     |     |     |     |     |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
|     | Grupos de métricas |     |     |     |     |     |     |
| Entity | [`ENGAGEMENT`](#engagement) | [`BILLING`](#BILLING) | [`VIDEO`](#VIDEO) | [`MEDIA`](#MEDIA) | [`WEB_CONVERSION`](#WEB_CONVERSION) | [`MOBILE_CONVERSION`](#MOBILE_CONVERSION) | [`LIFE_TIME_VALUE_MOBILE_CONVERSION`](#LIFE_TIME_VALUE_MOBILE_CONVERSION) |
| `ACCOUNT` | ✔\*  |     |     |     |     |     |     |
| `FUNDING_INSTRUMENT` | ✔\*  | ✔   |     |     |     |     |     |
| `CAMPAIGN` | ✔   | ✔   | ✔   | ✔   | ✔   | ✔   | ✔   |
| `LINE_ITEM` | ✔   | ✔   | ✔   | ✔   | ✔   | ✔   | ✔   |
| `PROMOTED_TWEET` | ✔   | ✔   | ✔   | ✔   | ✔   | ✔   | ✔   |
| `MEDIA_CREATIVE` | ✔   | ✔   | ✔   | ✔   | ✔   | ✔   | ✔   |
| `ORGANIC_TWEET` | ✔   |     | ✔   |     |     |     |     |

\*Algunas métricas de la familia `ENGAGEMENT` no están disponibles a nivel de cuenta ni de instrumento de financiación. Consulte la sección `ENGAGEMENT` para más detalles.

<div id="available-metrics-by-metrics-group">
  ### Métricas disponibles por grupo de métricas
</div>

<div id="engagement">
  #### `ENGAGEMENT`
</div>

|     |     |     |     |     |
| :--- | :--- | :--- | :--- | :--- |
| Metric | Descripción | Segmentación disponible | Tipo de dato | Disponible para cuenta / instrumento de financiación |
| `engagements` | Número total de interacciones | ✔   | Array de ints | ✔   |
| `impressions` | Número total de impresiones | ✔   | Array de ints | ✔   |
| `retweets` | Número total de retuits | ✔   | Array de ints | ✔   |
| `replies` | Número total de respuestas | ✔   | Array de ints | ✔   |
| `likes` | Número total de Me gusta | ✔   | Array de ints | ✔   |
| `follows` | Número total de seguimientos | ✔   | Array de ints | ✔   |
| `card_engagements` | Número total de interacciones con tarjetas | ✔   | Array de ints |     |
| `clicks` | Número total de clics, incluidos los Me gusta y otras interacciones | ✔   | Array de ints |     |
| `app_clicks` | Número de intentos de instalación o apertura de la app | ✔   | Array de ints |     |
| url\_clicks | Clics totales en el enlace o en la Website Card de un anuncio, incluidos los obtenidos | ✔   | Array de ints |     |
| `qualified_impressions` | Número total de impresiones cualificadas | ✔   | Array de ints |     |
| `carousel_swipes` | Deslizamientos totales en imágenes o videos de carrusel | ✔   | Array de ints |     |

<div id="billing">
  #### `BILLING`
</div>

|     |     |     |     |
| :--- | :--- | :--- | :--- |
| Métrica | Descripción | Segmentación disponible | Tipo de datos |
| `billed_engagements` | Número total de interacciones facturadas | ✔   | Arreglo de enteros |
| `billed_charge_local_micro` | Gasto total en micros | ✔   | Arreglo de enteros |

<div id="video">
  #### `VIDEO`
</div>

Aviso sobre cambios en la definición de métricas de video:

La métrica `video_total_views` dentro del grupo de métricas `VIDEO` contabilizará cualquier visualización con al menos un 50% en pantalla durante 2 segundos, según el estándar del MRC.

Nuestra definición original de visualización de video (100% en pantalla durante al menos 3 segundos) seguirá disponible como la nueva métrica `video_3s100pct_views` en el grupo de métricas `VIDEO`. Para seguir pujando y ser facturado según la definición original de visualización, utiliza la nueva unidad de puja `VIEW_3S_100PCT`.

|     |     |     |     |
| :--- | :--- | :--- | :--- |
| Metric | Description | Segmentation Available | Data Type |
| `video_total_views` | Número total de visualizaciones de video | ✔   | Array of ints |
| `video_views_25` | Número total de visualizaciones en las que se vio al menos el 25% del video. | ✔   | Array of ints |
| `video_views_50` | Número total de visualizaciones en las que se vio al menos el 50% del video. | ✔   | Array of ints |
| `video_views_75` | Número total de visualizaciones en las que se vio al menos el 75% del video. | ✔   | Array of ints |
| `video_views_100` | Número total de visualizaciones en las que se vio el 100% del video. | ✔   | Array of ints |
| `video_cta_clicks` | Total de clics en la llamada a la acción | ✔   | Array of ints |
| `video_content_starts` | Número total de inicios de reproducción de video | ✔   | Array of ints |
| `video_3s100pct_views` | Número total de visualizaciones en las que se reprodujeron al menos 3 segundos con el 100% en pantalla (métrica heredada de `video_total_views`) | ✔   | Array of ints |
| `video_6s_views` | Número total de visualizaciones en las que se vieron al menos 6 segundos del video | ✔   | Array of ints |
| `video_15s_views` | Número total de visualizaciones en las que se vieron al menos 15 segundos del video o el 95% de la duración total | ✔   | Array of ints |

<div id="media">
  #### `MEDIA`
</div>

|     |     |     |     |
| :--- | :--- | :--- | :--- |
| Métrica | Descripción | Segmentación disponible | Tipo de datos |
| `media_views` | Número total de visualizaciones (reproducción automática y al hacer clic) de contenido multimedia en videos, Vines, GIF y imágenes. | ✔   | Arreglo de enteros |
| `media_engagements` | Número total de clics en contenido multimedia en videos, Vines, GIF y imágenes. | ✔   | Arreglo de enteros |

<div id="web_conversion">
  #### `WEB_CONVERSION`
</div>

|     |     |     |     |
| :--- | :--- | :--- | :--- |
| Métrica | Descripción | Segmentación disponible | Tipo de datos |
| `conversion_purchases` | Número de conversiones de tipo PURCHASE y el monto de la venta y la cantidad del pedido correspondientes | Solo `PLATFORMS` | Objeto JSON |
| `conversion_sign_ups` | Número de conversiones de tipo SIGN\_UP y el monto de la venta y la cantidad del pedido correspondientes | Solo `PLATFORMS` | Objeto JSON |
| `conversion_site_visits` | Número de conversiones de tipo SITE\_VISIT y el monto de la venta y la cantidad del pedido correspondientes | Solo `PLATFORMS` | Objeto JSON |
| `conversion_downloads` | Número de conversiones de tipo DOWNLOAD y el monto de la venta y la cantidad del pedido correspondientes | Solo `PLATFORMS` | Objeto JSON |
| `conversion_custom` | Número de conversiones de tipo CUSTOM y el monto de la venta y la cantidad del pedido correspondientes | Solo `PLATFORMS` | Objeto JSON |

<div id="mobile_conversion">
  #### `MOBILE_CONVERSION`
</div>

Las estadísticas de conversiones móviles están disponibles únicamente para cuentas de anunciantes habilitadas para MACT.

|     |     |     |     |
| :--- | :--- | :--- | :--- |
| Métrica | Descripción | Segmentación disponible | Tipo de datos |
| `mobile_conversion_spent_credits` | Desglose de conversiones móviles de tipo SPENT\_CREDIT por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| `mobile_conversion_installs` | Desglose de conversiones móviles de tipo INSTALL por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| `mobile_conversion_content_views` | Desglose de conversiones móviles de tipo CONTENT\_VIEW por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| `mobile_conversion_add_to_wishlists` | Desglose de conversiones móviles de tipo ADD\_TO\_WISHLIST por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| `mobile_conversion_checkouts_initiated` | Desglose de conversiones móviles de tipo CHECKOUT\_INITIATED por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| `mobile_conversion_reservations` | Desglose de conversiones móviles de tipo RESERVATION por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| `mobile_conversion_tutorials_completed` | Desglose de conversiones móviles de tipo TUTORIAL\_COMPLETED por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| `mobile_conversion_achievements_unlocked` | Desglose de conversiones móviles de tipo ACHIEVEMENT\_UNLOCKED por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| `mobile_conversion_searches` | Desglose de conversiones móviles de tipo SEARCH por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| `mobile_conversion_add_to_carts` | Desglose de conversiones móviles de tipo ADD\_TO\_CART por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| `mobile_conversion_payment_info_additions` | Desglose de conversiones móviles de tipo PAYMENT\_INFO\_ADDITION por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| `mobile_conversion_re_engages` | Desglose de conversiones móviles de tipo RE\_ENGAGE por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| `mobile_conversion_shares` | Desglose de conversiones móviles de tipo SHARE por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| `mobile_conversion_rates` | Desglose de conversiones móviles de tipo RATE por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| `mobile_conversion_logins` | Desglose de conversiones móviles de tipo LOGIN por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| `mobile_conversion_updates` | Desglose de conversiones móviles de tipo UPDATE por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| `mobile_conversion_levels_achieved` | Desglose de conversiones móviles de tipo LEVEL\_ACHIEVED por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| `mobile_conversion_invites` | Desglose de conversiones móviles de tipo INVITE por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| `mobile_conversion_key_page_views` | Desglose de conversiones móviles de tipo KEY\_PAGE\_VIEW por post\_view y post\_engagement | ✔   | Objeto JSON |
| mobile\_conversion\_downloads | Desglose de conversiones móviles de tipo DOWNLOAD por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| mobile\_conversion\_purchases | Desglose de conversiones móviles de tipo PURCHASE por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| mobile\_conversion\_sign\_ups | Desglose de conversiones móviles de tipo SIGN\_UP por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |
| mobile\_conversion\_site\_visits | Desglose de conversiones móviles de tipo SITE\_VISIT por post\_view, post\_engagement, assisted, order\_quantity y sale\_amount | ✔   | Objeto JSON |

<div id="life_time_value_mobile_conversion">
  #### `LIFE_TIME_VALUE_MOBILE_CONVERSION`
</div>

Las estadísticas de conversiones móviles de valor de vida útil están disponibles solo para cuentas de anunciantes habilitadas para MACT.

|     |     |     |     |
| :--- | :--- | :--- | :--- |
| Métrica | Descripción | Segmentación disponible | Tipo de datos |
| `mobile_conversion_lifetime_value_purchases` | Desglose de conversiones móviles del tipo PURCHASE |     | Objeto JSON |
| `mobile_conversion_lifetime_value_sign_ups` | Desglose de conversiones móviles del tipo SIGN\_UP |     | Objeto JSON |
| `mobile_conversion_lifetime_value_updates` | Desglose de conversiones móviles del tipo UPDATE |     | Objeto JSON |
| `mobile_conversion_lifetime_value_tutorials_completed` | Desglose de conversiones móviles del tipo TUTORIAL\_COMPLETED |     | Objeto JSON |
| `mobile_conversion_lifetime_value_reservations` | Desglose de conversiones móviles del tipo RESERVATION |     | Objeto JSON |
| `mobile_conversion_lifetime_value_add_to_carts` | Desglose de conversiones móviles del tipo ADD\_TO\_CART |     | Objeto JSON |
| `mobile_conversion_lifetime_value_add_to_wishlists` | Desglose de conversiones móviles del tipo ADD\_TO\_WISHLIST |     | Objeto JSON |
| `mobile_conversion_lifetime_value_checkouts_initiated` | Desglose de conversiones móviles del tipo CHECKOUT\_INITIATED |     | Objeto JSON |
| `mobile_conversion_lifetime_value_levels_achieved` | Desglose de conversiones móviles del tipo LEVEL\_ACHIEVED |     | Objeto JSON |
| `mobile_conversion_lifetime_value_achievements_unlocked` | Desglose de conversiones móviles del tipo ACHIEVEMENT\_UNLOCKED |     | Objeto JSON |
| `mobile_conversion_lifetime_value_shares` | Desglose de conversiones móviles del tipo SHARE |     | Objeto JSON |
| `mobile_conversion_lifetime_value_invites` | Desglose de conversiones móviles del tipo INVITE |     | Objeto JSON |
| `mobile_conversion_lifetime_value_payment_info_additions` | Desglose de conversiones móviles del tipo PAYMENT\_INFO\_ADDITION |     | Objeto JSON |
| `mobile_conversion_lifetime_value_spent_credits` | Desglose de conversiones móviles del tipo SPENT\_CREDIT |     | Objeto JSON |
| `mobile_conversion_lifetime_value_rates` | Desglose de conversiones móviles del tipo RATE |     | Objeto JSON |

<div id="segmentation">
  ### Segmentación
</div>

Los informes de segmentación permiten recuperar métricas desglosadas por los valores de un tipo de segmentación determinado. La segmentación solo está disponible mediante [consultas de analítica asíncronas](/es/x-ads-api/analytics#asynchronous-analytics) debido a su significativa complejidad adicional.

La segmentación **no** es compatible para las entidades `MEDIA_CREATIVE` u `ORGANIC_TWEET`.

Algunos tipos de segmentación requieren el envío de parámetros adicionales. Se documentan a continuación.

Al segmentar por `CITIES` o `POSTAL_CODES`, la API **solo** devolverá ubicaciones orientadas (targeted). La segmentación por región y área metropolitana devolverá ubicaciones tanto orientadas como no orientadas.

|     |     |     |
| :--- | :--- | :--- |
| Tipo de segmentación | se requiere el parámetro `country` | se requiere el parámetro `platform` |
| `AGE` |     |     |
| `APP_STORE_CATEGORY` |     |     |
| `AUDIENCES` |     |     |
| `CITIES` | ✔   |     |
| `CONVERSATIONS` |     |     |
| `CONVERSION_TAGS` |     |     |
| `DEVICES` |     | ✔   |
| `EVENTS` |     |     |
| `GENDER` |     |     |
| `INTERESTS` |     |     |
| `KEYWORDS` |     |     |
| `LANGUAGES` |     |     |
| `LOCATIONS` |     |     |
| `METROS` | ✔   |     |
| `PLATFORMS` |     |     |
| `PLATFORM_VERSIONS` |     | ✔   |
| `POSTAL_CODES` | ✔   |     |
| `REGIONS` | ✔   |     |
| `SLIDES` |     |     |
| `SIMILAR_TO_FOLLOWERS_OF_USER` |     |     |
| `TV_SHOWS` |     |     |

<div id="derived-metrics">
  ## Métricas derivadas
</div>

Las métricas de una campaña dependen de su [objetivo de campaña](/es/x-ads-api/campaign-management). Use esta guía para determinar cómo calcular métricas derivadas según los objetivos establecidos.

Cualquier `metric` sin llaves es una métrica devuelta por los endpoints de [analítica](/es/x-ads-api/analytics#synchronous-analytics) de la API de Anuncios de X. Cualquier nombre entre \{llaves} indica una métrica derivada para esa categoría.

<div id="engagements">
  ### INTERACCIONES
</div>

|     |     |
| :--- | :--- |
| Métrica derivada | Cálculo de la métrica expuesta |
| {Impressions} | `promoted_tweet_search_impressions + promoted_tweet_timeline_impressions + promoted_tweet_profile_impressions` |
| {CPM} | `billed_charge_local_micro / {Impressions} / 1000` |
| \{Total Engagements} | `promoted_account_follows + promoted_tweet_search_engagements + promoted_tweet_timeline_engagements + promoted_tweet_profile_engagements` o `promoted_account_follows + promoted_tweet_search_clicks + promoted_tweet_search_replies + promoted_tweet_search_retweets + promoted_tweet_search_follows + promoted_tweet_timeline_clicks + promoted_tweet_timeline_replies + promoted_tweet_timeline_retweets + promoted_tweet_timeline_follows + promoted_tweet_profile_clicks + promoted_tweet_profile_replies + promoted_tweet_profile_retweets + promoted_tweet_profile_follows` |
| \{Engagement Rate} | `{Total Engagements} / {Impressions}` |
| {CPE} | `billed_charge_local_micro / {Total Engagements}` |
| \{Media Views} | `promoted_tweet_timeline_media_views + promoted_tweet_search_media_views + promoted_tweet_profile_media_views` |
| \{Media View Rate} | `{Media Views} / {Impressions}` |

### CLICKS\_EN\_EL\_SITIO\_WEB

|     |     |
| :--- | :--- |
| Métrica derivada | Cálculo de la métrica expuesta |
| {Impressions} | `promoted_tweet_search_impressions + promoted_tweet_timeline_impressions + promoted_tweet_profile_impressions` |
| {CPM} | `billed_charge_local_micro / {Impressions} / 1000` |
| \{Link Clicks} | `promoted_tweet_search_url_clicks + promoted_tweet_timeline_url_clicks + promoted_tweet_profile_url_clicks` |
| \{Click Rate} | `{Link Clicks} / {Impressions}` |
| {CPLC} | `billed_charge_local_micro / {Link Clicks}` |
| {Conversion} | `conversion_site_visits` |
| \{Conversion Rate} | `conversion_site_visits / {Impressions}` |
| {CPA} | `billed_charge_local_micro / conversion_site_visits` |

### APP\_INSTALLS y APP\_ENGAGEMENTS

|     |     |
| :--- | :--- |
| Métrica derivada | Cálculo de la métrica expuesta |
| {Impressions} | `promoted_tweet_search_impressions + promoted_tweet_timeline_impressions` |
| {CPM} | `billed_charge_local_micro / {Impressions} / 1000` |
| \{App Clicks} | `promoted_tweet_app_install_attempts + promoted_tweet_app_open_attempts + promoted_tweet_timeline_url_clicks + promoted_tweet_search_url_clicks` |
| \{App Click Rate} | `{App Clicks} / {Impressions}` |
| {CPAC} | `billed_charge_local_micro / {App Clicks}` |
| {CPI} | `billed_charge_local_micro / mobile_conversion_installs` |

<div id="followers">
  ### SEGUIDORES
</div>

|     |     |
| :--- | :--- |
| Métrica derivada | Cálculo de métrica expuesta |
| {Impressions} | `promoted_account_impressions` |
| {CPM} | `billed_charge_local_micro / {Impressions} / 1000` |
| {Followers} | `promoted_account_follows` |
| \{Follow Rate} | `promoted_account_follow_rate` |
| {CPF} | `billed_charge_local_micro / promoted_account_follows` |
| \{Media Views} | `promoted_tweet_timeline_media_views + promoted_tweet_search_media_views + promoted_tweet_profile_media_views` |
| \{Media View Rate} | `{Media Views} / {Impressions}` |

### GENERACIÓN\_DE\_LEADS

|     |     |
| :--- | :--- |
| Métrica derivada | Cálculo de métrica expuesta |
| {Impressions} | `promoted_tweet_search_impressions + promoted_tweet_timeline_impressions + promoted_tweet_profile_impressions` |
| {CPM} | `billed_charge_local_micro / {Impressions} / 1000` |
| {Leads} | `promoted_tweet_search_card_engagements + promoted_tweet_timeline_card_engagements + promoted_tweet_profile_card_engagements` |
| \{Lead Rate} | `{Leads} / {Impressions}` |
| \{Cost Per Lead} | `billed_charge_local_micro / {Leads}` |

### VIDEO\_VIEWS

|     |     |
| :--- | :--- |
| Métrica derivada | Cálculo de la métrica expuesta |
| {Impressions} | `promoted_tweet_search_impressions + promoted_tweet_timeline_impressions + promoted_tweet_profile_impressions` |
| {CPM} | `billed_charge_local_micro / {Impressions} / 1000` |
| \{Video Views} | `promoted_video_total_views` |
| \{Video Rate} | `promoted_video_total_views / {Impressions}` |
| \{Cost Per View} | `billed_charge_local_micro / promoted_video_total_views` |

### IMPRESIONES\_CALIFICADAS

|     |     |
| :--- | :--- |
| Métrica derivada | Cálculo de la métrica expuesta |
| {Impressions} | `promoted_tweet_search_impressions + promoted_tweet_timeline_impressions + promoted_tweet_profile_impressions` |
| {CPM} | `billed_charge_local_micro / {Impressions} / 1000` |
| \{Qualified Impressions} | `promoted_tweet_timeline_qualified_impressions + promoted_tweet_search_qualified_impressions + promoted_tweet_profile_qualified_impressions` |
| \{Qualified Impression Rate} | `{Qualified Impressions} / {Impressions}` |
| \{Cost Per 1000 Qualified Impressions } | `billed_charge_local_micro / {Qualified Impressions} / 1000` |

<div id="custom">
  ### PERSONALIZADO
</div>

Para `placement_type` de `PROMOTED_ACCOUNT`, consulta el objetivo `FOLLOWERS` anterior. Para todas las demás ubicaciones con este objetivo, consulta `ENGAGEMENTS` para ver las métricas derivadas correspondientes.

<div id="guides">
  ## Guías
</div>

<div id="active-entities">
  ### Entidades activas
</div>

<div id="introduction">
  #### Introducción
</div>

El [endpoint de Entidades activas](/es/x-ads-api/analytics#get-stats-accounts-account-id-active-entities) está diseñado para usarse junto con nuestros endpoints de analítica [sincrónica](/es/x-ads-api/analytics#get-stats-accounts-account-id) y [asíncrona](/es/x-ads-api/analytics#asynchronous-analytics), ya que proporciona información sobre qué campañas deben solicitar analíticas. Lo hace devolviendo detalles sobre las entidades de anuncios y cuándo cambiaron sus métricas. Usar este endpoint simplificará considerablemente su código y la lógica para obtener analíticas.

Esta guía incluye información y contexto sobre el endpoint y su fuente de datos. También proporciona [pautas de uso](#usage) y una serie de [ejemplos de solicitudes](#example), que muestran cómo usar Entidades activas junto con nuestros endpoints de analítica. La [sección de resumen](#summary) ofrece una descripción general del enfoque recomendado.

<div id="data">
  #### Datos
</div>

Cada vez que cambia una métrica de una entidad de anuncios, registramos información sobre ese cambio. Estos eventos de cambio se almacenan en intervalos horarios e incluyen detalles sobre la entidad, así como la hora a la que aplica el cambio. Esto último es necesario porque los eventos de cambio no siempre coinciden con el momento en que se registran. Los ajustes de facturación son una razón común para ello, aunque hay otras también.

<div id="endpoint">
  #### Endpoint
</div>

<div id="request">
  ### Solicitud
</div>

Las solicitudes de Entidades activas están dentro de cuentas de anuncios y tienen tres parámetros de consulta obligatorios: `entity`, `start_time` y `end_time`.

`twurl -H ads-api.x.com "/11/stats/accounts/18ce54d4x5t/active_entities?entity=PROMOTED_TWEET&start_time=2019-03-05T00:00:00Z&end_time=2019-03-06T00:00:00Z"`

Se admiten los siguientes valores para `entity`: `CAMPAIGN`, `FUNDING_INSTRUMENT`, `LINE_ITEM`, `MEDIA_CREATIVE`, `PROMOTED_ACCOUNT` y `PROMOTED_TWEET`. Esto refleja los tipos de entidad que admiten nuestros endpoints de analítica.

Los valores de `start_time` y `end_time` deben expresarse en formato [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) y especificar qué intervalos por hora consultar. Deben expresarse en horas completas.

Este endpoint también admite tres parámetros opcionales que se pueden usar para filtrar los resultados: `funding_instrument_ids`, `campaign_ids` y `line_item_ids`. Funcionan en todos los niveles de la jerarquía de anuncios y con cualquier tipo de `entity` especificado.

<div id="response">
  ### Respuesta
</div>

La respuesta de Entidades activas para la solicitud anterior se muestra a continuación.

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "entity": "PROMOTED_TWEET",
          "start_time": "2019-03-05T00:00:00Z",
          "end_time": "2019-03-06T00:00:00Z"
        }
      },
      "data": [
        {
          "entity_id": "2r0wxw",
          "activity_start_time": "2019-03-04T20:55:20Z",
          "activity_end_time": "2019-03-05T03:43:56Z",
          "placements": [
            "ALL_ON_TWITTER"
          ]
        },
        {
          "entity_id": "2r30fn",
          "activity_start_time": "2019-03-05T08:11:08Z",
          "activity_end_time": "2019-03-05T14:40:59Z",
          "placements": [
            "ALL_ON_TWITTER",
            "PUBLISHER_NETWORK"
          ]
        }
      ]
    }
```

La matriz `data` incluye un objeto por cada entidad que debe incluirse en una solicitud de analítica posterior. No debe solicitarse analítica para IDs fuera de este conjunto.

Cada objeto incluye cuatro campos: `entity_id`, `activity_start_time`, `activity_end_time` y `placements`. Las horas de inicio y fin de actividad representan el intervalo de tiempo al que aplican los eventos de cambio de la entidad asociada y, por lo tanto, determinan las fechas que deben especificarse en las solicitudes de analítica posteriores. La matriz `placements` puede incluir los siguientes valores: `ALL_ON_TWITTER`, `PUBLISHER_NETWORK`, `SPOTLIGHT` y `TREND`. Indica qué Ubicaciones deben solicitarse para el ID de entidad dado.

<div id="usage">
  #### Uso
</div>

El endpoint de Entidades activas debe guiar cómo se realizan las solicitudes de analítica. Las siguientes pautas de uso están diseñadas para facilitar la sincronización de analítica, permitiendo a los socios mantener sus almacenes de datos en sincronía con X. En otras palabras, describen cómo ejecutar sincronizaciones periódicas en segundo plano.

Hay dos decisiones que un desarrollador debe tomar.

1. Con qué frecuencia solicitar información de entidades activas y, por lo tanto, con qué frecuencia extraer analítica.
2. Cómo usar las horas de inicio y fin de la actividad para determinar los valores de `start_time` y `end_time` de la solicitud de analítica.

Estas se analizan con mayor detalle en cada una de las dos subsecciones a continuación, después del resumen.

<div id="summary">
  ### Resumen
</div>

Use el endpoint de Entidades activas de la siguiente manera para definir cómo se realizan las solicitudes de analítica. Siga estos pasos después de decidir con qué frecuencia solicitar la información de entidades activas y, por ende, con qué frecuencia extraer la analítica.

1. Realice la solicitud de Entidades activas.
2. Divida la respuesta por Ubicación. Un grupo para `ALL_ON_TWITTER`, uno para `PUBLISHER_NETWORK`, uno para `SPOTLIGHT` y uno para `TREND`.
3. Para cada grupo de Ubicación, haga lo siguiente.
   1. Extraiga los ID de entidad.
   2. Determine los valores de `start_time` y `end_time` de la analítica.
      • Encuentre el `activity_start_time` mínimo. Redondee este valor hacia abajo.
      • Encuentre el `activity_end_time` máximo. Redondee este valor hacia arriba.
   3. Realice las solicitudes de analítica.
      • Agrupe los ID de entidad en lotes de 20.
      • Use los valores de `start_time` y `end_time` del punto 3b.
      • Especifique el valor de `placement` correspondiente.
   4. Escriba en su almacén de datos.

Consulte [active\_entities.py](https://github.com/xdevplatform/twitter-python-ads-sdk/blob/master/examples/active_entities.py) como ejemplo que usa el SDK de Python.

<div id="frequency">
  ### Frecuencia
</div>

La respuesta a la primera pregunta determina el intervalo de tiempo que debe usarse en las solicitudes de Entidades activas. Por ejemplo, si se solicita información de Entidades activas cada hora, el intervalo de tiempo debe ser de una hora. Si se solicita información de Entidades activas una vez al día, el intervalo de tiempo debe ser de un día. En otras palabras, los intervalos de tiempo deben seleccionarse de modo que el `start_time` de la solicitud actual sea igual al `end_time` de la solicitud anterior.

<Note>
  **Nota**: Un intervalo de tiempo solo debe solicitarse una vez. Solicitar un intervalo más de una vez generará solicitudes de analítica innecesarias. (Excepción más abajo).
</Note>

Para los socios que deseen solicitar analítica varias veces por hora durante la hora _actual_, se aplica el mismo patrón: la frecuencia determina el intervalo de tiempo. La tabla a continuación muestra ejemplos de marcas de tiempo de inicio y fin de Entidades activas para este escenario.

|     |     |     |
| :--- | :--- | :--- |
| **Hora de la solicitud** | **Marca de tiempo de `start_time`** | **Marca de tiempo de `end_time`** |
| 00:15:00 | 00:00:00 | 00:15:00 |
| 00:30:00 | 00:15:00 | 00:30:00 |
| 00:45:00 | 00:30:00 | 00:45:00 |
| 01:00:00 | 00:45:00 | 01:00:00 |

Dada la forma en que se almacenan los eventos de cambio, las cuatro solicitudes de Entidades activas anteriores consultan el mismo bucket horario, lo cual es necesario para este caso de uso. Sin embargo, después de la hora actual, ya no se debe consultar ese bucket horario.

<div id="activity-times">
  ### Tiempos de actividad
</div>

Recomendamos el siguiente enfoque para trabajar con las horas de inicio y fin de la actividad. En todos los objetos de la respuesta de Entidades activas, busque el mínimo `activity_start_time` y el máximo `activity_end_time`. Modifique estos valores redondeando hacia abajo la hora mínima de inicio de actividad y redondeando hacia arriba la hora máxima de fin de actividad. En concreto, establezca en cero las horas, minutos y segundos de ambos y sume un día a la hora de finalización, como se ilustra en la siguiente tabla. Estos son los tiempos de inicio y fin que deben especificarse en solicitudes de analítica posteriores.

|     |     |
| :--- | :--- |
| **Tiempos de actividad mínimo y máximo** | **Tiempos derivados** |
| 2019-03-04T20:55:20Z  <br />  <br />2019-03-05T14:40:59Z | 2019-03-04T00:00:00Z  <br />  <br />2019-03-06T00:00:00Z |

**Nota**: Es importante incluir las marcas de tiempo con las horas, los minutos y los segundos establecidos en cero. De lo contrario, si solo se pasa la fecha, asumiremos que solicita analítica que comienza y termina a medianoche en la zona horaria de la cuenta de anuncios, lo cual puede no ser deseable. Por ejemplo, si la hora mínima de inicio de actividad es 2019-02-28T01:30:07Z y se omite la marca de tiempo para una cuenta de anuncios con un desfase de -08:00:00, la solicitud de analítica omitirá cambios que ocurrieron entre las 01:30 y las 08:00.

Como alternativa, si prefiere solicitar analítica solo para la ventana de tiempo de actividad devuelta sin expandirla a días completos, puede hacerlo. Con este enfoque, los tiempos de inicio y fin derivados serían 2019-03-04T20:00:00Z y 2019-03-05T15:00:00Z, respectivamente. (Tenga en cuenta que no se aceptan rangos como estos si especifica la granularidad `DAY` en la solicitud de analítica.)

<div id="example">
  #### Ejemplo
</div>

Esta sección muestra cómo usar Entidades activas junto con el endpoint de analítica sincrónica. (Las respuestas se han modificado ligeramente para facilitar la lectura). En este ejemplo, el endpoint de Entidades activas se invoca al inicio de cada hora, y cada solicitud considera la hora anterior. La respuesta determina cómo se usa el endpoint de analítica sincrónica.

La primera solicitud de Entidades activas se realiza a las 03:00:00. La respuesta indica que las métricas del elemento de línea dvcz7 cambiaron y que esos eventos de cambio aplican a la ventana entre 02:02:55 y 02:28:12.

```
`twurl -H ads-api.x.com "/11/stats/accounts/18ce54d4x5t/active_entities?entity=LINE_ITEM&start_time=2019-02-11T02:00:00Z&end_time=2019-02-11T03:00:00Z"`
```

```json
    {
      "request": {},
      "data": [
        {
          "entity_id": "dvcz7",
          "activity_start_time": "2019-02-11T02:02:55Z",
          "activity_end_time": "2019-02-11T02:58:12Z",
          "placements": [
            "ALL_ON_TWITTER"
          ]
        }
      ]
    }
```

Con base en estos tiempos de inicio y fin de actividad y usando el enfoque descrito arriba, los valores de `start_time` y `end_time` de analítica se establecen en 2019-02-11T00:00:00Z y 2019-02-12T00:00:00Z, respectivamente. Vemos que el tercer elemento de cada uno de los arreglos de métricas a continuación es distinto de cero, como esperábamos según la información de Entidades activas.

```
`twurl -H ads-api.x.com "/11/stats/accounts/18ce54d4x5t?entity=LINE_ITEM&entity_ids=dvcz7&start_time=2019-02-11T00:00:00Z&end_time=2019-02-12T00:00:00Z&granularity=HOUR&metric_groups=ENGAGEMENT,VIDEO&placement=ALL_ON_TWITTER"`
```

```json
    {
      "data_type": "stats",
      "time_series_length": 24,
      "data": [
        {
          "id": "dvcz7",
          "id_data": [
            {
              "segment": null,
              "metrics": {
                "impressions": [
                  0,0,2792,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                ],
                "engagements": [
                  0,0,60,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                ],
                "video_total_views": [
                  0,0,1326,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                ]
              }
            }
          ]
        }
      ],
      "request": {}
    }
```

La siguiente solicitud de Entidades activas ocurre a las 04:00:00 y solo considera la hora anterior. Como se mencionó arriba, una ventana de tiempo solo debe solicitarse una vez. Con base en la respuesta, vemos que los eventos de cambio para este elemento de línea aplican a ambas, 02:00:00 y 03:00:00. En la solicitud de analítica posterior, esperamos ver cambios para ambas horas.

```
`twurl -H ads-api.x.com "/11/stats/accounts/18ce54d4x5t/active_entities?entity= LINE_ITEM&start_time=2019-02-11T03:00:00Z&end_time=2019-02-11T04:00:00Z"`
```

```json
    {
      "request": {},
      "data": [
        {
          "entity_id": "dvcz7",
          "activity_start_time": "2019-02-11T02:07:17Z",
          "activity_end_time": "2019-02-11T03:49:22Z",
          "placements": [
            "ALL_ON_TWITTER"
          ]
        }
      ]
    }
```

Además de ver métricas distintas de cero para las 03:00:00, observamos que las impresiones, el gasto y las visualizaciones de video MRC se han actualizado respecto de sus valores anteriores. Las impresiones, por ejemplo, ahora son 2.995 para la hora de las 02:00:00, frente a 2.792. Esto demuestra cómo los eventos de cambio registrados durante la hora de las 03:00:00 se aplican a la hora de las 02:00:00.

```
`twurl -H ads-api.x.com "/11/stats/accounts/18ce54d4x5t?entity=LINE_ITEM&entity_ids=dvcz7&start_time=2019-02-11T00:00:00Z&end_time=2019-02-12T00:00:00Z&granularity=HOUR&metric_groups=ENGAGEMENT,VIDEO&placement=ALL_ON_TWITTER"`
```

```json
    {
      "data_type": "stats",
      "time_series_length": 24,
      "data": [
        {
          "id": "dvcz7",
          "id_data": [
            {
              "segment": null,
              "metrics": {
                "impressions": [
                  0,0,2995,734,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                ],
                "engagements": [
                  0,0,65,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                ],
                "video_total_views": [
                  0,0,1449,342,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                ]
              }
            }
          ]
        }
      ],
      "request": {}
    }
```

La solicitud de Entidades activas a las 05:00:00, nuevamente considerando solo la hora anterior, muestra que los eventos de cambio se aplican únicamente a la hora de las 03:00:00. Los cambios en las métricas de analítica de la solicitud posterior reflejan esto.

```
`twurl -H ads-api.x.com "/11/stats/accounts/18ce54d4x5t/active_entities?entity=LINE_ITEM&start_time=2019-02-11T04:00:00Z&end_time=2019-02-11T05:00:00Z"`
```

```json
    {
      "request": {},
      "data": [
        {
          "entity_id": "dvcz7",
          "activity_start_time": "2019-02-11T03:42:39Z",
          "activity_end_time": "2019-02-11T03:48:48Z",
          "placements": [
            "ALL_ON_TWITTER"
          ]
        }
      ]
    }
```

La respuesta de analítica muestra que solo han cambiado las métricas de la hora de las 03:00:00; los valores de la hora de las 02:00:00 son los mismos que en la solicitud de analítica anterior.

```
`twurl -H ads-api.x.com "/11/stats/accounts/18ce54d4x5t?entity=LINE_ITEM&entity_ids= dvcz7&start_time=2019-02-11T00:00:00Z&end_time=2019-02-12T00:00:00Z&granularity=HOUR&metric_groups=ENGAGEMENT,VIDEO&placement=ALL_ON_TWITTER"`
```

```json
    {
      "data_type": "stats",
      "time_series_length": 24,
      "data": [
        {
          "id": "dvcz7",
          "id_data": [
            {
              "segment": null,
              "metrics": {
                "impressions": [
                  0,0,2995,753,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                ],
                "engagements": [
                  0,0,65,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                ],
                "video_total_views": [
                  0,0,1449,351,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
                ]
              }
            }
          ]
        }
      ],
      "request": {}
    }
```

Finalmente, a las 06:00:00 vemos que no hay eventos de cambio adicionales. Nota: Esto no implica, sin embargo, que las métricas de esta línea de pedido no puedan cambiar en el futuro.

```
`twurl -H ads-api.x.com "/11/stats/accounts/18ce54d4x5t/active_entities?entity=LINE_ITEM&start_time=2019-02-11T05:00:00Z&end_time=2019-02-11T06:00:00Z"`
```

```json
    {
      "request": {},
      "data": []
    }
```

<div id="asynchronous-guide">
  ### Guía de asincronía
</div>

<div id="api-reference">
  ## Referencia de la API
</div>

<div id="asynchronous-analytics">
  ### Análisis asíncrono
</div>

<div id="introduction">
  #### Introducción
</div>

Los endpoints de analítica asíncrona permiten a socios y anunciantes solicitar métricas enviando solicitudes de creación que el servidor procesa de forma asíncrona (nos referimos a estas como “trabajos” de analítica asíncrona). Con este enfoque, la conexión del cliente no necesita permanecer abierta hasta que se complete la solicitud.

Estos endpoints, al igual que su contraparte síncrona, permiten a socios y anunciantes solicitar estadísticas detalladas sobre el rendimiento de las campañas. Admiten solicitar datos de cuentas, instrumentos de financiación, campañas, ítems de línea, Tweets promocionados y creatividades de medios. La diferencia con el endpoint síncrono es que los endpoints de analítica asíncrona admiten intervalos de fechas más largos (de hasta 90 días), así como segmentación. Puede encontrar más detalles sobre las diferencias entre ambos en nuestra página de [Descripción general de analítica](/es/x-ads-api/analytics).

A diferencia de nuestros endpoints síncronos, la limitación de tasa se basa en la cantidad de trabajos concurrentes para una cuenta determinada. En otras palabras, se basa en cuántos trabajos pueden estar en estado de procesamiento en un momento dado. Esto se contabiliza a nivel de la cuenta de anuncios.

<div id="usage">
  #### Uso
</div>

Obtener métricas de campaña mediante los endpoints de analítica asíncrona es un proceso de varios pasos. Consta de crear un trabajo, comprobar si ha terminado de procesarse y, por último, descargar los datos. El archivo de datos debe descomprimirse. A continuación se describen los cuatro pasos específicos.

1. Crea el trabajo utilizando el endpoint [POST stats/jobs/accounts/:account\_id](/es/x-ads-api/analytics#asynchronous-analytics).
2. Realiza solicitudes a intervalos regulares al endpoint [GET stats/jobs/accounts/:account\_id](/es/x-ads-api/analytics#asynchronous-analytics) para determinar si el trabajo ha terminado de procesarse.
3. Una vez que el trabajo haya terminado de procesarse, descarga el archivo de datos.
4. Descomprime el archivo de datos.

El objeto de respuesta devuelto en el archivo de datos tiene el mismo esquema JSON que la respuesta del endpoint de analítica síncrona.

Las métricas de campaña segmentadas solo están disponibles a través de los endpoints de analítica asíncrona. Las métricas de campaña pueden desglosarse por ubicación, género, intereses, palabras clave y más. Para ver la lista completa de opciones, consulta la página [Métricas y segmentación](/es/x-ads-api/analytics#metrics-and-segmentation). Para solicitar métricas segmentadas, utiliza el parámetro de solicitud `segmentation_type` al crear el trabajo.

<div id="example">
  #### Ejemplo
</div>

Esta sección muestra cómo usar los endpoints de analítica asíncrona.

Comience creando un trabajo con el endpoint [POST stats/jobs/accounts/:account\_id](/es/x-ads-api/analytics#asynchronous-analytics). El siguiente ejemplo solicita métricas de interacción —como impresiones, Me gusta, clics, etc.— para un line item específico durante una semana. (Tenga en cuenta que el intervalo de tiempo solicitado llega hasta, pero no incluye, el 20 de marzo, ya que la marca de tiempo está establecida a la medianoche).

```
$ twurl -X POST -H ads-api.x.com "/9/stats/jobs/accounts/18ce54d4x5t?entity=LINE_ITEM&entity_ids=el32n&start_time=2019-03-12T00:00:00Z&end_time=2019-03-20T00:00:00Z&granularity=TOTAL&placement=ALL_ON_TWITTER&metric_groups=ENGAGEMENT"
```

```json
    {
      "request": {
        "params": {
          "start_time": "2019-03-12T00:00:00Z",
          "entity_ids": [
            "el32n"
          ],
          "end_time": "2019-03-20T00:00:00Z",
          "placement": "ALL_ON_TWITTER",
          "granularity": "TOTAL",
          "entity": "LINE_ITEM",
          "metric_groups": [
            "ENGAGEMENT"
          ]
        }
      },
      "data": {
        "start_time": "2019-03-12T00:00:00Z",
        "segmentation_type": null,
        "url": null,
        "id_str": "1120829647711653888",
        "entity_ids": [
          "el32n"
        ],
        "end_time": "2019-03-20T00:00:00Z",
        "country": null,
        "placement": "ALL_ON_TWITTER",
        "id": 1120829647711653888,
        "expires_at": null,
        "account_id": "18ce54d4x5t",
        "status": "PROCESSING",
        "granularity": "TOTAL",
        "entity": "LINE_ITEM",
        "created_at": "2019-04-23T23:19:46Z",
        "platform": null,
        "updated_at": "2019-04-23T23:19:46Z",
        "metric_groups": [
          "ENGAGEMENT"
        ]
      }
    }
```

Esta respuesta no devuelve las métricas del line item. Solo proporciona información sobre el trabajo que acaba de crear. Se necesita el ID del trabajo para consultar su estado. Esto se muestra en los atributos de la respuesta `id` e `id_str`.

A continuación, deberá comprobar si el trabajo que creó usando el `id_str` de la respuesta anterior ha terminado de procesarse, lo cual se indica con `"status": "SUCCESS"` en la respuesta. Esto significa que los datos están listos para descargarse. El campo `url` contiene el enlace de descarga.

```
$ twurl -H ads-api.x.com "/9/stats/jobs/accounts/18ce54d4x5t?job_ids=1120829647711653888"
```

```json
    {
      "request": {
        "params": {
          "job_ids": [
            1120829647711653888
          ]
        }
      },
      "next_cursor": "1120828505715920896",
      "data": [
        {
          "start_time": "2019-03-12T00:00:00Z",
          "segmentation_type": null,
          "url": "https://ton.twimg.com/advertiser-api-async-analytics/zBkuuPeEVx-5OygDVcZpqNtwt51Z5X9d-_AXNRcyhBlhBOgOfi6UDmGBvUFJAKnHY9ABN8z9f9V3Wn4l3OmF4KzJDmTUjNCikq9JwBUYm2AP8pRRoV-kPUgR0PaIqAb4.json.gz",
          "id_str": "1120829647711653888",
          "entity_ids": [
            "el32n"
          ],
          "end_time": "2019-03-20T00:00:00Z",
          "country": null,
          "placement": "ALL_ON_TWITTER",
          "id": 1120829647711653900,
          "expires_at": "2019-04-25T23:19:48Z",
          "account_id": "18ce54d4x5t",
          "status": "SUCCESS",
          "granularity": "TOTAL",
          "entity": "LINE_ITEM",
          "created_at": "2019-04-23T23:19:46Z",
          "platform": null,
          "updated_at": "2019-04-23T23:19:48Z",
          "metric_groups": [
            "ENGAGEMENT"
          ]
        }
      ]
    }
```

Si bien en el ejemplo anterior pasamos un único ID de trabajo, en la práctica querrás usar el parámetro `job_ids` para consultar el estado de varios trabajos a la vez, especificando hasta 200 ID de trabajo.

A continuación, descarga el archivo de datos mediante el valor `url` indicado.

```
    $ wget https://ton.twimg.com/advertiser-api-async-analytics/zBkuuPeEVx-5OygDVcZpqNtwt51Z5X9d-_AXNRcyhBlhBOgOfi6UDmGBvUFJAKnHY9ABN8z9f9V3Wn4l3OmF4KzJDmTUjNCikq9JwBUYm2AP8pRRoV-kPUgR0PaIqAb4.json.gz
    --2019-04-23 17:52:12--  https://ton.twimg.com/advertiser-api-async-analytics/zBkuuPeEVx-5OygDVcZpqNtwt51Z5X9d-_AXNRcyhBlhBOgOfi6UDmGBvUFJAKnHY9ABN8z9f9V3Wn4l3OmF4KzJDmTUjNCikq9JwBUYm2AP8pRRoV-kPUgR0PaIqAb4.json.gz
    Resolving ton.twimg.com (ton.twimg.com)... 72.21.91.70
    Connecting to ton.twimg.com (ton.twimg.com)|72.21.91.70|:443... connected.
    HTTP request sent, awaiting response... 200 OK
    Length: 381 [application/gzip]
    Saving to: 'zBkuuPeEVx-5OygDVcZpqNtwt51Z5X9d-_AXNRcyhBlhBOgOfi6UDmGBvUFJAKnHY9ABN8z9f9V3Wn4l3OmF4KzJDmTUjNCikq9JwBUYm2AP8pRRoV-kPUgR0PaIqAb4.json.gz'

    zBkuuPeEVx-5OygDVcZpqNtwt51Z5 100%[=================================================>]     381  --.-KB/s    in 0s

    2019-04-23 17:52:12 (5.27 MB/s) - 'zBkuuPeEVx-5OygDVcZpqNtwt51Z5X9d-_AXNRcyhBlhBOgOfi6UDmGBvUFJAKnHY9ABN8z9f9V3Wn4l3OmF4KzJDmTUjNCikq9JwBUYm2AP8pRRoV-kPUgR0PaIqAb4.json.gz' saved [381/381]
```

Por último, descomprime el archivo.

```
`$ gunzip zBkuuPeEVx-5OygDVcZpqNtwt51Z5X9d-_AXNRcyhBlhBOgOfi6UDmGBvUFJAKnHY9ABN8z9f9V3Wn4l3OmF4KzJDmTUjNCikq9JwBUYm2AP8pRRoV-kPUgR0PaIqAb4.json.gz`
```

El contenido del archivo se muestra a continuación.

```json
`$ cat zBkuuPeEVx-5OygDVcZpqNtwt51Z5X9d-_AXNRcyhBlhBOgOfi6UDmGBvUFJAKnHY9ABN8z9f9V3Wn4l3OmF4KzJDmTUjNCikq9JwBUYm2AP8pRRoV-kPUgR0PaIqAb4.json`
```

```json
    {
      "data_type": "stats",
      "time_series_length": 1,
      "data": [
        {
          "id": "el32n",
          "id_data": [
            {
              "segment": null,
              "metrics": {
                "impressions": [
                  3482
                ],
                "tweets_send": null,
                "qualified_impressions": null,
                "follows": null,
                "app_clicks": null,
                "retweets": [
                  102
                ],
                "unfollows": null,
                "likes": [
                  15
                ],
                "engagements": [
                  171
                ],
                "clicks": [
                  30
                ],
                "card_engagements": null,
                "poll_card_vote": null,
                "replies": null,
                "carousel_swipes": null
              }
            }
          ]
        }
      ],
      "request": {
        "params": {
          "start_time": "2019-03-12T00:00:00Z",
          "segmentation_type": null,
          "entity_ids": [
            "el32n"
          ],
          "end_time": "2019-03-20T00:00:00Z",
          "country": null,
          "placement": "ALL_ON_TWITTER",
          "granularity": "TOTAL",
          "entity": "LINE_ITEM",
          "platform": null,
          "metric_groups": [
            "ENGAGEMENT"
          ]
        }
      }
    }
```

<div id="reach-and-average-frequency">
  ### Alcance y frecuencia media
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Ejecutar en Postman
</Button>

#### GET stats/accounts/:account\_id/reach/campaigns[](#get-stats-accounts-account-id-reach-campaigns "Enlace permanente a este encabezado")

Obtiene métricas de alcance y frecuencia media para las campañas especificadas.

<div id="resource-url">
  ### URL del recurso[](#resource-url "Permalink to this headline")
</div>

`https://ads-api.x.com/stats/accounts/:account_id/reach/campaigns`

<div id="parameters">
  ### Parámetros[](#parameters "Permalink to this headline")
</div>

| Nombre | Descripción |
| :--- | :--- |
| account\_id  <br />_obligatorio_ | Identificador de la cuenta aprovechada. Aparece en la ruta del recurso y, por lo general, es un parámetro obligatorio para todas las solicitudes de la API de Anuncios, excepto [GET accounts](/es/x-ads-api/campaign-management#accounts). La cuenta especificada debe estar asociada al usuario autenticado.<br /><br />Tipo: string<br /><br />Ejemplo: `18ce54d4x5t` |
| campaign\_ids  <br />_obligatorio_ | Limita la respuesta a las campañas deseadas especificando una lista de identificadores separada por comas. Se pueden proporcionar hasta 20 ID.<br /><br />**Nota**: Se pueden proporcionar hasta 20 ID de campaña.<br /><br />Tipo: string<br /><br />Ejemplo: `8fgzf` |
| end\_time  <br />_obligatorio_ | Limita los datos recuperados a la hora de finalización especificada, expresada en [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).<br /><br />**Nota**: Debe expresarse en horas completas (0 minutos y 0 segundos).<br /><br />Tipo: string<br /><br />Ejemplo: `2017-05-26T07:00:00Z` |
| start\_time  <br />_obligatorio_ | Limita los datos recuperados a la hora de inicio especificada, expresada en [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).<br /><br />**Nota**: Debe expresarse en horas completas (0 minutos y 0 segundos).<br /><br />Tipo: string<br /><br />Ejemplo: `2017-05-19T07:00:00Z` |

<div id="example-request">
  ### Ejemplo de solicitud[](#example-request "Enlace permanente a este encabezado")
</div>

`GET https://ads-api.x.com/12/stats/accounts/18ce54d4x5t/reach/campaigns?campaign_ids=8fgzf&start_time=2017-05-19&end_time=2017-05-26`

<div id="example-response">
  ### Respuesta de ejemplo[](#example-response "Enlace permanente a este encabezado")
</div>

```json
    {
      "request": {
        "params": {
          "campaign_ids": [
            "8fgzf"
          ],
          "start_time": "2017-05-19T00:00:00Z",
          "end_time": "2017-05-26T00:00:00Z",
          "account_id": "18ce54d4x5t"
        }
      },
      "data_type": "reach",
      "data": [
        {
          "id": "8fgzf",
          "total_audience_reach": 1217,
          "average_frequency": 1.01
        }
      ]
    }
```

#### GET stats/accounts/:account\_id/reach/funding\_instruments[](#get-stats-accounts-account-id-reach-funding-instruments "Enlace permanente a este encabezado")

Obtiene analíticas de alcance y frecuencia media para los instrumentos de financiación especificados.

### URL del recurso[](#resource-url "Enlace permanente a este título")

`https://ads-api.x.com/stats/accounts/:account_id/reach/funding_instruments`

<div id="parameters">
  ### Parámetros[](#parameters "Permalink to this headline")
</div>

| Nombre | Descripción |
| :--- | :--- |
| account\_id  <br />_required_ | El identificador de la cuenta utilizada. Aparece en la ruta del recurso y, por lo general, es un parámetro obligatorio para todas las solicitudes de la API de Anunciantes, excepto [GET accounts](/es/x-ads-api/campaign-management#accounts). La cuenta especificada debe estar asociada con el usuario autenticado.<br /><br />Tipo: string<br /><br />Ejemplo: `18ce54d4x5t` |
| funding\_instrument\_ids  <br />_required_ | Limita la respuesta a los instrumentos de financiación deseados especificando una lista de identificadores separados por comas. Se pueden proporcionar hasta 20 ID.<br /><br />**Nota**: Se pueden proporcionar hasta 20 ID de instrumentos de financiación.<br /><br />Tipo: string<br /><br />Ejemplo: `lygyi` |
| end\_time  <br />_required_ | Limita los datos recuperados a la hora de finalización especificada, expresada en [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).<br /><br />**Nota**: Debe expresarse en horas completas (0 minutos y 0 segundos).<br /><br />Tipo: string<br /><br />Ejemplo: `2017-05-26T07:00:00Z` |
| start\_time  <br />_required_ | Limita los datos recuperados a la hora de inicio especificada, expresada en [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).<br /><br />**Nota**: Debe expresarse en horas completas (0 minutos y 0 segundos).<br /><br />Tipo: string<br /><br />Ejemplo: `2017-05-19T07:00:00Z` |

<div id="example-request">
  ### Ejemplo de solicitud[](#example-request "Enlace permanente a este encabezado")
</div>

```
GET https://ads-api.x.com/12/stats/accounts/18ce54d4x5t/reach/funding_instruments?funding_instrument_ids=lygyi&start_time=2017-05-19&end_time=2017-05-26
```

<div id="example-response">
  ### Ejemplo de respuesta[](#example-response "Enlace permanente a este encabezado")
</div>

```json
    {
      "request": {
        "params": {
          "funding_instrument_ids": [
            "lygyi"
          ],
          "start_time": "2017-05-19T00:00:00Z",
          "end_time": "2017-05-26T00:00:00Z",
          "account_id": "18ce54d4x5t"
        }
      },
      "data_type": "reach",
      "data": [
        {
          "id": "lygyi",
          "total_audience_reach": 1217,
          "average_frequency": 1.01
        }
      ]
    }
```

<div id="synchronous-analytics">
  ### Análisis sincrónico
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Ejecutar en Postman
</Button>

#### GET stats/accounts/:account\_id[](#get-stats-accounts-account-id "Enlace permanente a este encabezado")

Obtiene analítica sincrónica de la cuenta actual. Se permite un intervalo de tiempo máximo (`end_time` - `start_time`) de 7 días.

### URL del recurso[](#resource-url "Enlace permanente a este encabezado")

`https://ads-api.x.com/12/stats/accounts/:account_id`

<div id="parameters">
  ### Parámetros[](#parameters "Permalink to this headline")
</div>

| Nombre | Descripción |
| :--- | :--- |
| account\_id  <br />_obligatorio_ | Identificador de la cuenta aprovechada. Aparece en la ruta del recurso y, por lo general, es un parámetro obligatorio para todas las solicitudes de la API de Anunciantes, excepto [GET accounts](/es/x-ads-api/campaign-management#accounts). La cuenta especificada debe estar asociada con el usuario autenticado.<br /><br />Tipo: string<br /><br />Ejemplo: `18ce54d4x5t` |
| end\_time  <br />_obligatorio_ | Limita los datos recuperados hasta la hora de finalización especificada, expresada en [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).<br /><br />**Nota**: Debe expresarse en horas completas (0 minutos y 0 segundos).<br /><br />Tipo: string<br /><br />Ejemplo: `2017-05-26T07:00:00Z` |
| entity  <br />_obligatorio_ | Tipo de entidad para el que se recuperarán datos.<br /><br />Tipo: enum<br /><br />Valores posibles: `ACCOUNT`, `CAMPAIGN`, `FUNDING_INSTRUMENT`, `LINE_ITEM`, `ORGANIC_TWEET`, `PROMOTED_ACCOUNT`, `PROMOTED_TWEET`, `MEDIA_CREATIVE` |
| entity\_ids  <br />_obligatorio_ | Entidades específicas para las que se recuperarán datos. Especifique una lista de ID de entidad separada por comas.<br /><br />**Nota**: Se pueden proporcionar hasta 20 ID de entidad.<br /><br />Tipo: string<br /><br />Ejemplo: `8u94t` |
| granularity  <br />_obligatorio_ | Especifica el nivel de granularidad de los datos recuperados.<br /><br />Tipo: enum<br /><br />Valores posibles: `DAY`, `HOUR`, `TOTAL` |
| metric\_groups  <br />_obligatorio_ | Métricas específicas que se deben devolver. Especifique una lista de Grupos de métricas separada por comas. Para obtener más información, consulte [Métricas y segmentación](/es/x-ads-api/analytics#metrics-and-segmentation).<br /><br />**Nota**: Los datos de `MOBILE_CONVERSION` deben solicitarse por separado.<br /><br />Tipo: enum<br /><br />Valores posibles: `BILLING`, `ENGAGEMENT`, `LIFE_TIME_VALUE_MOBILE_CONVERSION`, `MEDIA`, `MOBILE_CONVERSION`, `VIDEO`, `WEB_CONVERSION` |
| placement  <br />_obligatorio_ | Limita los datos recuperados a una Ubicación específica.<br /><br />**Nota**: Solo se acepta un único valor por solicitud. Para entidades con Ubicación tanto en X como en X Audience Platform, se requieren solicitudes por separado, una por cada valor de Ubicación.<br /><br />Tipo: enum<br /><br />Valores posibles: `ALL_ON_TWITTER`, `PUBLISHER_NETWORK`, `SPOTLIGHT`, `TREND` |
| start\_time  <br />_obligatorio_ | Limita los datos recuperados a la hora de inicio especificada, expresada en [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).<br /><br />**Nota**: Debe expresarse en horas completas (0 minutos y 0 segundos).<br /><br />Tipo: string<br /><br />Ejemplo: `2017-05-19T07:00:00Z` |

<div id="example-request">
  ### Ejemplo de solicitud[](#example-request "Enlace permanente a este encabezado")
</div>

```
GET https://ads-api.x.com/12/stats/accounts/18ce54d4x5t?entity=LINE_ITEM&entity_ids=8u94t&start_time=2017-05-19&end_time=2017-05-26&granularity=TOTAL&placement=ALL_ON_TWITTER&metric_groups=ENGAGEMENT
```

<div id="example-response">
  ### Respuesta de ejemplo[](#example-response "Enlace permanente a este encabezado")
</div>

```json
    {
      "data_type": "stats",
      "time_series_length": 1,
      "data": [
        {
          "id": "8u94t",
          "id_data": [
            {
              "segment": null,
              "metrics": {
                "impressions": [
                  1233
                ],
                "tweets_send": null,
                "qualified_impressions": null,
                "follows": null,
                "app_clicks": null,
                "retweets": null,
                "likes": [
                  1
                ],
                "engagements": [
                  58
                ],
                "clicks": [
                  58
                ],
                "card_engagements": null,
                "poll_card_vote": null,
                "replies": null,
                "carousel_swipes": null
              }
            }
          ]
        }
      ],
      "request": {
        "params": {
          "start_time": "2017-05-19T07:00:00Z",
          "segmentation_type": null,
          "entity_ids": [
            "8u94t"
          ],
          "end_time": "2017-05-26T07:00:00Z",
          "country": null,
          "placement": "ALL_ON_TWITTER",
          "granularity": "TOTAL",
          "entity": "LINE_ITEM",
          "platform": null,
          "metric_groups": [
            "ENGAGEMENT"
          ]
        }
      }
    }
```

<div id="active-entities">
  ### Entidades activas
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Ejecutar en Postman
</Button>

#### GET stats/accounts/:account\_id/active\_entities[](#get-stats-accounts-account-id-active-entities "Permalink to this headline")

Recupere detalles sobre qué entidades han tenido cambios en sus métricas de analítica en un periodo de tiempo determinado.

Este endpoint debe usarse junto con nuestros endpoints de analítica. Los resultados de este endpoint indican para qué entidades de anuncios se debe solicitar analítica. Consulte nuestra [Guía de Entidades activas](/es/x-ads-api/analytics#active-entities) para conocer las pautas de uso.

Los eventos de cambio están disponibles en intervalos de una hora.

- Los valores `start_time` y `end_time` especifican qué intervalos de una hora consultar.
- El arreglo `data` devuelto incluirá un objeto por cada entidad que deba incluirse en solicitudes de analítica posteriores.
- **IMPORTANTE**: Las fechas que deben especificarse en solicitudes de analítica posteriores deben determinarse en función de los valores `activity_start_time` y `activity_end_time`.
  - Estos valores representan los rangos de tiempo a los que se aplican los eventos de cambio almacenados. Esto se devuelve por entidad.

**Nota**: Se permite un rango de tiempo máximo (`end_time` - `start_time`) de 90 días.

### URL del recurso[](#resource-url "Enlace permanente a este encabezado")

`https://ads-api.x.com/12/stats/accounts/:account_id/active_entities`

<div id="parameters">
  ### Parámetros[](#parameters "Permalink to this headline")
</div>

| Nombre | Descripción |
| :--- | :--- |
| account\_id  <br />_obligatorio_ | El identificador de la cuenta utilizada. Aparece en la ruta del recurso y, por lo general, es un parámetro obligatorio para todas las solicitudes de la API de Anunciantes, excepto [GET accounts](/es/x-ads-api/campaign-management#accounts). La cuenta especificada debe estar asociada con el usuario autenticado.<br /><br />Tipo: string<br /><br />Ejemplo: `18ce54d4x5t` |
| end\_time  <br />_obligatorio_ | Delimita los datos recuperados a la hora de finalización especificada, expresada en [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).<br /><br />**Nota**: Debe expresarse en horas completas (0 minutos y 0 segundos).<br /><br />Tipo: string<br /><br />Ejemplo: `2017-05-26T07:00:00Z` |
| entity  <br />_obligatorio_ | El tipo de entidad para la que se recuperarán datos.<br /><br />Tipo: enum<br /><br />Valores posibles: `CAMPAIGN`, `FUNDING_INSTRUMENT`, `LINE_ITEM`, `MEDIA_CREATIVE`, `PROMOTED_ACCOUNT`, `PROMOTED_TWEET` |
| start\_time  <br />_obligatorio_ | Delimita los datos recuperados a la hora de inicio especificada, expresada en [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).<br /><br />**Nota**: Debe expresarse en horas completas (0 minutos y 0 segundos).<br /><br />Tipo: string<br /><br />Ejemplo: `2017-05-19T07:00:00Z` |
| campaign\_ids  <br />_opcional_ | Limita la respuesta a las entidades asociadas solo con las campañas deseadas indicando una lista de identificadores separados por comas. Se pueden proporcionar hasta 200 ID.<br /><br />**Nota**: Mutuamente excluyente con `funding_instrument_ids` y `line_item_ids`.<br /><br />Tipo: string<br /><br />Ejemplo: `8wku2` |
| funding\_instrument\_ids  <br />_opcional_ | Limita la respuesta a las entidades asociadas solo con los instrumentos de financiación deseados indicando una lista de identificadores separados por comas. Se pueden proporcionar hasta 200 ID.<br /><br />**Nota**: Mutuamente excluyente con `campaign_ids` y `line_item_ids`.<br /><br />Tipo: string<br /><br />Ejemplo: `lygyi` |
| line\_item\_ids  <br />_opcional_ | Limita la respuesta a las entidades asociadas solo con los line items deseados indicando una lista de identificadores separados por comas. Se pueden proporcionar hasta 200 ID.<br /><br />**Nota**: Mutuamente excluyente con `campaign_ids` y `funding_instrument_ids`.<br /><br />Tipo: string<br /><br />Ejemplo: `8v7jo` |

### Ejemplo de solicitud[](#example-request "Permalink to this headline")

`GET https://ads-api.x.com/12/stats/accounts/18ce54d4x5t/active_entities?entity=PROMOTED_TWEET&start_time=2019-02-28&end_time=2019-03-01`

<div id="example-response">
  ### Respuesta de ejemplo[](#example-response "Enlace permanente a este encabezado")
</div>

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "entity": "PROMOTED_TWEET",
          "start_time": "2019-02-28T08:00:00Z",
          "end_time": "2019-03-01T08:00:00Z"
        }
      },
      "data": [
        {
          "entity_id": "2mvb28",
          "activity_start_time": "2019-02-28T01:30:07Z",
          "activity_end_time": "2019-03-01T07:42:55Z",
          "placements": [
            "ALL_ON_TWITTER"
          ]
        },
        {
          "entity_id": "2mvb29",
          "activity_start_time": "2019-02-27T11:30:07Z",
          "activity_end_time": "2019-03-01T07:42:50Z",
          "placements": [
            "ALL_ON_TWITTER",
            "PUBLISHER_NETWORK"
          ]
        },
        {
          "entity_id": "2mvfan",
          "activity_start_time": "2019-02-27T09:00:05Z",
          "activity_end_time": "2019-03-01T06:06:36Z",
          "placements": [
            "PUBLISHER_NETWORK"
          ]
        },
        {
          "entity_id": "2n17dx",
          "activity_start_time": "2019-02-28T02:02:26Z",
          "activity_end_time": "2019-03-01T07:52:44Z",
          "placements": [
            "ALL_ON_TWITTER",
            "PUBLISHER_NETWORK"
          ]
        }
      ]
    }
```