---
title: Abfrage des authentifizierten Benutzers
sidebarTitle: Abfrage des authentifizierten Benutzers
---

import { Button } from '/snippets/de/button.mdx';

<div id="getting-started-with-the-authenticated-user-lookup-endpoint">
  ## Erste Schritte mit dem Endpunkt „Authenticated User Lookup“
</div>

Diese Schnellstartanleitung hilft Ihnen, Ihre erste Anfrage an den Endpunkt für die Abfrage des authentifizierten Nutzers mit Postman zu stellen.

Bitte besuchen Sie unser GitHub-Repository mit [Beispielcode für die X-API v2](https://github.com/xdevplatform/Twitter-API-v2-sample-code), wenn Sie Beispielcode in verschiedenen Sprachen sehen möchten.

<Note>
  ### Voraussetzungen

  Um diese Anleitung abzuschließen, benötigen Sie einen Satz an [Schlüsseln und Tokens](/de/resources/fundamentals/authentication), um Ihre Anfrage zu authentifizieren. Sie können diese Schlüssel und Tokens generieren, indem Sie die folgenden Schritte ausführen:

  - [Registrieren Sie sich für ein Entwicklerkonto](https://developer.x.com/en/apply-for-access) und lassen Sie es genehmigen.
  - Erstellen Sie ein [Projekt](/de/resources/fundamentals/projects) und eine zugehörige [Developer-App](/de/resources/fundamentals/developer-apps) im Developer-Portal.
  - Navigieren Sie zur Seite „Keys and tokens“ Ihrer App, um die erforderlichen Anmeldedaten zu generieren. Stellen Sie sicher, dass Sie alle Anmeldedaten an einem sicheren Ort speichern.
</Note>

<div id="steps-to-build-an-authenticated-user-lookup-request">
  ### Schritte zum Erstellen einer authentifizierten Benutzer-Lookup-Anfrage
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### Schritt eins: Beginnen Sie mit einem Tool oder einer Bibliothek
</div>

Es gibt verschiedene Tools, Codebeispiele und Bibliotheken, mit denen Sie eine Anfrage an diesen Endpunkt stellen können. Wir verwenden hier jedoch Postman, um den Prozess zu vereinfachen.

Um die X-API-v2-Postman-Collection in Ihre Umgebung zu laden, klicken Sie bitte auf die folgende Schaltfläche:

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  X-API v2 zu Postman hinzufügen
</Button>

Sobald Sie die X-API-v2-Collection in Postman geladen haben, navigieren Sie zum Ordner „Authenticated User Lookup“ und wählen Sie „Lookup an Authenticated User“ aus.

<div id="step-two-authenticate-your-request">
  #### Schritt zwei: Authentifizieren Sie Ihre Anfrage
</div>

Um korrekt eine Anfrage an die X-API zu stellen, müssen Sie nachweisen, dass Sie die erforderliche Berechtigung haben. Für diesen Endpunkt müssen Sie Ihre Anfrage entweder mit [OAuth 1.0a User Context](/de/resources/fundamentals/authentication) oder [OAuth 2.0 Authorization Code mit PKCE](de/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) authentifizieren.

In diesem Beispiel verwenden wir OAuth 1.0a User Context.

Fügen Sie Ihre Keys und Tokens – konkret Ihren API Key, API Secret Key, den OAuth 1.0a User Access Token sowie den OAuth 1.0a User Access Token Secret – in Postman hinzu. Wählen Sie dazu oben rechts in Postman die Umgebung „X API v2“ aus und tragen Sie Ihre Keys und Tokens in die Felder „initial value“ und „current value“ ein (klicken Sie auf das Augensymbol neben der Umgebungs-Dropdown-Liste).

Diese Variablen werden automatisch in den Reiter „Authorization“ der Anfrage übernommen, wenn Sie dies korrekt eingerichtet haben.
 

<div id="step-three-determine-which-user-fields-you-want-to-retrieve">
  ##### Schritt drei: Bestimmen Sie, welche Benutzerfelder Sie abrufen möchten
</div>

Wenn Sie nach Schritt drei auf die Schaltfläche „Send“ klicken, erhalten Sie in Ihrer Antwort die Standardfelder des [Benutzerobjekts](/de/x-api/fundamentals/data-dictionary#user): id, name und username.

Wenn Sie zusätzliche Felder über id, name und username hinaus erhalten möchten, müssen Sie diese Felder in Ihrer Anfrage mit den Parametern [fields](/de/x-api/fundamentals/fields) und/oder [expansions](/de/x-api/fundamentals/expansions) angeben.

Für diese Übung fordern wir drei zusätzliche Feldsätze aus verschiedenen Objekten an:

1. Das zusätzliche Feld user.created\_at in den primären Benutzerobjekten.

2. Die zugehörigen Standardfelder des angehefteten Post-Objekts für die zurückgegebenen Benutzer: id und text.

3. Das zusätzliche Feld tweet.created\_at in den zugehörigen Post-Objekten.

Navigieren Sie in Postman zur Registerkarte „Params“ und fügen Sie der Tabelle „Query Params“ das folgende Key:Value-Paar hinzu:

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Returned fields** |
| user.fields | created\_at | user.created\_at |
| expansions | pinned\_tweet\_id | includes.tweets.id,  <br />includes.tweets.text |
| tweet.fields | created\_at, author\_id | includes.tweets.created\_at, includes\_tweets.author\_id |

Sie sollten nun neben der Schaltfläche „Send“ eine ähnliche URL sehen:

```
      https://api.x.com/2/users/me?user.fields=created_at&expansions=pinned_tweet_id&tweet.fields=author_id,created_at
```