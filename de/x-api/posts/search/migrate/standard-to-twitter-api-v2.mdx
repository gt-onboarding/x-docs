---
title: v1 auf v2
sidebarTitle: v1 auf v2
---

<div id="standard-v11-compared-to-x-api-v2">
  ### Standard v1.1 im Vergleich zur X-API v2
</div>

Wenn Sie mit der v1.1 [search/posts](/de/x-api/posts/search/introduction) gearbeitet haben, soll Ihnen dieser Leitfaden helfen, die Gemeinsamkeiten und Unterschiede zwischen dem Standard-Endpoint und dem X-API v2-Endpoint für die Posts-Suche zu verstehen.

- **Gemeinsamkeiten**
  - OAuth 1.0a User Context und OAuth 2.0 App-Only
  - Unterstützung für Bearbeitungshistorie und Metadaten von Posts
- **Unterschiede**
  - Endpoint-URLs

  - Anforderungen an App und Projekt

  - Format der Antwortdaten

  - Anfrageparameter

  - Neue Abfrageoperatoren

  - Vorrang von AND-/OR-Operatoren 

<div id="similarities">
  #### Gemeinsamkeiten
</div>

**OAuth 1.0a User Context und OAuth 2.0 App-Only-Authentifizierung**

Die v1.1-Suche/Posts und der X-API-v2-Endpoint für „Recent Search“ unterstützen sowohl [OAuth 1.0a User Context](/de/resources/fundamentals/authentication) als auch [OAuth 2.0 App-Only](/de/resources/fundamentals/authentication#oauth-2-0).

Wenn Sie zuvor den Standard-v1.1-Such-Endpoint verwendet haben, können Sie bei der Migration auf die Version der X-API v2 dieselbe Authentifizierungsmethode weiterverwenden.

Je nach Ihrer bevorzugten Authentifizierungsbibliothek bzw. Ihrem Paket ist die App-Only-Authentifizierung wahrscheinlich der einfachste Einstieg und kann über einen einfachen Request-Header gesetzt werden. Wie Sie ein App Access Token erzeugen, erfahren Sie in diesem [OAuth-2.0-App-Only-Leitfaden](/de/resources/fundamentals/authentication#bearer-token-also-known-as-app-only).

Wenn Sie mit dem X-API-v2-Endpoint private oder Werbemetriken abrufen möchten, müssen Sie OAuth 1.0a User Context verwenden und die User-Access-Tokens des Nutzers übergeben, der den Post veröffentlicht hat, zu dem Sie Metriken abrufen möchten.

**Unterstützung für Post-Bearbeitungshistorie und Metadaten**

Beide Versionen stellen Metadaten bereit, die eine etwaige Bearbeitungshistorie beschreiben. Weitere Details finden Sie in den [Search-API-Referenzen](/de/x-api/posts/recent-search) und auf der Seite [Grundlagen zu Post-Bearbeitungen](/de/x-api/fundamentals/edit-posts). 

<div id="differences">
  #### Unterschiede
</div>

**Endpoint-URLs**

- Standard-v1.1-Endpunkte:
  - https://api.x.com/1.1/search/tweets

- X-API-v2-Endpunkt:
  - https://api.x.com/2/tweets/search/recent
     

**App- und Projektanforderungen**

Die X-API-v2-Endpunkte setzen voraus, dass Sie bei der Authentifizierung Ihrer Anfragen Anmeldedaten aus einer [Developer App](/de/resources/fundamentals/developer-apps) verwenden, die einem [Project](/de/resources/fundamentals/projects) zugeordnet ist. Alle X-API-v1.1-Endpunkte können Anmeldedaten von eigenständigen Apps oder von Apps verwenden, die einem Project zugeordnet sind. 

**Antwortdatenformat**

Einer der größten Unterschiede zwischen Standard v1.1 und den X-API-v2-Endpunkten ist, wie Sie auswählen, welche Felder in Ihrer Payload zurückgegeben werden.

Bei den Standardendpunkten erhalten Sie viele der Antwortfelder standardmäßig und können zusätzlich Parameter verwenden, um festzulegen, welche Felder oder Feldgruppen in der Payload zurückgegeben werden sollen.

Die X-API v2 liefert standardmäßig nur die Felder Post-id und text. Um zusätzliche Felder oder Objekte anzufordern, müssen Sie die Parameter [fields](/de/x-api/fundamentals/fields) und [expansions](/de/x-api/fundamentals/expansions) verwenden. Alle Post-Felder, die Sie von diesen Endpunkten anfordern, werden im primären Post-Objekt zurückgegeben. Alle erweiterten user-, media-, poll- oder place-Objekte und -Felder werden in einem includes-Objekt in Ihrer Antwort zurückgegeben. Sie können dann alle erweiterten Objekte dem Post-Objekt zuordnen, indem Sie die IDs abgleichen, die sowohl im Post als auch im erweiterten Objekt enthalten sind. 

Wir empfehlen, mehr über diese neuen Parameter in den jeweiligen Leitfäden zu lesen oder unseren Leitfaden dazu, [wie man fields und expansions nutzt](/de/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions), zu konsultieren. 

Wir haben außerdem einen [Leitfaden zur Datenformatmigration](/de/x-api/migrate/data-format-migration#migrating-from-standard-v1-1s-data-format-to-v2) zusammengestellt, der Ihnen hilft, Standard-v1.1-Felder den neueren v2-Feldern zuzuordnen. Dieser Leitfaden liefert Ihnen auch die spezifischen Expansion- und Field-Parameter, die Sie mit Ihrer v2-Anfrage übergeben müssen, um bestimmte Felder zurückzugeben. 
 

Zusätzlich zu den Änderungen bei der Anforderung bestimmter Felder führt die X-API v2 auch neue JSON-Designs für die von den APIs zurückgegebenen Objekte ein, einschließlich [Post](/de/x-api/fundamentals/data-dictionary#tweet)- und [user](/de/x-api/fundamentals/data-dictionary#user)-Objekten.

- Auf der JSON-Root-Ebene geben die Standardendpunkte Post-Objekte in einem statuses-Array zurück, während die X-API v2 ein data-Array zurückgibt. 
- Anstatt sich auf Retweeted- und Quoted-„statuses“ zu beziehen, verweist die X-API v2 im JSON auf Retweeted und Quoted Tweets. Viele Legacy- und veraltete Felder, wie contributors und user.translator\_type, werden entfernt. 
- Anstatt sowohl favorites (im Post-Objekt) als auch favourites (im user-Objekt) zu verwenden, verwendet die X-API v2 den Begriff like. 
- X übernimmt die Konvention, dass JSON-Werte ohne Wert (z. B. null) nicht in die Payload geschrieben werden. Post- und user-Attribute werden nur aufgenommen, wenn sie nicht null sind. 
   

Wir haben dem [Post-Objekt](/de/x-api/fundamentals/data-dictionary#tweet) auch eine neue Reihe von Feldern hinzugefügt, darunter:

- Ein [conversation\_id](/de/x-api/fundamentals/conversation-id)-Feld
- Zwei neue [annotations](/de/x-api/fundamentals/post-annotations)-Felder, einschließlich context und entities
- Mehrere neue [metrics](/de/x-api/fundamentals/metrics)-Felder 
- Ein neues reply\_setting-Feld, das zeigt, wer auf einen bestimmten Post antworten kann

<div id="request-parameters">
  #### Anfrageparameter
</div>

Die folgenden Standardanfrageparameter von v1.1 haben Entsprechungen in der X-API v2:

| Standardsuche v1.1 | Search Posts v2 |
| :--- | :--- |
| q   | query |
|     | start\_time (YYYY-MM-DDTHH:mm:ssZ) |
| until (YYYY-MM-DD) | end\_time (YYYY-MM-DDTHH:mm:ssZ) |
| since\_id | since\_id |
| max\_id | until\_id |
| count | max\_results |
| Response provides search\_metadata.next\_results | next\_token |

Es gibt außerdem eine Reihe von Standardparametern für Search Posts, die in der X-API v2 **nicht** unterstützt werden:

| **Standardparameter v1.1** | **Details** |
| :--- | :--- |
| geocode | Search Posts auf der Basic-Access-Stufe unterstützt keine Geo-Operatoren. |
| locale | Bei der Standardsuche wurde dies genutzt, um die Sprache der Abfrage anzugeben, jedoch nie vollständig implementiert. |
| lang | Die Search-Posts-Endpunkte bieten einen lang-Abfrageoperator zum Abgleich gewünschter Sprachen. |
| include\_entities | Post-Entities sind immer enthalten. |
| result\_type | Die Search-Posts-Endpunkte liefern alle passenden Posts, unabhängig vom Engagement-Level. |
| extended | Die X-API v2 ist von Grund auf dafür ausgelegt, Posts mit bis zu 280 Zeichen zu unterstützen. In v2 gibt es kein Konzept „erweiterter“ (extended) Posts. |

Hier ist eine Beispielanfrage, die den Unterschied zwischen einer Standardanfrage und einer Search-Posts-Anfrage zeigt:

|     |     |
| :--- | :--- |
| **Standard v1.1** | **X API v2** |
| https://api.x.com/1.1/search/tweets.json?q=snow\&count=50 | https://api.x.com/2/tweets/search/recent?query=snow\&max\_results=50 |

Beide Anfragen liefern die 50 neuesten Posts, die das Schlüsselwort snow enthalten. Die v2-Anfrage liefert die Standardfelder id und text der passenden Posts. Hier ein Beispiel, wie zusätzliche Post- und Benutzerfelder angegeben werden, die in die JSON-Nutzlast aufgenommen werden sollen:

|     |
| :--- |
| **X API v2** |
| https://api.x.com/2/tweets/search/recent?query=snow\&max\_results=50\&tweet.fields=id,created\_at,author\_id,text,source,entities,attachments\&user.fields=id,name,username,description |

**Neue Abfrageoperatoren**

Search Posts führt neue Operatoren zur Unterstützung von zwei neuen Funktionen der X-API v2 ein:

- **[Conversation IDs](/de/x-api/fundamentals/conversation-id)** – Wenn sich Unterhaltungen auf X entwickeln, steht eine Conversation-ID zur Verfügung, um Posts zu kennzeichnen, die Teil der Unterhaltung sind. Alle Posts in der Unterhaltung haben ihre conversation\_id auf die Post-ID gesetzt, die sie gestartet hat.
  - `conversation_id:`
- **[X Annotations](/de/x-api/fundamentals/post-annotations)** liefern Kontextinformationen zu Posts und umfassen Entity- und Kontextannotationen. Entities bestehen aus Personen, Orten, Produkten und Organisationen. Kontexte sind Domänen bzw. Themen, zu denen die hervorgehobenen Entities gehören. Beispielsweise können Personen, die in einem Post erwähnt werden, einen Kontext haben, der angibt, ob sie Athlet, Schauspieler oder Politiker sind.
  - context: trifft auf Posts zu, die mit einem interessierenden Kontext annotiert wurden.
  - entity: trifft auf Posts zu, die mit einer interessierenden Entity annotiert wurden. 

     

#### Operatorpräzedenz AND / OR 

Der grundlegende Baustein für das Erstellen von Suchabfragen ist die Verwendung logischer Gruppierungen mit OR und AND. Die Standard-Such-API wertet OR vor AND aus, während die Search-Posts-Endpunkte (sowie die Premium- und Enterprise-Versionen) AND vor OR auswerten. Dieser Unterschied ist entscheidend, wenn Abfragen zwischen beiden übersetzt werden. 

Beispielsweise können Sie mit der Standardsuche, wenn Sie Posts mit dem Schlüsselwort „storm“ finden möchten, die das Wort „colorado“ oder den Hashtag #COwx erwähnen, die folgende Suchabfrage verwenden:

storm #COwx OR colorado

Bei der Operatorpräzedenz von Search Posts wird AND vor OR angewendet. Daher ist die obige Abfrage gleichbedeutend mit: 

(storm #COwx) OR colorado

Die obige Regel würde jedoch auf alle Posts zutreffen, die „Colorado“ erwähnen, unabhängig davon, ob der Post „storm“ oder den Hashtag #COwx erwähnt. Außerdem würde sie auch Posts erfassen, die sowohl das Schlüsselwort „storm“ als auch den Hashtag #COwx erwähnen. 

Damit sich die Abfrage wie ursprünglich beabsichtigt verhält, müssen die OR-Klauseln zusammen gruppiert werden. Die Übersetzung der ursprünglichen Standardabfrage in Search Posts lautet:

storm (#COwx OR colorado)

Diese beiden Regeln haben ein sehr unterschiedliches Matching-Verhalten. Für den Monat Oktober 2019 stimmt die ursprüngliche Regel mit über 1.175.000 Posts überein, während die korrekt übersetzte Regel etwa 5.600 Posts erfasst. Achten Sie auf Ihre ANDs und ORs und setzen Sie Klammern, wo nötig. 

<div id="curl-requests">
  #### cURL-Anfragen
</div>

**Im folgenden Abschnitt finden Sie cURL-Anfragen für den Standardendpunkt v1.1 und den entsprechenden Endpunkt in v2.**

Die Anfragen werden mit \[OAuth 2.0 App-Only]\(https://developer.x.com(/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token). In order to run the following cURL requests, you will need to replace ACCESS\_TOKEN in the authorization header with your app access token. Für v2-Endpunkte muss das Zugriffstoken Ihrer App zu einer [Developer-App](/de/resources/fundamentals/developer-apps/overview) innerhalb eines [Projekts](/de/resources/fundamentals/projects/overview) gehören.

Die vom v1.1-Endpunkt zurückgegebene Nutzlast unterscheidet sich von der des v2-Endpunkts. In v2 umfasst die Antwort die Standardfelder sowie alle weiteren Felder, die mit den Parametern [fields](/de/x-api/fundamentals/fields) und [expansions](/de/x-api/fundamentals/expansions) angefordert werden. Mit diesen Parametern können Sie festlegen, welche Felder zurückgegeben werden.

**Standard v1.1 [GET search/tweets](https://developer.x.com/en/docs/twitter-api/v1/tweets/search/api-reference/get-search-tweets) und v2 [GET tweets/search/recent](/de/x-api/posts/recent-search) Endpunkte**

```bash
      curl --request GET \
  --url 'https://api.x.com/1.1/search/tweets.json?q=from%3ATwitterDev%20-is%3Aretweet&count=100' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```

```bash
      curl --request GET \
  --url 'https://api.x.com/2/tweets/search/recent?query=from%3ATwitterDev%20-is%3Aretweet&tweet.fields=created_at%2Cconversation_id%2Centities&max_results=100' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```

**Nächste Schritte**

[Sehen Sie sich unseren Schnellstartleitfaden zur Recent Search der X-API v2 an](/de/x-api/posts/search/quickstart/recent-search)

[Lesen Sie die API-Referenz zur Recent Search](/de/x-api/posts/recent-search)

[Sehen Sie sich Beispielcode für diese Endpunkte an](https://github.com/xdevplatform/Twitter-API-v2-sample-code "Check out some sample code for these endpoints")

[Schritt-für-Schritt-Anleitung für Ihre erste Anfrage an die Recent Search](/de/x-api/getting-started/make-your-first-request "Step-by-step guide to making your first request to recent search")