---
title: Beiträge durchsuchen (Vollarchivsuche)
sidebarTitle: Beiträge durchsuchen (Vollarchivsuche)
---

import { Button } from '/snippets/de/button.mdx';

<div id="getting-started-with-the-full-archive-post-counts-endpoint">
  ### Erste Schritte mit dem Vollarchiv-Endpunkt für Post-Zählungen
</div>

Dieser Schnellstart führt Sie durch Ihre erste Anfrage an den Vollarchiv-Endpunkt für Post-Zählungen mit Postman, einem grafischen Tool zum Ausführen von HTTP-Anfragen.

Wenn Sie Beispielcode in verschiedenen Programmiersprachen sehen möchten, besuchen Sie bitte unser GitHub-Repository [X-API v2 Beispielcode](https://github.com/xdevplatform/Twitter-API-v2-sample-code). 

<Note>
  ### Voraussetzungen

  Der Vollarchiv-Endpunkt für Post-Zählungen ist derzeit nur für Nutzer mit Pro- oder Enterprise-Zugang verfügbar. Um diesen Endpunkt zu verwenden, müssen Sie Pro- oder [Enterprise-Zugang](https://docs.google.com/forms/d/e/1FAIpQLScO3bczKWO2jFHyVZJUSEGfdyfFaqt2MvmOfl_aJp0KxMqtDA/viewform) beantragen. 

  Zusätzlich zur Freigabe für den Zugang benötigen Sie ein Set von [Keys und Tokens](/de/resources/fundamentals/authentication), um Ihre Anfrage zu authentifizieren. Sie können diese Keys und Tokens generieren, indem Sie die folgenden Schritte befolgen:

  - Navigieren Sie im Developer-Portal zu Ihrem [Projekt](/de/resources/fundamentals/projects) mit Enterprise-Zugang und stellen Sie sicher, dass Sie innerhalb dieses Projekts eine zugehörige [Developer-App](/de/resources/fundamentals/developer-apps) haben.

  - Navigieren Sie zur Seite „Keys and Tokens“ Ihrer App, um die erforderlichen Zugangsdaten zu generieren. Speichern Sie alle Zugangsdaten an einem sicheren Ort.
</Note>

<div id="steps-to-build-a-full-archive-post-counts-request">
  #### Schritte zum Erstellen einer Vollarchiv-Abfrage für Post-Zählungen
</div>

**Schritt eins: Beginnen Sie mit einem Tool oder einer Bibliothek**

Es gibt verschiedene Tools, Codebeispiele und Bibliotheken, mit denen Sie Anfragen an diesen Endpunkt senden können. Wir verwenden hier Postman, um den Prozess zu vereinfachen.

Um die X-API-v2-Postman-Collection in Ihre Umgebung zu laden, klicken Sie bitte auf die folgende Schaltfläche:

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  X-API v2 zu Postman hinzufügen
</Button>

Sobald Sie die X-API-v2-Collection in Postman geladen haben, navigieren Sie zu Post counts > Full-archive Post counts request.

**Schritt zwei: Authentifizieren Sie Ihre Anfrage**

Um eine Anfrage an die X-API korrekt zu stellen, müssen Sie sicherstellen, dass Sie die erforderliche Berechtigung haben. Für diesen Endpunkt müssen Sie Ihre Anfrage mit [OAuth 2.0 App-Only](/de/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token) authentifizieren.

Fügen Sie Ihre Keys und Tokens hinzu, insbesondere das [App Access Token](/de/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token) (auch App-only Bearer Token genannt), in Postman. Wählen Sie dazu oben rechts in Postman die Umgebung „X API v2“ aus und tragen Sie Ihre Keys und Tokens in die Felder „initial value“ und „current value“ ein (klicken Sie auf das Augensymbol neben der Umgebungs-Auswahl).

Diese Variable wird automatisch im Tab „Authorization“ der Anfrage verwendet, wenn Sie alles korrekt eingerichtet haben.
 

**Schritt drei: Erstellen Sie eine Query**

Jede Vollarchiv-Abfrage für Post-Zählungen erfordert eine einzelne [Query](/de/x-api/posts/counts/integrate/build-a-query). In diesem Beispiel verwenden wir eine Query, die Posts berücksichtigt, die vom Konto @XDevelopers veröffentlicht wurden. Dafür verwenden wir den Operator from und setzen ihn auf XDevelopers (Groß-/Kleinschreibung wird ignoriert):

`from:XDevelopers`

Navigieren Sie in Postman zur Registerkarte „Params“ und geben Sie diese ID oder eine durch Kommas getrennte Zeichenfolge von Post-IDs in die Spalte „Value“ des Parameters `ids` ein.
 

| Key | Value | Description |
| :--- | :--- | :--- |
| `query` | `from:XDevelopers` | Query, die an den Vollarchiv-Endpunkt für Post-Zählungen übermittelt wird |

Schritt vier (optional): Geben Sie die Granularität und den Zeitraum an

Wenn Sie nach Schritt drei auf „Send“ klicken, erhalten Sie standardmäßig Vollarchiv-Post-Zählungen: stündlich für die letzten 30 Tage. Wenn Sie Zählungen pro Tag erhalten möchten, fügen Sie den Parameter granularity mit dem Wert day hinzu. Wenn Sie Zählungen für einen Zeitraum vor mehr als 30 Tagen benötigen, geben Sie die Parameter start\_time und end\_time mit den gewünschten Werten an. 

Navigieren Sie in Postman zur Registerkarte „Params“ und fügen Sie das folgende Key:Value-Paar zur Tabelle „Query Params“ hinzu:

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Description** |
| granularity | day | Die Granularität der Post-Zählungsergebnisse. Mögliche Werte sind day, hour oder minute |
| start\_time | 2021-05-01T00:00:00Z | Der früheste UTC-Zeitstempel, ab dem Posts bereitgestellt werden |
| end\_time | 2021-06-01T00:00:00Z | Der späteste UTC-Zeitstempel, bis zu dem Posts bereitgestellt werden. |

Sie sollten nun neben der Schaltfläche „Send“ die folgende URL sehen:

`https://api.x.com/2/tweets/counts/all?query=from%3AXDevelopers&start_time=2021-05-01T00:00:00Z&end_time=2021-06-01T00:00:00Z&granularity=day`

**Schritt fünf: Senden Sie Ihre Anfrage und prüfen Sie die Antwort**

Sobald alles eingerichtet ist, klicken Sie auf „Send“, und Sie erhalten eine Antwort ähnlich der folgenden:

```
{
   "data": [
       {
           "end": "2021-05-02T00:00:00.000Z",
           "start": "2021-05-01T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-03T00:00:00.000Z",
           "start": "2021-05-02T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-04T00:00:00.000Z",
           "start": "2021-05-03T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-05T00:00:00.000Z",
           "start": "2021-05-04T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-06T00:00:00.000Z",
           "start": "2021-05-05T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-07T00:00:00.000Z",
           "start": "2021-05-06T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-08T00:00:00.000Z",
           "start": "2021-05-07T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-09T00:00:00.000Z",
           "start": "2021-05-08T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-10T00:00:00.000Z",
           "start": "2021-05-09T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-11T00:00:00.000Z",
           "start": "2021-05-10T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-12T00:00:00.000Z",
           "start": "2021-05-11T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-13T00:00:00.000Z",
           "start": "2021-05-12T00:00:00.000Z",
           "tweet_count": 6
       },
       {
           "end": "2021-05-14T00:00:00.000Z",
           "start": "2021-05-13T00:00:00.000Z",
           "tweet_count": 1
       },
       {
           "end": "2021-05-15T00:00:00.000Z",
           "start": "2021-05-14T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-16T00:00:00.000Z",
           "start": "2021-05-15T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-17T00:00:00.000Z",
           "start": "2021-05-16T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-18T00:00:00.000Z",
           "start": "2021-05-17T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-19T00:00:00.000Z",
           "start": "2021-05-18T00:00:00.000Z",
           "tweet_count": 1
       },
       {
           "end": "2021-05-20T00:00:00.000Z",
           "start": "2021-05-19T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-21T00:00:00.000Z",
           "start": "2021-05-20T00:00:00.000Z",
           "tweet_count": 8
       },
       {
           "end": "2021-05-22T00:00:00.000Z",
           "start": "2021-05-21T00:00:00.000Z",
           "tweet_count": 1
       },
       {
           "end": "2021-05-23T00:00:00.000Z",
           "start": "2021-05-22T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-24T00:00:00.000Z",
           "start": "2021-05-23T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-25T00:00:00.000Z",
           "start": "2021-05-24T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-26T00:00:00.000Z",
           "start": "2021-05-25T00:00:00.000Z",
           "tweet_count": 1
       },
       {
           "end": "2021-05-27T00:00:00.000Z",
           "start": "2021-05-26T00:00:00.000Z",
           "tweet_count": 1
       },
       {
           "end": "2021-05-28T00:00:00.000Z",
           "start": "2021-05-27T00:00:00.000Z",
           "tweet_count": 1
       },
       {
           "end": "2021-05-29T00:00:00.000Z",
           "start": "2021-05-28T00:00:00.000Z",
           "tweet_count": 2
       },
       {
           "end": "2021-05-30T00:00:00.000Z",
           "start": "2021-05-29T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-31T00:00:00.000Z",
           "start": "2021-05-30T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-06-01T00:00:00.000Z",
           "start": "2021-05-31T00:00:00.000Z",
           "tweet_count": 0
       }
   ],
   "meta": {
       "total_tweet_count": 22
   }
}
```

**Schritt sechs: Durch Ihre Ergebnisse paginieren**

Wenn das „meta“-Objekt in Ihrer Antwort auch next\_token enthält, können Sie dessen Wert an den next\_token-Abfrageparameter übergeben.

| Schlüssel | Wert | Beschreibung |
| :--- | :--- | :--- |
| next\_token | Fügen Sie hier das next\_token ein, das Sie aus dem meta-Objekt Ihrer vorherigen Anfrage entnommen haben. | Wenn Ihre letzte Anfrage nicht alle verbleibenden Ergebnisse liefert, erhalten Sie ein next\_token im meta-Objekt. Entnehmen Sie den Wert dieses Feldes und setzen Sie ihn als Wert des next\_token-Parameters in Ihrer nächsten Anfrage, wobei alle anderen Anfrageparameter unverändert bleiben. |

Sobald Sie den richtigen Wert für next\_token gesetzt haben, klicken Sie auf die Schaltfläche „Send“ und Sie erhalten die nächste Ergebnisseite.