---
title: Wiederherstellung und Redundanz
sidebarTitle: Wiederherstellung und Redundanz
---

<div id="introduction">
  #### Einführung
</div>

Beim Verarbeiten von Streaming-Daten ist es ein grundlegendes Ziel, die Verbindungszeit zu maximieren und alle passenden Daten zu erhalten. Das bedeutet: redundante Verbindungen nutzen, Verbindungsabbrüche automatisch erkennen, schnell wieder verbinden und einen Plan zur Wiederherstellung verlorener Daten haben.

In diesem Integrationsleitfaden behandeln wir verschiedene Funktionen für Redundanz und Wiederherstellung: redundante Verbindungen, Backfill und Recovery.
 

**Redundante Verbindungen**

Eine redundante Verbindung ermöglicht es Ihnen, mehr als eine gleichzeitige Verbindung zum Gefilterten Stream herzustellen. Dadurch entsteht Redundanz: Sie verbinden sich mit zwei separaten Konsumenten zum selben Stream und erhalten dieselben Daten über beide Verbindungen. So hat Ihre App ein Hot-Failover für verschiedene Situationen, etwa wenn eine Verbindung getrennt wird oder wenn der primäre Server Ihrer Anwendung ausfällt.

Der Gefilterte Stream erlaubt derzeit nur Projekten mit Enterprise-Zugriff bis zu zwei redundante Verbindungen. Um einen redundanten Stream zu verwenden, verbinden Sie sich einfach mit derselben URL wie für Ihre primäre Verbindung. Die Daten für Ihren Stream werden über beide Verbindungen gesendet.

<div id="recovering-missed-data-after-a-disconnection-backfill">
  #### Wiederherstellung verpasster Daten nach einer Unterbrechung: Backfill
</div>

Nachdem Sie eine Unterbrechung festgestellt haben, sollte Ihr System automatisch die Verbindung zum Stream wiederherstellen. Wenn möglich, sollte Ihr System die Dauer der Unterbrechung protokollieren, damit Sie die passende Wiederherstellungsfunktion nutzen können, um die Daten per Backfill nachzuziehen.

Wenn Sie ein Projekt mit Enterprise-Zugang verwenden und festgestellt haben, dass die Unterbrechung fünf Minuten oder weniger gedauert hat, können Sie den Backfill-Parameter backfill\_minutes nutzen. Wenn Sie diesen Parameter mit Ihrer [GET /tweets/search/stream](/de/x-api/posts/filtered-stream#get-2-tweets-search-stream)-Anfrage übergeben, erhalten Sie die Posts, die in den letzten ein bis fünf Minuten Ihren Regeln entsprochen haben. In der Regel liefern wir diese älteren Posts zuerst, bevor neu übereinstimmende Posts gesendet werden, und wir führen keine Deduplizierung durch. Das bedeutet: Wenn Sie 90 Sekunden getrennt waren, aber zwei Minuten Backfill-Daten anfordern, erhalten Sie 30 Sekunden doppelte Posts, gegenüber denen Ihr System tolerant sein sollte. Hier ist ein Beispiel, wie eine Anfrage mit dem Backfill-Parameter aussehen könnte:

`curl 'https://api.x.com/2/tweets/search/stream?backfill_minutes=5' -H "Authorization: Bearer $ACCESS_TOKEN"`

Wenn Sie keinen Enterprise-Zugang haben oder festgestellt haben, dass die Unterbrechung länger als fünf Minuten gedauert hat, können Sie den [Recent-Search-Endpunkt](/de/x-api/posts/search/introduction) oder die Recovery-Funktion nutzen, um verpasste Daten anzufordern. Beachten Sie jedoch, dass die Search-Posts-Endpunkte die Operatoren sample:, bio:, bio\_name: oder bio\_location: nicht unterstützen und bei der Verwendung von Akzenten und diakritischen Zeichen mit den keyword- und #hashtag-Operatoren Unterschiede im Matching-Verhalten aufweisen. Diese Unterschiede können bedeuten, dass Sie nicht alle Posts vollständig wiederherstellen, die möglicherweise über die Gefilterter-Stream-Endpunkte empfangen worden wären.

**Wiederherstellung verpasster Daten nach einer Unterbrechung: Recovery**

Wenn Sie ein Projekt mit Enterprise-Zugang verwenden, können Sie die Recovery-Funktion nutzen, um verpasste Daten innerhalb der letzten 24 Stunden wiederherzustellen, wenn Sie das 5-Minuten-Backfill-Zeitfenster nicht zum Wiederverbinden nutzen können.

Die Streaming-Recovery-Funktion ermöglicht ein erweitertes Backfill-Zeitfenster von 24 Stunden. Recovery erlaubt es Ihnen, den Zeitraum der verpassten Daten „wiederzugeben“. Ein Recovery-Stream wird gestartet, wenn Sie eine Verbindungsanfrage mit den Anfrageparametern 'start\_time' und 'end\_time' stellen. Nach dem Herstellen der Verbindung streamt Recovery den angegebenen Zeitraum erneut und trennt anschließend die Verbindung.

Sie können gleichzeitig zwei parallele Anfragen an Recovery stellen, d. h. „zwei Recovery-Jobs“. Recovery funktioniert technisch auf die gleiche Weise wie Backfill, außer dass eine Start- und Endzeit definiert ist. Ein Recovery-Zeitraum gilt für einen einzelnen Zeitbereich.

|     |     |     |
| :--- | :--- | :--- |
| **Name** | **Typ** | **Beschreibung** |
| start\_time | date (ISO 8601) | YYYY-MM-DDTHH:mm:ssZ (ISO 8601/RFC 3339).<br /><br />Datum in UTC, das die Startzeit angibt, ab der wiederhergestellt werden soll. |
| end\_time | date (ISO 8601) | YYYY-MM-DDTHH:mm:ssZ (ISO 8601/RFC 3339).<br /><br />Datum in UTC, das die Endzeit angibt, bis zu der wiederhergestellt werden soll. |

Beispielanforderungs-URL: [https://api.x.com/2/tweets/search/stream?start\_time=2022-07-12T15:10:00Z\&end\_time=2022-07-12T15:20:00Z](https://api.x.com/2/tweets/search/stream?start_time=1985-04-12T23:20:50.52Z\&end_time=1985-04-13T00:20:50.52Z)