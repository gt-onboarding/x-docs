---
title: Beiträge Regeln zuordnen
sidebarTitle: Beiträge Regeln zuordnen
---

<div id="matching-returned-posts-to-their-associated-rule">
  ### Zurückgegebene Posts ihrer zugehörigen Regel zuordnen
</div>

Der Gefilterte-Stream-Endpunkt ermöglicht es Ihnen, mehrere Regeln über eine einzelne Verbindung zu verwenden. Bevor Sie Posts in Ihrem Stream empfangen, müssen Sie eine Regel erstellen, die angibt, an welchen Arten von Posts Sie interessiert sind.

Wenn Sie Regeln definieren, um Posts anhand einer Vielzahl von Attributen abzugleichen – einschließlich Benutzerattributen, Geolokation, Sprache und vielen weiteren –, können Sie ein Tag hinzufügen, um diese Regel auf höherer Ebene zu kennzeichnen. Tags sind eine gute Möglichkeit, Ihre Regel zu kontextualisieren, insbesondere wenn Sie viele Regeln haben. Die Filterregeln bestimmen, welche Post-Aktivitäten über die Verbindung gesendet werden.

Wenn Sie eine neue Filterregel hinzufügen möchten, um eine andere Art von Post zu erfassen, oder eine bestehende Regel entfernen möchten, kann Ihre App eine Anfrage an den Endpunkt [POST tweets/search/stream/rules](/de/x-api/posts/filtered-stream#post-2-tweets-search-stream-rules) senden. Sobald diese Anfrage gesendet wurde, werden die Filterregeln automatisch aktualisiert, und die Änderungen greifen unmittelbar im Datenstream, ohne dass eine erneute Verbindung erforderlich ist. Die meisten Regelergänzungen werden in etwa 20 Sekunden oder weniger wirksam. Es ist zwar unwahrscheinlich, aber abhängig von externen Faktoren (zum Beispiel der Netzwerkverbindung) kann es länger dauern, bis Sie passende Posts empfangen. Wenn Sie eine Regel im Listen-Endpunkt nicht finden, vergewissern Sie sich, dass die Anfrage zur Regelerstellung erfolgreich war; dies können Sie überprüfen, indem Sie Ihre Protokolle auf Fehlermeldungen prüfen.

<div id="matching-rules">
  #### Übereinstimmende Regeln
</div>

Wenn eine Aktivität über Ihre Verbindung zum Gefilterten Stream zugestellt wird, enthält sie in einem matching\_rules-Array die Liste der Filter, die auf den zugestellten Post zutrafen.

Im Post-Payload gibt es zusätzliche Zeichenketten-Metadaten, die die Rule-ID und den Tag enthalten, aufgrund derer ein bestimmter Post zugestellt wurde. Wenn mehrere Regeln auf einen einzelnen Post zutreffen, wird die Aktivität einmal zugestellt, wobei jede der übereinstimmenden Regeln in diesen Metadaten enthalten ist. Die übereinstimmenden Regeln bieten eine einfache Möglichkeit, einen bestimmten Post bestimmten Regeln zuzuordnen, was besonders hilfreich ist, wenn Sie viele unterschiedliche Regeln haben. Da die Daten auf diese Weise über einen einzelnen Stream zugestellt werden, ist es für das Matching essenziell, eindeutige id und tag zu verwenden.

**Hier ist ein Beispiel, wie das Array „matching\_rules“ im Post-Payload erscheint:**
 

```"matching_rules": [
    {
      "id": "1166916266197536768",
      "tag": "test-rule-tag-00000"
    },
    {
      "id": "1166916266197536769",
      "tag": "test-rule-tag-12345"
    }
  ]
```

<div id="rule-tags">
  #### Regel-Tags
</div>

Zum Zeitpunkt der Erstellung kann jede Filterregel mit einem Tag versehen werden. Regel-Tags haben keine besondere Bedeutung, da sie lediglich als undurchsichtige Zeichenfolgen behandelt werden, die zusammen mit einer Regel mitgeführt werden. Sie werden in den matching\_rules-Metadaten in zurückgegebenen Aktivitäten enthalten sein und dienen dazu, das Unterscheiden Ihrer Regeln auf höherer Ebene zu erleichtern. 

Tags bieten eine einfache Möglichkeit, Filterregeln logisch zu gruppieren. Beispielsweise können Sie für eine bestimmte Regel eine eindeutige ID als Tag verwenden und Ihrer App erlauben, diese ID innerhalb der verarbeiteten Aktivitäten zu referenzieren, um ein Ergebnis bestimmten Kunden, Kampagnen, Kategorien oder anderen verwandten Gruppen zuzuordnen.

Beachten Sie, dass Tags bei einer bestehenden Regel nicht aktualisiert werden können und nur beim Erstellen einer Regel angegeben werden können. Um ein Tag zu „aktualisieren“ oder „umzubenennen“, müssen Sie die Regel zunächst löschen und sie dann mit dem gewünschten Tag erneut hinzufügen. Am besten verwenden Sie einfach einen eindeutigen Bezeichner als Tag, den Ihr System mit verschiedenen anderen Datenpunkten innerhalb Ihrer App verknüpfen kann – ohne irgendetwas am Regelsatz ändern zu müssen.

<div id="filtered-stream-recovery-and-redundancy-features">
  ### Gefilterter Stream – Funktionen für Wiederherstellung und Redundanz
</div>

<Note>
  Hinweis: Diese Funktionen für Wiederherstellung und Redundanz sind nur für Nutzer mit Enterprise-Zugriff verfügbar.
</Note>