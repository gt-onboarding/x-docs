---
title: v1 auf v2
sidebarTitle: v1 auf v2
---

<div id="standard-v11-compared-to-x-api-v2">
  ### Standard v1.1 im Vergleich zur X-API v2
</div>

Wenn Sie mit dem v1.1-Endpunkt [statuses/filter](https://developer.x.com/en/docs/x-api/v1/tweets/filter-realtime/api-reference/post-statuses-filter) gearbeitet haben, hilft Ihnen dieser Leitfaden, die Gemeinsamkeiten und Unterschiede zwischen den Standard- und den X-API v2-Endpunkten für den Gefilterten Stream zu verstehen.

- **Gemeinsamkeiten**
  - Anfrageparameter und Operatoren
  - Unterstützung für Post-Bearbeitungsverlauf und Metadaten
- **Unterschiede**
  - Endpunkt-URLs
  - Anforderungen an App und Projekt
  - Authentifizierungsmethode
  - Regelumfang und persistenter Stream
  - Format der Antwortdaten
  - Anfrageparameter
  - Verfügbarkeit von Wiederherstellungs- und Redundanzfunktionen
  - Abfrageoperatoren

<div id="similarities">
  #### Gemeinsamkeiten
</div>

**Anfrageparameter und Operatoren**

Der Standard-Endpoint v1.1 statuses/filter bietet einige Parameter, die zusammen mit der Anfrage übergeben werden können, um den Stream zu filtern. Beim gefilterten Stream in v2 verwenden Sie stattdessen eine Reihe von [Operatoren](/de/x-api/posts/filtered-stream#building-rules-for-filtered-stream), die mithilfe boolescher Logik miteinander verknüpft werden können, um nach gewünschten Posts zu filtern. Die verfügbaren Operatoren umfassen einige, die direkte Ersetzungen für die vorhandenen Standardparameter von v1.1 sind.

Die folgenden Standard-Anfrageparameter von v1.1 haben äquivalente Operatoren in der X-API v2:

| **Standard** | **X API v2** |
| :--- | :--- |
| follow - Eine durch Kommata getrennte Liste von User-IDs, die die Nutzer angibt, deren Posts im Stream ausgeliefert werden sollen. | Viele Operatoren, die Ihnen helfen, Posts zu bestimmten Nutzern zu finden:<br /><br />\* @<br />\* from:<br />\* to:<br />\* etc. |
| track - Eine durch Kommata getrennte Liste von Phrasen, die verwendet wird, um zu bestimmen, welche Posts im Stream ausgeliefert werden. | Viele Operatoren, die Ihnen helfen, Posts zu bestimmten Keywords zu finden:<br /><br />\* keyword<br />\* "exakte Phrasenübereinstimmung"<br />\* #<br />\* etc. |

**Unterstützung für Bearbeitungshistorie und Metadaten von Posts**

Beide Versionen stellen Metadaten bereit, die eine etwaige Bearbeitungshistorie beschreiben. Siehe die [API-Referenzen zum gefilterten Stream](/de/x-api/posts/filtered-stream#api-reference-index) und die Seite [Grundlagen zu Post-Bearbeitungen](/de/x-api/fundamentals/edit-posts) für weitere Details. 

<div id="differences">
  #### Unterschiede
</div>

**Endpoint-URLs**

- Standard-v1.1-Endpoints:
  - https://stream.x.com/1.1/statuses/filter.json
- X-API-v2-Endpoint:
  - https://api.x.com/2/tweets/search/stream
  - https://api.x.com/2/tweets/search/stream/rule

**App- und Projektanforderungen**

Die X-API-v2-Endpoints erfordern, dass Sie bei der Authentifizierung Ihrer Anfragen Anmeldedaten aus einer [Developer-App](/de/resources/fundamentals/developer-apps) verwenden, die einem [Projekt](/de/resources/fundamentals/projects) zugeordnet ist. Alle X-API-v1.1-Endpoints können Anmeldedaten von eigenständigen Apps oder von Apps verwenden, die einem Projekt zugeordnet sind.

**Authentifizierungsmethode**

Der Standard-Endpoint unterstützt [OAuth 1.0a User Context](/de/resources/fundamentals/authentication), wohingegen die X-API-v2-Endpoints für den Gefilterten Stream [OAuth 2.0 App-Only](/de/resources/fundamentals/authentication#oauth-2-0) unterstützen (auch als Application-only-Authentifizierung bezeichnet). Um Anfragen an die X-API v2 zu stellen, müssen Sie ein App Access Token verwenden, um Ihre Anfragen zu authentifizieren.

Wenn Sie das App Access Token, das Ihnen bei der Erstellung Ihres Projekts und Ihrer App im Developer-Portal angezeigt wurde, nicht mehr haben, können Sie ein neues generieren, indem Sie im Developer-Portal zur Seite „Keys and tokens“ Ihrer App navigieren. Wenn Sie ein App Access Token programmgesteuert generieren möchten, siehe diesen [OAuth 2.0 App-Only Guide](/de/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token).

**Regelanzahl und persistenter Stream**

Der Standard-v1.1-Endpoint unterstützt eine einzelne Regel zur Filterung der Streaming-Verbindung. Um die Regel zu ändern, müssen Sie den Stream trennen und eine neue Anfrage mit den überarbeiteten Filterregeln als Parametern senden.

Der X-API-v2-Endpoint für den Gefilterten Stream ermöglicht es Ihnen, mehrere Regeln auf einen einzelnen Stream anzuwenden und während der fortbestehenden Stream-Verbindung Regeln zu Ihrem Stream hinzuzufügen und zu entfernen.

**Antwortdatenformat**

Einer der größten Unterschiede zwischen den Standard-v1.1- und den X-API-v2-Endpoint-Versionen besteht darin, wie Sie auswählen, welche Felder in Ihrer Nutzlast zurückgegeben werden.

Bei den Standard-Endpoints erhalten Sie viele der Antwortfelder standardmäßig und haben dann die Möglichkeit, Parameter zu verwenden, um festzulegen, welche Felder oder Feldsätze in der Nutzlast zurückgegeben werden sollen.

Die X-API v2 liefert standardmäßig nur die Felder Post-id und text. Um zusätzliche Felder oder Objekte anzufordern, müssen Sie die Parameter [fields](/de/x-api/fundamentals/fields) und [expansions](/de/x-api/fundamentals/expansions) verwenden. Alle Post-Felder, die Sie von diesen Endpoints anfordern, werden im primären Post-Objekt zurückgegeben. Alle erweiterten User-, Media-, Poll- oder Place-Objekte und -Felder werden in einem includes-Objekt innerhalb Ihrer Antwort zurückgegeben. Sie können dann alle erweiterten Objekte wieder dem Post-Objekt zuordnen, indem Sie die IDs abgleichen, die sich sowohl im Post als auch im erweiterten Objekt befinden.

Wir empfehlen Ihnen, mehr über diese neuen Parameter in den jeweiligen Leitfäden zu lesen oder unseren Leitfaden dazu, [wie man fields und expansions verwendet](/de/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions), zu lesen.

Wir haben außerdem einen [Datenformat-Migrationsleitfaden](/de/x-api/migrate/data-format-migration#migrating-from-standard-v1-1s-data-format-to-v2) zusammengestellt, der Ihnen helfen kann, Standard-v1.1-Felder den neueren v2-Feldern zuzuordnen. Dieser Leitfaden liefert Ihnen außerdem die spezifischen Expansion- und Field-Parameter, die Sie mit Ihrer v2-Anfrage übergeben müssen, um bestimmte Felder zurückzugeben.

Zusätzlich zu den Änderungen bei der Anforderung bestimmter Felder führt die X-API v2 auch neue JSON-Designs für die von den APIs zurückgegebenen Objekte ein, einschließlich Post- und [User](/de/x-api/fundamentals/data-dictionary#user)-Objekten.

- Auf der JSON-Root-Ebene geben die Standard-Endpoints Post-Objekte in einem statuses-Array zurück, während die X-API v2 ein data-Array zurückgibt.
- Anstatt sich auf Retweeted und Quoted „statuses“ zu beziehen, verweist das X-API-v2-JSON auf Retweeted und Quoted Tweets. Viele Legacy- und veraltete Felder, wie contributors und user.translator\_type, werden entfernt.
- Anstatt sowohl favorites (im Post-Objekt) als auch favourites (im User-Objekt) zu verwenden, verwendet die X-API v2 den Begriff like.
- X übernimmt die Konvention, dass JSON-Werte ohne Wert (zum Beispiel null) nicht in die Nutzlast geschrieben werden. Post- und User-Attribute werden nur aufgenommen, wenn sie einen Nicht-Null-Wert haben.

Wir haben dem [Post-Objekt](/de/x-api/fundamentals/data-dictionary#tweet) auch einen neuen Satz von Feldern hinzugefügt, darunter die folgenden:

- Ein Feld [conversation\_id](/de/x-api/fundamentals/conversation-id)
- Zwei neue Felder für [annotations](/de/x-api/fundamentals/post-annotations), darunter context und entities
- Mehrere neue [metrics](/de/x-api/fundamentals/metrics)-Felder
- Ein neues reply\_setting-Feld, das angibt, wer auf einen bestimmten Post antworten darf

**Request-Parameter**

Es gibt außerdem eine Reihe standardmäßiger Request-Parameter für den Gefilterten Stream, die in der X-API v2 **nicht** unterstützt werden:

| Standardparameter v1.1 | Details |
| :--- | :--- |
| locations - Eine kommagetrennte Liste von Längen-/Breitengrad-Paaren, die eine Menge von Begrenzungsrahmen angibt, nach denen Posts gefiltert werden. | Wir haben standortbasierte Operatoren für die X-API v2 noch nicht veröffentlicht. |
| Delimited | Beim v1.1-Endpoint zeigt das Setzen auf die Zeichenlänge an, dass Statusmeldungen im Stream begrenzt werden, sodass Clients wissen, wie viele Bytes vor dem Ende der Statusnachricht zu lesen sind.<br /><br />Diese Funktionalität ist mit der X-API v2 nicht verfügbar. |
| Stall\_warnings | Beim v1.1-Endpoint führt das Setzen dieses Parameters auf true dazu, dass periodische Nachrichten zugestellt werden, wenn dem Client eine Trennung droht. <br /><br />Bei der X-API v2 werden Stall-Warnungen standardmäßig gesendet; in regelmäßigen Abständen wird eine neue Zeile gesendet. |

**Verfügbarkeit von Wiederherstellungs- und Redundanzfunktionen**

Die Version des Gefilterten Streams der X-API v2 führt Wiederherstellungs- und Redundanzfunktionen ein, die dabei helfen können, die Streaming-Verfügbarkeit zu maximieren und Posts wiederherzustellen, die aufgrund einer Unterbrechung von fünf Minuten oder weniger verpasst wurden.

Redundante Verbindungen ermöglichen es Ihnen, bis zu zweimal eine Verbindung zu einem bestimmten Stream herzustellen. So können Sie die Verbindung zum Stream jederzeit aufrechterhalten, selbst wenn eine Ihrer Verbindungen ausfällt. 

Der Parameter backfill\_minutes kann verwendet werden, um bis zu fünf Minuten verpasster Daten wiederherzustellen. 

Beide Funktionen sind nur über den [Academic Research access](/de/x-api/getting-started/about-x-api) verfügbar. Mehr über diese Funktionalität erfahren Sie in unserem Integrationsleitfaden zu [Wiederherstellungs- und Redundanzfunktionen](/de/x-api/posts/filtered-stream#filtered-stream-recovery-and-redundancy-features). 

**Neue Query-Operatoren**

Die X-API v2 führt neue Operatoren zur Unterstützung von zwei neuen Funktionen ein: 

- **[Conversation IDs](/de/x-api/fundamentals/conversation-id)** - Während sich Konversationen auf X entfalten, steht eine Conversation-ID zur Verfügung, um Posts zu markieren, die Teil der Konversation sind. Alle Posts in der Konversation haben ihre conversation\_id auf die Post-ID gesetzt, mit der sie begonnen wurde. 
  - conversation\_id:
- **[X Annotations](/de/x-api/fundamentals/post-annotations)** liefern Kontextinformationen zu Posts und umfassen Entity- und Context-Annotationen. Entities bestehen aus Personen, Orten, Produkten und Organisationen. Contexts sind Domänen oder Themen, zu denen die erkannten Entities gehören. Beispielsweise können bei in einem Post erwähnten Personen Contexts darauf hinweisen, ob sie Athlet, Schauspieler oder Politiker sind.  
  - context: - trifft auf Posts zu, die mit einem interessierenden Kontext annotiert wurden. 
  - entity: - trifft auf Posts zu, die mit einer interessierenden Entity annotiert wurden. 