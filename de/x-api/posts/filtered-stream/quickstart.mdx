---
title: Schnellstart
sidebarTitle: Schnellstart
---

import { Button } from '/snippets/de/button.mdx';

<div id="getting-started-with-the-filtered-stream-endpoints">
  ## Erste Schritte mit den Endpunkten für den gefilterten Stream
</div>

Diese Schnellstartanleitung hilft Ihnen, Ihre erste Anfrage an die Endpunktgruppe für den gefilterten Stream mithilfe einer cURL-Anfrage zu stellen. cURL ist ein Befehlszeilen-Tool, mit dem Sie Anfragen mit minimaler Konfiguration ausführen können.

Wenn Sie Beispielcode in verschiedenen Sprachen sehen möchten, besuchen Sie bitte unser GitHub-Repository mit dem [X-API v2 Beispielcode](https://github.com/xdevplatform/Twitter-API-v2-sample-code).

<Note>
  **Voraussetzungen**

  Um diese Anleitung abzuschließen, benötigen Sie einen Satz an [Keys und Tokens](/de/resources/fundamentals/authentication), um Ihre Anfrage zu authentifizieren. Sie können diese Keys und Tokens generieren, indem Sie die folgenden Schritte ausführen:

  - [Registrieren Sie sich für ein Entwicklerkonto](https://developer.x.com/en/apply-for-access) und lassen Sie sich freischalten.
  - Erstellen Sie ein [Projekt](/de/resources/fundamentals/projects) und eine zugehörige [Developer-App](/de/resources/fundamentals/developer-apps) im Developer-Portal.
  - Navigieren Sie zur Seite „Keys and tokens“ Ihrer App, um die erforderlichen Anmeldedaten zu generieren. Stellen Sie sicher, dass Sie alle Anmeldedaten an einem sicheren Ort aufbewahren.
</Note>

<div id="steps-to-build-a-filtered-stream-request-using-curl">
  ### Schritte zum Erstellen einer Anfrage für den gefilterten Stream mit cURL
</div>

**Schritt eins: Eine Regel erstellen**

Regeln bestehen aus einem oder mehreren unterschiedlichen [Operatoren](/de/x-api/posts/filtered-stream#building-rules-for-filtered-stream), die mithilfe boolescher Logik und Klammern kombiniert werden, um zu definieren, welche Posts an Ihren Stream geliefert werden. In dieser Anleitung filtern wir den Stream, um Posts zu finden, die sowohl das Schlüsselwort „cat“ als auch Bilder enthalten. Hier ist unsere Regel:

```cat has:images
```

**Schritt zwei: Ihrer Regel ein Tag hinzufügen**

Sie können mehrere gleichzeitige Regeln zu Ihrem Stream hinzufügen. Wenn Sie Ihre Streaming-Verbindung öffnen, fließen Posts, die mit einer dieser Regeln übereinstimmen, durch dieselbe Streaming-Verbindung. Um sicherzustellen, dass Sie wissen, welcher Post zu welcher Regel passt, können Sie zusammen mit Ihrer Regel-Erstellungsanfrage ein Tag übergeben. Jeder Post, der dieser Regel entspricht, enthält dann ein Tag-Feld innerhalb der Post-Nutzlast, das angibt, mit welcher Regel er übereinstimmte. Für diese Regel weisen wir das folgende Tag zu:

```cats with images
```

**Schritt drei: Ihre Regel dem Stream hinzufügen**

Dieser Endpoint erfordert, dass Sie mit dieser Anfrage einen application/JSON-Body übergeben, der Ihre Regel und ihr Tag enthält. Sie werden auch feststellen, dass wir den Regelwert und das Tag innerhalb eines add-Objekts aufgenommen haben, da wir versuchen, diese Regel dem Stream hinzuzufügen. Dieser JSON-Body sieht so aus:

```json
{
  "add": [
    {
      "value": "cat has:images",
      "tag": "cats with images"
    }
  ]
}
```

Nachdem Sie diesen JSON-Body vollständig eingerichtet haben, können Sie ihn zu einer cURL-Anfrage hinzufügen, die wie folgt aussieht. Diese Anfrage ist noch nicht bereit, reichen Sie sie daher bitte erst in einem späteren Schritt ein.

```json
curl -X POST 'https://api.x.com/2/tweets/search/stream/rules' \
-H "Content-type: application/json" \
-H "Authorization: Bearer $APP_ACCESS_TOKEN" -d \
'{
  "add": [
    {"value": "cat has:images", "tag": "cats with images"}
  ]
}'`
```

**Schritt vier: Ihre Anfrage authentifizieren**

Da die Endpoints für Regeln des gefilterten Streams [OAuth 2.0 App-Only-Authentifizierung](/de/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token) erfordern, müssen Sie $APP\_ACCESS\_TOKEN in dem cURL-Befehl aus Schritt drei durch das [App Access Token](/de/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token) ersetzen, das Sie in den Voraussetzungen generiert haben.

**Schritt fünf: Ihre Regel dem Stream hinzufügen**

Als Nächstes führen Sie Ihre cURL-Anfrage aus, wodurch die Regel zu Ihrem Stream hinzugefügt wird. Kopieren Sie den cURL-Befehl in Ihre Kommandozeilenoberfläche und drücken Sie „Return“.

Wenn Ihre cURL-Anfrage erfolgreich war, erhalten Sie eine Antwort, die Daten zu Ihrem value, tag und id enthält (dient als eindeutiger Bezeichner für Ihre Regel). Diese Antwort wird ähnlich wie folgt aussehen:

```json
{
  "data": [
    {
      "value": "cat has:images",
      "tag": "cats with images",
      "id": "1273026480692322304"
    }
  ],
  "meta": {
    "sent": "2020-06-16T22:55:39.356Z",
    "summary": {
      "created": 1,
      "not_created": 0,
      "valid": 1,
      "invalid": 0
    }
  }
}
```

Sie können überprüfen, ob Ihre Regel erfolgreich hinzugefügt wurde, indem Sie die folgende GET-Anfrage an den Rules-Endpoint senden und erneut sicherstellen, dass Sie $APP\_ACCESS\_TOKEN durch Ihr Token ersetzen. Diese Anfrage gibt eine vollständige Liste aller Regeln zurück, die zu Ihrem Stream hinzugefügt wurden.

```bash
curl -X GET 'https://api.x.com/2/tweets/search/stream/rules' \
-H "Authorization: Bearer $APP_ACCESS_TOKEN"
```

Wenn Ihre cURL-Anfrage erfolgreich war, sollten Sie Folgendes erhalten:

```json
{
	"data": [{
		"id": "1273028376882589696",
		"value": "cat has:images",
		"tag": "cats with images"
	}],
	"meta": {
		"sent": "2020-06-16T23:14:06.498Z"
	}
}
```

**Schritt sechs: Identifizieren und angeben, welche Felder Sie abrufen möchten**

Wenn Sie nach Schritt fünf eine Verbindung zum Stream herstellen, erhalten Sie in Ihrer Antwort die Standardfelder des [Post-Objekts](/de/x-api/fundamentals/data-dictionary#tweet): id, text und edit\_history\_tweet\_ids. Wenn Sie darüber hinaus weitere Felder erhalten möchten, müssen Sie diese in Ihrer Anfrage mit den Parametern [field](/de/x-api/fundamentals/fields) und/oder [expansion](/de/x-api/fundamentals/expansions) angeben.

Für diese Übung fordern wir drei verschiedene Feldsätze von unterschiedlichen Objekten an:

1. Das zusätzliche Feld tweet.created\_at in den primären Post-Objekten.
2. Die zugehörigen Standardfelder des [User-Objekts](/de/x-api/fundamentals/data-dictionary#user) der Autorinnen/Autoren für die zurückgegebenen Posts: id, name und username
3. Das zusätzliche Feld user.created\_at in den zugehörigen User-Objekten.
    

Um diese Felder anzufordern, müssen Sie Folgendes in Ihrer Anfrage übergeben:

|     |     |     |
| :--- | :--- | :--- |
| Key | Value | Returned fields |
| tweet.fields | created\_at | tweets.created\_at |
| expansions | author\_id | includes.users.id, includes.users.name, includes.users.username |
| user.fields | created\_at | includes.users.created\_at |

Da Sie dies nun wissen, können Sie Ihre Request-URL zum Herstellen der Verbindung zum Stream zusammensetzen, die folgendermaßen aussieht:

```bash
https://api.x.com/2/tweets/search/stream?tweet.fields=created_at&expansions=author_id&user.fields=created_at
```

**Schritt sieben: Stellen Sie eine Verbindung zum Stream her und überprüfen Sie Ihre Antwort**

Nachdem Ihre Regel eingerichtet ist und Sie angegeben haben, welche Felder Sie zurückgeben lassen möchten, können Sie eine Verbindung zum Stream herstellen, der Post-Objekte liefert, die mit der von Ihnen übermittelten Regel übereinstimmen. So sieht der cURL-Befehl aus, wenn Sie die URL aus Schritt sechs in Ihre Anfrage eingefügt haben:
 

```bash
curl -X GET -H "Authorization: Bearer $APP_ACCESS_TOKEN" "https://api.x.com/2/tweets/search/stream?tweet.fields=created_at&expansions=author_id&user.fields=created_at"
```

Auch diese Anfrage muss mit OAuth 2.0 App-Only authentifiziert werden. Stellen Sie also sicher, dass Sie $APP\_ACCESS\_TOKEN durch Ihre Zugangsdaten ersetzen, bevor Sie den Befehl in Ihr Kommandozeilentool kopieren und einfügen.

Sobald Sie mit dem Gefilterten Stream verbunden sind, erhalten Sie Posts, die Ihren Regeln entsprechen, im folgenden JSON-Format:
 

```json
{
  "data": [
    {
      "author_id": "2244994945",
      "created_at": "2022-09-14T19:00:55.000Z",
      "id": "1228393702244134912",
      "edit_history_tweet_ids": ["1228393702244134912"],
      "text": "What did the developer write in their Valentine’s card?\n  \nwhile(true) {\n    I = Love(You);  \n}"
    },
    {
      "author_id": "2244994945",
      "created_at": "2022-09-12T17:09:56.000Z",
      "id": "1227640996038684673",
       "edit_history_tweet_ids": ["1227640996038684673"],
      "text": "Doctors: Googling stuff online does not make you a doctor\n\nDevelopers: https://t.co/mrju5ypPkb"
    },
    {
      "author_id": "2244994945",
      "created_at": "2022-09-27T20:26:41.000Z",
      "id": "1199786642791452673",
      "edit_history_tweet_ids": ["1199786642791452673"],
      "text": "C#"
    }
  ],
  "includes": {
    "users": [
      {
        "created_at": "2013-12-14T04:35:55.000Z",
        "id": "2244994945",
        "name": "Twitter Dev",
        "username": "TwitterDev"
      }
    ]
  }
}
```

Wenn Sie die Verbindung schließen möchten, können Sie unter macOS- oder Windows-Systemen in Ihrem Kommandozeilentool Strg+C drücken, um die Verbindung zu trennen, oder Sie schließen das Fenster. 