---
title: Konsistenz
---

<div id="consistency-across-the-x-api-v2-endpoints">
  ## Konsistenz über die Endpunkte der X-API v2 hinweg
</div>

Einer der zentralen Aspekte der neuen Version v2 der X-API ist die Konsistenz über die Endpunkte hinweg. Das bedeutet, dass zurückgegebene Objekte, Funktionen und das Verhalten der API über ähnliche Endpunkte hinweg einheitlich sind.

Sie können davon ausgehen, dass die folgenden Elemente bei allen Endpunkten gleich sind:

<div id="path-naming">
  ### Pfadbenennung
</div>

Die Pfadbenennung umfasst immer die [Version](/de/x-api/fundamentals/versioning) des Endpunkts, gefolgt von der **Ressource**. Darüber hinaus kann der Pfad eine **ID** enthalten, die sich auf die zuvor genannte Ressource bezieht, ein **Auswahlverb**, das dabei hilft festzulegen, welche Daten zurückgegeben werden (z. B. `search` oder `sample`), ein **Auslieferungsverb**, das festlegt, wie die Daten bereitgestellt werden (z. B. `stream`), oder weitere Ressourcen, die in **Beziehung** zur primären Ressource stehen (z. B. `/user/12/tweets`). Abschließend können Sie einen **Abfrageparameter** anhängen, sofern der Endpunkt Abfrageparameter unterstützt.

Hier einige Beispiele, wie diese Pfad- und Abfrageelemente organisiert werden können:

`/version/resource/id?param1=value&param2=value /version/resource/delivery/selection?param1=value&param2=value`

Beispiele für tatsächliche Anfragen:

`/2/tweets/1067094924124872705?expansions=attachments.media_keys&tweet.fields=author_id /2/users/2244994945?user.fields=created_at,description /2/tweets/search/stream /2/tweets/search/recent?query=snow`

<div id="json-schema">
  ### JSON Schema
</div>

Antworten auf Anfragen werden mit [JSON Schema](http://json-schema.org/) definiert. Das bedeutet, dass Anfragen konsistent Mengen von Objekten als Arrays zurückgeben, wobei jedes Element eine ID hat. Anfragen geben keine Maps mit IDs als Schlüsseln zurück.

<div id="response-object-and-parameters">
  ### Antwortobjekt und Parameter
</div>

Das standardmäßig zurückgegebene Objekt ist für jeden Endpunkt dieses Objekttyps identisch:

- `id`-Objekte sind immer Strings.
- Parameter und Antwortfelder verwenden durchgehend amerikanisches Englisch.
- Felder sind leer oder werden nicht zurückgegeben, wenn kein Wert vorhanden ist.
- Das `entities`-Objekt enthält nur Entities, die aus dem Post-Text extrahiert wurden: Dazu gehören `urls`, `hashtags`, `mentions` und `cashtags`.
- Alle kartenbezogenen Informationen, einschließlich der Felder `media_keys` und `poll_ids`, werden im `attachments`-Objekt zurückgegeben.

Hier ist ein Beispiel für ein Antwortobjekt des Endpunkts [Single-Post-Lookup](/de/x-api/posts/post-lookup-by-post-id) (mit dem Parameter [tweet.fields](/de/x-api/fundamentals/data-dictionary#tweet) auf `author_id`, `entities` gesetzt):

```json
{
   "data": {
       "id": "1278747501642657792",
       "text": "It's been a year since Twitter's Developer Labs launched.\n\nAs we build towards the next generation of the #TwitterAPI (coming VERY soon), see what we've learned and changed along the way. https://t.co/WvjuEWCa6G",
       "author_id": "2244994945",
       "entities": {
           "urls": [
               {
                   "start": 188,
                   "end": 211,
                   "url": "https://t.co/WvjuEWCa6G",
                   "expanded_url": "https://blog.x.com/developer/en_us/topics/tools/2020/a-year-with-twitter-developer-labs.html",
                   "display_url": "blog.x.com/developer/en_u…",
                   "images": [
                       {
                           "url": "https://pbs.twimg.com/news_img/1278747527043362816/7HQRkQeV?format=jpg&name=orig",
                           "width": 1600,
                           "height": 600
                       },
                       {
                           "url": "https://pbs.twimg.com/news_img/1278747527043362816/7HQRkQeV?format=jpg&name=150x150",
                           "width": 150,
                           "height": 150
                       }
                   ],
                   "status": 200,
                   "title": "A year with Twitter Developer Labs: What we've learned and changed",
                   "description": "Labs has been invaluable in helping us understand what works well and what doesn’t, what you liked and what you didn’t.",
                   "unwound_url": "https://blog.x.com/developer/en_us/topics/tools/2020/a-year-with-twitter-developer-labs.html"
               }
           ],
           "hashtags": [
               {
                   "start": 106,
                   "end": 117,
                   "tag": "TwitterAPI"
               }
           ]
       }
   }
}
```

<div id="authentication">
  ### Authentifizierung
</div>

Alle Endpunkte der X-API v2 erfordern eine Authentifizierung. Viele davon akzeptieren die Methode [OAuth 2.0 Bearer Token](/de/resources/fundamentals/authentication#oauth-2-0). Dafür muss der Anfrage an den Endpunkt ein Bearer-Token beigefügt werden, damit sie erfolgreich ist.

Für Endpunkte, die eine Autorisierung erfordern, um im Namen eines anderen Nutzers Daten zu erstellen, zu ändern oder abzurufen, verwenden Sie den [OAuth 1.0a User Context](/de/resources/fundamentals/authentication). Das bedeutet, dass Sie die [API-Schlüssel und -Tokens](/de/resources/fundamentals/authentication#api-key-and-secret) Ihrer [Developer-App](/de/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) sowie einen Satz von [Access Tokens](/de/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) für den Nutzer bereitstellen, in dessen Namen Sie die Anfrage stellen. Der [3-legged OAuth Flow](/de/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) unterstützt Sie beim Abrufen der Access Tokens. Verwenden Sie ein [Tool oder eine Bibliothek](/de/x-api/tools-and-libraries/overview), die diesen Authorization-Header automatisch erstellt.

Weitere Informationen finden Sie in unserer Dokumentation zur [Authentifizierung](/de/resources/fundamentals/authentication).

---

<div id="fields">
  ### Felder
</div>

Das Objekt, das an jedem Endpunkt zurückgegeben wird, ist verdichtet. Um Entwicklern mehr Anpassungsmöglichkeiten für die API-Antwort zu geben, kann der Parameter [`fields`](/de/x-api/fundamentals/fields) verwendet werden, um die gewünschten Felder anzufordern. Felder bleiben über Endpunkte hinweg konsistent. Das Post-Objekt gibt an allen Endpunkten, an denen es zurückgegeben wird, dieselben Felder zurück. Derselbe Satz von Feldern kann über ähnliche Endpunkte abgefragt werden.

Beispielsweise können dieselben Post-Felder sowohl in der [Posts-Lookup](/de/x-api/posts/lookup/introduction) als auch für den expandierten angehefteten Post in der [Users-Lookup](/de/x-api/users/lookup/introduction) abgefragt werden.

---

<div id="expansions">
  ### Erweiterungen
</div>

Wo zutreffend, sind [Erweiterungen](/de/x-api/fundamentals/expansions) für alle verschachtelten ID-Felder verfügbar (z. B. alle Felder mit Namen `*_id`, wie `author_id`). Erweiterungen sind auch für alle Felder verfügbar, die eine ID haben, die nicht der oberste Bezeichner (Top-Level-Identifier) des aktuellen Objekts ist. Zum Beispiel ist in der [Post-Abfrage](/de/x-api/posts/lookup/introduction) der Post das aktuelle Objekt, wobei das Feld `id` der oberste Bezeichner ist. Die Felder `author_id` oder `referenced_tweets.id` lassen sich zu vollständigen User- bzw. Post-Objekten erweitern, indem Sie diese kommaseparierten Werte dem Parameter `expansions` hinzufügen.

Bitte [melden Sie Unstimmigkeiten](https://twitterdevfeedback.uservoice.com/), die Ihnen bei diesen Feldern auffallen.