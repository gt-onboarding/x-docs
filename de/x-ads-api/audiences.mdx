---
title: Zielgruppen
---

import { Button } from '/snippets/de/button.mdx';

<div id="custom-audiences">
  ## Benutzerdefinierte Zielgruppen
</div>

<div id="overview">
  ### Übersicht
</div>

Es gibt mehrere Möglichkeiten für Partner, [Benutzerdefinierte Zielgruppen](https://business.x.com/en/targeting/tailored-audiences.html) zu erstellen.

- [Audience API (CRM)](#crm)
- [Web](#web)
- [Mobile](#mobile)
- [Flexible](#flexible)

Bitte beachten Sie, dass Lookalike-Benutzerdefinierte Zielgruppen nicht vom Targeting ausgeschlossen werden können. Zudem können Sie nicht gleichzeitig eine Benutzerdefinierte Zielgruppe und eine Lookalike-Benutzerdefinierte Zielgruppe im selben Anzeigenzeilenelement (Anzeigengruppe) ansprechen.

**Zielgruppenverwaltung**

Zielgruppen können über Audience-Partner und Ads-API-Partner verwaltet werden. Wir bieten in der API eine Reihe von Endpunkten an, um auf Benutzerdefinierte Zielgruppen zuzugreifen und sie zu verwalten.

Für Informationen zu Benutzerdefinierten Zielgruppen bieten wir 2 Endpunkte an:

- [GET accounts/:account\_id/custom\_audiences](/de/x-ads-api/audiences)
- [GET accounts/:account\_id/custom\_audiences/:custom\_audience\_id](/de/x-ads-api/audiences)

Weitere Details zum Hochladen und Verwalten von Zielgruppen finden Sie im [Audience-API-Leitfaden](/de/x-ads-api/audiences).

**Verarbeitungszeiten**

Änderungen an Zielgruppen werden in der Regel in Batches verarbeitet, die alle 6–8 Stunden laufen. Während eine Änderung verarbeitet wird, bleibt die bestehende, zu aktualisierende Zielgruppe unverändert. Wir empfehlen, innerhalb dieses Zeitraums nicht mehr als ein Update für Hinzufügungen und ein Update für Entfernungen pro Zielgruppe vorzunehmen.

**Targeting**

Eine Zielgruppe kann nur angesprochen werden, wenn sie mindestens 100 Nutzer umfasst, die in den letzten 90 Tagen auf X-eigenen und -betriebenen Clients aktiv waren. [GET accounts/:account\_id/custom\_audiences/:custom\_audience\_id](/de/x-ads-api/audiences) gibt an, wenn eine Zielgruppe nicht angesprochen werden kann, weil sie zu wenige Nutzer umfasst.

**Audience API (CRM)**

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/crm_0.png" alt="image2" />
</Frame>

Audience- bzw. API-Partner stellen eine Liste gehashter Kennungen bereit, X führt das Matching durch und erzeugt Segmente, die für Media Buying auf X verfügbar sind. Partner können diese Zielgruppen mit der [Audience API](/de/x-ads-api/audiences) erstellen.

**Wie funktioniert das?**

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/crm_1.png" alt="image3" />
</Frame>

**Web**

Wir bieten einen standardisierten Cookie-Matching-Prozess in Zusammenarbeit mit MPP-Audience-Partnern an, um Segmente zu identifizieren, die für Media Buying auf X angesprochen werden können. Zusätzlich können Werbetreibende ein [X Web Event Tag](/de/x-ads-api/measurement/web-conversions#web-event-tags) einrichten, um Website-Nutzerdaten zu erfassen und eine entsprechende Benutzerdefinierte Zielgruppe zu erstellen.

**Einrichtungsschritte**

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/screen_shot_2013-11-26-cookie-usage.png" alt="image0" />
</Frame>

![]()

**Wie funktioniert das?**

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/tailored_audience_web.png" alt="image1" />
</Frame>

**Mobile**

Details finden Sie im Blogbeitrag [„Custom Audiences from Mobile Apps“](https://blog.x.com/2014/introducing-tailored-audiences-from-mobile-apps).

**Flexible**

[Flexible Zielgruppen](/de/x-ads-api/audiences) geben Werbetreibenden die Möglichkeit, Zielgruppenkombinationen auf Basis bestehender Benutzerdefinierter Zielgruppen oder Teilmengen davon zu erstellen und zu speichern. Teilmengen der Mitglieder einer Benutzerdefinierten Zielgruppe können basierend auf Aktualität und Häufigkeit der Interaktion angesprochen werden.

**Eingeschränkte Anwendungsfälle für Benutzerdefinierte Zielgruppen**

[Erfahren Sie mehr über Einschränkungen](https://developer.x.com/en/developer-terms/more-on-restricted-use-cases "Erfahren Sie mehr über Einschränkungen")

<div id="audiences-faq">
  ### FAQ zu Zielgruppen[](#real-time-tailored-audiences "Permalink zu dieser Überschrift")
</div>

**F: Wir haben eine enorme Datenmenge übertragen. Warum wird die Zielgruppengröße als TOO\_SMALL angezeigt?**

A: Derzeit werden die Daten in Echtzeit zur Zielgruppe hinzugefügt, aber der Job, der die Daten verarbeitet, um die Zielgruppengröße bereitzustellen, läuft erst nach einer gewissen Zeit. Die korrekte Zielgruppengröße sollte nach einigen Stunden in der UI angezeigt werden.

**F: Wir haben das Senden der Zielgruppendaten abgeschlossen und 24 Stunden oder länger gewartet, können die Zielgruppe aber immer noch nicht targeten – was sollten wir als Nächstes tun?**

A: Bitte bestätigen Sie Folgendes:

- Die übergebene User-ID ist korrekt und nicht fehlerhaft.
- Die übergebenen Zielgruppennamen sind korrekt und stimmen mit früheren Mitgliedschaftsaktualisierungen überein.
- Bitte prüfen Sie die Antwort auf POST-Befehle.
- Bitte bestätigen Sie, dass das ID-Sync-Pixel korrekt implementiert ist und dass, wie im ID-Sync-Prozess beschrieben, genügend Nutzer die betreffende Website besucht haben, um Nutzer zuzuordnen. Nicht zugeordnete Nutzer in den Mitgliedschaftsaktualisierungen werden nicht in targetbare Nutzer übersetzt.

Wenn alles andere als korrekt und funktionsfähig bestätigt ist, kontaktieren Sie bitte die X-Produktansprechpartner mit so detaillierten Informationen wie möglich (siehe [Guide to Partner Inbounds](/de/x-ads-api/introduction) für ein Beispiel bevorzugter Informationen).

**F: Wie oft können wir den Endpoint aufrufen und mit welchem Algorithmus?**

A: Wir empfehlen dringend, unser System mit inkrementellen Deltas aufzurufen und niemals die vollständigen Zielgruppenmitgliedschaften erneut zu senden. Das System wurde auf einen Durchsatz getestet, der ausreicht, um inkrementelle Datenaktualisierungen für einige der größten Websites der Welt zu verarbeiten. Der anfängliche Upload von Zielgruppen sollte sorgfältig gedrosselt werden, und es ist zu erwarten, dass der erste Upload beträchtliche Zeit in Anspruch nimmt.

**F: Wie groß muss eine Zielgruppe mindestens sein, um für Targeting verwendet zu werden?**

- Die Mindestgröße für eine Zielgruppe beträgt 100 Nutzer (nach Abgleich). Wenn eine Zielgruppe mit weniger als 500 Nutzern abgeglichen wird, steht sie in der X Ads UI nicht für Targeting zur Verfügung.

**F: Wie lange dauert die Verarbeitung der Zielgruppendateien? Und wie lange dauert es, bis die Zielgruppendateien in der X-Benutzeroberfläche bereitstehen?**

- Die Verarbeitung der Zielgruppendateien dauert typischerweise 4–6 Stunden, abhängig von der Dateigröße. Sobald die Datei verarbeitet ist, stehen die Zielgruppen in der X Ads UI zur Verfügung.

**F: Wie wird die Match-Rate berechnet?**

- Match-Rate = in den letzten 90 Tagen aktive X-Nutzer / Anzahl der bereitgestellten Nutzer

**F: Wie testen wir, ob eine Zielgruppendatei ordnungsgemäß funktioniert?**

- Sie können eine Test-Zielgruppendatei bereitstellen und „keltonlynn“ als Advertiser-Handle verwenden. Wir können dann verifizieren, dass die Datei ordnungsgemäß aufgenommen und in die X UI geladen werden kann.

**F: Was ist ein Partnernutzerbezeichner (`p_user_id`)?**

- Dies ist der Bezeichner, den Ihr Unternehmen verwendet, um jeden Ihrer Kunden eindeutig zu identifizieren.

**F: Was ist eine Standard-ID?**

- Das kann eine E-Mail-Adresse, Geräte-ID, X-@Handle oder X-ID sein.

**F: Wie erhalte ich den HMAC-Schlüssel?**

- Dieser wird per verschlüsselter E-Mail bereitgestellt. Bitte senden Sie Ihren öffentlichen PGP-Schlüssel an [mpp-inquiry%x.com](mailto:mpp-inquiry%x.com) und wir senden Ihnen eine Test-E-Mail, um zu verifizieren, dass alles funktioniert. Nach der Verifizierung senden wir Ihnen den HMAC-Schlüssel.

**F: Wie überprüfe ich, dass der Hashing-Prozess mit dem angegebenen HMAC-Schlüssel funktioniert hat?**

- X stellt eine Testdatei (mit Beispiel-E-Mail-Adressen, Geräte-IDs etc.) und eine resultierende Hash-Datei bereit, anhand derer Sie Ihre Ergebnisse verifizieren können.

**F: Gibt es eine Größenbeschränkung für die vollständige Data-Match-Datei?**

- Nein, es gibt keine Größenbeschränkung für die vollständige Data-Match-Datei.

**F: Wie lange dauert es, bis die vollständige Data-Match-Datei verarbeitet ist?**

- Sobald die Datei von X empfangen wurde, dauert die Verarbeitung ungefähr 1 Tag.

<div id="crm">
  ### CRM
</div>

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/crm_0.png" alt="image0" />
</Frame>

Dieses Dokument beschreibt die Integrationsdetails für CRM‑Partner für Benutzerdefinierte Zielgruppen, einschließlich Dateiformaten und des Datenaustauschprozesses.

**Zusammenfassung**

Das Unternehmen stellt im Auftrag eines Kunden eine Liste gehashter gemeinsamer Nutzerkennungen (z. B. E‑Mail‑Adressen) oder Partner‑Nutzer‑IDs an X bereit, um ein Blind-Matching durchzuführen und eine Liste von X‑Nutzer‑IDs für das Targeting zu erstellen. Die Zielgruppensegmente werden dem spezifischen @Handle des Werbetreibenden zur Verfügung gestellt, der durch den Dateinamen in der Kampagneneinrichtung auf ads.x.com festgelegt ist.

Alle Dateien des Unternehmens werden X über ein sicheres Paket auf IronBox (www.golockbox.com) über ein spezielles, von X dem Unternehmen zugewiesenes Konto bereitgestellt. X gewährt den Zugriff auf IronBox. Die Dokumentation zu den IronBox‑APIs ist unter [https://secure.goironcloud.com/Docs/Help/](https://secure.goironcloud.com/Docs/Help/) zu finden.

<div id="partner-id-matching-requirements">
  #### Anforderungen an den Partner-ID-Abgleich
</div>

Wenn ein Unternehmen ein eigenes, proprietäres ID-System zur Nutzerverfolgung verwendet (d. h. keine gängigen Nutzerkennungen wie E-Mail-Adressen, Geräte-IDs, X-Nutzer-ID usw.), wird folgender Prozess empfohlen.

**1. Vollständiger Datenabgleich**

Zu Beginn stellt das Unternehmen eine umfassende Liste aller Nutzerdatensätze in einer einzelnen Datei bereit, die eine eindeutige, gängige Nutzerkennung enthalten, um einen vollständigen Datenabgleich durchzuführen und eine von X gespeicherte Zuordnung von Partner-IDs (`p_user_id`) zu X-IDs (`tw_id`) zu erstellen. Dies erfolgt regelmäßig im Abstand von 2–3 Monaten, um die Daten aktuell zu halten. Sobald der Abgleich abgeschlossen ist, teilt X dem Unternehmen per E-Mail eine Baseline-Match-Rate aus dieser Datei mit.

Das Format dieser Datei sollte wie folgt sein:

Namenskonvention: FullDataMatch.\[CompanyName].txt

Hashing-Algorithmus: HMAC\_SHA-256

Format:

Spalte 1: HMAC-gehashter Wert der gängigen Kennungen

Spalte 2: Partner-Nutzer-ID (pro Nutzer eindeutig, in der Datei nicht eindeutig)

Spaltentrenner (CSV): Kommas trennen die gehashte gängige Nutzerkennung von der Partner-ID

Zeilenweise getrennte Werte

- Bsp.: Wenn der Nutzerdatensatz A die Partner-Nutzer-ID 1 und die gängigen Kennungen 1, 2 und 3 hat:

|     |     |
| :--- | :--- |
| gängige Nutzerkennung 1 | p\_user\_1 |
| gängige Nutzerkennung 2 | p\_user\_1 |
| gängige Nutzerkennung 3 | p\_user\_1 |

\*Siehe unten den Abschnitt „Hashing-Anweisungen“ zu gängigen Nutzerkennungen

**2. Benutzerdefinierte Segmentlisten**

Das Unternehmen stellt Listen von Nutzern in Form von `p_user_id` bereit, um benutzerdefinierte Zielgruppen für das Targeting auf X zu erstellen.

- Zeilenweise getrennte Werte
- `p_user_id`
- - (Entspricht dem in Abschnitt 1 „Vollständiger Datenabgleich“ oben bereitgestellten Wert. Wenn der im vollständigen Datenabgleich bereitgestellte Wert gehasht ist, stellt das Unternehmen denselben gehashten Wert in der Zielgruppendatei bereit. Wenn der bereitgestellte Wert nicht gehasht ist, stellt das Unternehmen den ungehashten Wert bereit.)

<div id="standard-matching-requirements">
  #### Standardanforderungen für das Matching
</div>

Wenn das Unternehmen keine Standard-ID zur Zuordnung aller kundenbezogenen Benutzerkennungen verwendet, wird der folgende Prozess empfohlen.

**Benutzerdefinierte Segmentlisten**

Das Unternehmen stellt X im Auftrag der Kunden Listen mit gehashten, gängigen Benutzerkennungen zur Verfügung, um benutzerdefinierte Zielgruppen zu erstellen.

Das Format dieser Datei sollte wie folgt sein:

- Zeilenweise getrennte Werte
- Gehashte, gängige Benutzerkennung (z. B. E-Mail-Adresse)
- Beachten Sie die nachfolgend beschriebenen Konventionen zur Dateibenennung
- Beachten Sie die nachstehenden Anweisungen zum Hashing von E-Mail-Adressen (unter „Hashing-Anweisungen“)

<div id="custom-segment-list-file-naming-operations">
  #### Dateibenennung und Operationen für benutzerdefinierte Segmentlisten
</div>

Welche Operation auf eine Datei angewendet wird, ergibt sich aus ihrem Namen. Verfügbar sind die folgenden Operationen und die allgemeine Konvention zur Dateibenennung: audiencename\_partnername.handle.operation.filetype

- audiencename: Der Name der Benutzerdefinierten Zielgruppe. Dieser Name wird angezeigt, wenn die Zielgruppe in der ads.x.com-Kampagnenerstellung ausgewählt wird, z. B. brand\_loyalty\_card\_holders.
- partnername: Name des Unternehmens, das die Daten im Auftrag des Werbetreibenden liefert, z. B. company\_name.
- handle: X-Konto (@Handle), das Zugriff auf Benutzerdefinierte Zielgruppen hat, z. B. @pepsi, @dietpepsi
- operation: new, add, remove, removeall, replace (Details unten)
- : Standard-Unix-Epoch-Zeit in Sekunden; dient dazu, jede hochgeladene Zielgruppendatei eindeutig zu machen
- filetype: Datei muss im Format \*.txt vorliegen

<div id="creating-and-updating-audiences">
  #### Erstellen und Aktualisieren von Zielgruppen
</div>

Erstellen Sie eine neue Zielgruppe mit einer einzelnen Datei, z. B. loyalty\_card\_holders\_partnername.pepsi.new.txt

Hinzufügen – Fügen Sie die Übereinstimmungen aus einer Liste zu einer bestehenden Zielgruppe hinzu, z. B. loyalty\_card\_holders\_partnername.pepsi.add..txt

Entfernen – Entfernen Sie die Übereinstimmungen aus einer Liste aus einer bestehenden Zielgruppe, z. B. loyalty\_card\_holders\_partnername.pepsi.remove..txt

Alle entfernen – Entfernen Sie die Übereinstimmungen aus einer regelmäßig aktualisierten kumulativen Liste aus allen Zielgruppen für diesen Kunden (d. h. Opt-out-Liste des Kunden), z. B. partnername.pepsi.removeall.txt

- Dies kann für eine umfassende Liste von Nutzern verwendet werden, die dem Werbetreibenden gegenüber widersprochen haben (Opt-out).
- X berücksichtigt nur die neueste in dieser Datei bereitgestellte Liste und wendet sie auf alle bestehenden und zukünftigen Zielgruppen mit passenden Nutzern an.

X Nutzer, die zum Zeitpunkt der Bereitstellung und Verarbeitung dieser Datei vorhanden waren.

Ersetzen – Entfernen Sie eine bestehende Zielgruppe und ersetzen Sie sie durch eine neue Zielgruppenliste, z. B. loyalty\_card\_holders\_partnername.pepsi.replace..txt

Unternehmensweites Opt-out – Das Unternehmen stellt eine kumulative Opt-out-Datei bereit, um Nutzer zu entfernen, die gemäß der Opt-out-Richtlinie des Unternehmens widersprochen haben.

X berücksichtigt nur die neueste in dieser unternehmensweiten Opt-out-Datei bereitgestellte Liste und wendet sie auf alle bestehenden und zukünftigen Zielgruppen mit passenden X Nutzern an, die zum Zeitpunkt der Bereitstellung und Verarbeitung dieser Datei vorhanden waren. Das Format der unternehmensweiten Opt-out-Datei lautet wie folgt, z. B. partnername.removeall.txt

Löschen – Entfernen Sie eine bestehende Zielgruppe aus der aktuellen Liste der Zielgruppen, z. B. loyalty\_card\_holders\_partnername.pepsi.delete.txt

<div id="hashing-directions">
  #### Hashing-Anweisungen
</div>

X stellt einen Base64-codierten Produktionsschlüssel per PGP sicher bereit, um gängige Benutzerkennungen (z. B. E-Mail-Adressen) zu hashen. Das Unternehmen decodiert den Schlüssel aus Base64, um einen 32-Byte-Schlüssel zu erhalten, der für das Hashing verwendet wird.

Beispiel eines Base64-codierten Schlüssels:

BrQvOg+dACBUmKjRiNxZgJLh6zydjS0ZOv80FelTNzM=

Beispiel eines Base64-decodierten Schlüssels:

/:� TшY

Normalisierung: Das Unternehmen führt vor dem Hashing eine grundlegende Normalisierung der gängigen Benutzerkennungen durch (ausgenommen Geräte-IDs; siehe Abschnitt Geräte-ID-Normalisierung).

<div id="e-mail-normalization">
  #### E-Mail-Normalisierung
</div>

Dabei werden führende und nachgestellte Leerzeichen entfernt und die E-Mail-Adresse in Kleinbuchstaben umgewandelt.

Beispiel: Roh-E-Mail-Adresse: testemail\_Organisational\_baseball+884`@`It92I6Ev2B`.`Com

Nach der Normalisierung: testemail\_organisational\_baseball+884`@`it92i6ev2b`.`com

Gehashter Wert: 74d9584eded0ad1e5572a1c1849f3716751d371d6117a6155dad5363f4b4fbec

Hinweis: Die genaue Zeichenanzahl sowohl für das codierte HMAC als auch für den Schlüssel kann je nach Eingabe und Codierung variieren.

<div id="device-id-normalization">
  #### Normalisierung von Geräte-IDs
</div>

Für das Hashing von Geräte-IDs gelten dieselben Anforderungen: Verwendung des SHA-256-Hash-Algorithmus und eines gemeinsamen Salts, das wir Datenpartnern bereitstellen. Wir entfernen Leerzeichen wie bei E‑Mail‑Adressen, aber es erfolgt keine Kleinschreibungsnormalisierung für IDFAs/Android-IDs; das exakte Format der IDFA/Android-ID ist zu verwenden.

Hier ein Beispiel für das Rohformat von Geräte-IDs für iOS und Android vor dem Hashing:

iOS-IDFA: DD99CFF7-6186-4602-9DF2-ED3FD0B2D431

Android-ID: b5bf2122961b3595

Gehashte iOS-IDFA: 134fb8cd95c7fd42e2793f469a447198ca5f990968db2dbadad70e723ed9750b

Gehashte Android-ID: 130dddff1939f229476f50bc8adab8fcb7e3525b0e9604fe8effc15e68cee4a4

<div id="x-user-id-normalization">
  #### Normalisierung von X-Benutzer-IDs
</div>

X-IDs werden weiterhin gehasht, da die Gruppierung von Daten – z. B. Kundenlisten von @usernames – für den Werbetreibenden privat ist, auch wenn es sich nicht um PII handelt. Es gelten dieselben Anforderungen für das Hashen von X-IDs mithilfe des SHA-256-Algorithmus und eines gemeinsamen Salts, den wir Datenpartnern bereitstellen. Leerzeichen sollten sowohl aus der X-ID als auch aus dem `@`username entfernt werden, Benutzer-IDs erfordern jedoch keine Normalisierung. @usernames sollten zur Normalisierung in Kleinbuchstaben umgewandelt werden. Das @-Symbol darf nicht als Teil des Usernamens enthalten sein.

Das Rohformat der ID lautet:

- Benutzer-ID: 27674040
- @username: testusername

Gehashte Benutzer-ID: bf6b57d4e861e83bea8bbed2b800b251a64c95468ee6e8cb07c3368c9ed45e85

Gehashter @username: 12201ae78ad1afa907c7112d17f498154ffb0bf9ea523f5390e072a06d7d9812

<div id="id-sync-integration">
  ### ID Sync-Integration
</div>

Partner, die Daten mit einer `p_id` senden, müssen einen ID Sync-Prozess durchlaufen, um eine Zuordnung zwischen den Benutzer-IDs des Werbetreibenden bzw. Partners und den X-Benutzer-IDs zu erstellen. So können Werbetreibende ihre eigenen Nutzersegmente direkt auf X ansprechen. Partner müssen außerdem beim Senden ihrer Mitgliedschaftsaktualisierungen den Parameterwert `user_identifier_type` auf entweder `TALIST_PARTNER_USER_ID` oder `TAWEB_PARTNER_USER_ID` setzen.

- **Nur Web**: Dies kann durch das Platzieren eines Pixels auf der Website des Werbetreibenden erfolgen, wie unten beschrieben.
- **Liste**: Dies kann mit einer der auf der Seite [CRM](/de/x-ads-api/audiences#crm) beschriebenen Methoden erfolgen.

<div id="pixel-url">
  #### Pixel-URL
</div>

|     |
| :--- |
| **Basis-URL** |
| [https://analytics.x.com/i/adsct](https://analytics.x.com/i/adsct) |

<div id="pixel-parameters">
  #### Pixel-Parameter
</div>

|     |     |
| :--- | :--- |
| **Parameter** | **Beschreibung** |
| `p_id` | Ihre von X vergebene Partner-ID |
| `p_user_id` | Die Benutzer-ID im Partnersystem |

<div id="id-sync-pixel">
  #### ID Sync Pixel:
</div>

Mit einer Beispiel-Partner-ID von 111 und einer Beispiel-`p_user_id` von abc würde das konstruierte Pixel wie folgt aussehen:

```json
    <pre class="brush: xml">
    <img height="1" width="1" src="https://analytics.x.com/i/adsct?p_id=111&p_user_id=abc" style="display:none" />
    </pre>
```

**Konfiguration der Opt-out-Datei und Übermittlung von Opt-out-Dateien**

Partner sollten X eine Liste von Nutzern bereitstellen, die nach bestem Wissen des Partners dem Erhalt zielgerichteter Anzeigen widersprochen haben (Opt-out). Die Datei sollte im folgenden Format übermittelt werden:

|     |     |     |     |
| :--- | :--- | :--- | :--- |
| **Spaltennummer** | **Spaltenname** | **Spaltentyp** | **Beschreibung** |
| 1   | Partner-ID | string | Die „Partner-ID“ ist die ID, die X dem Partner zur eindeutigen Identifizierung jedes Partners zuweist. |
| 2   | Nutzer-ID im Partnersystem | string | Die `p_user_id` ist die eindeutige ID, mit der der Partner den Nutzer identifiziert. Die Datei mit diesen Opt-out-Nutzern sollte über den [TON upload](/de/x-ads-api/audiences)-Endpunkt hochgeladen werden, und der Pfad der hochgeladenen Daten sollte an den Global-Opt-out-Endpunkt hier gesendet werden: [PUT accounts/:account\_id/custom\_audiences/global\_opt\_out](/de/x-ads-api/audiences). |

**Übermittlung von Mitgliedschaftsaktualisierungen**

Wie in unserer Endpunktdokumentation beschrieben, sollten Sie beim Übermitteln von Nutzern über den [POST custom\_audience\_memberships](/de/x-ads-api/audiences)-Endpunkt eine Customer-ID übergeben, um ein cookie-basiertes Matching zu ermöglichen. Partner, die Daten mit einer `p_id` senden, **müssen** `user_identifier_type` auf `TALIST_PARTNER_USER_ID` oder `TAWEB_PARTNER_USER_ID` setzen.

Alle weiteren Schritte entsprechen denen im [Leitfaden zur Integration der Real-Time Audience API](/de/x-ads-api/audiences).

<div id="custom-audiences-user-data">
  ### Benutzerdaten für Benutzerdefinierte Zielgruppen
</div>

Dieses Dokument beschreibt das Format für Benutzerdaten von \[Benutzerdefinierte Zielgruppe]/x-ads-api/audiences.

**Datennormalisierung**

**Geräte-IDs**:

- IDFA – kleingeschrieben mit Bindestrichen; z. B. `4b61639e-47cc-4056-a16a-c8217e029462`
- AdID – Originalformat des Geräts erforderlich, nicht großgeschrieben, mit Bindestrichen; z. B. `2f5f5391-3e45-4d02-b645-4575a08f86e`
- Android-ID – Originalformat des Geräts erforderlich, nicht großgeschrieben, ohne Bindestriche oder Leerzeichen; z. B. `af3802a465767e36`

**E-Mail-Adressen**:

- kleinschreiben, führende und nachgestellte Leerzeichen entfernen; z. B. `support@x.com`

**X-Benutzernamen**:

- ohne @, kleingeschrieben und führende sowie nachgestellte Leerzeichen entfernt; z. B. `jack`

**X-Benutzer-IDs**:

- Standard-Integer; z. B. `143567`

**Daten-Hashing**

Die Daten jeder Zeile müssen mit `SHA256` ohne Salt gehasht werden. Zudem muss der endgültige Ausgabe-Hash in Kleinbuchstaben vorliegen. Z. B. 49e0be2aeccfb51a8dee4c945c8a70a9ac500cf6f5cb08112575f74db9b1470d und **nicht** 49E0BE2AECCFB51A8DEE4C945C8A70A9AC500CF6F5CB08112575F74DB9B1470D

```
# hashing user @AdsAPI using python
import hashlib
hashlib.sha256("adsapi".encode()).hexdigest()

# output
49e0be2aeccfb51a8dee4c945c8a70a9ac500cf6f5cb08112575f74db9b1470d
```

Zusätzliche Codebeispiele für das Hashing finden Sie unter [github.com/xdevplatform/ads-platform-tools](https://github.com/xdevplatform/ads-platform-tools).

<div id="custom-audiences-web">
  ### Benutzerdefinierte Zielgruppen: Web
</div>

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/info.png" alt="info.png" />
</Frame>

**Information**

Partner senden eine Liste von IDs (`p_user_ids`), um im Namen eines Werbetreibenden zu targeten. Dies geschieht über einen ID-Sync-Prozess, der eine Zuordnung zwischen den `p_user_ids` und der X-Benutzer-ID erstellt. Diese Zuordnung wird dann verwendet, um Listen von X-Benutzer-IDs zu erzeugen, die für das Targeting genutzt werden können. Diese benutzerdefinierten Zielgruppen werden beim spezifischen @handle des Werbetreibenden verfügbar gemacht, das durch das Label in der Custom Audiences Web-Kampagneneinrichtung auf ads.x.com angegeben ist.

X stellt das Secure Pixel bereit, das auf Partner-Tags und -Websites eingebunden werden kann, um die IDs (`p_user_ids`) den X-Benutzer-IDs zuzuordnen. Sobald der ID-Sync-Prozess abgeschlossen ist, werden die Targeting-Dateien vom Partner erstellt und X über einen HTTPS-Endpunkt zur Verfügung gestellt. Diese Targeting-Dateien werden von X regelmäßig eingelesen und anschließend in der X-UI verfügbar gemacht.

**X Secure Pixel**

Das X Secure Pixel sieht wie folgt aus:

https://analytics.x.com/i/adsct?p\_user\_id=xyz\&p\_id=123

**`p_user_id`** - xyz steht für die vom Partner bereitgestellte Partner-Benutzer-ID

**`p_id`** - 123 steht für die eindeutige ID des Partners (bereitgestellt von X)

**Partner-HTTPS-Endpunkt & Targeting-Benutzerdatei**

Der Partner muss X einen HTTPS-Endpunkt und Zugangsdaten (Benutzername/Passwort) bereitstellen, die verwendet werden können, um die Targeting-Datei regelmäßig einzulesen. Ein Beispiel für einen HTTPS-Endpunkt sieht wie folgt aus:

```
https://<partnerdomain>/twitter/partner_targeting_%Y-%M-%D.tsv.gz
```

%Y - Formatcode für Jahr (YYYY)

%M - Formatcode für Monat (MM)

%D - Formatcode für Tag (DD)

Die übertragenen Daten bestehen aus den folgenden Dateien:

1. Partner-Targeting-Benutzerdatei
2. Targeting-Conversion-Datei

Alle Dateien liegen im TSV-Format vor, bei dem die einzelnen Felder jeder Zeile durch ein Tabulatorzeichen voneinander getrennt sind. Gültige Feldwerte selbst enthalten niemals das Tabulatorzeichen.

**Zulässiger X-IP-Bereich:**

Hier ist der IP-Bereich, der für den Zugriff auf den Partner-Endpunkt freigegeben werden kann.

- 199.16.156.0/22
- 199.59.148.0/22

**Partner-Targeting-Benutzerdatei:**

| **Spaltennummer** | **Spaltenname** | **Spaltentyp** | **Beschreibung** |
| :--- | :--- | :--- | :--- |
| 1   | partner id | string | Die „partner id“ ist die ID, die X dem Partner zur eindeutigen Identifizierung jedes Partners bereitstellt. |
| 2   | advertiser id | string | Die „advertiser id“ ist das @handle des Werbetreibenden. |
| 3   | p\_user\_id | string | Die „p\_user\_id“ ist die eindeutige ID, mit der der Benutzer vom Partner identifiziert wird. |
| 3   | confidence score | integer | Der „confidence score“ ist optional. Unsere Empfehlung für den Confidence Score ist 0–100. Wenn der Anwendungsfall Retargeting ist, entspricht ein Confidence Score von „100“ einem Nutzer, der direkt retargeted wurde. Jeder Wert von 0–99 entspricht dem Vertrauensgrad des Lookalikes. |
| 4   | segment label | string | Das „segment label“ ist optional. Partner können das „segment label“ z. B. zur Angabe von Produktkategorien verwenden. Wir empfehlen, dieses „segment label“ zu nutzen, da dies der menschenlesbare Name für Benutzerdefinierte Zielgruppen in der ads.x.com-UI ist. |

**Hinweise:**

Jedes Mal, wenn wir eine neue Partner-Targeting-Datei erhalten, erwarten wir, dass es sich um die vollständige Liste der Nutzer handelt, die der Partner für das Targeting empfiehlt, nicht um inkrementelle Updates, sofern nichts anderes vereinbart wurde. Mit jedem Partner wird die Lieferfrequenz dieser Partner-Targeting-Datei abgestimmt. Wenn wir eine Partner-Targeting-Datei nicht wie erwartet erhalten, verwenden wir die vorherige Version mit einer vordefinierten Ablaufzeit.

<div id="audience-api-integration">
  ## Integration der Audience-API
</div>

<div id="overview">
  ### Übersicht
</div>

Die Audience-API wurde als Teil von [v4](/de/x-ads-api/introduction) der X-Ads-API eingeführt und bringt mehrere Verbesserungen gegenüber den Legacy-Audience-Endpunkten. Dieser neue Endpunkt wird von einem neuen Backend zur Audience-Verarbeitung unterstützt und bietet Verbesserungen in Bezug auf Stabilität, Robustheit und Zuverlässigkeit. Ziel dieses Leitfadens ist es, die Unterschiede zwischen der Audience-API und den Legacy-Prozessen für Upload und Verwaltung von Audiences hervorzuheben.

Die Referenzdokumentation finden Sie auf der Referenzseite zur [Audience-API](/de/x-ads-api/audiences).

**Hinweis**: Sämtliche Audience-Nutzerdaten müssen vor dem Upload mit SHA-256 gehasht werden. Weitere Details, einschließlich der akzeptierten Benutzer-Identifikatortypen und der Datennormalisierung, finden Sie auf der Seite [Benutzerdaten](/de/x-ads-api/audiences).

**Änderungen an der Audience-Funktionalität**

Die folgenden Änderungen an Benutzerdefinierten Zielgruppen wurden seit v4 eingeführt, und alle veralteten Endpunkte sind nicht mehr verfügbar, sobald v3 der X-Ads-API außer Betrieb genommen wurde:

- **Veraltet**: TON-Upload:
  - GET accounts/:account\_id/custom\_audience\_changes
  - GET accounts/:account\_id/custom\_audience\_changes/:custom\_audience\_change\_id
  - POST accounts/:account\_id/custom\_audience\_changes
  - PUT accounts/:account\_id/custom\_audiences/global\_opt\_out
- **Veraltet**: Echtzeit-Audiences:
  - POST custom\_audience\_memberships
- Benutzerdefinierte Zielgruppe:
  - Der Parameter `list_type` wird in Anfrage und Antwort bei allen Endpunkten für [Custom Audience](/de/x-ads-api/audiences) entfernt. Dieser Parameter wurde zuvor verwendet, um den Benutzer-Identifikatortyp der Audience zu kennzeichnen (z. B. E-Mail, X User ID usw.). Audiences können jetzt jedoch mehrere Benutzer-Identifikatoren für dieselbe Audience akzeptieren, wodurch dieser Wert obsolet wird.
- Allgemein:
  - Das Audience-Lookback-Fenster wurde aktualisiert und gleicht nun Nutzer ab, die in den letzten 90 Tagen aktiv waren (zuvor 30 Tage).
  - Die Mindestanzahl an abgeglichenen Nutzern, die erforderlich ist, damit eine Audience für das Targeting verfügbar ist, wurde auf 100 Nutzer reduziert (zuvor 500 Nutzer).

<Note>
  **Voraussetzungen**

  - Zugriff auf die X-Ads-API
  - Für den Zugriff auf den Audience-Endpunkt müssen Sie einer Allowlist hinzugefügt werden. Bitte füllen Sie dieses Formular aus und akzeptieren Sie die neue [X Ads Products and Services Agreement](/de/x-ads-api/introduction), falls ursprünglich vor dem 2018-08-01 akzeptiert.
</Note>

**Audience-Upload-Prozess**

Die folgende Tabelle listet die wichtigsten Unterschiede zwischen den alten und neuen Audience-Erstellungsabläufen auf; weitere Details finden Sie weiter unten:

| Schritt im Prozess | Audience-API | (Veraltet) TON-Upload |
| :--- | :--- | :--- |
| Shell-Audience erstellen | Kann über den \[POST custom\_audience endpoint]/x-ads-api/audiences erstellt werden | Kann über den \[POST custom\_audience endpoint]/x-ads-api/audiences erstellt werden |
| Neuen Nutzer hinzufügen | Verwenden Sie `operation_type` `Update` mit dem [Audience-Endpunkt](/de/x-ads-api/audiences) | Verwenden Sie `operation` `ADD` mit dem Endpunkt [POST custom\_audience\_changes](/de/x-ads-api/audiences) |
| Nutzer entfernen | Verwenden Sie `operation_type` `Delete` mit dem [Audience-Endpunkt](/de/x-ads-api/audiences) | Verwenden Sie `operation` `REMOVE` mit dem Endpunkt [POST custom\_audience\_changes](/de/x-ads-api/audiences) |
| Nutzer abmelden (Opt-out) | Verwenden Sie `operation_type` `Delete` mit dem [Audience-Endpunkt](/de/x-ads-api/audiences) und den entsprechenden `custom_audience_id`s, zu denen der Nutzer gehört | Verwenden Sie den [Global opt-out endpoint](/de/x-ads-api/audiences) |

**Hinweis**: Alle Audiences, die über den TON-Upload-Pfad aktualisiert oder per Opt-out verarbeitet werden, müssen eine entsprechende Liste über den Endpunkt [TON Upload](/de/x-ads-api/audiences) hochgeladen und mithilfe des Endpunkts [custom\_audience\_changes](/de/x-ads-api/audiences) einer Audience zugeordnet bekommen haben.

**Ratenbegrenzung**

Der Audience-API-Endpunkt hat ein Ratenlimit von 1500/1 Min. pro Account. Es gibt keine Limits für die Anzahl der Nutzer, die in einem einzelnen Payload gesendet werden können. Die einzigen Einschränkungen für das Payload sind:

1. Gesamtzahl der Operationen: 2500 Operationen
2. Maximale Payload-Größe: 5.000.000 Bytes

**Audience-Benutzerverwaltung**

Um eine neue Audience zu erstellen, sind die folgenden Schritte erforderlich

<div id="create-a-new-custom-audience">
  ### Neue Benutzerdefinierte Zielgruppe erstellen
</div>

Erstellen Sie eine neue „Hülle“ für eine Benutzerdefinierte Zielgruppe über den Endpunkt \[POST custom\_audience]/x-ads-api/audiences und rufen Sie die entsprechende `id` der Benutzerdefinierten Zielgruppe ab. Dieser Schritt ist erforderlich, wenn Sie eine Zielgruppe von Grund auf neu erstellen. Wenn Sie eine bestehende Zielgruppe aktualisieren, fahren Sie mit dem nächsten Abschnitt fort.

<div id="add-users-to-an-audience">
  ### Benutzer zu einer Zielgruppe hinzufügen
</div>

Verwenden Sie [POST accounts/:account\_id/custom\_audiences/:custom\_audience\_id/users](/de/x-ads-api/audiences) mit der `id` der Benutzerdefinierten Zielgruppe und einer Beispiel-Payload wie folgt:

POST https://ads-api.x.com/11/accounts/18ce54d4x5t/custom\_audiences/1nmth/users

```
    # Alle Werte müssen gehasht sein; ungehashte Werte werden in diesem Beispiel zu Illustrationszwecken verwendet
    [
      {
        "operation_type": "Update",
        "params": {
          "effective_at": "2018-05-15T00:00:00Z",
          "expires_at": "2019-01-01T07:00:00Z",
          "users": [
            {
              "email": [
                "abc@x.com"
              ],
              "handle": [
                "x",
                "adsapi"
              ]
            },
            {
              "email": [
                "edf@x.com"
              ],
              "twitter_id": [
                "121291606",
                "17874544"
              ]
            }
          ]
        }
      }
    ]
```

Um einen Benutzer zu einer Zielgruppe hinzuzufügen, verwenden Sie den `operation_type` `Update`. Die neue Zielgruppenoberfläche ermöglicht es, mehrere Benutzerkeys für einen einzelnen Benutzer zu übergeben. Jedes Objekt im Array der JSON-Objekte entspricht einem einzelnen Benutzer. Mit der obigen Beispiel-Payload fügt die Anfrage zwei Benutzer zu einer Zielgruppe hinzu: einen mit `email` und `handle` und einen weiteren mit `email` und `twitter_id`. 

<div id="remove-users-from-an-audience">
  #### Benutzer aus einer Zielgruppe entfernen
</div>

Ähnlich wie beim beschriebenen Prozess zum Hinzufügen von Benutzern können Benutzer wie folgt aus einer Zielgruppe entfernt werden:

POST https://ads-api.x.com/11/accounts/18ce54d4x5t/custom\_audiences/1nmth/users

```
    # Alle Werte müssen gehasht sein; ungehashte Werte werden in diesem Beispiel nur zu Illustrationszwecken verwendet
    [
      {
        "operation_type": "Delete",
        "params": {
          "effective_at": "2018-05-15T00:00:00Z",
          "expires_at": "2019-01-01T07:00:00Z",
          "users": [
            {
              "email": [
                "abc@x.com"
              ],
              "twitter_id": [
                "783214",
                "1225933934"
              ]
            },
            {
              "email": [
                "edf@x.com"
              ],
              "twitter_id": [
                "121291606",
                "17874544"
              ]
            }
          ]
        }
      }
    ]
```

Der `operation_type` muss auf `Delete` gesetzt sein, und Benutzer werden anhand beliebiger Schlüssel abgeglichen, die beim Hinzufügen zur Zielgruppe verwendet wurden. Wurde eine Person beispielsweise mit `email` und `twitter_id` zur Zielgruppe hinzugefügt, kann dieselbe Person mit einem dieser Schlüssel entfernt werden, d. h. entweder `email`, `twitter_id` oder beiden.

Zusätzlich ist es möglich, innerhalb derselben Anfrage Benutzer zu einer Zielgruppe hinzuzufügen und zu entfernen. Der Endpunkt unterstützt mehrere `operation_type` pro Anfrage.

<div id="opt-out-users">
  #### Opt-out-Nutzer
</div>

Mit der Außerbetriebnahme des globalen Opt-out-Endpunkts sind Partner verpflichtet, alle Nutzer per `Delete` zu entfernen, die sich aus beliebigen Zielgruppen abgemeldet haben. Es gibt mehrere Möglichkeiten, dies umzusetzen:

1. Nachverfolgen, welche Nutzer zu welchen Zielgruppen gehören, und diese Nutzer einzeln aus jeder Zielgruppe entfernen.
2. Den Nutzer aus **allen** Zielgruppen entfernen, die einem Ads-Konto zugeordnet sind.

**Allgemeine Best Practices**

- Wir empfehlen nachdrücklich, diesen Endpunkt in nahezu Echtzeit in Batches aufzurufen, um Spitzen in den Warteschlangen zu vermeiden, die die Verarbeitung verzögern und unnötige Last auf unserem System verursachen. Dies stellt außerdem sicher, dass Nutzer schneller für das Kampagnentargeting verfügbar sind.
- Ein erfolgreicher API-Aufruf gibt `success_count` und `total_count` zurück, die der Anzahl der in der Anfrage übermittelten `user`-Objekte entsprechen.
- Dieser Endpunkt ist atomar; das heißt, entweder ist die gesamte Anfrage erfolgreich oder bei Fehlern schlägt die gesamte Anfrage fehl. Im Fehlerfall wird Verbrauchern der API empfohlen, den Fehler zu beheben und die Anfrage mit der gesamten Payload erneut zu senden.
- Bei Fehlschlägen wird Partnern empfohlen, einen Ansatz mit [exponentiellem Backoff](https://en.wikipedia.org/wiki/Exponential_backoff) und Retries zu verwenden. Beispiel: nach dem ersten Fehler sofort erneut versuchen, nach dem zweiten Fehler nach 1 Minute erneut versuchen und nach dem dritten aufeinanderfolgenden Fehler nach 5 Minuten erneut versuchen, und so weiter.

<div id="api-reference">
  ## API-Referenz
</div>

<div id="keyword-insights">
  ### Keyword-Insights
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  In Postman ausführen
</Button>

<div id="get-insightskeywordssearch">
  #### GET insights/keywords/search[](#get-insights-keywords-search "Permalink to this headline")
</div>

Für eine Gruppe von Keywords werden das zugehörige Tweet-Volumen sowie ein Set von 30 verwandten Keywords abgerufen. Das Tweet-Volumen bezieht sich nur auf die eingegebenen Keywords, nicht auf die verwandten Keywords.

Ein maximaler Zeitraum (`end_time` - `start_time`) von 7 Tagen ist zulässig.

Bitte beachten Sie, dass die Ergebnisse auf ein einzelnes Geo (Land) beschränkt sind.

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/insights/keywords/search`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Beschreibung |
| :--- | :--- |
| granularity  <br />_required_ | Gibt die Granularität der für den durch `start_time` und `end_time` festgelegten Zeitraum zurückgegebenen Daten an. Wenn beispielsweise auf `HOUR` gesetzt, wird für jede Stunde zwischen `start_time` und `end_time` ein Datenpunkt ausgegeben.<br /><br />Typ: enum<br /><br />Mögliche Werte: `DAY`, `HOUR` |
| keywords  <br />_required_ | Eine kommagetrennte Zeichenfolge von Keywords, nach denen die Suche eingegrenzt wird. Alle Keywords werden mit ODER verknüpft.<br /><br />**Hinweis**: Es können maximal 10 Keywords (kombiniert aus `keywords` und `negative_keywords`) verwendet werden.<br /><br />Typ: string<br /><br />Beispiel: `developers` |
| start\_time  <br />_required_ | Beschränkt die abgerufenen Daten auf Daten, die im Zeitfenster zwischen `start_time` und `end_time` erfasst wurden. Angegeben im Format [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).<br /><br />Typ: string<br /><br />Beispiel: `2017-07-10T00:00:00Z` |
| end\_time  <br />_optional_ | Beschränkt die abgerufenen Daten auf Daten, die im Zeitfenster zwischen `start_time` und `end_time` erfasst wurden. Angegeben im Format [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601).<br /><br />**Hinweis**: Standardmäßig aktuelle Uhrzeit.<br /><br />Typ: string<br /><br />Beispiel: `2017-07-11T00:00:00Z` |
| location  <br />_optional_ | Ein Targeting-Wert, den Sie vom Endpoint [GET targeting\_criteria/locations](/de/x-ads-api/campaign-management#get-targeting-criteria-locations) erhalten, um Ergebnisse hinsichtlich des Landes des Kontoinhabers einzugrenzen. Derzeit werden nur Standorte auf Länderebene unterstützt.<br /><br />Typ: string<br /><br />Beispiel: `0ce8b9a7b2742f7e` |
| negative\_keywords  <br />_optional_ | Eine kommagetrennte Zeichenfolge von auszuschließenden Keywords. Alle negativen Keywords werden mit ODER verknüpft.<br /><br />**Hinweis**: Es können maximal 10 Keywords (kombiniert aus `keywords` und `negative_keywords`) verwendet werden.<br /><br />Typ: string<br /><br />Beispiel: `rain` |

**Example Request[](#example-request "Permalink to this headline")**

```json
GET https://ads-api.x.com/12/insights/keywords/search?end_time=2018-02-02&granularity=DAY&keywords=developers&start_time=2018-02-01
```

**Example Response[](#example-response "Permalink to this headline")**\*

```
    {
      "request": {
        "params": {
          "start_time": "2018-02-01T00:00:00Z",
          "end_time": "2018-02-02T00:00:00Z",
          "granularity": "DAY",
          "keywords": [
            "developers"
          ]
        }
      },
      "data": {
        "related_keywords": [
          "dev",
          "developer",
          "coders",
          "mysql",
          "devs",
          "#technology",
          "#developers",
          "security",
          "programmers",
          "#tech",
          "javascript",
          "#iot",
          "#bigdata",
          "cloud",
          "devops",
          "php",
          "developer",
          "programmer",
          "engineer",
          "big data",
          "agile",
          "app",
          "programming",
          "ios",
          "maker",
          "startups",
          "developer's",
          "java",
          "#devops",
          "startup"
        ],
        "tweet_volume": [
          15707
        ]
      }
    }
```

<div id="tailored-audience-permissions">
  ### Berechtigungen für Tailored Audiences
</div>

<Button href="https://app.getpostman.com/run-collection/369a02c0adc626ff6a06#?env%5BTwitter%20Ads%20API%5D=W3sia2V5IjoiYWNjb3VudF9pZCIsInZhbHVlIjoieW91cl9hZHNfYWNjb3VudF9pZCIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoidmVyc2lvbiIsInZhbHVlIjoiNSIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoiY29uc3VtZXJfa2V5IiwidmFsdWUiOiJ5b3VyX2NvbnN1bWVyX2tleSIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoiY29uc3VtZXJfc2VjcmV0IiwidmFsdWUiOiJ5b3VyX2NvbnN1bWVyX3NlY3JldCIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoiYWNjZXNzX3Rva2VuIiwidmFsdWUiOiJ5b3VyX2FjY2Vzc190b2tlbiIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoidG9rZW5fc2VjcmV0IiwidmFsdWUiOiJ5b3VyX3Rva2VuX3NlY3JldCIsImVuYWJsZWQiOnRydWV9XQ==">
  In Postman ausführen
</Button>

#### GET accounts/:account\_id/tailored\_audiences/:tailored\_audience\_id/permissions[](#get-accounts-account-id-tailored-audiences-tailored-audience-id-permissions "Permalink to this headline")

Rufen Sie Details zu einigen oder allen Berechtigungen ab, die der angegebenen Benutzerdefinierten Zielgruppe zugeordnet sind.

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/5/accounts/:account_id/tailored_audiences/:tailored_audience_id/permissions`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Beschreibung |
| :--- | :--- |
| account\_id  <br />_erforderlich_ | Der Bezeichner des verwendeten Kontos. Er erscheint im Pfad der Ressource und ist im Allgemeinen ein erforderlicher Parameter für alle Advertiser-API-Anfragen mit Ausnahme von [GET accounts](/de/x-ads-api/campaign-management#accounts). Das angegebene Konto muss dem authentifizierten Benutzer zugeordnet sein.<br /><br />Typ: string<br /><br />Beispiel: `18ce54d4x5t` |
| tailored\_audience\_id  <br />_erforderlich_ | Ein Verweis auf die Benutzerdefinierte Zielgruppe, mit der Sie in der Anfrage arbeiten.<br /><br />Typ: string<br /><br />Beispiel: `1nmth` |
| count  <br />_optional_ | Gibt die Anzahl der Datensätze an, die pro einzelner Anfrage abgerufen werden sollen.<br /><br />Typ: int<br /><br />Standard: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | Gibt einen Cursor an, um die nächste Ergebnisseite abzurufen. Siehe [Pagination](/de/x-ads-api/introduction) für weitere Informationen.<br /><br />Typ: string<br /><br />Beispiel: `8x7v00oow` |
| granted\_account\_ids  <br />_optional_ | Beschränken Sie die Antwort auf die gewünschten Konten, indem Sie eine kommagetrennte Liste von Bezeichnern angeben. Es können bis zu 200 IDs angegeben werden.<br /><br />Typ: string<br /><br />Beispiel: `18ce54aymz3` |
| sort\_by  <br />_optional_ | Sortiert nach einem unterstützten Attribut in auf- oder absteigender Reihenfolge. Siehe [Sorting](/de/x-ads-api/introduction) für weitere Informationen.<br /><br />Typ: string<br /><br />Beispiel: `created_at-asc` |
| tailored\_audience\_permission\_ids  <br />_optional_ | Beschränken Sie die Antwort auf die gewünschten Berechtigungen für Benutzerdefinierte Zielgruppen, indem Sie eine kommagetrennte Liste von Bezeichnern angeben. Es können bis zu 200 IDs angegeben werden.<br /><br />Typ: string<br /><br />Beispiel: `ri` |
| with\_total\_count  <br />_optional_ | Einschluss des Antwortattributs `total_count`.<br /><br />**Hinweis**: Dieser Parameter und `cursor` schließen sich gegenseitig aus.<br /><br />**Hinweis**: Anfragen, die `total_count` enthalten, unterliegen niedrigeren Ratenlimits, derzeit festgelegt auf 200 pro 15 Minuten.<br /><br />Typ: boolean<br /><br />Standard: `false`  <br />Mögliche Werte: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/5/accounts/18ce54d4x5t/tailored_audiences/1nmth/permissions`

**Example Response[](#example-response "Permalink to this headline")**

```
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "tailored_audience_id": "1nmth"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "tailored_audience_id": "1nmth",
          "permission_level": "READ_ONLY",
          "id": "ri",
          "created_at": "2017-06-08T23:17:59Z",
          "granted_account_id": "18ce54aymz3",
          "updated_at": "2017-06-08T23:17:59Z",
          "deleted": false
        }
      ]
    }

```

#### POST accounts/:account\_id/tailored\_audiences/:tailored\_audience\_id/permissions[](#post-accounts-account-id-tailored-audiences-tailored-audience-id-permissions "Permalink to this headline")

Erstellen Sie ein neues Berechtigungsobjekt, das das Freigeben der angegebenen Zielgruppe für ein bestimmtes Konto ermöglicht.

**Hinweis**: Das Erstellen oder Ändern von Berechtigungen für eine maßgeschneiderte Zielgruppe setzt voraus, dass die Zielgruppe dem Konto gehört, das die Berechtigungen ändern möchte. Sie können die Inhaberschaft einer maßgeschneiderten Zielgruppe prüfen, indem Sie das Antwortattribut `is_owner` in der Antwort für die betreffende Zielgruppe heranziehen.

**Hinweis**: Zielgruppen können nur zwischen Anzeigenkonten innerhalb desselben Unternehmens freigegeben werden oder wenn das Anzeigenkonto, dem die Zielgruppe gehört, die Kontofunktion `SHARE_AUDIENCE_OUTSIDE_BUSINESS` hat.

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/5/accounts/:account_id/tailored_audiences/:tailored_audience_id/permissions`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Beschreibung |
| :--- | :--- |
| account\_id  <br />_erforderlich_ | Der Bezeichner für das verwendete Konto. Er erscheint im Ressourcenpfad und ist im Allgemeinen ein erforderlicher Parameter für alle Advertiser-API-Anfragen mit Ausnahme von [GET accounts](/de/x-ads-api/campaign-management#accounts). Das angegebene Konto muss dem authentifizierten Benutzer zugeordnet sein.<br /><br />Typ: string<br /><br />Beispiel: `18ce54d4x5t` |
| granted\_account\_id  <br />_erforderlich_ | Das Konto, dem Sie Berechtigungen für die maßgeschneiderte Zielgruppe erteilen möchten.<br /><br />Typ: string<br /><br />Beispiel: `18ce54aymz3` |
| permission\_level  <br />_erforderlich_ | Der Zugriffstyp auf die maßgeschneiderte Zielgruppe, den `granted_account_id` erhalten soll.<br /><br />Typ: enum<br /><br />Mögliche Werte: `READ_ONLY`, `READ_WRITE` |
| tailored\_audience\_id  <br />_erforderlich_ | Ein Verweis auf die maßgeschneiderte Zielgruppe, mit der Sie in der Anfrage arbeiten.<br /><br />Typ: string<br /><br />Beispiel: `2906h` |

**Example Request[](#example-request "Permalink to this headline")**

`POST https://ads-api.x.com/5/accounts/18ce54d4x5t/tailored_audiences/2906h/permissions?granted_account_id=18ce54aymz3&permission_level=READ_ONLY`

**Example Response[](#example-response "Permalink to this headline")**

```
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "granted_account_id": "18ce54aymz3",
          "permission_level": "READ_ONLY",
          "tailored_audience_id": "2906h"
        }
      },
      "data": {
        "tailored_audience_id": "2906h",
        "permission_level": "READ_ONLY",
        "id": "14m",
        "created_at": "2017-09-12T23:49:34Z",
        "granted_account_id": "18ce54aymz3",
        "updated_at": "2017-09-12T23:49:34Z",
        "deleted": false
      }
    }
```

#### DELETE accounts/:account\_id/tailored\_audiences/:tailored\_audience\_id/permissions/:tailored\_audience\_permission\_id[](#delete-accounts-account-id-tailored-audiences-tailored-audience-id-permissions-tailored-audience-permission-id "Permalink to this headline")

Widerruft die angegebene Freigabeberechtigung für eine Benutzerdefinierte Zielgruppe.

**Hinweis**: Das Erstellen oder Ändern von Berechtigungen für eine Benutzerdefinierte Zielgruppe setzt voraus, dass die Zielgruppe dem Konto gehört, das versucht, die Berechtigungen zu ändern. Sie können die Eigentümerschaft einer Benutzerdefinierten Zielgruppe prüfen, indem Sie das Antwortattribut `is_owner` in der Antwort für eine bestimmte Zielgruppe prüfen.

Nach dem Widerruf garantieren wir, dass das berechtigte Konto (`granted_account_id`) die Zielgruppe in zukünftigen Kampagnen nicht mehr targeten kann. Bestehende Kampagnen laufen mit den freigegebenen Zielgruppen weiter; Kampagnen werden nicht gestoppt und die Zielgruppe wird nicht aus der Kampagne entfernt. Es ist nicht möglich, diese Kampagne zu kopieren, nachdem die Freigabeberechtigung für die Zielgruppe widerrufen wurde.

**Resource-URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/5/accounts/:account_id/tailored_audiences/:tailored_audience_id/permissions/:tailored_audience_permission_id`

**Parameter[](#parameters "Permalink to this headline")**

| Name | Beschreibung |
| :--- | :--- |
| account\_id  <br />_erforderlich_ | Der Bezeichner für das verwendete Konto. Er erscheint im Pfad der Ressource und ist im Allgemeinen ein erforderlicher Parameter für alle Anfragen an die X-Ads-API, mit Ausnahme von [GET accounts](/de/x-ads-api/campaign-management#accounts). Das angegebene Konto muss dem authentifizierten Nutzer zugeordnet sein.<br /><br />Typ: string<br /><br />Beispiel: `18ce54d4x5t` |
| tailored\_audience\_id  <br />_erforderlich_ | Eine Referenz auf die Benutzerdefinierte Zielgruppe, mit der Sie in der Anfrage arbeiten.<br /><br />Typ: string<br /><br />Beispiel: `1nmth` |
| tailored\_audience\_permission\_id  <br />_erforderlich_ | Eine Referenz auf die Berechtigung für die Benutzerdefinierte Zielgruppe, mit der Sie in der Anfrage arbeiten.<br /><br />Typ: string<br /><br />Beispiel: `ri` |

**Beispielanfrage[](#example-request "Permalink to this headline")**

`DELETE https://ads-api.x.com/5/accounts/18ce54d4x5t/tailored_audiences/1nmth/permissions/ri`

**Beispielantwort[](#example-response "Permalink to this headline")**

```
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "tailored_audience_permission_id": "ri",
          "tailored_audience_id": "1nmth"
        }
      },
      "data": {
        "tailored_audience_id": "1nmth",
        "permission_level": "READ_ONLY",
        "id": "ri",
        "created_at": "2017-06-08T23:17:59Z",
        "granted_account_id": "18ce54aymz3",
        "updated_at": "2017-08-30T18:29:35Z",
        "deleted": true
      }
    }
```

<div id="targeted-audiences">
  ### Zielgruppen-Targeting
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  In Postman ausführen
</Button>

#### GET accounts/:account\_id/custom\_audiences/:custom\_audience\_id/targeted[](#get-accounts-account-id-custom-audiences-custom-audience-id-targeted "Permalink zu dieser Überschrift")

Ruft eine Liste aktiver oder aller Line Items und Kampagnen ab, die eine angegebene `custom_audience_id` anvisieren

| Name | Beschreibung |
| :--- | :--- |
| account\_id  <br />_erforderlich_ | Der Bezeichner für das verwendete Konto. Er erscheint im Pfad der Ressource und ist im Allgemeinen ein erforderlicher Parameter für alle Anfragen an die Advertiser-API mit Ausnahme von [GET accounts](/de/x-ads-api/campaign-management#accounts). Das angegebene Konto muss dem authentifizierten Nutzer zugeordnet sein.<br /><br />Typ: string<br /><br />Beispiel: `18ce54d4x5t` |
| custom\_audience\_id  <br />_erforderlich_ | Eine Referenz auf die Benutzerdefinierte Zielgruppe, mit der Sie in der Anfrage arbeiten.<br /><br />Typ: string<br /><br />Beispiel: `2906h` |
| with\_active  <br />_optional_ | Wenn `false`, werden Line Items mit dem Status `servable=false` einbezogen.<br /><br />Typ: boolean<br /><br />Standard: `true`  <br />Mögliche Werte: `true`, `false` |
| cursor  <br />_optional_ | Gibt einen Cursor an, um die nächste Ergebnisseite abzurufen. Siehe [Paginierung](/de/x-ads-api/introduction) für weitere Informationen.  <br />  <br />Typ: string  <br />  <br />Beispiel: `8x7v00oow` |

**Beispielanfrage[](#example-request "Permalink zu dieser Überschrift")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences/2906h/targeted`

**Beispielantwort[](#example-response "Permalink zu dieser Überschrift")**

```
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "custom_audience_id": "2906h",
        }
      },
      "next_cursor": null,
      "data": [
        {
          "campaign_id": "59hod",
          "campaign_name": "test-campaign",
          "line_items": [
            {
              "id": "5gzog",
              "name": "test-line-item",
              "servable": true
            }
          ]
        },
        {
          "campaign_id": "arja7",
          "campaign_name": "Untitled campaign",
          "line_items": [
            {
              "id": "bjw1q",
              "name": null,
              "servable": true
            }
          ]
        }
      ]
    }
```

<div id="custom-audiences-users">
  ### Benutzerdefinierte Zielgruppen – Nutzer
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  In Postman ausführen
</Button>

#### POST accounts/:account\_id/custom\_audiences/:custom\_audience\_id/users[](#post-accounts-account-id-custom-audiences-custom-audience-id-users "Permalink to this headline")

Dieser Endpunkt ermöglicht Partnern, Benutzer zu einer bestimmten `custom_audience_id` hinzuzufügen, zu aktualisieren und zu entfernen. Der Endpunkt akzeptiert zudem mehrere Benutzer-Identifikatortypen pro Benutzer.

Alle im Feld `users` der Anfrage bereitgestellten Daten müssen **mit Ausnahme** von `partner_user_id` mit `SHA256` gehasht und [normalisiert](/de/x-ads-api/audiences#twitter-user-id-normalization) werden.

**Batch-Anfragen**

- Die aktuelle maximale Batch-Größe beträgt `2500` **für diesen Endpunkt**. Die Batch-Größe wird durch die Anzahl der Operationen (`Update`/`Delete`) pro Anfrage bestimmt. Beispielsweise führt eine Anzahl von mehr als 2500 Operationsobjekten (`{"operation_type": "Update/Delete", [..] }`) in einem Array zu einem Fehler.
- Die maximale Größe des POST-Request-Bodys, die dieser Endpunkt akzeptieren kann, beträgt `5,000,000` Bytes.
- Die Ratenlimits für diesen Endpunkt liegen bei 1500 pro 1-Minuten-Fenster.
- Alle Parameter werden im Request-Body gesendet, und ein `Content-Type` von `application/json` ist erforderlich.
- Batch-Anfragen schlagen als Gruppe gemeinsam fehl oder sind gemeinsam erfolgreich, und alle API-Antworten für Fehler und Erfolg erhalten die Elementreihenfolge der ursprünglichen Anfrage.

**Batch-Antworten**

Die von der Ads API zurückgegebene Antwort enthält zwei Felder: `success_count` und `total_count`. Diese Werte müssen immer gleich sein und geben die Anzahl der Datensätze in der Anfrage an, die vom Backend verarbeitet wurden. Eine Situation, in der die Anzahl der im Request-Body gesendeten Datensätze **nicht** `success_count` und `total_count` entspricht, sollte als Fehlerfall behandelt werden und erfordert einen erneuten Versuch.

**Batch-Fehler**

- Fehler auf Anforderungsebene (z. B. maximale Batch-Größe überschritten) werden in der Antwort unter dem Objekt `errors` angezeigt.
- Fehler auf Elementebene (z. B. fehlende erforderliche Parameter) werden in der Antwort unter dem Objekt `operation_errors` angezeigt.
- Der Index des Fehlers in `operation_errors` bezieht sich auf den Index des Eingabeelements, mit der entsprechenden Fehlermeldung.

<div id="resource-url">
  #### Ressourcen-URL[](#resource-url "Permalink zu dieser Überschrift")
</div>

`https://ads-api.x.com/12/accounts/:account_id/custom_audiences/:custom_audience_id/users`

<div id="parameters">
  #### Parameter[](#parameters "Permalink to this headline")
</div>

| Name | Beschreibung |
| :--- | :--- |
| operation\_type  <br />_erforderlich_ | Der pro `users`-Gruppe ausgeführte Operationstyp.<br /><br />Typ: enum<br /><br />Mögliche Werte: `Update`, `Delete` |
| params  <br />_erforderlich_ | Ein JSON-Objekt, das das Array `users` sowie die Zeitstempel `effective_at` und `expires_at` enthält.<br /><br />Typ: JSON |
| users  <br />_erforderlich_ | Ein Array von JSON-Objekten mit allen Parametern für einen einzelnen Nutzer.<br /><br />Typ: JSON |
| effective\_at  <br />_optional_ | Die UTC-Zeit, zu der die Verknüpfung(en) mit der Benutzerdefinierten Zielgruppe wirksam werden soll(en). Angegeben im Format [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601). Standardmäßig aktuelles Datum und aktuelle Uhrzeit.<br /><br />Typ: string<br /><br />Beispiel: `2017-07-05T07:00:00Z` |
| expires\_at  <br />_optional_ | Die UTC-Zeit, zu der die Verknüpfung(en) mit der Benutzerdefinierten Zielgruppe ablaufen soll(en). Der angegebene Zeitpunkt muss später sein als der Wert von `effective_at`. Angegeben im Format [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601). Standardmäßig 13 Monate ab dem Anfragezeitstempel.<br /><br />Typ: string<br /><br />Beispiel: `2017-07-05T07:00:00Z` |

Angesichts des Multi-Key-Ansatzes für das Objekt `users` ist jedes Element dieses Objekts unten dokumentiert:

| Name | Beschreibung |
| :--- | :--- |
| email  <br />_optional_ | E-Mail-Adresse(n) des Nutzers.<br /><br />Typ: Array\[String] |
| device\_id  <br />_optional_ | IDFA/AdID/Android-ID<br /><br />Typ: Array\[String] |
| handle  <br />_optional_ | Die @Handle(s) des Nutzers<br /><br />Typ: Array\[String] |
| twitter\_id  <br />_optional_ | Die X-ID des Nutzers<br /><br />Typ: Array\[String] |
| phone\_number  <br />_optional_ | Telefonnummer(n) des Nutzers<br /><br />Typ: Array\[String] |
| partner\_user\_id  <br />_optional_ | Die ID des Nutzers im System des Partners.<br /><br />Typ: Array\[String] |

<div id="example-request">
  #### Beispielanfrage[](#example-request "Permalink zu dieser Überschrift")
</div>

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences/1nmth/users`

```
    [
      {
        "operation_type": "Update",
        "params": {
          "effective_at": "2018-05-15T00:00:00Z",
          "expires_at": "2019-01-01T07:00:00Z",
          "users": [
            {
              "email": [
                "4798b8bbdcf6f2a52e527f46a3d7a7c9aefb541afda03af79c74809ecc6376f3"
              ],
              "handle": [
                "7352f353c460e74c7ae226952d04f8aa307b12329c5512ec8cb6f1a0f8f9b2cb",
                "49e0be2aeccfb51a8dee4c945c8a70a9ac500cf6f5cb08112575f74db9b1470d"
              ]
            },
            {
              "email": [
                "5bf13d5ad4200407c5bc8b9bb578e425d05ef936fd488e3799a9d0806669223c"
              ],
              "twitter_id": [
                "34d56c7159a7eea941f359653029410f813f65a1d2d13ecc5ccbdd5a8cb755cf",
                "00e7b76c9739dec57f4c4a20ec021a20ffcf26bd00f519b17ea00f0ed6048f85"
              ]
            }
          ]
        }
      },
      {
        "operation_type": "Delete",
        "params": {
          "effective_at": "2018-05-15T00:00:00Z",
          "expires_at": "2019-01-01T07:00:00Z",
          "users": [
            {
              "device_id": [
                "8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92"
              ],
              "email": [
                "4798b8bbdcf6f2a52e527f46a3d7a7c9aefb541afda03af79c74809ecc6376f3"
              ],
              "handle": [
                "461222f5dd690a20651c3d19848015cb0369db3f8e937571ffb775de70750847"
              ],
              "twitter_id": [
                "c623c7e163984493b46c547088542e95d0aaa529bc52bbecce3ff91eb6b7843b"
              ]
            },
            {
              "email": [
                "5bf13d5ad4200407c5bc8b9bb578e425d05ef936fd488e3799a9d0806669223c"
              ],
              "twitter_id": [
                "858cdc7f313f84a3f3c48e9a6323307c1ef1bb7439b8e3623e140454b0fd8fa5",
                "bb074e154657b91d99bd1bb3757409149670e8ae7a0fe9136fae29a26a7881c8"
              ]
            }
          ]
        }
      }
    ]
```

<div id="example-response">
  #### Beispielantwort[](#example-response "Permalink zu dieser Überschrift")
</div>

```
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "custom_audience_id": "1nmth"
        }
      },
      "data": {
        "success_count": 4,
        "total_count": 4
      }
    }
```

<div id="custom-audience-permissions">
  ### Berechtigungen für Benutzerdefinierte Zielgruppe
</div>

<Button href="https://app.getpostman.com/run-collection/369a02c0adc626ff6a06#?env%5BTwitter%20Ads%20API%5D=W3sia2V5IjoiYWNjb3VudF9pZCIsInZhbHVlIjoieW91cl9hZHNfYWNjb3VudF9pZCIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoidmVyc2lvbiIsInZhbHVlIjoiNSIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoiY29uc3VtZXJfa2V5IiwidmFsdWUiOiJ5b3VyX2NvbnN1bWVyX2tleSIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoiY29uc3VtZXJfc2VjcmV0IiwidmFsdWUiOiJ5b3VyX2NvbnN1bWVyX3NlY3JldCIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoiYWNjZXNzX3Rva2VuIiwidmFsdWUiOiJ5b3VyX2FjY2Vzc190b2tlbiIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoidG9rZW5fc2VjcmV0IiwidmFsdWUiOiJ5b3VyX3Rva2VuX3NlY3JldCIsImVuYWJsZWQiOnRydWV9XQ==">
  In Postman ausführen
</Button>

#### GET accounts/:account\_id/custom\_audiences/:custom\_audience\_id/permissions[](#get-accounts-account-id-custom-audiences-custom-audience-id-permissions "Permalink zu dieser Überschrift")

Rufen Sie Details zu einigen oder allen Berechtigungen ab, die der angegebenen Benutzerdefinierten Zielgruppe zugeordnet sind.

**Resource URL[](#resource-url "Permalink zu dieser Überschrift")**

`https://ads-api.x.com/12/accounts/:account_id/custom_audiences/:custom_audience_id/permissions`

**Parameters[](#parameters "Permalink zu dieser Überschrift")**

| Name | Beschreibung |
| :--- | :--- |
| account\_id  <br />_required_ | Der Bezeichner für das zugrunde gelegte Konto. Er erscheint im Pfad der Ressource und ist im Allgemeinen ein erforderlicher Parameter für alle Anfragen an die Advertiser-API mit Ausnahme von [GET accounts](/de/x-ads-api/campaign-management#accounts). Das angegebene Konto muss dem authentifizierten Benutzer zugeordnet sein.<br /><br />Typ: string<br /><br />Beispiel: `18ce54d4x5t` |
| custom\_audience\_id  <br />_required_ | Ein Verweis auf die Benutzerdefinierte Zielgruppe, mit der Sie in der Anfrage arbeiten.<br /><br />Typ: string<br /><br />Beispiel: `1nmth` |
| count  <br />_optional_ | Gibt die Anzahl der Datensätze an, die pro einzelner Anfrage abgerufen werden sollen.<br /><br />Typ: int<br /><br />Standard: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | Gibt einen Cursor an, um die nächste Ergebnisseite abzurufen. Siehe [Pagination](/de/x-ads-api/introduction) für weitere Informationen.<br /><br />Typ: string<br /><br />Beispiel: `8x7v00oow` |
| granted\_account\_ids  <br />_optional_ | Beschränken Sie die Antwort auf die gewünschten Konten, indem Sie eine kommaseparierte Liste von Bezeichnern angeben. Es können bis zu 200 IDs übermittelt werden.<br /><br />Typ: string<br /><br />Beispiel: `18ce54aymz3` |
| sort\_by  <br />_optional_ | Sortiert nach einem unterstützten Attribut in auf- oder absteigender Reihenfolge. Siehe [Sorting](/de/x-ads-api/fundamentals/sorting) für weitere Informationen.<br /><br />Typ: string<br /><br />Beispiel: `created_at-asc` |
| custom\_audience\_permission\_ids  <br />_optional_ | Beschränken Sie die Antwort auf die gewünschten Berechtigungen der Benutzerdefinierten Zielgruppe, indem Sie eine kommaseparierte Liste von Bezeichnern angeben. Es können bis zu 200 IDs übermittelt werden.<br /><br />Typ: string<br /><br />Beispiel: `ri` |
| with\_total\_count  <br />_optional_ | Schließt das Antwortattribut `total_count` ein.<br /><br />**Hinweis**: Dieser Parameter und `cursor` schließen sich gegenseitig aus.<br /><br />**Hinweis**: Anfragen, die `total_count` enthalten, unterliegen niedrigeren Ratenlimits; aktuell 200 pro 15 Minuten.<br /><br />Typ: boolean<br /><br />Standard: `false`  <br />Mögliche Werte: `true`, `false` |

**Example Request[](#example-request "Permalink zu dieser Überschrift")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences/1nmth/permissions`

**Example Response[](#example-response "Permalink zu dieser Überschrift")**

```
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "custom_audience_id": "1nmth"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "custom_audience_id": "1nmth",
          "permission_level": "READ_ONLY",
          "id": "ri",
          "created_at": "2017-06-08T23:17:59Z",
          "granted_account_id": "18ce54aymz3",
          "updated_at": "2017-06-08T23:17:59Z",
          "deleted": false
        }
      ]
    }
```

#### POST accounts/:account\_id/custom\_audiences/:custom\_audience\_id/permissions[](#post-accounts-account-id-custom-audiences-custom-audience-id-permissions "Permalink to this headline")

Erstellen Sie ein neues Berechtigungsobjekt, das es ermöglicht, die angegebene Zielgruppe mit einem bestimmten Konto zu teilen.

**Hinweis**: Das Erstellen oder Ändern von Berechtigungen für eine Benutzerdefinierte Zielgruppe erfordert, dass die Zielgruppe dem Konto gehört, das die Berechtigungen ändern möchte. Sie können die Inhaberschaft einer Benutzerdefinierten Zielgruppe überprüfen, indem Sie das Antwortattribut `is_owner` in der Antwort für die betreffende Zielgruppe prüfen.

**Hinweis**: Zielgruppen können nur zwischen Werbekonten innerhalb desselben Unternehmens geteilt werden, oder wenn das Werbekonto, dem die Zielgruppe gehört, die Kontofunktion `SHARE_AUDIENCE_OUTSIDE_BUSINESS` hat.

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/custom_audiences/:custom_audience_id/permissions`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Beschreibung |
| :--- | :--- |
| account\_id  <br />_required_ | Der Bezeichner für das verwendete Konto. Er erscheint im Pfad der Ressource und ist im Allgemeinen ein erforderlicher Parameter für alle Advertiser-API-Anfragen mit Ausnahme von [GET accounts](/de/x-ads-api/campaign-management#accounts). Das angegebene Konto muss dem authentifizierten Nutzer zugeordnet sein.<br /><br />Typ: string<br /><br />Beispiel: `18ce54d4x5t` |
| granted\_account\_id  <br />_required_ | Das Konto, dem Sie Berechtigungen für die Benutzerdefinierte Zielgruppe erteilen möchten.<br /><br />Typ: string<br /><br />Beispiel: `18ce54aymz3` |
| permission\_level  <br />_required_ | Die Art des Zugriffs auf die Benutzerdefinierte Zielgruppe, den `granted_account_id` erhalten soll.<br /><br />Typ: enum<br /><br />Mögliche Werte: `READ_ONLY`, `READ_WRITE` |
| custom\_audience\_id  <br />_required_ | Ein Verweis auf die Benutzerdefinierte Zielgruppe, mit der Sie in der Anfrage arbeiten.<br /><br />Typ: string<br /><br />Beispiel: `2906h` |

**Example Request[](#example-request "Permalink to this headline")**

```
POST https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences/2906h/permissions?granted_account_id=18ce54aymz3&permission_level=READ_ONLY
```

**Example Response[](#example-response "Permalink to this headline")**

```
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "granted_account_id": "18ce54aymz3",
          "permission_level": "READ_ONLY",
          "custom_audience_id": "2906h"
        }
      },
      "data": {
        "custom_audience_id": "2906h",
        "permission_level": "READ_ONLY",
        "id": "14m",
        "created_at": "2017-09-12T23:49:34Z",
        "granted_account_id": "18ce54aymz3",
        "updated_at": "2017-09-12T23:49:34Z",
        "deleted": false
      }
    }
```

#### DELETE accounts/:account\_id/custom\_audiences/:custom\_audience\_id/permissions/:custom\_audience\_permission\_id[](#delete-accounts-account-id-custom-audiences-custom-audience-id-permissions-custom-audience-permission-id "Permalink to this headline")

Widerruft die angegebene Freigabeberechtigung für die Benutzerdefinierte Zielgruppe.

**Hinweis**: Das Erstellen oder Ändern von Berechtigungen für eine Benutzerdefinierte Zielgruppe setzt voraus, dass die Zielgruppe dem Konto gehört, das versucht, die Berechtigungen zu ändern. Sie können die Eigentümerschaft einer Benutzerdefinierten Zielgruppe prüfen, indem Sie das Antwortattribut `is_owner` in der Antwort für eine bestimmte Zielgruppe betrachten.

Nach dem Widerruf garantieren wir, dass das berechtigte Konto (`granted_account_id`) die Zielgruppe in zukünftigen Kampagnen nicht mehr targeten kann. Bestehende Kampagnen laufen mit den freigegebenen Zielgruppen weiter; Kampagnen werden nicht gestoppt und die Zielgruppe wird nicht aus der Kampagne entfernt. Es ist nicht möglich, diese Kampagne zu kopieren, nachdem die Freigabeberechtigung für die Zielgruppe widerrufen wurde.

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/custom_audiences/:custom_audience_id/permissions/:custom_audience_permission_id`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Beschreibung |
| :--- | :--- |
| account\_id  <br />_erforderlich_ | Der Bezeichner für das genutzte Konto. Er erscheint im Pfad der Ressource und ist im Allgemeinen ein erforderlicher Parameter für alle Anforderungen an die X-Ads-API mit Ausnahme von [GET accounts](/de/x-ads-api/campaign-management#accounts). Das angegebene Konto muss dem authentifizierten Nutzer zugeordnet sein.<br /><br />Typ: string<br /><br />Beispiel: `18ce54d4x5t` |
| custom\_audience\_id  <br />_erforderlich_ | Ein Verweis auf die Benutzerdefinierte Zielgruppe, mit der Sie in der Anfrage arbeiten.<br /><br />Typ: string<br /><br />Beispiel: `1nmth` |
| custom\_audience\_permission\_id  <br />_erforderlich_ | Ein Verweis auf die Berechtigung der Benutzerdefinierten Zielgruppe, mit der Sie in der Anfrage arbeiten.<br /><br />Typ: string<br /><br />Beispiel: `ri` |

**Example Request[](#example-request "Permalink to this headline")**

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences/1nmth/permissions/ri`

**Example Response[](#example-response "Permalink to this headline")**

```
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "custom_audience_permission_id": "ri",
          "custom_audience_id": "1nmth"
        }
      },
      "data": {
        "custom_audience_id": "1nmth",
        "permission_level": "READ_ONLY",
        "id": "ri",
        "created_at": "2017-06-08T23:17:59Z",
        "granted_account_id": "18ce54aymz3",
        "updated_at": "2017-08-30T18:29:35Z",
        "deleted": true
      }
    }
```

<div id="custom-audiences">
  ### Benutzerdefinierte Zielgruppen
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  In Postman ausführen
</Button>

#### GET accounts/:account\_id/custom\_audiences[](#get-accounts-account-id-custom-audiences "Permalink to this headline")

Rufen Sie Details für einige oder alle Benutzerdefinierten Zielgruppen ab, die dem aktuellen Konto zugeordnet sind.

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/custom_audiences`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | Der Bezeichner für das verwendete Konto. Er erscheint im Pfad der Ressource und ist im Allgemeinen ein erforderlicher Parameter für alle Anfragen an die X-Ads-API, außer bei [GET accounts](/de/x-ads-api/campaign-management#accounts). Das angegebene Konto muss dem authentifizierten Nutzer zugeordnet sein.<br /><br />Typ: string<br /><br />Beispiel: `18ce54d4x5t` |
| count  <br />_optional_ | Gibt die Anzahl der Datensätze an, die pro Anfrage abgerufen werden sollen.<br /><br />Typ: int<br /><br />Standard: `200`  <br />Min, Max: `1`, `1000` |
| cursor  <br />_optional_ | Gibt einen Cursor an, um die nächste Ergebnisseite abzurufen. Siehe [Pagination](/de/x-ads-api/introduction) für weitere Informationen.<br /><br />Typ: string<br /><br />Beispiel: `8x7v00oow` |
| permission\_scope  <br />_optional_ | Ermöglicht das Filtern der Antwort auf Listen, die Ihnen gehören, oder die mit Ihnen geteilt wurden. Ohne Angabe dieses Parameters sehen Sie standardmäßig nur Zielgruppen, die Ihnen gehören.<br /><br />Typ: enum<br /><br />Standard: `OWNER`  <br />Mögliche Werte: `OWNER`, `SHARED` |
| q  <br />_optional_ | Eine optionale Abfrage, um die Ressource nach `name` zu filtern.<br /><br />**Hinweis**: Es wird eine Groß-/Kleinschreibung-ignorierende Präfixübereinstimmung durchgeführt.<br /><br />Typ: string<br /><br />Min., Max. Länge: `1`, `255` |
| sort\_by  <br />_optional_ | Sortiert nach einem unterstützten Attribut in auf- oder absteigender Reihenfolge. Siehe [Sorting](/de/x-ads-api/fundamentals/sorting) für weitere Informationen.<br /><br />Typ: string<br /><br />Beispiel: `created_at-asc` |
| custom\_audience\_ids  <br />_optional_ | Beschränken Sie die Antwort auf die gewünschten Benutzerdefinierten Zielgruppen, indem Sie eine kommagetrennte Liste von Bezeichnern angeben. Es können bis zu 200 IDs angegeben werden.<br /><br />Typ: string<br /><br />Beispiel: `1nmth` |
| with\_deleted  <br />_optional_ | Schließt gelöschte Ergebnisse in die Antwort ein.<br /><br />Typ: boolean<br /><br />Standard: `false`  <br />Mögliche Werte: `true`, `false` |
| with\_total\_count  <br />_optional_ | Schließt die Antworteigenschaft `total_count` ein.<br /><br />**Hinweis**: Dieser Parameter und `cursor` schließen sich gegenseitig aus.<br /><br />**Hinweis**: Anfragen mit `total_count` unterliegen niedrigeren Ratenlimits, derzeit 200 pro 15 Minuten.<br /><br />Typ: boolean<br /><br />Standard: `false`  <br />Mögliche Werte: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences?custom_audience_ids=1nmth`

**Example Response[](#example-response "Permalink to this headline")**

```
    {
      "request": {
        "params": {
          "custom_audience_ids": [
            "1nmth"
          ],
          "account_id": "18ce54d4x5t"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "targetable": true,
          "name": "twurl-using-subshell-for-file",
          "targetable_types": [
            "CRM",
            "EXCLUDED_CRM"
          ],
          "audience_type": "CRM",
          "description": null,
          "permission_level": "READ_WRITE",
          "owner_account_id": "18ce54d4x5t",
          "id": "1nmth",
          "reasons_not_targetable": [],
          "created_at": "2017-01-08T08:19:58Z",
          "updated_at": "2017-01-08T16:21:13Z",
          "partner_source": "OTHER",
          "deleted": false,
          "audience_size": 1470
        }
      ]
    }
```

#### GET accounts/:account\_id/custom\_audiences/:custom\_audience\_id[](#get-accounts-account-id-custom-audiences-custom-audience-id "Permalink zu dieser Überschrift")

Rufen Sie bestimmte Benutzerdefinierte Zielgruppen ab, die dem aktuellen Konto zugeordnet sind.

**Resource URL[](#resource-url "Permalink zu dieser Überschrift")**

`https://ads-api.x.com/12/accounts/:account_id/custom_audiences/:custom_audience_id`

**Parameters[](#parameters "Permalink zu dieser Überschrift")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | Der Bezeichner für das verwendete Konto. Er erscheint im Pfad der Ressource und ist im Allgemeinen ein erforderlicher Parameter für alle Advertiser-API-Anfragen mit Ausnahme von [GET accounts](/de/x-ads-api/campaign-management#accounts). Das angegebene Konto muss dem authentifizierten Nutzer zugeordnet sein.<br /><br />Typ: string<br /><br />Beispiel: `18ce54d4x5t` |
| custom\_audience\_id  <br />_required_ | Ein Verweis auf die Benutzerdefinierte Zielgruppe, mit der Sie in der Anfrage arbeiten.<br /><br />Typ: string<br /><br />Beispiel: `2906h` |
| with\_deleted  <br />_optional_ | Schließt gelöschte Ergebnisse in Ihre Anfrage ein.<br /><br />Typ: boolean<br /><br />Standard: `false`  <br />Mögliche Werte: `true`, `false` |

**Example Request[](#example-request "Permalink zu dieser Überschrift")**

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences/2906h`

**Example Response[](#example-response "Permalink zu dieser Überschrift")**

```
    {
      "request": {
        "params": {
          "custom_audience_id": "2906h",
          "account_id": "18ce54d4x5t"
        }
      },
      "data": {
        "targetable": false,
        "name": "developers",
        "targetable_types": [
          "CRM",
          "EXCLUDED_CRM"
        ],
        "audience_type": "CRM",
        "description": null,
        "permission_level": "READ_WRITE",
        "owner_account_id": "18ce54d4x5t",
        "id": "2906h",
        "reasons_not_targetable": [],
        "created_at": "2017-08-22T23:34:26Z",
        "updated_at": "2017-08-22T23:34:26Z",
        "partner_source": "OTHER",
        "deleted": false,
        "audience_size": 140321
      }
    }
```

#### POST accounts/:account\_id/custom\_audiences[](#post-accounts-account-id-custom-audiences "Permalink zu dieser Überschrift")

Erstellen Sie eine neue Platzhalter-Benutzerdefinierte Zielgruppe, die dem aktuellen Konto zugeordnet ist.

**Resource URL[](#resource-url "Permalink zu dieser Überschrift")**

`https://ads-api.x.com/12/accounts/:account_id/custom_audiences`

**Parameters[](#parameters "Permalink zu dieser Überschrift")**

| Name | Beschreibung |
| :--- | :--- |
| account\_id  <br />_erforderlich_ | Der Bezeichner für das verwendete Konto. Er erscheint im Pfad der Ressource und ist im Allgemeinen ein erforderlicher Parameter für alle Anfragen an die X-Ads-API mit Ausnahme von [GET accounts](/de/x-ads-api/campaign-management#accounts). Das angegebene Konto muss dem authentifizierten Nutzer zugeordnet sein.<br /><br />Typ: string<br /><br />Beispiel: `18ce54d4x5t` |
| name  <br />_erforderlich_ | Der Anzeigename für diese Zielgruppe. Es muss ein eindeutiger Name verwendet werden; andernfalls wird ein Fehler zurückgegeben.<br /><br />Typ: string<br /><br />Beispiel: `ads api users` |
| description  <br />_optional_ | Eine Beschreibung für diese Zielgruppe.<br /><br />Typ: string<br /><br />Beispiel: `Sammlung aller Nutzer der Ads-API` |

**Example Request[](#example-request "Permalink zu dieser Überschrift")**

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences?name=developers`

**Example Response[](#example-response "Permalink zu dieser Überschrift")**

```
    {
      "data": {
        "targetable": false,
        "name": "developers",
        "targetable_types": [
          "CRM",
          "EXCLUDED_CRM"
        ],
        "audience_type": "CRM",
        "description": null,
        "permission_level": "READ_WRITE",
        "owner_account_id": "18ce54d4x5t",
        "id": "2906h",
        "reasons_not_targetable": [
          "PROCESSING",
          "TOO_SMALL"
        ],
        "created_at": "2017-08-22T23:34:26Z",
        "updated_at": "2017-08-22T23:34:26Z",
        "partner_source": "OTHER",
        "deleted": false,
        "audience_size": null
      },
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "name": "developers"
        }
      }
    }
```

#### PUT accounts/:account\_id/custom\_audiences/:custom\_audience\_id[](#put-accounts-account-id-custom-audiences-custom-audience-id "Permalink to this headline")

Aktualisieren Sie die spezifische Benutzerdefinierte Zielgruppe, die dem aktuellen Konto zugeordnet ist.

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/custom_audiences/:custom_audience_id`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | Der Bezeichner für das verwendete Konto. Er erscheint im Pfad der Ressource und ist im Allgemeinen ein erforderlicher Parameter für alle Anfragen an die X-Ads-API, mit Ausnahme von [GET accounts](/de/x-ads-api/campaign-management#accounts). Das angegebene Konto muss dem authentifizierten Nutzer zugeordnet sein.<br /><br />Typ: string<br /><br />Beispiel: `18ce54d4x5t` |
| custom\_audience\_id  <br />_required_ | Ein Verweis auf die Benutzerdefinierte Zielgruppe, mit der Sie in dieser Anfrage arbeiten.<br /><br />Typ: string<br /><br />Beispiel: `2906h` |
| name  <br />_optional_ | Der Anzeigename für diese Zielgruppe. Es muss ein eindeutiger Name verwendet werden; andernfalls wird ein Fehler zurückgegeben.<br /><br />Typ: string<br /><br />Beispiel: `ads api users` |
| description  <br />_optional_ | Eine Beschreibung dieser Zielgruppe.<br /><br />Typ: string<br /><br />Beispiel: `Collection of all users of the Ads API` |

**Example Request[](#example-request "Permalink to this headline")**

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences/2906h?name=developers_changed`

**Example Response[](#example-response "Permalink to this headline")**

```
    {
      "data": {
        "targetable": false,
        "name": "developers_changed",
        "targetable_types": [
          "CRM",
          "EXCLUDED_CRM"
        ],
        "audience_type": "CRM",
        "description": null,
        "permission_level": "READ_WRITE",
        "is_owner": true,
        "id": "2906h",
        "reasons_not_targetable": [
          "PROCESSING",
          "TOO_SMALL"
        ],
        "created_at": "2017-08-22T23:34:26Z",
        "updated_at": "2017-08-22T23:34:26Z",
        "partner_source": "OTHER",
        "deleted": false,
        "audience_size": null
      },
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "name": "developers_changed"
        }
      }
    }
```

#### POST batch/accounts/:account\_id/custom\_audiences[](#post-batch-accounts-account-id-custom-audiences "Permalink to this headline")

Ermöglicht die stapelweise Erstellung von Benutzerdefinierten Zielgruppen. Siehe die Seite [Custom Audiences Overview](/de/x-ads-api/audiences) für Informationen zu Zielgruppen.

**Hinweis:** Dieser Batch-Endpunkt befindet sich derzeit in einer **geschlossenen Beta** und ist für ausgewählte Werbetreibende verfügbar. Während dieses Beta-Zeitraums können nur Flexible Zielgruppen auf Basis mobiler benutzerdefinierter Zielgruppen erstellt werden.

**Batch-Anfragen**

- Die aktuelle maximale Batch-Größe beträgt 10.
- Alle Parameter werden im Request-Body gesendet und es ist ein `Content-Type` von `application/json` erforderlich.
- Batch-Anfragen schlagen als Gruppe gemeinsam fehl oder sind gemeinsam erfolgreich; alle API-Antworten für Fehler und Erfolg erhalten die Reihenfolge der Elemente aus der ursprünglichen Anfrage.

**Batch-Antworten**

Batch-API-Antworten liefern eine geordnete Sammlung von Elementen. Ansonsten sind sie in ihrer Struktur mit den entsprechenden Single-Item-Endpunkten identisch.

**Batch-Fehler**

- Fehler auf Anfrageebene (z. B. maximale Batch-Größe überschritten) werden in der Antwort unter dem Objekt `errors` angezeigt.
- Fehler auf Elementebene (z. B. erforderlicher Parameter fehlt) werden in der Antwort unter dem Objekt `operation_errors` angezeigt.

**Flexible Zielgruppen**

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  In Postman ausführen
</Button>

- Flexible Zielgruppen sind nach der Erstellung unveränderlich.
- Benutzerdefinierte Zielgruppen werden in einer Baumstruktur mit booleschen Logikkombinationen übergeben, um Flexible Zielgruppen zu erstellen.
- Es können maximal 10 Blattknoten benutzerdefinierter Zielgruppen verwendet werden, um eine Flexible Zielgruppe zu erstellen.

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/batch/accounts/:account_id/custom_audiences`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Beschreibung |
| :--- | :--- |
| account\_id  <br />_erforderlich_ | Der Bezeichner des genutzten Kontos. Er erscheint im Ressourcenpfad und ist im Allgemeinen ein erforderlicher Parameter für alle Advertiser-API-Anfragen mit Ausnahme von [GET accounts](/de/x-ads-api/campaign-management#accounts). Das angegebene Konto muss dem authentifizierten Nutzer zugeordnet sein.<br /><br />Typ: string<br /><br />Beispiel: `18ce54d4x5t` |
| audience\_type  <br />_erforderlich_ | Der Typ der zu erstellenden Zielgruppe.<br /><br />Typ: enum<br /><br />Mögliche Werte: `FLEXIBLE`, `MOBILE_AUDIENCE` |
| child\_segments  <br />_erforderlich_ | Ein Array mit Objekten, die die Teilmenge der Mitglieder einer Benutzerdefinierten Zielgruppe definieren, die Sie ansprechen möchten. Jedes Objekt sollte eine `custom_audience_id`, `frequency`, `frequency_comparator`, `lookback_window`, `negate` und in einigen Fällen zusätzliche `child_segments` enthalten.<br /><br />Typ: array |
| name  <br />_erforderlich_ | Der Anzeigename der Zielgruppe. Es muss ein eindeutiger Name verwendet werden, andernfalls wird ein Fehler ausgegeben.<br /><br />Typ: string<br /><br />Beispiel: `my_flexible_audience_name` |
| operation\_type  <br />_erforderlich_ | Der je Element auszuführende Operationstyp.<br /><br />Typ: enum<br /><br />Mögliche Werte: `Create`, `Update`, `Delete` |
| boolean\_operator  <br />_manchmal erforderlich_ | Die logische Beziehung zwischen den untergeordneten Segmenten im übergeordneten (enthaltenden) Objekt. Erforderlich, wenn child\_segments für das übergeordnete Objekt nicht leer ist.<br /><br />Typ: enum<br /><br />Mögliche Werte: `AND`, `OR` |
| lookback\_window  <br />_manchmal erforderlich_ | Ein ganzzahliger Wert, der den Zeitraum in Tagen angibt, innerhalb dessen der Nutzer die spezifische Aktion ausgeführt hat und sich für die angegebene Benutzerdefinierte Zielgruppe qualifiziert hat.<br /><br />Typ: int<br /><br />Mögliche Werte: `1`, `7`, `14`, `30` |
| segments  <br />_manchmal erforderlich_ | Ein Objekt mit `boolean_operator` und `child_segments`, die die Teilmenge der Mitglieder einer Benutzerdefinierten Zielgruppe definieren, die Sie ansprechen möchten.<br /><br />Typ: object |
| custom\_audience\_id  <br />_manchmal erforderlich_ | Die ID der Benutzerdefinierten Zielgruppe, die als untergeordnetes Segment verwendet werden soll.<br /><br />Typ: string<br /><br />Beispiel: `tyfo` |
| frequency  <br />_optional_ | Ein ganzzahliger Wert, der angibt, wie häufig der Nutzer innerhalb des Lookback-Fensters die spezifische Aktion ausgeführt hat und sich für die angegebene Benutzerdefinierte Zielgruppe qualifiziert hat.<br /><br />Typ: int<br /><br />Standardwert: `1` |
| frequency\_comparator  <br />_optional_ | Der Vergleichsoperator für die in der Anfrage übergebene `frequency`.<br /><br />**Hinweis**: In den untenstehenden Werten bedeutet `GTE` größer oder gleich, `LT` kleiner als, und so weiter.<br /><br />Typ: string<br /><br />Mögliche Werte: `NUM_GTE`, `NUM_GT`, `NUM_EQ`, `NUM_LTE`, `NUM_LT` Default value: `NUM_GTE` |
| negate  <br />_optional_ | Negiert das Segment und schließt es dadurch in der Kombination aus.<br /><br />Typ: boolean<br /><br />Default value: `true`  <br />Mögliche Werte: `true`, `false` |

**Beispielanfrage[](#example-request "Permalink to this headline")**

`POST https://ads-api.x.com/12/batch/accounts/18ce54d4x5t/custom_audiences`

```
    [
      {
        "operation_type":"Create",
        "params":{
          "name":"my_flexible_audience_name",
          "audience_type":"FLEXIBLE",
          "segments":{
            "boolean_operator":"AND",
            "child_segments":[
              {
                "custom_audience_id":"TYIF",
                "frequency":1,
                "frequency_comparator":"NUM_GT",
                "lookback_window":30,
                "negate":true,
                "child_segments":[

                ]
              },
              {
                "boolean_operator":"OR",
                "child_segments":[
                  {
                    "custom_audience_id":"TXR1",
                    "lookback_window":30,
                    "child_segments":[

                    ]
                  },
                  {
                    "custom_audience_id":"TYFO",
                    "frequency":1,
                    "frequency_comparator":"NUM_GT",
                    "lookback_window":30,
                    "negate":true,
                    "child_segments":[

                    ]
                  }
                ]
              }
            ]
          }
        }
      }
    ]
```

**Beispielantwort[](#example-response "Permalink zu dieser Überschrift")**

```
    {
      "data": {
        "targetable": false,
        "name": "my_flexible_audience_name",
        "targetable_types": [
          "FLEXIBLE",
          "EXCLUDED_FLEXIBLE"
        ],
        "audience_type": "FLEXIBLE",
        "id": "13ld7",
        "reasons_not_targetable": [
          "PROCESSING",
          "TOO_SMALL"
        ],
        "metadata": [
          {
            "custom_audience_id": "13ld7",
            "account_id": "qsx3w2",
            "name": "my_flexible_audience_name",
            "audience_source": "FLEXIBLE_AUDIENCE",
            "upload_status": "UPLOADED",
            "segments": {
              "boolean_operator": "AND",
              "frequency": 1,
              "frequency_comparator": "NUM_GTE",
              "negate": false,
              "child_segments": [
                {
                  "custom_audience_id": "tyif",
                  "lookback_window": 30,
                  "frequency": 1,
                  "frequency_comparator": "NUM_GT",
                  "negate": true,
                  "child_segments": [

                  ]
                },
                {
                  "boolean_operator": "OR",
                  "frequency": 1,
                  "frequency_comparator": "NUM_GTE",
                  "negate": false,
                  "child_segments": [
                    {
                      "custom_audience_id": "txr1",
                      "lookback_window": 30,
                      "frequency": 1,
                      "frequency_comparator": "NUM_GTE",
                      "negate": false,
                      "child_segments": [

                      ]
                    },
                    {
                      "custom_audience_id": "tyfo",
                      "lookback_window": 30,
                      "frequency": 1,
                      "frequency_comparator": "NUM_GT",
                      "negate": true,
                      "child_segments": [

                      ]
                    }
                  ]
                }
              ]
            }
          }
        ],
        "created_at": "2015-11-10T21:26:43Z",
        "updated_at": "2015-11-11T01:11:47Z",
        "partner_source": "OTHER",
        "deleted": false,
        "audience_size": null
      },
      "request": [
        {
          "params": {
            "name": "my_flexible_audience_name",
            "audience_type": "FLEXIBLE",
            "segments": {
              "boolean_operator": "AND",
              "child_segments": [
                {
                  "custom_audience_id": "TYIF",
                  "lookback_window": 30,
                  "frequency": 1,
                  "frequency_comparator": "NUM_GT",
                  "negate": true,
                  "child_segments": [

                  ]
                },
                {
                  "boolean_operator": "OR",
                  "child_segments": [
                    {
                      "custom_audience_id": "TXR1",
                      "lookback_window": 30,
                      "child_segments": [

                      ]
                    },
                    {
                      "custom_audience_id": "TYFO",
                      "lookback_window": 30,
                      "frequency": 1,
                      "frequency_comparator": "NUM_GT",
                      "negate": true,
                      "child_segments": [

                      ]
                    }
                  ]
                }
              ]
            },
            "account_id": "qsx3w2"
          },
          "operation_type": "Create"
        }
      ]
    }
```

#### DELETE accounts/:account\_id/custom\_audiences/:custom\_audience\_id[](#delete-accounts-account-id-custom-audiences-custom-audience-id "Permalink to this headline")

Löscht die angegebene Benutzerdefinierte Zielgruppe des aktuellen Kontos.

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/custom_audiences/:custom_audience_id`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | Der Bezeichner für das verwendete Konto. Er erscheint im Pfad der Ressource und ist im Allgemeinen ein erforderlicher Parameter für alle Anfragen an die X-Ads-API mit Ausnahme von [GET accounts](/de/x-ads-api/campaign-management#accounts). Das angegebene Konto muss dem authentifizierten Nutzer zugeordnet sein.<br /><br />Typ: string<br /><br />Beispiel: `18ce54d4x5t` |
| custom\_audience\_id  <br />_required_ | Eine Referenz auf die Benutzerdefinierte Zielgruppe, mit der Sie in der Anfrage arbeiten.<br /><br />Typ: string<br /><br />Beispiel: `2906h` |

**Example Request[](#example-request "Permalink to this headline")**

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/custom_audiences/2906h`

**Example Response[](#example-response "Permalink to this headline")**

```
    {
      "data": {
        "targetable": false,
        "name": "developers",
        "targetable_types": [
          "CRM",
          "EXCLUDED_CRM"
        ],
        "audience_type": "CRM",
        "description": null,
        "permission_level": "READ_WRITE",
        "owner_account_id": "18ce54d4x5t",
        "id": "2906h",
        "reasons_not_targetable": [
          "TOO_SMALL"
        ],
        "created_at": "2017-08-22T23:34:26Z",
        "updated_at": "2017-08-30T18:09:00Z",
        "partner_source": "OTHER",
        "deleted": true,
        "audience_size": null
      },
      "request": {
        "params": {
          "custom_audience_id": "2906h",
          "account_id": "18ce54d4x5t"
        }
      }
    }
```

<div id="do-not-reach-lists">
  ### Nicht-Erreichen-Listen
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  In Postman ausführen
</Button>

#### GET accounts/:account\_id/do\_not\_reach\_lists[](#get-accounts-account-id-do-not-reach-lists "Permalink to this headline")

Rufen Sie Details zu einigen oder allen Nicht-Erreichen-Listen ab, die dem aktuellen Konto zugeordnet sind.

**Hinweis**: Eine `account_id` kann höchstens eine Nicht-Erreichen-Liste haben.

**Resource URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/do_not_reach_lists`

**Parameters[](#parameters "Permalink to this headline")**

| Name | Description |
| :--- | :--- |
| account\_id  <br />_required_ | Der Bezeichner für das verwendete Konto. Er erscheint im Pfad der Ressource und ist im Allgemeinen ein erforderlicher Parameter für alle Advertiser-API-Anfragen mit Ausnahme von [GET accounts](/de/x-ads-api/campaign-management#accounts). Das angegebene Konto muss dem authentifizierten Benutzer zugeordnet sein.<br /><br />Typ: string<br /><br />Beispiel: `18ce54d4x5t` |
| with\_deleted  <br />_optional_ | Schließen Sie gelöschte Ergebnisse in Ihre Anfrage ein.<br /><br />Typ: boolean<br /><br />Standard: `false`  <br />Mögliche Werte: `true`, `false` |

**Example Request[](#example-request "Permalink to this headline")**

`GET https://ads-api.x.com/12/accounts/18ce54bgxky/do_not_reach_lists`

**Example Response[](#example-response "Permalink to this headline")**

```
    {
      "request": {
        "params": {
          "account_id": "18ce54bgxky"
        }
      },
      "next_cursor": null,
      "data": [
        {
          "targetable": false,
          "name": "Do Not Reach List",
          "description": "test DNRL",
          "id": "4kzrq",
          "reasons_not_targetable": [
            "TOO_SMALL"
          ],
          "created_at": "2021-10-28T22:09:29Z",
          "list_size": null,
          "updated_at": "2021-11-04T03:33:06Z",
          "deleted": false
        }
      ]
    }
```

#### POST accounts/:account\_id/do\_not\_reach\_lists[](#post-accounts-account-id-do-not-reach-lists "Permalink zu dieser Überschrift")

Erstellen Sie eine neue Nicht-Erreichen-Liste (Do Not Reach List), die dem aktuellen Konto zugeordnet ist.

**Hinweis**: Eine `account_id` kann höchstens eine Nicht-Erreichen-Liste haben.

**Ressourcen-URL[](#resource-url "Permalink zu dieser Überschrift")**

`https://ads-api.x.com/12/accounts/:account_id/do_not_reach_lists`

**Parameter[](#parameters "Permalink zu dieser Überschrift")**

| Name | Beschreibung |
| :--- | :--- |
| account\_id  <br />_erforderlich_ | Der Bezeichner für das genutzte Konto. Er erscheint im Pfad der Ressource und ist im Allgemeinen ein erforderlicher Parameter für alle Anfragen der X-Ads-API mit Ausnahme von [GET accounts](/de/x-ads-api/campaign-management#accounts). Das angegebene Konto muss dem authentifizierten Benutzer zugeordnet sein.<br /><br />Typ: string<br /><br />Beispiel: `18ce54d4x5t` |
| description  <br />_optional_ | Eine Beschreibung für diese Zielgruppe.<br /><br />Typ: string<br /><br />Beispiel: `A list of users to exclude` |

**Beispielanfrage[](#example-request "Permalink zu dieser Überschrift")**

`POST https://ads-api.x.com/12/accounts/18ce54bgxky/do_not_reach_lists?description=A list of users to exclude`

**Beispielantwort[](#example-response "Permalink zu dieser Überschrift")**

```
    {
      "request": {
        "params": {
          "description": "A list of users to exclude",
          "account_id": "18ce54bgxky"
        }
      },
      "data": {
        "targetable": false,
        "name": "Do Not Reach List",
        "description": "A list of users to exclude",
        "id": "4ofrq",
        "reasons_not_targetable": [
          "PROCESSING",
          "TOO_SMALL"
        ],
        "created_at": "2022-02-08T23:02:48Z",
        "list_size": null,
        "updated_at": "2022-02-08T23:02:48Z",
        "deleted": false
      }
    }
```

#### POST batch/accounts/:account\_id/do\_not\_reach\_lists/:do\_not\_reach\_list\_id/users[](#post-batch-accounts-account-id-do-not-reach-lists-do-not-reach-list-id-users "Permalink to this headline")

Dieser Endpunkt ermöglicht es, Nutzer zu einer angegebenen `do_not_reach_list_id` hinzuzufügen, zu aktualisieren und zu entfernen. Dieser Endpunkt akzeptiert ausschließlich E-Mail-Adressen als gültigen Benutzeridentifikatortyp.

Alle im Feld `emails` der Anfrage bereitgestellten Daten müssen mit `SHA256` gehasht und [normalisiert](/de/x-ads-api/audiences#e-mail-normalization) werden.

**Hinweise**

- Eine `account_id` kann höchstens eine Nicht-Erreichen-Liste haben
- Nutzer, die zu dieser Liste hinzugefügt werden, **müssen** einen `expires_at`-Zeitstempel haben, der weniger als 13 Monate in der Zukunft ab dem aktuellen Zeitstempel liegt
- Die Nicht-Erreichen-Listen-API akzeptiert keinen `effective_at`-Zeitstempel und verwendet standardmäßig den aktuellen Zeitstempel
- Die Nicht-Erreichen-Liste entfernt keine Nutzer aus beliebigen benutzerdefinierten Zielgruppen im Konto, sondern dient als Ausschluss-Targeting für alle Kampagnen, die für das Konto ausgeliefert werden

**Batch-Anfragen**

- Die aktuelle maximale Batch-Größe beträgt `2500` **für diesen Endpunkt**. Die Batch-Größe wird durch die Anzahl der Operationen (`Update`/`Delete`) pro Anfrage bestimmt. Beispielsweise führt eine Anzahl von mehr als 2500 Operationsobjekten (`{"operation_type": "Update/Delete", [..] }`) in einem Array zu einem Fehler.
- Die maximale Größe des POST-Anfragetexts, die dieser Endpunkt akzeptieren kann, beträgt `5,000,000` Bytes.
- Die Ratenlimits für diesen Endpunkt betragen 1500 pro 1-Minuten-Fenster
- Alle Parameter werden im Anfragetext gesendet und ein `Content-Type` von `application/json` ist erforderlich.
- Batch-Anfragen schlagen als Gruppe fehl oder sind erfolgreich, und alle API-Antworten für Fehler wie auch Erfolg bewahren die Elementreihenfolge der ursprünglichen Anfrage.

**Batch-Antworten**

Die von der Ads-API zurückgegebene Antwort enthält zwei Felder: `success_count` und `total_count`. Diese Werte müssen stets gleich sein und geben die Anzahl der Datensätze in der Anfrage an, die vom Backend verarbeitet wurden. Eine Situation, in der die Anzahl der im Anfragetext gesendeten Datensätze **nicht** `success_count` und `total_count` entspricht, ist als Fehlerzustand zu behandeln und erfordert einen erneuten Versuch.

**Batch-Fehler**

- Fehler auf Anfrageebene (z. B. maximale Batch-Größe überschritten) werden in der Antwort unter dem Objekt `errors` angezeigt.
- Fehler auf Elementebene (z. B. fehlende erforderliche Parameter) werden in der Antwort unter dem Objekt `operation_errors` angezeigt.
- Der Index des Fehlers in `operation_errors` bezieht sich auf den Index des Eingabeelements mit der entsprechenden Fehlermeldung

**Ressourcen-URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/batch/accounts/:account_id/do_not_reach_lists/:do_not_reach_list_id/users`

**Parameter[](#parameters "Permalink to this headline")**

| Name | Beschreibung |
| :--- | :--- |
| account\_id  <br />_required_ | Der Bezeichner für das verwendete Konto. Er erscheint im Pfad der Ressource und ist im Allgemeinen ein erforderlicher Parameter für alle Advertiser-API-Anfragen, mit Ausnahme von [GET accounts](/de/x-ads-api/campaign-management#accounts). Das angegebene Konto muss dem authentifizierten Nutzer zugeordnet sein.<br /><br />Typ: string<br /><br />Beispiel: `18ce54d4x5t` |
| do\_not\_reach\_list\_id  <br />_required_ | Ein Verweis auf die Nicht-Erreichen-Liste, mit der Sie in der Anfrage arbeiten<br /><br />Typ: string<br /><br />Beispiel: `2906h` |
| operation\_type  <br />_required_ | Der je `users`-Gruppe ausgeführte Operationstyp.<br /><br />Typ: enum<br /><br />Mögliche Werte: `Update`, `Delete` |
| params  <br />_required_ | Ein JSON-Objekt, das das Array `emails` und den Zeitstempel `expires_at` enthält.<br /><br />Typ: JSON |
| users  <br />_required_ | Ein Array von JSON-Objekten, das alle Parameter für einen einzelnen Nutzer enthält.<br /><br />Typ: JSON |
| expires\_at  <br />_optional_ | Die UTC-Zeit, zu der die Zuordnung(en) des Nutzers ablaufen soll(en). Die angegebene Zeit muss später als der aktuelle Zeitstempel sein. Ausgedrückt in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601). Standardmäßig 13 Monate ab dem aktuellen Zeitstempel.<br /><br />Typ: string<br /><br />Beispiel: `2017-07-05T07:00:00Z` |

Angesichts des Multi-Key-Ansatzes für das Objekt `users` wird jedes Element dieses Objekts unten dokumentiert:

| Name | Beschreibung |
| :--- | :--- |
| email  <br />_optional_ | E-Mail-Adresse(n) des Nutzers.<br /><br />Typ: Array\[String] |
| phone\_number  <br />_optional_ | Telefonnummer(n) des Nutzers<br /><br />Typ: Array\[String] |

**Beispielanforderung[](#example-request "Permalink to this headline")**

```
`POST https://ads-api.x.com/12/batch/accounts/18ce54bgxky/do_not_reach_lists/4kzro/users`

    [
      {
        "operation_type": "Update",
        "params": {
          "expires_at": "2023-01-22T00:00:00Z",
          "users": [
            {
              "email": [
                "FEAD76F6ADF99FFFB997AA4E3C8AD38FF531BC4C956DBD03CD0163F744D8AABC"
              ],
              "phone_number": [
                "CCABF1B62A202E0FE28BC6C014983C89A65451DD4482BD66A0ADB65366F38A9A"
              ]
            },
            {
              "email": [
                "FEAD76F6ADF99FFFB997AA4E3C8AD38FF531BC4C956DBD03CD0163F744D8AABA"
              ],
              "phone_number": [
                "CCABF1B62A202E0FE28BC6C014983C89A65451DD4482BD66A0ADB65366F38A9E"
              ]
            }
          ]
        }
      }
    ]
```

**Beispielantwort[](#example-response "Permalink to this headline")**

```
    {
      "data": [
        {
          "success_count": 2,
          "total_count": 2
        }
      ],
      "request": [
        {
          "params": {
            "do_not_reach_list_id": "4ofrq",
            "expires_at": "2023-01-22T00:00:00Z",
            "account_id": "18ce54bgxky"
          },
          "operation_type": "Update"
        }
      ]
    }
```

#### DELETE accounts/:account\_id/do\_not\_reach\_lists/:do\_not\_reach\_list\_id[](#delete-accounts-account-id-do-not-reach-lists-do-not-reach-list-id "Permalink to this headline")

Löscht die angegebene Nicht-Erreichen-Liste (Do Not Reach List) des aktuellen Kontos.

**Resource-URL[](#resource-url "Permalink to this headline")**

`https://ads-api.x.com/12/accounts/:account_id/do_not_reach_lists/:do_not_reach_list_id`

**Parameter[](#parameters "Permalink to this headline")**

Keine

**Beispielanfrage[](#example-request "Permalink to this headline")**

`DELETE https://ads-api.x.com/12/accounts/18ce54bgxky/do_not_reach_lists/4ofrp`

**Beispielantwort[](#example-response "Permalink to this headline")**

```
    {
      "request": {
        "params": {
          "do_not_reach_list_id": "4ofrp",
          "account_id": "18ce54bgxky"
        }
      },
      "data": {
        "targetable": false,
        "name": "Do Not Reach List",
        "description": null,
        "id": "4ofrp",
        "reasons_not_targetable": [
          "PROCESSING",
          "TOO_SMALL"
        ],
        "created_at": "2022-02-08T23:02:07Z",
        "list_size": null,
        "updated_at": "2022-02-08T23:02:21Z",
        "deleted": true
      }
    }
```