---
title: Ausführen authentifizierter Anfragen
---

Für den Zugriff auf die Endpunkte der X-Ads-API muss Ihre Anwendung authentifizierte Webanfragen über TLS sicher an https://ads-api.x.com senden.

Die folgenden Abschnitte geben einen Überblick darüber, wie Sie authentifizierte API-Anfragen stellen, [Twurl](https://github.com/twitter/twurl#getting-started) für die Interaktion mit der API einrichten und Ihre Anwendung um die Unterstützung von OAuth 1.0a erweitern, um Anfragen für Ihr Ads-Konto zu senden.

<div id="requirements">
  ## Anforderungen
</div>

Bevor Sie authentifizierte Anfragen an die X-Ads-API stellen, benötigen Sie:

- ein [genehmigtes Entwicklerkonto](/de/resources/fundamentals/developer-portal)
- eine Anwendung, die für den Zugriff auf die [X-Ads-API genehmigt wurde](/de/x-ads-api/introduction)
- API-Schlüssel und -Geheimnis, die über die [App-Management-Oberfläche](/de/resources/fundamentals/developer-apps) bezogen wurden, und
- [Zugriffstoken](/de/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) für einen Benutzer mit Zugriff auf ein X-Ads-Konto

<div id="using-the-api">
  ## Verwendung der API
</div>

Auf die Ads-API kann unter https://ads-api.x.com zugegriffen werden. Die [Standard-REST-API](https://developer.x.com/en/docs/x-api/v1/tweets/post-and-engage/overview) und die Ads-API können gemeinsam mit derselben Client-App verwendet werden. Die Ads-API erzwingt HTTPS; Zugriffsversuche auf einen Endpunkt per HTTP führen zu einer Fehlermeldung.

Die X-Ads-API gibt JSON zurück. Alle Bezeichner sind Zeichenketten und alle Zeichenketten sind UTF-8. Die Ads-API ist [versioniert](/de/x-ads-api/fundamentals/versioning), und die Version wird als erstes Pfadelement jeder Ressourcen-URL angegeben.

`https://ads-api.x.com/<version>/accounts`

<div id="http-verbs-typical-response-codes">
  ## HTTP-Verben & typische Antwortcodes
</div>

In der X-Ads-API werden vier HTTP-Verben verwendet:

- **GET** ruft Daten ab
- **POST** erstellt neue Daten, z. B. Kampagnen
- **PUT** aktualisiert vorhandene Daten, z. B. Line Items
- **DELETE** entfernt Daten.

Obwohl Löschungen dauerhaft sind, können gelöschte Daten bei den meisten GET-basierten Methoden weiterhin angezeigt werden, indem beim Anfordern der Ressource der explizite Parameter `with_deleted=true` angegeben wird. Andernfalls liefern gelöschte Datensätze einen HTTP-404.

Eine erfolgreiche Anfrage gibt eine Antwort aus dem HTTP-200er-Bereich zurück, zusammen mit der JSON-Antwort, die das Objekt beim Erstellen, Löschen oder Aktualisieren einer Ressource repräsentiert.

Beim Aktualisieren von Daten mit HTTP PUT werden nur die angegebenen Felder aktualisiert. Sie können einen optionalen Wert entfernen, indem Sie den Parameter mit einem leeren String angeben. Zum Beispiel würde diese Parametergruppe eine bereits gesetzte `end_time` entfernen: `&end_time=&paused=false`.

Siehe [Fehlercodes & Antworten](/de/x-ads-api/fundamentals/error-codes-and-responses) für weitere Details zu Fehlerantworten.

<div id="in-line-parameters">
  ## Inline-Parameter
</div>

Die meisten Ressourcen-URLs enthalten einen oder mehrere Inline-Parameter. Viele URLs akzeptieren außerdem explizit deklarierte Parameter in der Query-String oder – bei POST- oder PUT-Anfragen – im Body.

Inline-Parameter werden im Abschnitt **Resource Path** jeder Ressource mit einem vorangestellten Doppelpunkt (":") gekennzeichnet. Wenn beispielsweise das Konto, an dem Sie arbeiten, als `"abc1"` identifiziert wäre und Sie [die mit einem Konto verknüpften Kampagnen abrufen](/de/x-ads-api/campaign-management#campaigns) wollten, würden Sie über die URL `https://ads-api.x.com/6/accounts/abc1/campaigns` auf diese Liste zugreifen. Indem Sie den in der Ressourcen-URL beschriebenen Inline-Parameter `account_id` (`https://ads-api.x.com/6/accounts/:account_id/campaigns`) angeben, haben Sie die Anfrage auf Objekte beschränkt, die ausschließlich mit diesem Konto verknüpft sind.

<div id="using-access-tokens">
  ## Zugriffstoken verwenden
</div>

Die X-Ads-API verwendet signierte HTTPS-Anfragen, um die Identität einer Anwendung zu validieren und die dem Endbenutzer gewährten Berechtigungen zu ermitteln, in dessen Namen die Anwendung API-Anfragen stellt. Diese Berechtigungen werden durch das Zugriffstoken des Benutzers repräsentiert. Alle HTTP-Aufrufe an die X-Ads-API müssen einen Authorization-Request-Header (mit OAuth 1.0a) über das HTTPS-Protokoll enthalten.

Damit Ihre Anwendung mit der X-Ads-API integriert werden kann, müssen Sie die Generierung von OAuth-1.0a-Authorization-Request-Headern unterstützen. Aufgrund der Komplexität signierter Anfragen empfehlen wir Partnern jedoch dringend, eine bestehende Bibliothek zu verwenden, die entweder die X-API unterstützt oder die Verarbeitung von OAuth-1.0a-Anfragen implementiert – hier finden Sie eine Liste der [empfohlenen OAuth-Bibliotheken](/de/resources/fundamentals/authentication#oauth-1-0a-2) und [Authentifizierungsbeispiele](/de/resources/fundamentals/authentication#oauth-1-0a-2).

Bitte beachten Sie: Wir können Partner unterstützen, die bei der Nutzung einer bekannten Bibliothek auf Authentifizierungsfehler stoßen, benutzerdefinierte OAuth-Implementierungen können wir jedoch nicht supporten.

<div id="http-oauth">
  ## HTTP & OAuth
</div>

Wie bei der X REST API v1.1 erfordert die Advertising API die Verwendung von sowohl [OAuth 1.0A](/de/resources/fundamentals/authentication) als auch HTTPS. API-Schlüssel können über die [App-Verwaltungskonsole](/de/resources/fundamentals/developer-apps) bezogen werden. Zugriffstoken müssen ebenfalls verwendet werden, um den „aktuellen Nutzer“ zu repräsentieren. Der aktuelle Nutzer ist ein X-Konto mit Werbefunktionen.

Es wird nachdrücklich empfohlen, dass Partner eine OAuth-Bibliothek verwenden, anstatt eine eigene zu schreiben. Wir können beim Debuggen unterstützen, wenn eine bekannte Bibliothek verwendet wird, jedoch nicht, wenn Sie Ihre eigene OAuth-Implementierung entwickeln. Siehe die [Bibliotheken](/de/resources/fundamentals/authentication#oauth-1-0a-2), die Sie verwenden können.

Die API ist strikt in Bezug auf HTTP/1.1 und OAuth. Stellen Sie sicher, dass Sie [reservierte Zeichen](https://tools.ietf.org/html/rfc3986#section-2.2) in URLs und POST-Bodys vor dem Erstellen der OAuth-Signatur-Base-Strings korrekt encodieren. Die Advertising API verwendet insbesondere „:“-Zeichen bei der Angabe von Zeiten und „,“-Zeichen bei der Angabe einer Auswahl von Optionen. Beide Zeichen gehören zu dieser reservierten Menge:

| Symbol | URL Encoded |
| :--- | :--- |
| !   | %21 |
| #   | %23 |
| $   | %24 |
| &   | %26 |
| '   | %27 |
| (   | %28 |
| )   | %29 |
| \*   | %2A |
| +   | %2B |
| ,   | %2C |
| /   | %2F |
| :   | %3A |
| ;   | %3B |
| =   | %3D |
| ?   | %3F |
| @   | %40 |
| \[   | %5B |
| ]   | %5D |

<div id="making-your-first-api-request-with-twurl">
  ## Ihre erste API-Anfrage mit Twurl
</div>

X pflegt ein Kommandozeilen-Tool, [Twurl](https://developer.x.com/en/docs/tutorials/using-twurl), das OAuth-1.0a-Autorisierungsheader unterstützt und eine Alternative zu [cURL](https://en.wikipedia.org/wiki/CURL) darstellt. Twurl bietet eine einfache Möglichkeit, authentifizierte API-Anfragen zu senden und die Ads-API zu erkunden, bevor Sie Ihrer Anwendung eine Authentifizierung hinzufügen.

Nachdem Sie [Twurl installiert und autorisiert haben](https://github.com/twitter/twurl#getting-started), können Sie schnell Zugriffstoken generieren und authentifizierte Anfragen an die Ads-API senden.

```bash
twurl -H "ads-api.x.com" "/5/accounts/"
```

Nehmen Sie sich etwas Zeit, um sich mit Twurl und der API vertraut zu machen, und folgen Sie diesem [Schritt-für-Schritt-](/de/x-ads-api/campaign-management#creating-a-campaign-step-by-step)Tutorial, um eine Kampagne über die API zu erstellen.

<div id="testing-with-postman">
  ## Testen mit Postman
</div>

Für alle, die mit einem Kommandozeilen-Tool nicht vertraut sind, stellen wir auch eine Postman-Collection für die Endpunkte der X-Ads-API bereit.

[Postman](https://www.getpostman.com/products) ist eines der beliebtesten API-Entwicklungstools in der Branche. Es ist ein HTTP-Client mit einer hervorragenden Benutzeroberfläche, die komplexe API-Anfragen erleichtert und die Produktivität steigert.

Um Postman zu installieren und die Ads-API-Postman-Collection zu verwenden, siehe unsere [Einrichtungsanleitung](https://github.com/xdevplatform/postman-twitter-ads-api#installation).

<Button href="https://app.getpostman.com/run-collection/369a02c0adc626ff6a06#?env%5BTwitter%20Ads%20API%5D=W3sia2V5IjoiYWNjb3VudF9pZCIsInZhbHVlIjoieW91cl9hZHNfYWNjb3VudF9pZCIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoidmVyc2lvbiIsInZhbHVlIjoiNiIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoiY29uc3VtZXJfa2V5IiwidmFsdWUiOiJ5b3VyX2NvbnN1bWVyX2tleSIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoiY29uc3VtZXJfc2VjcmV0IiwidmFsdWUiOiJ5b3VyX2NvbnN1bWVyX3NlY3JldCIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoiYWNjZXNzX3Rva2VuIiwidmFsdWUiOiJ5b3VyX2FjY2Vzc190b2tlbiIsImVuYWJsZWQiOnRydWV9LHsia2V5IjoidG9rZW5fc2VjcmV0IiwidmFsdWUiOiJ5b3VyX3Rva2VuX3NlY3JldCIsImVuYWJsZWQiOnRydWV9XQ==">
  In Postman ausführen
</Button>

<div id="extending-your-application-to-make-authenticated-requests">
  ### Erweiterung Ihrer Anwendung, um authentifizierte Anfragen zu stellen
</div>

Nachdem Sie sich mit dem Senden von Anfragen an die X-Ads-API mit Twurl vertraut gemacht haben, ist es an der Zeit, Ihre Anwendung um die Unterstützung zur Erstellung von OAuth-1.0a-Authentifizierungsheadern zu erweitern.

[OAuth 1.0a](/de/resources/fundamentals/authentication)-Authentifizierungsheader enthalten Informationen, die sowohl die Identität der Anwendung als auch des Nutzers verifizieren als auch Manipulationen an der Anfrage verhindern. Ihre Anwendung muss für jede API-Anfrage einen neuen Authorization-Header erstellen. Viele Programmiersprachen bieten Open-Source-Bibliotheken, die die Erstellung dieses Authorization-Headers für API-Anfragen an X unterstützen.

Hier finden Sie Beispiele in C#, PHP, Ruby und Python – [Codebeispiele](/de/resources/fundamentals/authentication#oauth-1-0a-2).

<div id="custom-implementation">
  ## Benutzerdefinierte Implementierung
</div>

Es gibt einige Szenarien, in denen die OAuth‑1.0a-Authentifizierung ohne Unterstützung einer Open-Source-Bibliothek implementiert werden muss. [Autorisieren einer Anfrage](/de/resources/fundamentals/authentication#authorizing-a-request) enthält detaillierte Anleitungen zur Implementierung der Erstellung des Authorization-Headers. Wir empfehlen nachdrücklich, eine von der Community unterstützte Bibliothek zu verwenden.

Allgemeiner Ablauf:

1. Erfassen Sie 7 Schlüssel/Wert-Paare für den Header – beginnend mit oauth\_
2. Erzeugen Sie mit diesen Schlüssel/Wert-Paaren eine [OAuth‑1.0a-HMAC-SHA1-Signatur](/de/resources/fundamentals/authentication#creating-a-signature)
3. Bauen Sie den [Authorization-Header](/de/resources/fundamentals/authentication#authorizing-a-request) anhand der oben genannten Werte