---
title: Historische Posts mit dem v2-Vollarchivsuche-Endpunkt abrufen
mode: wide
---

<div id="introduction">
  ## Einführung
</div>

Die [Search-Posts-Endpunkte](/de/x-api/posts/search/introduction)
in der v2-Welt ermöglichen es Ihnen, Beiträge zu für Sie relevanten Themen
auf Basis einer von Ihnen formulierten Suchanfrage zu erhalten. Mit v2 Search Posts
stehen zwei verschiedene Endpunkte zur Verfügung: die „Recent Search“, die allen
Entwicklern mit einem genehmigten Konto zur Verfügung steht und Beiträge bis zu sieben Tage
in die Vergangenheit durchsuchen kann, und die Vollarchivsuche, die nur
für Forschende verfügbar ist, die für den
[Academic Research product track](https://developer.x.com/en/products/x-api/early-access/guide#na_2) zugelassen sind,
und das gesamte Archiv von Beiträgen bis zurück zum März 2006 durchsuchen kann.

Unser vollständiges Suchangebot finden Sie auf unserer
[Übersichtsseite zur Suche](/de/x-api/posts/search/introduction).

Diese Search-Posts-Endpunkte decken einen der häufigsten Anwendungsfälle für
akademische Forschende ab, die sie für longitudinale Studien oder zur Analyse
eines vergangenen Themas oder Ereignisses nutzen könnten.

Dieses Tutorial bietet eine Schritt-für-Schritt-Anleitung für Forschende, die den
Vollarchivsuche-Endpunkt verwenden möchten, um die vollständige Historie öffentlicher X-
Daten zu durchsuchen. Es zeigt außerdem verschiedene Möglichkeiten, einen Datensatz zu erstellen, z. B. durch
Abrufen geo-getaggter Beiträge, sowie das Paging durch die verfügbaren Beiträge für
eine Abfrage.

<div id="prerequisites">
  ### Voraussetzungen
</div>

Derzeit ist dieser Endpunkt nur im Rahmen des
[Academic Research Product Track](https://developer.x.com/en/solutions/academic-research/products-for-researchers) verfügbar.
Um diesen Endpunkt nutzen zu können, müssen Sie
[Zugang beantragen](https://developer.x.com/en/portal/petition/academic/is-it-right-for-you).
Erfahren Sie mehr über die
[Anmeldung und die Anforderungen für diesen Track](https://developer.x.com/en/solutions/academic-research/application-info).

<div id="connect-an-app-to-the-academic-project">
  ### Eine App mit dem Academic-Projekt verbinden
</div>

Sobald Sie für die Nutzung des Produkttracks Academic Research zugelassen sind, sehen Sie
Ihr Academic-[Projekt](/de/resources/fundamentals/projects) im
[Developer-Portal](https://developer.x.com/en/portal/dashboard). Klicken Sie im Abschnitt
„Projekte und Apps“ auf „App hinzufügen“, um Ihre
[X-App](/de/resources/fundamentals/developer-apps) mit dem Projekt zu verbinden.

[](https://res.cloudinary.com/practicaldev/image/fetch/s--gHFOyuDc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/gb7aevhqyfvfjznd0pnd.png)

![Dieses Bild zeigt ein Academic-Projekt im Developer-Portal, dem noch keine App hinzugefügt wurde](https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/docs/tutorials/getting-historical-tweets-using-the-full-archive-search-endpoint/dev-portal-1.png.twimg.1920.png)

Anschließend können Sie entweder eine vorhandene App auswählen und sie mit Ihrem Projekt verbinden (wie unten gezeigt).

![Dieses Bild zeigt die Seite, die erscheint, wenn Sie versuchen, eine App zu Ihrem Academic-Projekt hinzuzufügen](https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/docs/tutorials/getting-historical-tweets-using-the-full-archive-search-endpoint/dev-portal-2.png.twimg.1920.png)

Oder Sie erstellen eine neue App, vergeben einen Namen und klicken auf „Fertig“, um eine neue
App mit Ihrem Academic-Projekt zu verbinden.

![Dieses Bild zeigt die Seite, auf der Sie einen Namen für Ihre neue App eingeben oder eine vorhandene App auswählen können](https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/docs/tutorials/getting-historical-tweets-using-the-full-archive-search-endpoint/dev-portal-3.png.twimg.1920.png)

Dadurch erhalten Sie Ihre API-Schlüssel und
[Ihren Bearer-Token](/de/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token), die Sie
dann verwenden können, um sich mit dem Endpunkt der Vollarchivsuche zu verbinden.

![Dieses Bild zeigt die Seite, die nach dem Erstellen einer neuen App angezeigt wird und Ihre Schlüssel und Token anzeigt](https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/docs/tutorials/getting-historical-tweets-using-the-full-archive-search-endpoint/dev-portal-4.png.twimg.1920.png)

**Bitte beachten**

Die Schlüssel im obigen Screenshot sind ausgeblendet, aber in Ihrem eigenen Developer-Portal
können Sie die tatsächlichen Werte für den API Key, den API Secret Key und den
Bearer-Token sehen. Speichern Sie diese Schlüssel und den Bearer-Token, da Sie sie
für Aufrufe des Endpunkts der Vollarchivsuche benötigen.

<div id="connecting-to-the-full-archive-search-endpoint">
  ### Verbindung zum Vollarchivsuche-Endpunkt
</div>

Der folgende cURL-Befehl zeigt, wie Sie historische Posts vom Handle @XDevelopers abrufen. Ersetzen Sie $BEARER\_TOKEN durch Ihren eigenen Bearer-Token, fügen Sie die vollständige Anfrage in Ihr Terminal ein und drücken Sie Return.

```bash
curl --request GET 'https://api.x.com/2/tweets/search/all?query=from:xdevelopers' --header 'Authorization: Bearer $BEARER_TOKEN'
```

Sie sehen die Antwort als JSON.

Standardmäßig werden nur die 10 neuesten Posts zurückgegeben. Wenn Sie mehr als 10 Posts pro Anfrage benötigen, können Sie den Parameter max\_results verwenden und ihn auf maximal 500 Posts pro Anfrage setzen, wie unten gezeigt:

```bash
curl --request GET 'https://api.x.com/2/tweets/search/all?query=from:xdevelopers&max_results=500' --header 'Authorization: Bearer $BEARER_TOKEN'
```

###

Abfragen erstellen

Wie Sie in den obigen Beispielaufrufen sehen, können Sie mit dem Parameter query
die Daten angeben, nach denen Sie suchen möchten. Wenn Sie beispielsweise
alle Posts abrufen möchten, die das Wort _covid_ oder das Wort _coronavirus_ enthalten,
können Sie den OR-Operator in Klammern verwenden; Ihre Abfrage kann
`(covid OR coronavirus)` lauten, und Ihr API-Aufruf sieht dann wie folgt aus:

```bash
curl --request GET 'https://api.x.com/2/tweets/search/all?query=(covid%20OR%20coronavirus)&max_results=500' --header 'Authorization: Bearer $BEARER_TOKEN'
```

Wenn Sie hingegen alle Posts abrufen möchten, die das Wort _covid19_ enthalten und
keine Reposts sind, können Sie den Operator is:retweet mit dem logischen NOT (dargestellt
durch -) verwenden; Ihre Abfrage kann dann covid19 -is:retweet lauten und Ihr API-Aufruf folgendermaßen aussehen:

```bash
curl --request GET 'https://api.x.com/2/tweets/search/all?query=covid19%20-is:retweet&max_results=500' --header 'Authorization: Bearer $BEARER_TOKEN'
```

Sehen Sie sich
[diese Anleitung mit einer vollständigen Liste der Operatoren](/de/x-api/posts/search/integrate/build-a-query)
an, die vom Endpoint für die Vollarchivsuche unterstützt werden.

### Verwendung der Parameter start\_time und end\_time zum Abrufen historischer Posts

Bei Verwendung des Vollarchivsuche-Endpunkts werden standardmäßig Posts der letzten 30
Tage zurückgegeben. Wenn Sie Posts abrufen möchten, die älter als 30 Tage sind,
können Sie die Parameter start\_time und end\_time in Ihrem API-Aufruf verwenden. Diese
Parameter müssen im gültigen RFC3339-Datums-/Zeitformat vorliegen, zum Beispiel
2020-12-21T13:00:00.00Z. Wenn Sie also alle Posts des Accounts XDevelopers
für den Monat Dezember 2020 abrufen möchten, lautet Ihr API-Aufruf:

```bash
curl --request GET 'https://api.x.com/2/tweets/search/all?query=from:XDevelopers&start_time=2020-12-01T00:00:00.00Z&end_time=2021-01-01T00:00:00.00Z' --header 'Authorization: Bearer $BEARER_TOKEN'
```

###

Abrufen historischer geo-getaggter Posts

Geo-getaggte Posts sind Posts, denen geografische Informationen zugeordnet sind,
etwa Stadt, Bundesstaat, Land usw.

<div id="using-hasgeo-operator">
  #### Verwendung des Operators has:geo
</div>

Wenn Sie Posts abrufen möchten, die Geodaten enthalten, können Sie den Operator has:geo verwenden.
Zum Beispiel ruft die folgende cURL-Anfrage nur die Posts vom
Handle @XDevelopers ab, die Geodaten enthalten:

```
curl --request GET
'https://api.x.com/2/tweets/search/all?query=from:xdevelopers%20has:geo' --header
'Authorization: Bearer $BEARER_TOKEN'
```

#### Verwendung des place\_country-Operators

Ebenso können Sie Posts mit Geodaten auf ein bestimmtes Land beschränken, indem Sie den place\_country-Operator verwenden. Der folgende cURL-Befehl ruft alle Posts vom Handle @XDevelopers aus den Vereinigten Staaten ab:

```
curl --request GET
'https://api.x.com/2/tweets/search/all?query=from:xdevelopers%20place_country:US'
--hbasheader 'Authorization: Bearer XXXXX'
```

Das Land wird oben mit dem ISO-Alpha-2-Ländercode angegeben. Gültige ISO-Codes finden Sie [hier](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).

### Abrufen von mehr als 500 historischen Posts mit dem next\_token

Wie oben erwähnt, können Sie standardmäßig nur bis zu 500 Posts pro Anfrage an den
Vollarchivsuche-Endpunkt abrufen. Wenn für Ihre Abfrage mehr als 500 Posts
verfügbar sind, enthält Ihre JSON-Antwort ein next\_token, das Sie
an Ihren API-Aufruf anhängen können, um die nächsten verfügbaren Posts für diese
Abfrage zu erhalten. Dieses next\_token ist im meta-Objekt Ihrer JSON-Antwort enthalten,
das in etwa so aussieht:

```
{ "newest_id": "12345678...", "oldest_id": "12345678...", "result_count": 500,
"next_token": "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX" }
```

Um die nächsten verfügbaren Posts zu erhalten, verwenden Sie den next\_token-Wert aus diesem meta-
Objekt und setzen Sie diesen als Wert für next\_token in Ihrem API-Aufruf an den
Vollarchivsuche-Endpunkt, wie unten gezeigt (Sie verwenden Ihr eigenes Bearer-Token
und den Wert, den Sie beim vorherigen API-Aufruf als Next Token erhalten haben).

```
curl --request GET
'https://api.x.com/2/tweets/search/all?max_results=500&query=covid&next_token=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'
--header 'Authorization: Bearer $BEARER_TOKEN'
```

So können Sie fortlaufend prüfen, ob ein next\_token verfügbar ist. Wenn Sie Ihre gewünschte
Anzahl zu sammelnder Posts noch nicht erreicht haben, können Sie den
Vollarchivsuche-Endpunkt bei jeder Anfrage mit dem neuen next\_token erneut aufrufen. Beachten Sie,
dass der Vollarchivsuche-Endpunkt auf Ihr gesamtes
[Post-Limit](/de/x-api/fundamentals/post-cap) angerechnet wird, also auf die Anzahl der
Posts pro Monat, die Sie über die X-API pro
[Projekt](/de/resources/fundamentals/projects) abrufen können. Achten Sie daher bei der Paginierung
durch die Ergebnisse darauf, Ihr Post-Limit nicht unbeabsichtigt
auszuschöpfen.

Nachfolgend finden Sie Ressourcen, die Ihnen bei der Verwendung des Vollarchivsuche-
Endpunkts helfen können. Wir freuen uns über Ihr Feedback. Kontaktieren Sie uns unter
[@XDevelopers](https://x.com/XDevelopers) oder in unseren
[Community-Foren](https://devcommunity.x.com/) mit Fragen zu diesem
Endpunkt.

<div id="additional-resources">
  ### Weitere Ressourcen
</div>

- [API-Referenz zum Vollarchivsuche-Endpunkt](/de/x-api/posts/full-archive-search)
- [Grundlagen zum Erstellen einer Suchanfrage](/de/x-api/posts/search/integrate/build-a-query)