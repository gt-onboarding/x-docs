---
title: Test A/B
---

import { Button } from '/snippets/it/button.mdx';

<div id="overview">
  ## Panoramica
</div>

<div id="introduction">
  ### Introduzione
</div>

I test A/B consentono agli inserzionisti di segmentare gli utenti raggiunti su X, così da capire come ottimizzare al meglio le prestazioni delle campagne e raccogliere insight per orientare le strategie di marketing.

Questi segmenti — detti split di gruppi di utenti — sono randomizzati e mutuamente esclusivi. Con la randomizzazione, i fattori che influenzano i risultati sono distribuiti in modo uniforme. In altre parole, non ci sono differenze intrinseche tra i gruppi né nei loro comportamenti attesi. Per questo motivo, quando una singola variazione viene applicata a un gruppo di utenti e non agli altri, l’eventuale differenza nelle prestazioni della campagna può essere attribuita a quella variazione.

Sebbene sia possibile testare più variazioni contemporaneamente, consigliamo vivamente di testarne una alla volta. In questo modo si isola il fattore causale della differenza osservata nelle prestazioni della campagna.

Le variazioni sono impostate a livello di campagna. Ad esempio, se l’inserzionista vuole testare l’efficacia di una nuova creatività, dovrebbe creare due campagne identiche in cui l’unica differenza sia la creatività. In futuro, prevediamo di supportare variazioni a livello di line item.

<div id="use-cases">
  ### Casi d’uso
</div>

L’A/B testing è più spesso utilizzato per supportare (1) casi d’uso di ottimizzazione per clienti orientati alle performance che desiderano capire cosa funziona meglio su X per ottimizzare i loro investimenti e (2) casi d’uso di apprendimento per inserzionisti di brand che vogliono utilizzare gli insight per definire la loro strategia di marketing. 

L’API supporterà l’A/B testing per qualsiasi variabile di campagna, incluse:

- Creatività 

- Targeting 

- Tipo di offerta

- Unità di offerta

<div id="ab-testing">
  ## Test A/B
</div>

I test A/B consentono agli inserzionisti di segmentare gli utenti raggiunti su X, così da capire come ottimizzare al meglio le prestazioni delle campagne e ricavare indicazioni utili per le loro strategie di marketing.

Questi segmenti — detti split di gruppi di utenti — sono casuali e mutuamente esclusivi. Con l’assegnazione casuale, i fattori che influenzano i risultati sono distribuiti in modo uniforme. In altre parole, non ci sono differenze intrinseche tra i gruppi o nei loro comportamenti attesi. Per questo motivo, quando una singola variazione viene applicata a un gruppo di utenti e non agli altri, la differenza nelle prestazioni della campagna può essere attribuita a quella variazione.

Sebbene sia possibile testare molte variazioni contemporaneamente, consigliamo vivamente di testarne una sola alla volta. In questo modo si isola il fattore causale della differenza osservata nelle prestazioni della campagna.

Le variazioni possono essere impostate a livello di campagna o di gruppo di annunci. Il gruppo di annunci si configura tramite i [line item](https://developer.x.com/en/docs/twitter-ads-api/campaign-management/api-reference/line-items) nell’API X Ads. Come esempio di variazione a livello di gruppo di annunci, se l’inserzionista vuole testare l’efficacia di una nuova creatività, dovrebbe creare una campagna con 2 gruppi di annunci identici in cui l’unica differenza è la creatività.

<div id="use-cases">
  ### Casi d'uso
</div>

Il test A/B è più spesso utilizzato per supportare (1) casi d’uso di ottimizzazione per clienti orientati alle performance che desiderano capire cosa funziona meglio su X, così da ottimizzare il loro investimento, e (2) casi d’uso di apprendimento per inserzionisti di marca che vogliono utilizzare gli insight per definire la loro strategia di marketing. 

L’API supporterà il test A/B per qualsiasi variabile di campagna, incluse:

- Creatività

- Targeting

- Tipo di offerta

- Unità di offerta

<div id="attributes">
  ### Attributi
</div>

I test A/B sono rappresentati come strutture annidate. Sono presenti campi di primo livello per il test A/B stesso e un array di oggetti gruppo di utenti, ciascuno con un insieme di campi descrittivi.

In generale, ogni test A/B deve includere le seguenti informazioni.

- La durata del test, rappresentata dai campi start\_time ed end\_time

- Il livello a cui avverrà la suddivisione, rappresentato dal campo entity\_type

- Almeno due (e al massimo 30) gruppi di utenti, ciascuno rappresentato come oggetto nell’array user\_groups

Ogni gruppo di utenti deve includere le seguenti informazioni.

- La percentuale di utenti da assegnare al gruppo, rappresentata dal campo size

- Gli ID campagna/gli ID delle linee elemento che definiscono il bacino di utenti per il gruppo, rappresentati dall’array entity\_ids

Facoltativamente, è possibile impostare i valori name e description per i test A/B e per i gruppi di utenti. Le informazioni sulle regole di validazione e altri vincoli sono riportate di seguito.

Altri metadati, come l’ID o l’ora di creazione, sono inclusi ma vengono impostati automaticamente da X.

Di seguito è riportato un esempio di entità di test A/B a livello di campagna.

```json
{
  "created_at": "2020-12-01T00:00:00Z",
  "created_by": {
    "user_id": "756201191646691328",
    "username": "apimctestface"
  },
  "deleted": false,
  "description": "documentation example",
  "end_time": "2020-12-05T01:00:00Z",
  "entity_type": "CAMPAIGN",
  "id": "hr7l0",
  "name": "first AB test",
  "start_time": "2020-12-01T01:00:00Z",
  "status": "SCHEDULED",
  "user_groups": [
    {
      "id": "p1bcx",
      "name": "first group",
      "description": null,
      "size": "50.0",
      "entity_ids": [
        "f2qcw",
        "f2tht"
      ]
    },
    {
      "id": "p1bcy",
      "name": "second group",
      "description": "second AB test group",
      "size": 50,
      "entity_ids": [
        "f2rqi",
        "f2tws"
      ]
    }
  ],
  "updated_at": "2020-12-01T00:00:00Z",
  "updated_by": {
    "user_id": "756201191646691328",
    "username": "apimctestface"
  }
}
```

Di seguito è riportato un esempio di entità di test A/B a livello di line item.

```json
{
   "created_by":{
      "user_id":"756201191646691328",
      "username":"apimctestface"
   },
   "name":"Test2e",
   "start_time":"2022-08-15T00:00:00Z",
   "updated_by":{
      "user_id":"756201191646691328",
      "username":"apimctestface"
   },
   "description":"My Second AB test",
   "entity_type":"LINE_ITEM",
   "end_time":"2022-08-30T00:00:00Z",
   "id":"1ul",
   "user_groups":[
      {
         "name":"first group",
         "size":"50.0",
         "description":"first group description",
         "entity_ids":[
            "ij9dh"
         ],
         "id":"4xe"
      },
      {
         "name":"second group",
         "size":"50.0",
         "description":"second group description",
         "entity_ids":[
            "ihng8"
         ],
         "id":"4xf"
      }
   ],
   "status":"SCHEDULED",
   "created_at":"2022-08-11T00:10:50Z",
   "updated_at":"2022-08-11T00:10:50Z",
   "deleted":false
}
```

<div id="usage">
  ### Utilizzo
</div>

Le sezioni seguenti descrivono come creare e aggiornare i test A/B. La lettura e l’eliminazione funzionano come per tutti gli altri endpoint dell’API X Ads.

<div id="creating">
  #### Creazione
</div>

Crea un test A/B utilizzando l'endpoint [POST accounts/:account\_id/ab\_tests](https://developer.x.com/en/docs/x-ads-api/measurement/api-reference/ab-tests). L'endpoint accetta solo payload POST in JSON. Il Content-Type deve essere impostato su application/json.

Dopo che l'inserzionista ha configurato due o più campagne, è possibile creare un test A/B. Come indicato sopra, i test A/B _devono_ includere: durata del test, livello di suddivisione e almeno due gruppi di utenti. Ogni gruppo di utenti deve dichiarare la percentuale di utenti che gli va assegnata, nonché gli ID campagna che devono costituire il relativo pool di utenti. Ciascuno di questi elementi è descritto più in dettaglio di seguito.

Durata del test:

- I valori start\_time e end\_time devono

  - essere nel futuro (rispetto al momento in cui viene creato il test A/B)

  - sovrapporsi alle date di flight della campagna/line item

- Il test deve durare almeno un giorno per le campagne non basate su app e almeno cinque giorni per le campagne basate su app

Livello di suddivisione:

- entity\_type può essere impostato su CAMPAIGN o LINE\_ITEM

Gruppi di utenti:

- Ogni gruppo di utenti è rappresentato come un oggetto nell'array user\_groups

  - È richiesto un minimo di due gruppi di utenti

  - È consentito un massimo di 30 gruppi di utenti

- La dimensione di ciascun gruppo di utenti è impostata utilizzando una stringa che rappresenta un valore numerico compreso tra 1.00 e 99.00

  - **Nota**: I valori di dimensione _tra gli oggetti_ **devono** sommare a 100.00

- Gli ID campagna devono essere specificati nell'array entity\_ids di ciascun gruppo di utenti

Facoltativamente, imposta il nome e la descrizione per il test A/B o per uno o più gruppi di utenti.

La richiesta seguente crea un test A/B a livello di campagna che dura quattro giorni e prevede due gruppi di utenti con il 50% di utenti in ciascun gruppo. Il primo gruppo di utenti si basa sulle campagne f2qcw e f2tht; il secondo gruppo di utenti si basa sulle campagne f2rqi e f2tws. La richiesta aggiunge anche nomi e descrizioni ad alcune parti dell'entità.

twurl -X POST -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab\_tests" -d '\{"end\_time": "2020-12-05T01:00:00Z", "entity\_type" : "CAMPAIGN", "start\_time": "2020-12-01T01:00:00Z", "user\_groups": \[\{"entity\_ids": \["f2qcw", "f2tht"], "size": "50.00", "name": "first group"},\{"entity\_ids": \["f2rqi", "f2tws"], "size": "50.00", "name": "second group", "description": "second AB test group"}], "name": "first AB test", "description": "documentation example"}'

```json
twurl -X POST -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab_tests" -d '{"end_time": "2020-12-05T01:00:00Z", "entity_type" : "CAMPAIGN", "start_time": "2020-12-01T01:00:00Z", "user_groups": [{"entity_ids": ["f2qcw", "f2tht"], "size": "50.00", "name": "first group"},{"entity_ids": ["f2rqi", "f2tws"], "size": "50.00", "name": "second group", "description": "second AB test group"}], "name": "first AB test", "description": "documentation example"}'

{
  "request": {
    "params": {
      "account_id": "18ce54d4x5t",
      "end_time": "2020-12-05T01:00:00Z",
      "entity_type": "CAMPAIGN",
      "start_time": "2020-12-01T01:00:00Z",
      "user_groups": [
        {
          "entity_ids": [
            "f2qcw",
            "f2tht"
          ],
          "size": "50.0",
          "name": "first group"
        },
        {
          "entity_ids": [
            "f2rqi",
            "f2tws"
          ],
          "size": "50.0",
          "name": "second group",
          "description": "second AB test group"
        }
      ],
      "name": "first AB test",
      "description": "documentation example"
    }
  },
  "data": {
    "created_at": "2020-12-01T00:00:00Z",
    "created_by": {
      "user_id": "756201191646691328",
      "username": "apimctestface"
    },
    "deleted": false,
    "description": "documentation example",
    "end_time": "2020-12-05T01:00:00Z",
    "entity_type": "CAMPAIGN",
    "id": "hr7l0",
    "name": "first AB test",
    "start_time": "2020-12-01T01:00:00Z",
    "status": "SCHEDULED",
    "user_groups": [
      {
        "id": "p1bcx",
        "name": "first group",
        "description": null,
        "size": "50.0",
        "entity_ids": [
          "f2qcw",
          "f2tht"
        ]
      },
      {
        "id": "p1bcy",
        "name": "second group",
        "description": "second AB test group",
        "size": "50.0",
        "entity_ids": [
          "f2rqi",
          "f2tws"
        ]
      }
    ],
    "updated_at": "2020-12-01T00:00:00Z",
    "updated_by": {
      "user_id": "756201191646691328",
      "username": "apimctestface"
    }
  }
}
```

**Per l’A/B testing a livello di line item**

La principale differenza tra l’A/B testing a livello di campagna e a livello di line item è il valore di entity\_type. Per i test A/B a livello di line item va impostato ‘entity\_type’ = ‘LINE\_ITEM’. Questo si applica a tutte le azioni su un test A/B già creato riportate di seguito.

Requisiti:

1. Tutti i line item della campagna di A/B testing devono essere inclusi nello split test.
2. A livello di line item è consentita solo una suddivisione equa.
3. Il numero di line item dei gruppi di utenti consentiti in 1 split test deve essere minore o uguale a 5.
4. Solo 1 line item per gruppo di utenti.

<div id="updating">
  ### Aggiornamento
</div>

Aggiorna un test A/B utilizzando l'endpoint [PUT accounts/:account\_id/ab\_tests/:ab\_test\_id](https://developer.x.com/en/docs/x-ads-api/measurement/api-reference/ab-tests). L'endpoint richiede l'invio di un payload JSON nella richiesta. Il Content-Type deve essere impostato su application/json.

Come per altri endpoint di aggiornamento, l'endpoint [PUT accounts/:account\_id/ab\_tests/:ab\_test\_id](/it/x-ads-api/measurement/ab-testing#get-accounts-account-id-ab-tests) richiede che l'ID del test A/B sia incluso nell'URL. In generale, i test A/B possono essere aggiornati solo quando lo stato è SCHEDULED. C'è un'eccezione: è possibile aggiornare l'attributo end\_time del test A/B mentre è LIVE.

Questo endpoint supporta JSON parziale con ID di oggetti. Si applicano i seguenti principi:

- Per aggiungere o rimuovere oggetti o elementi, invia l'intero array (e le sue sottostrutture); si tratta di un'operazione di **sostituzione**

- In caso contrario, modifica (cambia, aggiungi, rimuovi) i _campi_ esistenti facendo riferimento ai nomi delle chiavi o agli ID

  - Per rimuovere un campo, imposta il suo valore su null

  - I campi non inclusi non vengono modificati

Ad esempio, per aggiungere un terzo gruppo di utenti al test A/B creato in precedenza, è necessario inviare l'array user\_groups con i due oggetti gruppo utente esistenti e con il nuovo oggetto da aggiungere. Consideralo come una _ricreazione_ dell'array user\_groups: invia i dati come se lo stessi creando da zero (non inviare gli ID degli oggetti gruppo utente). L'array user\_groups nella richiesta di aggiornamento potrebbe essere rappresentato come segue.

```json
[
  {
    "entity_ids": [
      "f2qcw",
      "f2tht"
    ],
    "size": "30.0",
    "name": "first group"
  },
  {
    "entity_ids": [
      "f2rqi",
      "f2tws"
    ],
    "size": "30.0",
    "name": "second group",
    "description": "second AB test group"
  },
  {
    "entity_ids": [
      "i1vwr",
      "i1xre"
    ],
    "size": "40.0"
  }
]
```

Nota che i valori di size tra gli oggetti sommano ancora 100,00. Se non li avessimo aggiornati per i primi due oggetti — precedentemente impostati a 50,00 ciascuno — la richiesta non sarebbe andata a buon fine.

Se invece volessimo semplicemente aggiungere una descrizione al primo gruppo di utenti, l'array user\_groups nella richiesta di aggiornamento sarebbe rappresentato come segue.

```json
[
  {
    "id": "p1bcx",
    "description": "updated using a PUT request"
  }
]
```

Facciamo riferimento all'oggetto gruppo di utenti tramite ID e includiamo solo il campo che desideriamo modificare.

<div id="request-examples">
  #### Esempi di richieste
</div>

Questa sezione fornisce ulteriori esempi di richieste di aggiornamento. Considerali come eseguiti in sequenza. I blob JSON sono formattati per la leggibilità. Le risposte sono omesse.

Per apportare le seguenti modifiche, la richiesta sarebbe rappresentata come segue. (Si tratta dello stesso esempio utilizzato in precedenza.)

1. Aggiunge un terzo gruppo di utenti senza nome né descrizione

2. Modifica la percentuale di utenti in ciascun gruppo di utenti

twurl -X PUT -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab\_tests/hr7l0" -d '

```json
twurl -X PUT -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab_tests/hr7l0" -d '
{
  "user_groups": [
    {
      "entity_ids": [
        "f2qcw",
        "f2tht"
      ],
      "size": "30.00",
      "name": "first group"
    },
    {
      "entity_ids": [
        "f2rqi",
        "f2tws"
      ],
      "size": "30.00",
      "name": "second group",
      "description": "second AB test group"
    },
    {
      "entity_ids": [
        "i1vwr",
        "i1xre"
      ],
      "size": "40.00"
    }
  ]
}'
```

Per apportare le seguenti modifiche, la richiesta sarebbe rappresentata come segue.

1. Rimuove la descrizione del test A/B

2. Aggiunge una descrizione al primo gruppo di utenti

3. Aggiunge un ID entità (f2syz) al secondo gruppo di utenti

twurl -X PUT -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab\_tests/hr7l0" -d '

```json
twurl -X PUT -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab_tests/hr7l0" -d '
{
  "description": null,
  "user_groups": [
    {
      "id": "p1bcx",
      "description": "first AB test group"
    },
    {
      "id": "p1bcy",
      "entity_ids": [
        "f2rqi",
        "f2tws",
        "f2syz"
      ]
    }
  ]
}'
```

La terza modifica richiede di passare i due ID entità esistenti insieme a quello nuovo. Nota che non sono state apportate modifiche al terzo gruppo di utenti.

Per apportare le seguenti modifiche, la richiesta sarebbe rappresentata come segue.

1. Rimuove il secondo gruppo di utenti

2. Modifica la percentuale di utenti in ciascun gruppo di utenti

```json
twurl -X PUT -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab_tests/hr7l0" -d '
{
  "user_groups": [
    {
      "entity_ids": [
        "f2qcw",
        "f2tht"
      ],
      "size": "55.00",
      "name": "first group"
    },
    {
      "entity_ids": [
        "i1vwr",
        "i1xre"
      ],
      "size": "45.00"
    }
  ]
}'
```

<div id="api-reference">
  ## Riferimento all'API
</div>

<div id="ab-tests">
  ### Test A/B
</div>

[]()

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Esegui in Postman
</Button>

#### GET accounts/:account\_id/ab\_tests

Recupera i dettagli di alcuni o di tutti i test A/B.

<div id="resource-url">
  ##### URL della risorsa
</div>

`https://ads-api.x.com/12/accounts/:account_id/ab_tests`

<div id="parameters">
  ##### Esempio di richiesta
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/ab_tests`

<div id="example-request">
  ##### Esempio di risposta
</div>

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t"
        }
      },
      "data": [
        {
          "created_at": "2022-05-25T00:00:00Z",
          "created_by": {
            "user_id": "756201191646691328",
            "username": "apimctestface"
          },
          "deleted": false,
          "description": "esempio di documentazione",
          "end_time": "2022-05-30T01:00:00Z",
          "entities": [
            {
              "id": "p1bcx",
              "account_id": "18ce54d4x5t"
            },
            {
              "id": "p1bcy",
              "account_id": "18ce54d4x5t"
            }
          ],
          "entity_type": "CAMPAIGN",
          "id": "hr7l0",
          "name": "primo test A/B",
          "start_time": "2022-05-25T01:00:00Z",
          "status": "SCHEDULED",
          "user_groups": [
            {
              "id": "p1bcx",
              "name": "primo gruppo",
              "description": null,
              "size": "50.0",
              "entity_ids": [
                "f2qcw",
                "f2tht"
              ]
            },
            {
              "id": "p1bcy",
              "name": "secondo gruppo",
              "description": "secondo gruppo del test A/B",
              "size": "50.0",
              "entity_ids": [
                "f2rqi",
                "f2tws"
              ]
            }
          ],
          "updated_at": "2022-05-25T00:00:00Z",
          "updated_by": {
            "user_id": "756201191646691328",
            "username": "apimctestface"
          }
        }
      ],
      "next_cursor": null
    }
```

#### POST accounts/:account\_id/ab\_tests

Crea un nuovo test A/B.

Tutti i parametri vengono inviati nel corpo della richiesta ed è necessario specificare `Content-Type: application/json`.

<div id="resource-url">
  ##### URL della risorsa
</div>

`https://ads-api.x.com/12/accounts/:account_id/ab_tests`

<div id="resource-url">
  ##### Parametri
</div>

| Nome | Descrizione |
| :--- | :--- |
| account\_id  <br />_obbligatorio_ | L’identificatore dell’account utilizzato. Compare nel percorso della risorsa ed è generalmente un parametro obbligatorio per tutte le richieste dell’API X Ads, ad eccezione di [GET accounts](/it/x-ads-api/campaign-management#accounts). L’account specificato deve essere associato all’utente autenticato.<br /><br />Tipo: string<br /><br />Esempio: `18ce54d4x5t` |
| end\_time  <br />_obbligatorio_ | L’ora, espressa in ISO 8601, in cui terminerà l’A/B Test.<br /><br />Tipo: string<br /><br />Esempio: `2020-10-02T00:00:00Z` |
| entity\_type  <br />_obbligatorio_ | Il tipo di entità da utilizzare per la suddivisione dei gruppi di utenti.<br /><br />Tipo: enum<br /><br />Valori possibili: `CAMPAIGN`, `LINE_ITEM` |
| start\_time  <br />_obbligatorio_ | L’ora, espressa in ISO 8601, in cui inizierà l’A/B Test.<br /><br />Tipo: string<br /><br />Esempio: `2022-05-30T00:00:00Z` |
| user\_groups  <br />_obbligatorio_ | Descrive i gruppi di utenti. Maggiori informazioni nella tabella seguente. È possibile specificare da 2 a 30 gruppi di utenti.<br /><br />Tipo: array di oggetti |
| description  <br />_facoltativo_ | La descrizione dell’A/B Test. Lunghezza massima: 1.024 caratteri.<br /><br />Tipo: string<br /><br />Esempio: `documentation example` |
| name  <br />_facoltativo_ | Il nome dell’A/B Test. Lunghezza massima: 255 caratteri.<br /><br />Tipo: string<br /><br />Esempio: `first AB test` |

#### Gruppi di utenti

| Name | Description |
| :--- | :--- |
| entity\_ids  <br />_required_ | Un array di ID entità.<br /><br />**Nota**: Le entità possono essere associate a un solo test A/B.<br /><br />Type: array<br /><br />Example: `["dxi0l", "e66bl"]` |
| size  <br />_required_ | La percentuale di utenti da assegnare a questo gruppo di utenti. È un valore numerico rappresentato come stringa con al massimo due cifre decimali. Ad esempio, rappresenta il 40% come: 40, 40.0 o 40.00.<br /><br />**Nota**: I valori di size tra gli _oggetti_ **devono** sommarsi a 100.00.<br /><br />Type: array<br /><br />Min, Max: `1.00`, `99.00` |
| description  <br />_optional_ | La descrizione del gruppo di utenti. Lunghezza massima: 1.024 caratteri.<br /><br />Type: string<br /><br />Example: `second AB test group` |
| name  <br />_optional_ | Il nome del gruppo di utenti. Lunghezza massima: 255 caratteri.<br /><br />Type: string<br /><br />Example: `first group` |

### Esempio di richiesta

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/ab_tests -d '{"end_time": "2022-05-30T01:00:00Z", "entity_type" : "CAMPAIGN", "start_time": "2022-05-25T01:00:00Z", "user_groups": [{"entity_ids": ["f2qcw", "f2tht"], "size": "50.00", "name": "primo gruppo"},{"entity_ids": ["f2rqi", "f2tws"], "size": "50.00", "name": "secondo gruppo", "description": "secondo gruppo di test A/B"}], "name": "primo test A/B", "description": "esempio di documentazione"}'`

<div id="example-request">
  ### Risposta di esempio
</div>

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "end_time": "2022-05-30T01:00:00Z",
          "entity_type": "CAMPAIGN",
          "start_time": "2022-05-25T01:00:00Z",
          "user_groups": [
            {
              "entity_ids": [
                "f2qcw",
                "f2tht"
              ],
              "size": "50.0",
              "name": "primo gruppo"
            },
            {
              "entity_ids": [
                "f2rqi",
                "f2tws"
              ],
              "size": "50.0",
              "name": "secondo gruppo",
              "description": "secondo gruppo del test A/B"
            }
          ],
          "name": "primo test A/B",
          "description": "esempio di documentazione"
        }
      },
      "data": {
        "created_at": "2022-05-25T00:00:00Z",
        "created_by": {
          "user_id": "756201191646691328",
          "username": "apimctestface"
        },
        "deleted": false,
        "description": "esempio di documentazione",
        "end_time": "2022-05-30T01:00:00Z",
        "entities": [
          {
            "id": "p1bcx",
            "account_id": "18ce54d4x5t"
          },
          {
            "id": "p1bcy",
            "account_id": "18ce54d4x5t"
          }
        ],
        "entity_type": "CAMPAIGN",
        "id": "hr7l0",
        "name": "primo test A/B",
        "start_time": "2022-05-25T01:00:00Z",
        "status": "SCHEDULED",
        "user_groups": [
          {
            "id": "p1bcx",
            "name": "primo gruppo",
            "description": null,
            "size": "50.0",
            "entity_ids": [
              "f2qcw",
              "f2tht"
            ]
          },
          {
            "id": "p1bcy",
            "name": "secondo gruppo",
            "description": "secondo gruppo del test A/B",
            "size": "50.0",
            "entity_ids": [
              "f2rqi",
              "f2tws"
            ]
          }
        ],
        "updated_at": "2022-05-25T00:00:00Z",
        "updated_by": {
          "user_id": "756201191646691328",
          "username": "apimctestface"
        }
      }
    }
```

#### PUT accounts/:account\_id/ab\_tests/:ab\_test\_id

Aggiorna l’A/B test specificato.

Tutti i parametri vengono inviati nel corpo della richiesta ed è richiesto un `Content-Type` pari a `application/json`.

Questo endpoint supporta JSON parziali con ID di oggetti. Si applicano i seguenti principi:

- Per aggiungere o rimuovere oggetti o elementi, invia l’intero array (e le sue sotto‑strutture); si tratta di un’operazione di **sostituzione**
  - Consideralo come la ricreazione dell’array
- Altrimenti, modifica (cambia, aggiungi, rimuovi) i campi esistenti facendo riferimento ai nomi delle chiavi o agli ID
  - Per rimuovere un campo, imposta il suo valore su `null`
  - I campi non inviati non vengono modificati

In generale, gli A/B test possono essere aggiornati solo quando lo `status` è `SCHEDULED`. C’è un’eccezione: è possibile aggiornare l’`end_time` dell’A/B test mentre è `LIVE`.

<div id="resource-url">
  ##### URL della risorsa
</div>

`https://ads-api.x.com/12/accounts/18ce54d4x5t/:ab_test_id`

<div id="resource-url">
  ##### Parametri
</div>

| Nome | Descrizione |
| :--- | :--- |
| account\_id  <br />_obbligatorio_ | L'identificatore dell'account utilizzato. Compare nel percorso della risorsa ed è generalmente un parametro obbligatorio per tutte le richieste dell'API X Ads, ad eccezione di [GET accounts](/it/x-ads-api/campaign-management#accounts). L'account specificato deve essere associato all'utente autenticato.<br /><br />Tipo: string<br /><br />Esempio: `18ce54d4x5t` |
| ab\_test\_id  <br />_obbligatorio_ | Un riferimento all'A/B Test a cui si fa riferimento nella richiesta.<br /><br />Tipo: string<br /><br />Esempio: `hr7l0` |
| description  <br />_facoltativo_ | La descrizione dell'A/B Test. Lunghezza massima: 1.024 caratteri.<br /><br />**Nota**: Può essere aggiornato solo quando lo `status` dell'A/B Test è `SCHEDULED`.<br /><br />Tipo: string<br /><br />Esempio: `documentation example` |
| end\_time  <br />_facoltativo_ | L'ora, espressa in ISO 8601, in cui l'A/B Test terminerà.<br /><br />**Nota**: Può essere aggiornato solo quando lo `status` dell'A/B Test è `SCHEDULED` o `LIVE`.<br /><br />Tipo: string<br /><br />Esempio: `2020-10-02T00:00:00Z` |
| name  <br />_facoltativo_ | Il nome dell'A/B Test. Lunghezza massima: 255 caratteri.<br /><br />**Nota**: Può essere aggiornato solo quando lo `status` dell'A/B Test è `SCHEDULED`.<br /><br />Tipo: string<br /><br />Esempio: `first AB test` |
| start\_time  <br />_facoltativo_ | L'ora, espressa in ISO 8601, in cui l'A/B Test inizierà.<br /><br />**Nota**: Può essere aggiornato solo quando lo `status` dell'A/B Test è `SCHEDULED`.<br /><br />Tipo: string<br /><br />Esempio: `2022-05-30T00:00:00Z` |
| user\_groups  <br />_obbligatorio_ | Descrive i gruppi di utenti. Ulteriori informazioni nella tabella seguente.<br /><br />**Nota**: Può essere aggiornato solo quando lo `status` dell'A/B Test è `SCHEDULED`.<br /><br />Tipo: array di oggetti |

#### Gruppi di utenti

| Name | Description |
| :--- | :--- |
| id  <br />_talvolta richiesto_ | Riferimento all’oggetto gruppo di utenti con cui stai operando nella richiesta.<br /><br />**Nota**: Obbligatorio quando si modificano (si cambiano, aggiungono o rimuovono) i _campi_ dell’oggetto gruppo di utenti.<br /><br />**Nota**: Non specificare un ID quando si aggiungono o si rimuovono interi oggetti gruppo di utenti.<br /><br />Type: string<br /><br />Example: `p1bcx` |
| description  <br />_opzionale_ | Descrizione del gruppo di utenti. Lunghezza massima: 1.024 caratteri.<br /><br />**Nota**: Annulla l’impostazione (rimuovi) specificando il campo con valore `null`.<br /><br />Type: string<br /><br />Example: `second AB test group` |
| entity\_ids  <br />_opzionale_ | Array di ID entità.<br /><br />**Nota**: Si tratta di un’operazione di sostituzione. Sovrascrive qualsiasi valore impostato in precedenza.<br /><br />**Nota**: Le entità possono essere associate a un solo test A/B.<br /><br />Type: array<br /><br />Example: `["dxi0l", "e66bl"]` |
| name  <br />_opzionale_ | Nome del gruppo di utenti. Lunghezza massima: 255 caratteri.<br /><br />**Nota**: Annulla l’impostazione (rimuovi) specificando il campo con valore `null`.<br /><br />Type: string<br /><br />Example: `first group` |
| size  <br />_opzionale_ | Percentuale di utenti da assegnare a questo gruppo di utenti. È un valore numerico rappresentato come stringa con al massimo due cifre decimali. Ad esempio, rappresenta il 40% come: 40, 40.0 o 40.00.<br /><br />**Nota**: I valori di dimensione tra gli _oggetti_ **devono** sommare a 100.00.<br /><br />Type: string<br /><br />Min, Max: `1.00`, `99.00` |

<div id="parameters">
  ##### Esempio di richiesta
</div>

Questa richiesta apporta le seguenti modifiche.

1. Rimuove la descrizione dell’A/B test
2. Modifica l’orario di fine
3. Aggiunge una descrizione al primo gruppo di utenti
4. Modifica la percentuale di utenti in ciascun gruppo
5. Aggiunge un ID di entità (`f2syz`) al secondo gruppo di utenti

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/ab_tests/hr7l0 -d '{"description": null, "end_time": "2022-06-01T01:00:00Z", "user_groups": [{"id": "p1bcx", "description": "first AB test group", "size": "60.00"},{"id": "p1bcy", "size": "40.00", "entity_ids": ["f2rqi", "f2tws", "f2syz"]}]}'`

<div id="example-request">
  ##### Esempio di risposta
</div>

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "ab_test_id": "hr7l0",
          "description": null,
          "end_time": "2022-06-01T01:00:00Z",
          "user_groups": [
            {
              "id": "p1bcx",
              "description": "primo gruppo del test AB",
              "size": "60.0"
            },
            {
              "id": "p1bcy",
              "size": "40.0",
              "entity_ids": [
                "f2rqi",
                "f2tws",
                "f2syz"
              ]
            }
          ]
        }
      },
      "data": {
        "created_at": "2020-05-25T00:00:00Z",
        "created_by": {
          "user_id": "756201191646691328",
          "username": "apimctestface"
        },
        "deleted": false,
        "description": null,
        "end_time": "2022-06-01T01:00:00Z",
        "entities": [
          {
            "id": "p1bcx",
            "account_id": "18ce54d4x5t"
          },
          {
            "id": "p1bcy",
            "account_id": "18ce54d4x5t"
          }
        ],
        "entity_type": "CAMPAIGN",
        "id": "hr7l0",
        "name": "primo test AB",
        "start_time": "2022-05-25T01:00:00Z",
        "status": "SCHEDULED",
        "user_groups": [
          {
            "id": "p1bcx",
            "name": "primo gruppo",
            "description": "primo gruppo del test AB",
            "size": "60.0",
            "entity_ids": [
              "f2qcw",
              "f2tht"
            ]
          },
          {
            "id": "p1bcy",
            "name": "secondo gruppo",
            "description": "secondo gruppo del test AB",
            "size": "40.0",
            "entity_ids": [
              "f2rqi",
              "f2tws",
              "f2syz"
            ]
          }
        ],
        "updated_at": "2022-05-25T00:17:23Z",
        "updated_by": {
          "user_id": "756201191646691328",
          "username": "apimctestface"
        }
      }
    }
```

#### DELETE accounts/:account\_id/ab\_tests/:ab\_test\_id

Elimina l’A/B test specificato.

**Nota**: L’eliminazione di un A/B test è irreversibile e i tentativi successivi di eliminare la risorsa restituiranno HTTP 404.

##### URL risorsa

`https://ads-api.x.com/12/accounts/:account_id/ab_tests/:ab_test_id`

<div id="resource-url">
  ##### Parametri
</div>

| Nome | Descrizione |
| :--- | :--- |
| ab\_test\_id  <br />_obbligatorio_ | Riferimento all’A/B test a cui si fa riferimento nella richiesta.<br /><br />Tipo: stringa<br /><br />Esempio: `hr7l0` |

<div id="parameters">
  ##### Esempio di richiesta
</div>

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/ab_tests/hr7l0`

### Esempio di risposta

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "ab_test_id": "hr7l0"
        }
      },
      "data": {
        "created_at": "2022-05-25T00:00:00Z",
        "created_by": {
          "user_id": "756201191646691328",
          "username": "apimctestface"
        },
        "deleted": true,
        "description": null,
        "end_time": "2022-06-01T01:00:00Z",
        "entities": [
          {
            "id": "p1bcx",
            "account_id": "18ce54d4x5t"
          },
          {
            "id": "p1bcy",
            "account_id": "18ce54d4x5t"
          }
        ],
        "entity_type": "CAMPAIGN",
        "id": "hr7l0",
        "name": "primo test AB",
        "start_time": "2022-05-25T01:00:00Z",
        "status": "SCHEDULED",
        "user_groups": [
          {
            "id": "p1bcx",
            "name": "primo gruppo",
            "description": "primo gruppo del test AB",
            "size": "60.0",
            "entity_ids": [
              "f2qcw",
              "f2tht"
            ]
          },
          {
            "id": "p1bcy",
            "name": "secondo gruppo",
            "description": "secondo gruppo del test AB",
            "size": "40.0",
            "entity_ids": [
              "f2rqi",
              "f2tws",
              "f2syz"
            ]
          }
        ],
        "updated_at": "2022-06-02T00:18:31Z",
        "updated_by": {
          "user_id": "756201191646691328",
          "username": "apimctestface"
        }
      }
    }
```