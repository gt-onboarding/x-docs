---
title: Ricerca dell’utente autenticato
sidebarTitle: Ricerca dell’utente autenticato
---

import { Button } from '/snippets/it/button.mdx';

<div id="getting-started-with-the-authenticated-user-lookup-endpoint">
  ## Introduzione all’endpoint Authenticated User Lookup
</div>

Questa guida rapida ti aiuterà a inviare la tua prima richiesta all’endpoint di ricerca dell’utente autenticato utilizzando Postman.

Visita il nostro repository GitHub [API X v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) se vuoi vedere esempi di codice in diverse lingue.

<Note>
  ### Prerequisiti

  Per completare questa guida, ti servirà un set di [keys and tokens](/it/resources/fundamentals/authentication) per autenticare la tua richiesta. Puoi generare queste chiavi e questi token seguendo questi passaggi:

  - [Richiedi un account sviluppatore](https://developer.x.com/en/apply-for-access) e attendi l’approvazione.
  - Crea un [Project](/it/resources/fundamentals/projects) e una [developer App](/it/resources/fundamentals/developer-apps) associata nel developer portal.
  - Vai alla pagina “Keys and tokens” della tua App per generare le credenziali necessarie. Assicurati di salvare tutte le credenziali in un luogo sicuro.
</Note>

<div id="steps-to-build-an-authenticated-user-lookup-request">
  ### Passaggi per creare una richiesta di ricerca utente autenticata
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### Primo passaggio: iniziare con uno strumento o una libreria
</div>

Esistono diversi strumenti, esempi di codice e librerie che puoi utilizzare per inviare una richiesta a questo endpoint, ma qui useremo Postman per semplificare il processo.

Per importare la raccolta Postman dell'API X v2 nel tuo ambiente, fai clic sul seguente pulsante:

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Aggiungi API X v2 a Postman
</Button>

Una volta importata la raccolta API X v2 in Postman, vai alla cartella “Authenticated User Lookup” e seleziona “Lookup an Authenticated User”.

<div id="step-two-authenticate-your-request">
  #### Passaggio due: Autentica la tua richiesta
</div>

Per effettuare correttamente una richiesta all’API X, devi verificare di avere l’autorizzazione. Per farlo con questo endpoint, devi autenticare la richiesta utilizzando [OAuth 1.0a User Context](/it/resources/fundamentals/authentication) oppure [OAuth 2.0 Authorization Code with PKCE](it/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2).

In questo esempio utilizzeremo OAuth 1.0a User Context.

Devi aggiungere le tue chiavi e i tuoi token — nello specifico API Key, API Secret Key, OAuth 1.0a user Access Token e OAuth 1.0a user Access Token Secret — in Postman. Puoi farlo selezionando l’ambiente denominato “API X v2” nell’angolo in alto a destra di Postman e aggiungendo le chiavi e i token nei campi “initial value” e “current value” (facendo clic sull’icona a forma di occhio accanto al menu a discesa dell’ambiente).

Queste variabili verranno inserite automaticamente nella scheda Authorization della richiesta se hai eseguito correttamente questa operazione.
 

<div id="step-three-determine-which-user-fields-you-want-to-retrieve">
  ##### Passaggio tre: determina quali campi utente desideri recuperare
</div>

Se fai clic sul pulsante "Send" dopo il passaggio tre, nella risposta riceverai i campi predefiniti dell’[oggetto utente](/it/x-api/fundamentals/data-dictionary#user): id, name e username.

Se desideri ricevere campi aggiuntivi oltre a id, name e username, dovrai specificarli nella richiesta con i parametri [field](/it/x-api/fundamentals/fields) e/o [expansion](/it/x-api/fundamentals/expansions).

Per questo esercizio, richiederemo tre insiemi aggiuntivi di campi da oggetti diversi:

1. Il campo aggiuntivo user.created\_at negli oggetti utente primari.

2. I campi predefiniti dell’oggetto Post fissato associato per gli utenti restituiti: id e text.

3. Il campo aggiuntivo tweet.created\_at negli oggetti Post associati.

In Postman, vai alla scheda "Params" e aggiungi la seguente coppia chiave:valore alla tabella "Query Params":

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Returned fields** |
| user.fields | created\_at | user.created\_at |
| expansions | pinned\_tweet\_id | includes.tweets.id,  <br />includes.tweets.text |
| tweet.fields | created\_at, author\_id | includes.tweets.created\_at, includes\_tweets.author\_id |

Ora dovresti vedere un URL simile accanto al pulsante “Send”:

```
      https://api.x.com/2/users/me?user.fields=created_at&expansions=pinned_tweet_id&tweet.fields=author_id,created_at
```