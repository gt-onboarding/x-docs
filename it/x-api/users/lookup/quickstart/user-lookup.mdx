---
title: Ricerca utenti
sidebarTitle: Ricerca utenti
---

import { Button } from '/snippets/it/button.mdx';

<div id="getting-started-with-the-users-lookup-endpoints">
  ## Guida introduttiva agli endpoint di lookup degli utenti
</div>

Questa guida rapida ti aiuterà a inviare la tua prima richiesta agli endpoint di lookup degli utenti con un set di campi specificati utilizzando [Postman](/it/tutorials/postman-getting-started).

Se desideri visualizzare codice di esempio in lingue diverse, visita il nostro repository GitHub [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code).

<Note>
  ### Prerequisiti

  Per completare questa guida, ti servirà un set di [keys and tokens](/it/resources/fundamentals/authentication) per autenticare la richiesta. Puoi generare queste chiavi e token seguendo questi passaggi:

  - [Registrati per un account sviluppatore](https://developer.x.com/en/apply-for-access) e attendi l’approvazione.
  - Crea un [Project](/it/resources/fundamentals/projects) e una [developer App](/it/resources/fundamentals/developer-apps) associata nel portale per sviluppatori.
  - Vai alla pagina “Keys and tokens” della tua App per generare le credenziali richieste. Assicurati di salvare tutte le credenziali in un luogo sicuro.
</Note>

<div id="steps-to-build-a-users-lookup-request">
  ### Passaggi per creare una richiesta di lookup utenti
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### Primo passaggio: iniziare con uno strumento o una libreria
</div>

Esistono diversi strumenti, esempi di codice e librerie che puoi utilizzare per inviare una richiesta a questo endpoint, ma qui useremo Postman per semplificare il processo.

Per importare nel tuo ambiente la raccolta Postman dell’API X v2, fai clic sul seguente pulsante:

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Aggiungi API X v2 a Postman
</Button>

Una volta importata in Postman la raccolta dell’API X v2, vai all’endpoint GET /users/by.
 

<div id="step-two-authenticate-your-request">
  #### Passaggio due: autentica la tua richiesta
</div>

Per inviare correttamente una richiesta all’API X, devi verificare di avere le autorizzazioni necessarie. A tal fine, questo endpoint richiede di autenticare la richiesta utilizzando uno tra i metodi [App only](/it/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token), [OAuth 2.0 Authorization Code with PKCE](it/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) o [OAuth 1.0a User Context](/it/resources/fundamentals/authentication).

Per semplicità, in questo esempio useremo App only, ma dovrai utilizzare uno degli altri metodi di autenticazione se desideri richiedere [metriche](/it/x-api/fundamentals/metrics) private o dati utente.

Per utilizzare App only, devi aggiungere le tue chiavi e i tuoi token, in particolare l’[App Access Token](/it/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token) (noto anche come App only Bearer Token) in Postman. Puoi farlo selezionando l’ambiente “X API v2” nell’angolo in alto a destra di Postman e aggiungendo chiavi e token nei campi “initial value” e “current value” (facendo clic sull’icona a forma di occhio accanto al menu a discesa dell’ambiente).

Se configurate correttamente, queste variabili verranno inserite automaticamente nella scheda Authorization della richiesta.
 

<div id="step-three-identify-and-specify-which-users-you-would-like-to-retrieve">
  #### Terzo passaggio: identifica e specifica quali utenti desideri recuperare
</div>

Devi specificare un utente o un insieme di utenti da restituire nella richiesta. A seconda dell’endpoint utente che utilizzi, puoi passare un ID utente o un nome utente. In questo caso, utilizzeremo l’endpoint [GET /users/by](/it/x-api/users/user-lookup-by-usernames), che consente di passare più nomi utente in un’unica richiesta (anziché gli endpoint [single-ID](/it/x-api/users/user-lookup-by-id), [multi-ID](/it/x-api/users/user-lookup-by-ids) e [single-username](/it/x-api/users/user-lookup-by-username)) e di inviare un insieme di nomi utente usando il parametro di query usernames.

I nomi utente sono semplicemente l’handle dell’account che trovi nell’URL del profilo. Ad esempio, il nome utente del seguente account è XDevelopers.

`https://x.com/XDevelopers`

In Postman, vai alla scheda "Params" e inserisci questo nome utente, oppure una sequenza di nomi utente separati da virgole, nella colonna "Value" del parametro username, assicurandoti di non includere spazi tra i nomi utente e le virgole.

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `username` | XDevelopers,API,adsapi |

<div id="step-four-identify-and-specify-which-fields-you-would-like-to-retrieve">
  #### Quarto passaggio: identifica e specifica quali campi desideri recuperare
</div>

Se fai clic sul pulsante "Send" dopo il terzo passaggio, riceverai nella risposta i campi predefiniti dell’[oggetto utente](/it/x-api/fundamentals/data-dictionary#user): id, name e username.

Se desideri ricevere campi aggiuntivi oltre a id, name e username, dovrai specificarli nella richiesta con i parametri [field](/it/x-api/fundamentals/fields) e/o [expansion](/it/x-api/fundamentals/expansions).

Per questo esercizio, richiederemo tre set aggiuntivi di campi da oggetti diversi:

1. Il campo aggiuntivo user.created\_at negli oggetti utente primari.
2. I campi predefiniti dell’oggetto dei Post fissati associati per gli utenti restituiti: id e text.
3. Il campo aggiuntivo tweet.created\_at negli oggetti Post associati.
    

In Postman, vai alla scheda "Params" e aggiungi la seguente coppia chiave:valore alla tabella "Query Params":

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Returned fields** |
| `user.fields` | `created_at` | `user.created_at` |
| `expansions` | `pinned_tweet_id` | tweet.id, tweet.text |
| `tweet.fields` | `author_id,created_at` | `includes.tweets.id, includes.tweets.text, includes.tweets.created_at` |

Ora dovresti vedere il seguente URL accanto al pulsante "Send":

```
      https://api.x.com/2/users/by?usernames=twitterdev,twitterapi,adsapi&user.fields=created_at&expansions=pinned_tweet_id&tweet.fields=author_id,created_at
```

<div id="step-five-make-your-request-and-review-your-response">
  #### Passaggio cinque: invia la richiesta e verifica la risposta
</div>

Una volta configurato tutto, fai clic sul pulsante "Send" e riceverai la seguente risposta:

```
{
  "data": [
    {
      "created_at": "2013-12-14T04:35:55.000Z",
      "id": "2244994945",
      "name": "Twitter Dev",
      "pinned_tweet_id": "1255542774432063488",
      "username": "TwitterDev"
    },
    {
      "created_at": "2007-05-23T06:01:13.000Z",
      "id": "6253282",
      "name": "Twitter API",
      "username": "TwitterAPI"
    },
    {
      "created_at": "2013-02-27T20:01:12.000Z",
      "id": "1225933934",
      "name": "Twitter Ads API",
      "username": "AdsAPI"
    }
  ],
  "includes": {
    "tweets": [
      {
        "author_id": "2244994945",
        "created_at": "2020-04-29T17:01:38.000Z",
        "id": "1255542774432063488",
        "text": "In questi tempi senza precedenti, ciò che accade su Twitter può aiutare il mondo a comprendere meglio e a rispondere alla pandemia. \n\nStiamo lanciando un endpoint di stream COVID-19 gratuito affinché sviluppatori e ricercatori qualificati possano studiare in tempo reale la conversazione pubblica. https://t.co/BPqMcQzhId"
      }
    ]
  }
}
```