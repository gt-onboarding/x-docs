---
title: Guida alla migrazione
sidebarTitle: Guida alla migrazione
---

import { Button } from '/snippets/it/button.mdx';

<div id="blocks-lookup-standard-v11-compared-to-x-api-v2">
  ### Ricerca dei blocchi: Standard v1.1 rispetto all’API X v2
</div>

Se hai lavorato con gli endpoint standard v1.1 [GET blocks/ids](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/mute-block-report-users/api-reference/get-blocks-ids) e [GET blocks/list](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/mute-block-report-users/api-reference/get-blocks-list), l’obiettivo di questa guida è aiutarti a comprendere somiglianze e differenze tra gli endpoint di ricerca dei blocchi dello standard v1.1 e dell’API X v2.

- **Somiglianze**
  - Autenticazione
- **Differenze**
  - URL degli endpoint

  - Limiti di utenti per richiesta

  - Requisiti di App e Progetti

  - Formati dei dati di risposta

  - Parametri di richiesta

<div id="similarities">
  #### Somiglianze
</div>

**Autenticazione**

Sia gli endpoint di lookup dei blocchi dello standard v1.1 sia quelli dell’API X v2 utilizzano [OAuth 1.0a User Context](/it/resources/fundamentals/authentication#oauth-1-0a-2). Pertanto, se in precedenza utilizzavi uno degli endpoint di lookup dei blocchi dello standard v1.1, puoi continuare a usare lo stesso metodo di autenticazione anche dopo la migrazione alla versione dell’API X v2. 

<div id="differences">
  #### Differenze
</div>

**URL degli endpoint**

- Endpoint standard v1.1:
  - GET https://api.x.com/1.1/blocks/ids.json
    (elenco degli ID utente bloccati dall’utente specificato)
  - GET https://api.x.com/1.1/blocks/lists.json
    (elenco degli utenti bloccati dall’utente specificato)
- Endpoint API X v2:
  - GET https://api.x.com/2/users/:id/blocking
    (elenco degli utenti bloccati dall’ID utente specificato)
     

**Limiti di utenti per richiesta**

Gli endpoint standard v1.1 consentono di restituire fino a 5000 utenti per richiesta. I nuovi endpoint v2 consentono di restituire fino a 1000 utenti per richiesta. Per ottenere esattamente 1000 utenti, è necessario passare max\_results=1000 come parametro di query; è poi possibile passare il next\_token restituito nel payload di risposta al parametro di query pagination\_token nella richiesta successiva.
 

**Requisiti per App e Progetto**

Gli endpoint dell’API X v2 richiedono l’uso di credenziali di una [developer App](/it/resources/fundamentals/developer-apps) associata a un [Project](/it/resources/fundamentals/developer-apps) quando si autenticano le richieste. Tutti gli endpoint dell’API X v1.1 possono utilizzare credenziali di App standalone o di App associate a un progetto.

**Formato dei dati di risposta**

Una delle differenze principali tra le versioni degli endpoint standard v1.1 e dell’API X v2 è come si selezionano i campi da restituire nel payload.

Per gli endpoint standard, molti campi della risposta sono forniti per impostazione predefinita, con la possibilità di usare parametri per indicare quali campi o insiemi di campi restituire nel payload.

La versione dell’API X v2 restituisce per impostazione predefinita solo i campi user id, name e username. Per richiedere campi o oggetti aggiuntivi, è necessario utilizzare i parametri [fields](/it/x-api/fundamentals/fields) e [expansions](/it/x-api/fundamentals/expansions). Qualsiasi campo utente richiesto da questo endpoint verrà restituito nell’oggetto utente primario. Qualsiasi oggetto Post espanso e i relativi campi verranno restituiti in un oggetto includes all’interno della risposta. È quindi possibile collegare gli oggetti espansi all’oggetto utente facendo corrispondere gli ID presenti sia nell’oggetto utente sia nell’oggetto Post espanso. 

Consigliamo di approfondire questi nuovi parametri nelle rispettive guide o consultando la nostra guida su [how to use fields and expansions](/it/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions). 

Abbiamo anche preparato una [data format migration guide](/it/x-api/migrate/data-format-migration#migrating-from-standard-v1-1s-data-format-to-v2) che può aiutarti a mappare i campi standard v1.1 ai più recenti campi v2. Questa guida fornirà inoltre il parametro di espansione e di campo specifico che dovrai passare con la richiesta v2 per restituire campi specifici. 
 

Oltre alle modifiche relative al modo in cui si richiedono determinati campi, l’API X v2 introduce anche nuovi design JSON per gli oggetti restituiti dalle API, inclusi gli oggetti [P](/it/x-api/fundamentals/data-dictionary#tweet)ost e [user](/it/x-api/fundamentals/data-dictionary#user).

- A livello di root JSON, gli endpoint standard restituiscono oggetti Post in un array statuses, mentre l’API X v2 restituisce un array data. 
- Invece di fare riferimento a Retweeted e Quoted "statuses", il JSON dell’API X v2 fa riferimento a Retweeted e Quoted Tweets. Molti campi legacy e deprecati, come contributors e user.translator\_type, vengono rimossi. 
- Invece di utilizzare sia favorites (nell’oggetto Post) sia favourites (nell’oggetto user), l’API X v2 utilizza il termine like. 
- X adotta la convenzione secondo cui i valori JSON senza valore (ad esempio null) non vengono scritti nel payload. Gli attributi di Post e user sono inclusi solo se hanno valori non null. 
   

Abbiamo inoltre introdotto un nuovo set di campi nel [Post object](/it/x-api/fundamentals/data-dictionary#tweet), tra cui:

- Un campo [conversation\_id](/it/x-api/fundamentals/conversation-id)
- Due nuovi campi [annotations](/it/x-api/fundamentals/post-annotations), inclusi context ed entities
- Diversi nuovi campi [metrics](/it/x-api/fundamentals/metrics) 
- Un nuovo campo reply\_setting, che indica chi può rispondere a un determinato Post

**Parametri di richiesta**

I seguenti parametri di richiesta standard v1.1 accettavano due parametri di query (user\_id o screen\_name). L’API X v2 accetta solo l’ID utente numerico, che deve essere incluso nel percorso dell’endpoint.