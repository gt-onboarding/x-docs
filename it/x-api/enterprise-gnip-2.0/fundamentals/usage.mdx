---
title: API di utilizzo
description: "La Usage API è una REST API gratuita che fornisce accesso programmatico e visibilità sul consumo di attività tra i prodotti per il tuo account Enterprise."
sidebarTitle: API di utilizzo
---

<div id="usage-api-twitter-api">
  ## API di Usage | Twitter API
</div>

<div id="overview">
  ### Panoramica
</div>

`Enterprise`

È lo strumento più importante e il _migliore_ per monitorare e gestire l’utilizzo delle diverse API associate al tuo account.

**Importante disclaimer:**

I conteggi di utilizzo restituiti dalla Usage API potrebbero non corrispondere a quelli riportati in fattura a causa di periodi di prova e altri adeguamenti di fatturazione. Tutti i numeri si basano su attività deduplicate consumate in un determinato giorno (UTC).

<div id="features">
  #### Funzionalità
</div>

- Recupero programmato dei dati di utilizzo disponibili nell’interfaccia console.gnip.com
- Dati di utilizzo a livello di stream: fornisce dati di utilizzo a livello di stream (ad es. dev e prod) oltre che a livello di prodotto
- Dati granulari e descrittivi: le “richieste” di ricerca sono suddivise tra i prodotti Ricerca dell’archivio completo e Ricerca 30 giorni
- “Giorni” e “job” di Historical PowerTrack 

<div id="supported-apis">
  ### API supportate
</div>

Di seguito è riportato l’elenco delle API attualmente supportate dalla Usage API:

- PowerTrack API `enterprise`
- 30-Day Search API `enterprise`
- Full-Archive Search API `enterprise`
- Historical PowerTrack `enterprise`

<div id="limitations">
  ### Limitazioni
</div>

- L'API Usage consente di accedere ai dati di utilizzo a partire dal 1º maggio 2018. Dopo il 1º luglio 2019, l'API Usage consente di accedere ai dati di utilizzo degli **ultimi 13 mesi di calendario**

- Puoi accedere ai dati di utilizzo in **intervalli di tre mesi** definiti con fromDate e toDate

Vedi di seguito una richiesta e una risposta:

```bash
curl -u<username>:<password> \
"https://gnip-api.x.com/metrics/usage/accounts/<account-name>.json?bucket=month"
```

```json
{
  "account": {
    "name": "accountnamehere"
  },
  "publishers": [
    {
      "type": "twitter",
      "used": [
        {
          "timePeriod": "201805010000",
          "activities": 1235,
          "searchRequests30Day": 3,
          "searchRequestsFullArchive": 19,
          "historicalPowertrackDays": 0,
          "historicalPowertrackJobs": 0
        },
        {
          "timePeriod": "201806010000",
          "activities": 23467,
          "searchRequests30Day": 0,
          "searchRequestsFullArchive": 66,
          "historicalPowertrackDays": 0,
          "historicalPowertrackJobs": 0
        },
        {
          "timePeriod": "201807010000",
          "activities": 431,
          "searchRequests30Day": 11,
          "searchRequestsFullArchive": 4,
          "historicalPowertrackDays": 0,
          "historicalPowertrackJobs": 0
        }
      ],
      "projected": {
        "timePeriod": "201807010000",
        "activities": 803,
        "searchRequests30Day": 20,
        "searchRequestsFullArchive": 7,
        "historicalPowertrackDays": 0,
        "historicalPowertrackJobs": 0
      },
      "products": [
        {
          "type": "Abbonamento a Historical PowerTrack",
          "used": [
            {
              "timePeriod": "201805010000",
              "activities": 0,
              "days": 0,
              "jobs": 0
            },
            {
              "timePeriod": "201806010000",
              "activities": 0,
              "days": 0,
              "jobs": 0
            },
            {
              "timePeriod": "201807010000",
              "activities": 0,
              "days": 0,
              "jobs": 0
            }
          ],
          "projected": {
            "timePeriod": "201807010000",
            "activities": 0,
            "days": 0,
            "jobs": 0
          }
        },
        {
          "type": "PowerTrack",
          "used": [
            {
              "timePeriod": "201805010000",
              "activities": 267
            },
            {
              "timePeriod": "201806010000",
              "activities": 3
            },
            {
              "timePeriod": "201807010000",
              "activities": 32
            }
          ],
          "projected": {
            "timePeriod": "201807010000",
            "activities": 59
          },
          "endpoints": [
            {
              "type": "PowerTrack 2.0",
              "label": "actformat",
              "used": [
                {
                  "timePeriod": "201805010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201806010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201807010000",
                  "activities": 0
                }
              ],
              "projected": {
                "timePeriod": "201807010000",
                "activities": 0
              }
            },
              {
              "type": "PowerTrack Replay 2.0",
              "label": "ogformat",
              "used": [
                {
                  "timePeriod": "201805010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201806010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201807010000",
                  "activities": 0
                }
              ],
              "projected": {
                "timePeriod": "201807010000",
                "activities": 0
              }
            }
          ]
        },
        {
          "type": "Search API (30 giorni) 2.0",
          "used": [
            {
              "timePeriod": "201805010000",
              "activities": 10,
              "searchRequests30Day": 3
            },
            {
              "timePeriod": "201806010000",
              "activities": 0,
              "searchRequests30Day": 0
            },
            {
              "timePeriod": "201807010000",
              "activities": 23,
              "searchRequests30Day": 11
            }
          ],
          "projected": {
            "timePeriod": "201807010000",
            "activities": 42,
            "searchRequests30Day": 20
          },
          "endpoints": [
            {
              "type": "Search API (30 giorni) 2.0",
              "label": "ogformat",
              "used": [
                {
                  "timePeriod": "201805010000",
                  "activities": 10,
                  "searchRequests30Day": 3
                },
                {
                  "timePeriod": "201806010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                },
                {
                  "timePeriod": "201807010000",
                  "activities": 21,
                  "searchRequests30Day": 10
                }
              ],
              "projected": {
                "timePeriod": "201807010000",
                "activities": 39,
                "searchRequests30Day": 18
              }
            }
          ]
        },
        {
          "type": "API di ricerca (Archivio completo)",
          "used": [
            {
              "timePeriod": "201805010000",
              "activities": 961,
              "searchRequestsFullArchive": 19
            },
            {
              "timePeriod": "201806010000",
              "activities": 23466,
              "searchRequestsFullArchive": 66
            },
            {
              "timePeriod": "201807010000",
              "activities": 379,
              "searchRequestsFullArchive": 4
            }
          ],
          "projected": {
            "timePeriod": "201807010000",
            "activities": 706,
            "searchRequestsFullArchive": 7
          },
          "endpoints": [
            {
              "type": "API di ricerca (Archivio completo)",
              "label": "actformat",
              "used": [
                {
                  "timePeriod": "201805010000",
                  "activities": 1,
                  "searchRequestsFullArchive": 3
                },
                {
                  "timePeriod": "201806010000",
                  "activities": 0,
                  "searchRequestsFullArchive": 0
                },
                {
                  "timePeriod": "201807010000",
                  "activities": 2,
                  "searchRequestsFullArchive": 1
                }
              ],
              "projected": {
                "timePeriod": "201807010000",
                "activities": 3,
                "searchRequestsFullArchive": 1
              }
            },
            {
              "type": "API di ricerca (Archivio completo)",
              "label": "ogformat",
              "used": [
                {
                  "timePeriod": "201805010000",
                  "activities": 961,
                  "searchRequestsFullArchive": 16
                },
                {
                  "timePeriod": "201806010000",
                  "activities": 23466,
                  "searchRequestsFullArchive": 66
                },
                {
                  "timePeriod": "201807010000",
                  "activities": 379,
                  "searchRequestsFullArchive": 3
                }
              ],
              "projected": {
                "timePeriod": "201807010000",
                "activities": 706,
                "searchRequestsFullArchive": 5
              }
            }
          ]
        }
      ]
    }
  ],
  "bucket": "mese"
  "fromDate": "201805010000",
  "toDate": "201808010000"
}
```

<div id="sample-payload">
  ### Payload di esempio
</div>

Di seguito è riportato un esempio di payload:

```bash
{
  "account": {
    "name": "gnip-username"
  },
  "bucket": "month",
  "publishers": [
    {
      "type": "automattic",
      "used": [
        {
          "activities": 0,
          "timePeriod": "201603010000"
        }
      ],
      "projected": {
        "activities": 0,
        "timePeriod": "201603010000"
      },
      "products": [
        {
          "type": "PowerTrack",
          "used": [
            {
              "timePeriod": "201603010000",
              "activities": 0
            }
          ],
          "projected": {
            "timePeriod": "201603010000",
            "activities": 0
          },
          "endpoints": [
            {
              "type": "PowerTrack",
              "label": "dev",
              "used": [
                {
                  "timePeriod": "201603010000",
                  "activities": 0
                }
              ],
              "projected": {
                "timePeriod": "201603010000",
                "activities": 0
              }
            }
          ]
        }
      ]
    },
    {
      "type": "twitter",
      "used": [
        {
          "activities": 84,
          "searchRequests30Day": 4,
          "searchRequestsFullArchive": 0,
          "historicalPowertrackDays": 0,
          "historicalPowertrackJobs": 0,
          "timePeriod": "201603010000"
        }
      ],
      "projected": {
        "activities": 0,
        "searchRequests30Day": 0,
        "searchRequestsFullArchive": 0,
        "historicalPowertrackDays": 0,
        "historicalPowertrackJobs": 0,
        "timePeriod": "201601010000"
      },
      "products": [
        {
          "type": "Historical PowerTrack 2.0",
          "used": [
            {
              "timePeriod": "201511010000",
              "activities": 11884,
              "days": 5,
              "jobs": 5
            },
            {
              "timePeriod": "201512010000",
              "activities": 0,
              "days": 0,
              "jobs": 0
            },
            {
              "timePeriod": "201601010000",
              "activities": 0,
              "days": 0,
              "jobs": 0
            }
          ]
        },
        {
          "type": "PowerTrack",
          "used": [
            {
              "timePeriod": "201511010000",
              "activities": 0
            },
            {
              "timePeriod": "201512010000",
              "activities": 27456
            },
            {
              "timePeriod": "201601010000",
              "activities": 0
            }
          ],
          "projected": {
            "timePeriod": "201601010000",
            "activities": 0
          },
          "endpoints": [
            {
              "type": "PowerTrack",
              "label": "devel",
              "used": [
                {
                  "timePeriod": "201511010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201512010000",
                  "activities": 2930
                },
                {
                  "timePeriod": "201601010000",
                  "activities": 0
                }
              ],
              "projected": {
                "timePeriod": "201601010000",
                "activities": 0
              }
            },
            {
              "type": "PowerTrack 2.0",
              "label": "devel-v2",
              "used": [
                {
                  "timePeriod": "201511010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201512010000",
                  "activities": 24542
                },
                {
                  "timePeriod": "201601010000",
                  "activities": 0
                }
              ],
              "projected": {
                "timePeriod": "201601010000",
                "activities": 0
              }
            },
            {
              "type": "PowerTrack 2.0",
              "label": "devel-v2-1",
              "used": [
                {
                  "timePeriod": "201511010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201512010000",
                  "activities": 0
                },
                {
                  "timePeriod": "201601010000",
                  "activities": 0
                }
              ],
              "projected": {
                "timePeriod": "201601010000",
                "activities": 0
              }
            }
          ]
        },
        {
          "type": "Search API",
          "used": [
            {
              "timePeriod": "201511010000",
              "activities": 0,
              "searchRequests30Day": 0
            },
            {
              "timePeriod": "201512010000",
              "activities": 0,
              "searchRequests30Day": 0
            },
            {
              "timePeriod": "201601010000",
              "activities": 0,
              "searchRequests30Day": 0
            }
          ],
          "projected": {
            "timePeriod": "201601010000",
            "activities": 0,
            "searchRequests30Day": 0
          },
          "endpoints": [
            {
              "type": "Search API",
              "label": "devel",
              "used": [
                {
                  "timePeriod": "201511010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                },
                {
                  "timePeriod": "201512010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                },
                {
                  "timePeriod": "201601010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                }
              ],
              "projected": {
                "timePeriod": "201601010000",
                "activities": 0,
                "searchRequests30Day": 0
              }
            }
          ]
        },
        {
          "type": "Search API (30 giorni)",
          "used": [
            {
              "timePeriod": "201511010000",
              "activities": 0,
              "searchRequests30Day": 0
            },
            {
              "timePeriod": "201512010000",
              "activities": 0,
              "searchRequests30Day": 0
            },
            {
              "timePeriod": "201601010000",
              "activities": 0,
              "searchRequests30Day": 0
            }
          ],
          "projected": {
            "timePeriod": "201601010000",
            "activities": 0,
            "searchRequests30Day": 0
          },
          "endpoints": [
            {
              "type": "Search API (30 giorni)",
              "label": "devel",
              "used": [
                {
                  "timePeriod": "201511010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                },
                {
                  "timePeriod": "201512010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                },
                {
                  "timePeriod": "201601010000",
                  "activities": 0,
                  "searchRequests30Day": 0
                }
              ],
              "projected": {
                "timePeriod": "201601010000",
                "activities": 0,
                "searchRequests30Day": 0
              }
            }
          ]
        },
        {
          "type": "Search API (Archivio completo)",
          "used": [
            {
              "timePeriod": "201511010000",
              "activities": 0,
              "searchRequestsFullArchive": 0
            },
            {
              "timePeriod": "201512010000",
              "activities": 0,
              "searchRequestsFullArchive": 0
            },
            {
              "timePeriod": "201601010000",
              "activities": 0,
              "searchRequestsFullArchive": 0
            }
          ],
          "projected": {
            "timePeriod": "201601010000",
            "activities": 0,
            "searchRequestsFullArchive": 0
          },
          "endpoints": [
            {
              "type": "Search API (Archivio completo)",
              "label": "devel",
              "used": [
                {
                  "timePeriod": "201511010000",
                  "activities": 0,
                  "searchRequestsFullArchive": 0
                },
                {
                  "timePeriod": "201512010000",
                  "activities": 0,
                  "searchRequestsFullArchive": 0
                },
                {
                  "timePeriod": "201601010000",
                  "activities": 0,
                  "searchRequestsFullArchive": 0
                }
              ],
              "projected": {
                "timePeriod": "201601010000",
                "activities": 0,
                "searchRequestsFullArchive": 0
              }
            }
          ]
        }
      ]
    }
  ]
}
```

<div id="api-reference">
  ## Riferimento all’API
</div>

<div id="get-usage">
  ### get-usage
</div>

<div id="methods">
  #### **Metodi**
</div>

| Metodo | Descrizione |
| :--- | :--- |
| [GET /metrics/usage/accounts/{ACCOUNT_NAME}.json](#GETData) | Recupera i dati di utilizzo |

Dove:

- :account\_name è il nome (con distinzione tra maiuscole e minuscole) associato al tuo account, come visualizzato su console.gnip.com

<div id="authentication-and-rate-limit">
  #### **Autenticazione e limitazioni di rate**
</div>

<div id="authentication">
  ##### **Autenticazione**
</div>

Tutte le richieste alla Usage API richiedono l’autenticazione HTTP Basic, utilizzando una delle credenziali email/password abilitate sul tuo account per accedere a console.gnip.com o connetterti a qualsiasi stream Gnip.

<div id="rate-limit">
  ##### **Limite di frequenza**
</div>

L’API Usage impone un limite di due richieste al minuto.

<div id="best-practices-limitations">
  #### **Best practice e limitazioni**
</div>

<div id="data-availability">
  ##### **Disponibilità dei dati**
</div>

I dati di utilizzo si basano su attività deduplicate consumate fino all’ultimo periodo completo (UTC) in cui i dati sono stati elaborati. In generale, i dati vengono elaborati e aggiornati al minuto, salvo nei casi in cui Gnip stia distribuendo aggiornamenti di sistema.

- L’API Usage consente di accedere ai dati di utilizzo a partire dal 1° maggio 2018. Dopo il 1° luglio 2019, l’API Usage consente di accedere ai dati di utilizzo relativi agli **ultimi 13 mesi di calendario**.

- È possibile accedere ai dati di utilizzo in **intervalli di tre mesi** definiti con fromDate e toDate

<div id="requesting-and-receiving-data">
  #### **Richiesta e ricezione dei dati**
</div>

L’API Usage funziona effettuando una richiesta HTTP GET con credenziali HTTP Basic Auth all’endpoint dell’API per il tuo account.

<div id="get-request">
  ##### Richiesta GET:
</div>

Esegui una richiesta GET al seguente endpoint con le tue credenziali utente e il nome dell’account:

https://gnip-api.x.com/metrics/usage/accounts/:account\_name.json

**Parametri aggiuntivi**

|     |     |
| :--- | :--- |
| bucket | Opzionale. L’unità di tempo per cui verranno forniti i dati di utilizzo. I dati di utilizzo possono essere restituiti con granularità giornaliera o mensile.  <br />  <br />Le richieste effettuate senza uno specifico bucket restituiranno granularità mensile.  <br />  <br />Opzioni: 'month' o 'day' |
| fromDate (YYYYMMDDHHMM) | Opzionale. I dati di utilizzo sono disponibili solo a partire dal 1° maggio 2018. Il timestamp UTC meno recente da cui verranno forniti i dati di utilizzo. Il timestamp ha granularità giornaliera ed è inclusivo (ossia, 201805010000 include il giorno 0501). Le richieste che contengono valori diversi da '0000' per ore e minuti verranno impostate su '0000' per impostazione predefinita.  <br />  <br />Le richieste effettuate senza un fromDate o un toDate restituiranno i dati di utilizzo per mese per il mese corrente e includeranno un riferimento storico per i due mesi precedenti.  <br />  <br />**Nota:** a partire dal 1° giugno 2019, puoi accedere ai dati di utilizzo degli ultimi 13 mesi di calendario. Ad esempio, se fosse il 10 ottobre, puoi accedere ai dati di utilizzo fino al 1° settembre dell’anno precedente.  <br />**Esempio:** 201810010000 restituirà i dati a partire dal 1° ottobre 2018, incluso il 1° ottobre. |
| toDate (YYYYMMDDHHMM) | Opzionale. Il timestamp UTC più recente fino al quale verranno forniti i dati di utilizzo. Il timestamp ha granularità giornaliera e non è inclusivo (ossia, 201703020000 non include i dati del giorno 0302). Quando un toDate è specificato per il giorno corrente o per un giorno futuro, i dati di utilizzo verranno restituiti fino all’ultimo giorno completo (UTC). Le richieste che contengono valori diversi da '0000' per ore e minuti verranno impostate su '0000' per impostazione predefinita.  <br />  <br />Una richiesta senza toDate verrà impostata per il bucket successivo (domani per bucket=day e il mese successivo per bucket=month). Una richiesta effettuata senza fromDate e toDate verrà impostata su bucket=month e mostrerà i dati per il mese corrente più i due mesi immediatamente precedenti.  <br />  <br />**Esempio:** 201703050000 restituirà i dati fino al 5 marzo 2017, senza includere alcun dato del 5 marzo. |

**Esempio di richiesta GET**

Questa richiesta restituirà i dati con granularità mensile dal 1° marzo 2017 al 5 marzo 2017, senza includere alcun dato del 5 marzo 2017.

curl -u "https://gnip-api.x.com/metrics/usage/accounts/:account\_name.json?bucket=month\&fromdate=201403010000\&toDate=201403150000"

<div id="data-format">
  #### **Formato dei dati**
</div>

Le tabelle seguenti descrivono le strutture dati a livello root per i dati di utilizzo restituiti dalla Usage API. Per i campi con più livelli di sotto-campi, fai clic sui link forniti per visualizzare i dettagli sui sotto-campi.

Se desideri vedere un esempio di payload completo della Usage API, visita [questa pagina](/it/x-api/usage/introduction).

|     |     |
| :--- | :--- |
| **account** | Oggetto che rappresenta l’account per cui sono stati richiesti i dati di utilizzo. |
| **bucket** | L’unità di tempo per cui sono forniti i dati di utilizzo. Può essere "day" o "month". |
| **fromDate** | Il timestamp UTC più antico per cui vuoi estrarre i dati di utilizzo (inclusivo). |
| **toDate** | Il timestamp UTC più recente per cui vuoi estrarre i dati di utilizzo (esclusivo). |
| **publishers** | Include tre oggetti principali: used, projected e products. |