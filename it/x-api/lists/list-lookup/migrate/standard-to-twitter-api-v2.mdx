---
title: da v1 a v2
sidebarTitle: da v1 a v2
---

import { Button } from '/snippets/it/button.mdx';

<div id="list-lookup-standard-v11-compared-to-x-api-v2">
  ### Ricerca liste: standard v1.1 rispetto ad API X v2
</div>

Se hai lavorato con gli endpoint standard v1.1 [GET lists/show](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/create-manage-lists/api-reference/get-lists-show) e [GET lists/ownerships](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/create-manage-lists/api-reference/get-lists-ownerships), l’obiettivo di questa guida è aiutarti a comprendere le somiglianze e le differenze tra gli endpoint di ricerca liste dello standard v1.1 e dell’API X v2.

- **Somiglianze**
  - Metodi di autenticazione
  - Limiti di rate
- **Differenze**
  - URL degli endpoint
  - Requisiti di App e Progetti
  - Limiti al numero di oggetti dati per richiesta
  - Formati dei dati di risposta
  - Parametri della richiesta

<div id="similarities">
  #### Somiglianze
</div>

**Autenticazione**

Entrambe le versioni dell’endpoint supportano sia [OAuth 1.0a User Context](/it/resources/fundamentals/authentication#oauth-1-0a-2) sia l’[autenticazione solo app](/it/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token). Pertanto, se in precedenza utilizzavi uno degli endpoint standard v1.1 per la ricerca delle Liste, puoi continuare a usare lo stesso metodo di autenticazione migrando alla versione API X v2.

A seconda della libreria o del pacchetto di autenticazione che scegli, l’autenticazione solo app è probabilmente il modo più semplice per iniziare e può essere impostata con un semplice header di richiesta. Per sapere come generare un token di accesso solo app, consulta [questa guida sull’autenticazione solo app](/it/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token).

**Limiti di richiesta**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **API X v2** |
| /1.1/lists/show.json<br /><br />75 richieste per finestra di 15 minuti con OAuth 1.0a User Context<br /><br />75 richieste per finestra di 15 minuti con solo app | /2/lists/:id<br /><br />75 richieste per finestra di 15 minuti con OAuth 1.0a User Context<br /><br />75 richieste per finestra di 15 minuti con OAuth 2.0 Authorization Code con PKCE |
| /1.1/lists/ownerships.json<br /><br />15 richieste per finestra di 15 minuti con OAuth 1.0a User Context<br /><br />15 richieste per finestra di 15 minuti con solo app | /2/users/:id/owned\_lists<br /><br />15 richieste per finestra di 15 minuti con OAuth 1.0a User Context<br /><br />15 richieste per finestra di 15 minuti con OAuth 2.0 Authorization Code con PKCE<br /><br />15 richieste per finestra di 15 minuti con solo app |

<div id="differences">
  #### Differenze
</div>

**URL degli endpoint**

- Endpoint standard v1.1:
  - GET https://api.x.com/1.1/lists/show.json
    (Recupera una Lista specifica)
  - GET https://api.x.com/1.1/lists/ownerships.json
    (Recupera le Liste possedute dall’utente specificato)
- Endpoint API X v2:
  - GET https://api.x.com/2/lists/:id
    (Recupera una Lista specifica)

  - GET https://api.x.com/2/users/:id/owned\_lists
    (Recupera le Liste possedute dall’utente specificato)

**Requisiti di App e Project**

Gli endpoint dell’API X v2 richiedono l’uso di credenziali di una [developer App](/it/resources/fundamentals/developer-apps) associata a un [Project](/it/resources/fundamentals/projects) quando autentichi le richieste. Tutti gli endpoint dell’API X v1.1 possono utilizzare credenziali di App autonome o di App associate a un Project.

**Limiti di oggetti dati per richiesta**

L’endpoint standard v1.1 /lists/ownerships consente di restituire fino a 1000 Liste per richiesta. I nuovi endpoint v2 consentono di restituire fino a 100 Liste per richiesta. Per impostazione predefinita, vengono restituiti 100 oggetti utente; per modificare il numero di risultati devi passare il parametro di query max\_results= con un valore tra 1 e 100; puoi quindi passare il next\_token restituito nel payload di risposta al parametro di query pagination\_token nella richiesta successiva.

**Formato dei dati di risposta**

Una delle differenze maggiori tra le versioni degli endpoint standard v1.1 e API X v2 è il modo in cui selezioni quali campi restituire nel payload.

Per gli endpoint standard, molti campi della risposta vengono restituiti per impostazione predefinita e hai poi la possibilità di usare parametri per identificare quali campi aggiuntivi o insiemi di campi debbano essere restituiti nel payload.

La versione API X v2 restituisce per impostazione predefinita solo i campi id e name della Lista. Per richiedere campi o oggetti aggiuntivi, devi usare i parametri [fields](/it/x-api/fundamentals/fields) ed [expansions](/it/x-api/fundamentals/expansions). Qualsiasi campo della Lista richiesto da questo endpoint verrà restituito nell’oggetto Lista principale. Qualsiasi oggetto Post o utente espanso e i relativi campi verranno restituiti in un oggetto includes all’interno della risposta. Puoi quindi ricondurre gli oggetti espansi all’oggetto Lista abbinando gli ID presenti sia nell’oggetto utente sia nell’oggetto Post espanso.

Di seguito sono riportati esempi di possibili campi ed espansioni per le Liste:

- created\_at

- follower\_count

- member\_count

- owner\_id

- description

- private

|     |     |
| :--- | :--- |
| **Endpoint** | **Espansione** |
| /2/lists/:id | owner\_id |
| /2/users/:id/owned\_lists | owner\_id |

Ti invitiamo a leggere di più su questi nuovi parametri nelle rispettive guide, oppure consultando la nostra guida su [come utilizzare fields ed expansions](/it/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions).

Abbiamo inoltre preparato una [guida alla migrazione del formato dei dati](/it/x-api/migrate/data-format-migration) che può aiutarti a mappare i campi standard v1.1 ai campi v2 più recenti. Questa guida fornirà anche lo specifico parametro di espansione e di campo che dovrai passare con la richiesta v2 per restituire campi specifici.

Oltre alle modifiche su come richiedi determinati campi, l’API X v2 introduce anche nuovi design JSON per gli oggetti restituiti dalle API, inclusi gli oggetti [Post](/it/x-api/fundamentals/data-dictionary#tweet) e [user](/it/x-api/fundamentals/data-dictionary#user).

- Al livello root del JSON, gli endpoint standard restituiscono oggetti Post in un array statuses, mentre l’API X v2 restituisce un array data.

- Invece di fare riferimento a “statuses” Retweeted e Quoted, il JSON dell’API X v2 fa riferimento a Retweeted e Quoted Tweets. Molti campi legacy e deprecati, come contributors e user.translator\_type, vengono rimossi.

- Invece di usare sia favorites (nell’oggetto Post) sia favourites (nell’oggetto user), l’API X v2 usa il termine like.

- X adotta la convenzione per cui i valori JSON privi di valore (ad esempio, null) non vengono scritti nel payload. Gli attributi di Post e user sono inclusi solo se hanno valori non null.

**Parametri di richiesta**

I seguenti parametri di richiesta standard v1.1 hanno equivalenti nell’API X v2:

**Ricerca Lista per ID**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **API X v2** |
| list\_id | id  |
| slug | Nessun equivalente |
| owner\_screen\_name | Nessun equivalente |
| owner\_id | Richiesto con il parametro expansions/fields |

**Ricerca Liste possedute dall’utente**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **API X v2** |
| user\_id | id  |
| screen\_name | Nessun equivalente |
| count | max\_results |
| cursor | pagination\_token |