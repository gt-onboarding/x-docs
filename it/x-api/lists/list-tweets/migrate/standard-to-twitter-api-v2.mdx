---
title: da v1 a v2
sidebarTitle: da v1 a v2
---

import { Button } from '/snippets/it/button.mdx';

<div id="list-posts-lookup-standard-v11-compared-to-x-api-v2">
  ### Ricerca dei post delle liste: Standard v1.1 rispetto all’API X v2
</div>

Se hai utilizzato l’endpoint standard v1.1 [GET lists/statuses](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/create-manage-lists/api-reference/get-lists-statuses), l’obiettivo di questa guida è aiutarti a comprendere le somiglianze e le differenze tra gli endpoint standard v1.1 e dell’API X v2.

- **Somiglianze**
  - Metodi di autenticazione
  - Limiti di frequenza
- **Differenze**
  - URL degli endpoint
  - Requisiti di App e Progetti
  - Limiti al numero di oggetti dati per richiesta
  - Formati dei dati di risposta
  - Parametri della richiesta

<div id="similarities">
  #### Somiglianze
</div>

**Autenticazione**

Entrambe le versioni dell’endpoint supportano sia [OAuth 1.0a User Context](/it/resources/fundamentals/authentication#oauth-2-0). Pertanto, se in precedenza utilizzavi uno degli endpoint standard v1.1 per recuperare i post nelle Liste, puoi continuare a usare lo stesso metodo di autenticazione migrando alla versione API X v2.

A seconda della libreria/pacchetto di autenticazione che preferisci, l’autenticazione solo App è probabilmente il modo più semplice per iniziare e può essere impostata con una semplice intestazione della richiesta. Per sapere come generare un Access Token solo App, consulta [questa guida all’autenticazione solo App](/it/resources/fundamentals/authentication#bearer-token-also-known-as-app-only).

**Limiti di chiamata**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **API X v2** |
| /1.1/lists/statuses.json<br /><br />900 richieste per finestra di 15 minuti con OAuth 1.0a User Context<br /><br />900 richieste per finestra di 15 minuti con solo App | /2/lists/:id/tweets<br /><br />900 richieste per finestra di 15 minuti con OAuth 1.0a User Context<br /><br />900 richieste per finestra di 15 minuti con OAuth 2.0 Authorization Code con PKCE<br /><br />900 richieste per finestra di 15 minuti con solo App |

<div id="differences">
  #### Differenze
</div>

**URL degli endpoint**

- Endpoint standard v1.1:
  - GET https://api.x.com/1.1/lists/statuses.json
    (Recupera Post da una Lista specifica)
- Endpoint API X v2:
  - GET https://api.x.com/2/lists/:id/tweets
    (Recupera Post da una Lista specifica)

**Requisiti per App e Progetto**

Gli endpoint dell’API X v2 richiedono l’uso di credenziali di una [developer App](/it/resources/fundamentals/developer-apps) associata a un [Project](/it/resources/fundamentals/projects) quando autentichi le richieste. Tutti gli endpoint dell’API X v1.1 possono usare credenziali di App autonome o di App associate a un progetto.

**Limiti di oggetti dati per richiesta**

L’endpoint standard v1.1 /lists/statuses consente di restituire fino a 5000 Post per richiesta. I nuovi endpoint v2 consentono di restituire fino a 100 Post per richiesta. Per impostazione predefinita, verranno restituiti 100 oggetti utente; per modificare il numero di risultati devi passare il parametro di query max\_results= con un numero tra 1 e 100; puoi quindi passare il next\_token restituito nel payload di risposta al parametro di query pagination\_token nella richiesta successiva.

**Formato dei dati di risposta**

Una delle differenze principali tra gli endpoint standard v1.1 e quelli dell’API X v2 è il modo in cui selezioni i campi da restituire nel payload.

Per gli endpoint standard, ricevi molti campi di risposta per impostazione predefinita e poi puoi usare parametri per indicare quali campi aggiuntivi o insiemi di campi debbano essere restituiti nel payload.

La versione API X v2, per impostazione predefinita, restituisce solo i campi id e text del Post. Per richiedere campi o oggetti aggiuntivi, devi usare i parametri [fields](/it/x-api/fundamentals/fields) e [expansions](/it/x-api/fundamentals/expansions). Qualsiasi campo del Post richiesto da questo endpoint verrà restituito nell’oggetto Post principale. Qualsiasi campo di oggetti espansi verrà restituito in un oggetto includes all’interno della risposta. Puoi quindi associare gli oggetti espansi all’oggetto Post principale facendo corrispondere gli ID dell’oggetto principale con quelli presenti negli oggetti espansi. 

Ecco esempi di possibili campi del Post ed espansioni:

- attachments

- author\_id

- context\_annotations

- created\_at

- geo

- lang

|     |     |
| :--- | :--- |
| **Endpoint** | **Espansione** |
| /2/lists/:id/tweets | author\_id |

Ti invitiamo a leggere di più su questi nuovi parametri nelle rispettive guide, oppure consultando la nostra guida su [come usare fields ed expansions](/it/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions). 

Abbiamo anche preparato una [guida alla migrazione del formato dei dati](/it/x-api/migrate/data-format-migration) che può aiutarti a mappare i campi standard v1.1 ai più recenti campi v2. Questa guida ti fornirà anche il parametro di espansione e di campo specifico che dovrai passare con la tua richiesta v2 per restituire campi specifici. 

Oltre ai cambiamenti nel modo in cui richiedi determinati campi, l’API X v2 introduce anche nuovi design JSON per gli oggetti restituiti dalle API, inclusi gli oggetti [Post](/it/x-api/fundamentals/data-dictionary#tweet) e [user](/it/x-api/fundamentals/data-dictionary#user).

- A livello di root del JSON, gli endpoint standard restituiscono oggetti Post in un array **statuses**, mentre l’API X v2 restituisce un array **data**. 

- Invece di fare riferimento a Retweeted e Quoted "statuses", il JSON dell’API X v2 fa riferimento a Retweeted e Quoted Tweets. Molti campi legacy e deprecati, come **contributors** e **user.translator\_type**, vengono rimossi. 

- Invece di usare sia **favorites** (nell’oggetto Post) sia **favourites** (nell’oggetto user), l’API X v2 usa il termine **like**.

- X adotta la convenzione secondo cui i valori JSON privi di valore (ad esempio **null**) non vengono scritti nel payload. Gli attributi di Post e user sono inclusi solo se hanno valori non null.
   

**Parametri della richiesta**

I seguenti parametri di richiesta standard v1.1 hanno equivalenti nell’API X v2:

|     |     |
| :--- | :--- |
| Standard v1.1 | API X v2 |
| list\_id | id  |
| slug | Nessun equivalente |
| owner\_screen\_name | Nessun equivalente |
| owner\_id | Richiesto con il parametro expansions con valore author\_id |
| since\_id | Nessun equivalente |
| max\_id | Nessun equivalente |
| include\_entities | Richiesto con il parametro tweet.fields con valore entities |
| include\_rts | Nessun equivalente |
| count | max\_results |