---
title: Ricerca dell‚Äôarchivio completo
sidebarTitle: Ricerca dell‚Äôarchivio completo
---

import { Button } from '/snippets/it/button.mdx';

<div id="getting-started-with-the-full-archive-search-endpoint">
  ## Guida introduttiva all‚Äôendpoint di ricerca dell‚Äôarchivio completo
</div>

Questa guida rapida ti aiuter√† a inviare la tua prima richiesta all‚Äôendpoint di ricerca dell‚Äôarchivio completo con un insieme di campi specificati utilizzando Postman.

Se desideri vedere esempi di codice in lingue diverse, visita il nostro repository GitHub [API X v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code).

<Note>
  ### Prerequisiti

  L‚Äôendpoint di ricerca dell‚Äôarchivio completo √® attualmente disponibile solo con i livelli di accesso Pro ed Enterprise. Per utilizzare questo endpoint, devi eseguire l‚Äôupgrade all‚Äôaccesso Pro oppure [richiedere l‚Äôaccesso Enterprise](https://docs.google.com/forms/d/e/1FAIpQLScO3bczKWO2jFHyVZJUSEGfdyfFaqt2MvmOfl_aJp0KxMqtDA/viewform).

  Oltre all‚Äôapprovazione per l‚Äôaccesso, avrai bisogno di un set di [chiavi e token](/it/resources/fundamentals/authentication) per autenticare la tua richiesta. Puoi generarli seguendo questi passaggi:

  - Vai al tuo [Progetto](/it/resources/fundamentals/projects) con accesso Enterprise o Pro nel portale per sviluppatori e assicurati di avere un‚Äô[App per sviluppatori](/it/resources/fundamentals/developer-apps) associata all‚Äôinterno di quel Progetto.

  - Vai alla pagina ‚ÄúKeys and tokens‚Äù della tua App per generare le credenziali necessarie. Assicurati di salvare tutte le credenziali in un luogo sicuro.
</Note>

<div id="steps-to-build-a-full-archive-search-request">
  ### Passaggi per creare una richiesta di ricerca dell‚Äôarchivio completo
</div>

**Primo passaggio: inizia con uno strumento o una libreria**

Esistono diversi strumenti, esempi di codice e librerie che puoi utilizzare per effettuare una richiesta a questo endpoint; qui useremo Postman per semplificare il processo.

Per caricare la raccolta Postman dell‚ÄôAPI X v2 nel tuo ambiente, fai clic sul pulsante seguente:

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Aggiungi API X v2 a Postman
</Button>

Una volta caricata la raccolta dell‚ÄôAPI X v2 in Postman, vai a Search Posts > Full-archive search request.

**Secondo passaggio: autentica la richiesta**

Per effettuare correttamente una richiesta all‚ÄôAPI X, devi verificare di avere le autorizzazioni. Per farlo con questo endpoint, devi autenticare la richiesta con i metodi di autenticazione [OAuth 2.0 App-Only](/it/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token).

Devi aggiungere le tue chiavi e i tuoi token, in particolare l‚Äô[App Access Token](/it/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token) (noto anche come App-only Bearer Token), in Postman. Puoi farlo selezionando l‚Äôambiente denominato ‚ÄúX API v2‚Äù nell‚Äôangolo in alto a destra di Postman e aggiungendo chiavi e token nei campi ‚Äúinitial value‚Äù e ‚Äúcurrent value‚Äù (facendo clic sull‚Äôicona a forma di occhio accanto al menu a discesa dell‚Äôambiente).

Questa variabile verr√† automaticamente inserita nella scheda Authorization della richiesta se hai effettuato correttamente questa operazione.
¬†

**Terzo passaggio: crea una query di ricerca**

Ogni ricerca dell‚Äôarchivio completo richiede un‚Äôunica query. In questo esempio useremo una query che corrisponde ai Post pubblicati dall‚Äôaccount @XDevelopers. Per questa query usiamo l‚Äôoperatore from e lo impostiamo su XDevelopers (case-insensitive):

`from:XDevelopers`

In Postman, vai alla scheda ‚ÄúParams‚Äù e inserisci questo ID, o una stringa di ID di Post separati da virgole, nella colonna ‚ÄúValue‚Äù del parametro `ids`.
¬†

| Key | Value | Description |
| :--- | :--- | :--- |
| `query` | `from:XDevelopers` | Query di ricerca da inviare all‚Äôendpoint di ricerca dell‚Äôarchivio completo |

Quarto passaggio: identifica e specifica quali campi desideri recuperare

Se fai clic sul pulsante ‚ÄúSend‚Äù dopo il terzo passaggio, riceverai i campi predefiniti del [Post object](/it/x-api/fundamentals/data-dictionary#tweet) nella risposta: `id`, `text` ed `edit_history_tweet_ids`. Nota che, se ricevi Post precedenti all‚Äôintroduzione della modifica, il campo `edit_history_tweet_ids` non verr√† fornito. Non √® stato eseguito alcun backfill dello storico per questo campo.¬†

Se desideri ricevere campi aggiuntivi oltre a quelli predefiniti, devi specificarli nella richiesta con i parametri [field](/it/x-api/fundamentals/fields) e/o [expansion](/it/x-api/fundamentals/expansions).

Per questo esercizio richiederemo quattro set di campi da oggetti differenti:

1. I campi predefiniti del Post object
2. Il campo aggiuntivo tweet.created\_at negli oggetti tweet principali
3. I campi predefiniti del [user object](/it/x-api/fundamentals/data-dictionary#user) degli autori associati per i Post restituiti
4. Il campo aggiuntivo user.description negli oggetti utente associati
   ¬†

In Postman, vai alla scheda ‚ÄúParams‚Äù e aggiungi la seguente coppia chiave:valore alla tabella ‚ÄúQuery Params‚Äù:

| Key | Value | Returned fields |
| :--- | :--- | :--- |
| `tweet.fields` | `created_at` | `tweets.created_at` |
| `expansions` | `author_id` | includes.users.id, includes.users.name, includes.users.username |
| user.fields | description | includes.users.description |

Ora dovresti vedere il seguente URL accanto al pulsante ‚ÄúSend‚Äù:

`https://api.x.com/2/tweets/search/all?query=from:XDevelopers&tweet.fields=created_at&expansions=author_id&user.fields=created_at`

<Note>
  **Nota bene**

  Per impostazione predefinita verranno restituiti solo i 10 Post pi√π recenti. Se vuoi pi√π di 10 Post per richiesta, puoi usare il parametro max\_results e impostarlo a un massimo di 500 Post per richiesta. Analogamente, per impostazione predefinita verranno restituiti i Post degli ultimi 30 giorni. Se vuoi ottenere Post pi√π vecchi di 30 giorni, puoi usare i parametri start\_time ed end\_time nella chiamata all‚ÄôAPI.
</Note>

**Quinto passaggio: invia la richiesta e verifica la risposta**

Dopo aver completato la configurazione, fai clic sul pulsante "Send" e riceverai una risposta simile alla seguente:

```
{
   "data": [
       {
           "author_id": "2244994945",
           "created_at": "2020-06-11T16:05:06.000Z",
           "id": "1271111223220809728",
           "text": "Tune in tonight and watch as @jessicagarson takes us through running your favorite Python package in R. üçø\n\nLearn how to use two powerful programming languages for data science together, and see a live example that uses the recent search endpoint from Twitter‚Äôs Developer Labs. https://t.co/v178oUZNuj"
       },
       {
           "author_id": "2244994945",
           "created_at": "2020-06-10T19:25:24.000Z",
           "id": "1270799243071062016",
           "text": "As we work towards building the new Twitter API, we‚Äôve extended the deprecation timeline for several Labs v1 endpoints. Learn more üìñ https://t.co/rRWaJYJgKk"
       },
       {
           "author_id": "2244994945",
           "created_at": "2020-06-09T18:08:47.000Z",
           "id": "1270417572001976322",
           "text": "Annotations help you learn more about a Tweet ‚Äî they can even help you find topics of interest. üî¨\n\nIn this tutorial, @suhemparack shows us how find Tweets related to COVID-19 using annotations + the filtered stream endpoint.\n\nLearn how you can, too. ‚§µÔ∏è\nhttps://t.co/qwVOgw0zSV"
       }
   ],
   "includes": {
       "users": [
           {
               "description": "The voice of Twitter's #DevRel team, and your official source for updates, news, & events about Twitter's API. \n\n#BlackLivesMatter",
               "id": "2244994945",
               "name": "Twitter Dev",
               "username": "TwitterDev"
           }
       ]
   },
   "meta": {
       "newest_id": "1271111223220809728",
       "oldest_id": "1270417572001976322",
       "result_count": 3
   }
}
```

In questo esempio abbiamo usato una query molto semplice. Se desideri consultare guide pi√π dettagliate, visita le risorse riportate di seguito.

**Prossimi passaggi**

[Personalizza la tua richiesta utilizzando la API Reference](/it/x-api/posts/full-archive-search)

[Consulta l‚Äôelenco completo degli operatori di query](/it/x-api/posts/search/integrate/build-a-query "Consulta l‚Äôelenco completo degli operatori di query")

[Usa il codice di esempio per questi endpoint](https://github.com/xdevplatform/Twitter-API-v2-sample-code "Usa il codice di esempio per questi endpoint")