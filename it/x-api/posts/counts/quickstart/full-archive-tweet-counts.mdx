---
title: Cerca post (Ricerca dell’archivio completo)
sidebarTitle: Cerca post (Ricerca dell’archivio completo)
---

import { Button } from '/snippets/it/button.mdx';

### Guida introduttiva all’endpoint dei conteggi di Post dell’archivio completo    

Questa guida rapida ti aiuterà a inviare la tua prima richiesta all’endpoint dei conteggi di Post dell’archivio completo utilizzando Postman, uno strumento grafico che consente di effettuare richieste HTTP.

Se desideri vedere esempi di codice in diversi linguaggi di programmazione, visita il nostro repository GitHub [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code). 

<Note>
  ### Prerequisiti

  L’endpoint dei conteggi di Post dell’archivio completo è attualmente disponibile solo per chi dispone di accesso Pro o Enterprise. Per utilizzare questo endpoint, devi richiedere l’accesso Pro o [Enterprise](https://docs.google.com/forms/d/e/1FAIpQLScO3bczKWO2jFHyVZJUSEGfdyfFaqt2MvmOfl_aJp0KxMqtDA/viewform). 

  Oltre all’approvazione per l’accesso, avrai bisogno di un set di [keys and tokens](/it/resources/fundamentals/authentication) per autenticare la tua richiesta. Puoi generare queste chiavi e questi token seguendo questi passaggi:

  - Vai al tuo [Project](/it/resources/fundamentals/projects) con accesso Enterprise nel developer portal e assicurati di avere una [developer App](/it/resources/fundamentals/developer-apps) associata all’interno di quel Project.

  - Vai alla pagina “Keys and tokens” della tua App per generare le credenziali necessarie. Assicurati di salvare tutte le credenziali in un luogo sicuro.
</Note>

<div id="steps-to-build-a-full-archive-post-counts-request">
  #### Passaggi per creare una richiesta di conteggio dei Post dell’archivio completo
</div>

**Primo passaggio: inizia con uno strumento o una libreria**

Esistono diversi strumenti, esempi di codice e librerie che puoi usare per effettuare una richiesta a questo endpoint, ma qui useremo Postman per semplificare il processo.

Per caricare la raccolta Postman dell’API X v2 nel tuo ambiente, fai clic sul pulsante seguente:

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Aggiungi API X v2 a Postman
</Button>

Una volta caricata la raccolta API X v2 in Postman, vai a Post counts > Full-archive Post counts request.

**Secondo passaggio: autentica la richiesta**

Per effettuare correttamente una richiesta all’API X, devi verificare di avere l’autorizzazione. Per farlo con questo endpoint, devi autenticare la richiesta con i metodi di autenticazione [OAuth 2.0 App-Only](/it/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token).

Devi aggiungere le tue chiavi e i tuoi token, in particolare l’[App Access Token](/it/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token) (noto anche come App-only Bearer Token) a Postman. Puoi farlo selezionando l’ambiente denominato “X API v2” nell’angolo in alto a destra di Postman e aggiungendo chiavi e token nei campi “initial value” e “current value” (facendo clic sull’icona a forma di occhio accanto al menu a discesa dell’ambiente).

Questa variabile verrà automaticamente inserita nella scheda di autorizzazione della richiesta se hai eseguito correttamente questa operazione.
 

**Terzo passaggio: crea una query**

Ogni richiesta di conteggio dei Post dell’archivio completo richiede una singola [query](/it/x-api/posts/counts/integrate/build-a-query). In questo esempio, useremo una query che corrisponde ai Post pubblicati dall’account @XDevelopers. Per questa query usiamo l’operatore from e lo impostiamo su XDevelopers (maiuscole/minuscole non sensibili):

`from:XDevelopers`

In Postman, vai alla scheda “Params” e inserisci questo ID, o una stringa di ID Post separati da virgola, nella colonna “Value” del parametro `ids`.
 

| Key | Value | Description |
| :--- | :--- | :--- |
| `query` | `from:XDevelopers` | Query da inviare all’endpoint di conteggio dei Post dell’archivio completo |

Quarto passaggio (opzionale): specifica la granularità e l’intervallo temporale

Se fai clic sul pulsante “Send” dopo il terzo passaggio, otterrai il conteggio dei Post dell’archivio completo predefinito: per ora negli ultimi 30 giorni. Se vuoi ottenere il conteggio dei Post dell’archivio completo per giorno, dovrai aggiungere il parametro granularity con valore day. Se vuoi il conteggio dei Post di oltre 30 giorni fa, dovrai specificare i parametri start\_time ed end\_time con i valori desiderati. 

In Postman, vai alla scheda “Params” e aggiungi la seguente coppia chiave:valore alla tabella “Query Params”:

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Description** |
| granularity | day | La granularità per i risultati del conteggio dei Post. I valori possibili sono day, hour o minute |
| start\_time | 2021-05-01T00:00:00Z | Il timestamp UTC meno recente a partire dal quale verranno forniti i Post |
| end\_time | 2021-06-01T00:00:00Z | Il timestamp UTC meno recente fino al quale verranno forniti i Post. |

Ora dovresti vedere il seguente URL accanto al pulsante “Send”:

`https://api.x.com/2/tweets/counts/all?query=from%3AXDevelopers&start_time=2021-05-01T00:00:00Z&end_time=2021-06-01T00:00:00Z&granularity=day`

**Quinto passaggio: invia la richiesta e verifica la risposta**

Una volta configurato tutto, premi il pulsante “Send” e riceverai una risposta simile alla seguente:

```
{
   "data": [
       {
           "end": "2021-05-02T00:00:00.000Z",
           "start": "2021-05-01T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-03T00:00:00.000Z",
           "start": "2021-05-02T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-04T00:00:00.000Z",
           "start": "2021-05-03T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-05T00:00:00.000Z",
           "start": "2021-05-04T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-06T00:00:00.000Z",
           "start": "2021-05-05T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-07T00:00:00.000Z",
           "start": "2021-05-06T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-08T00:00:00.000Z",
           "start": "2021-05-07T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-09T00:00:00.000Z",
           "start": "2021-05-08T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-10T00:00:00.000Z",
           "start": "2021-05-09T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-11T00:00:00.000Z",
           "start": "2021-05-10T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-12T00:00:00.000Z",
           "start": "2021-05-11T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-13T00:00:00.000Z",
           "start": "2021-05-12T00:00:00.000Z",
           "tweet_count": 6
       },
       {
           "end": "2021-05-14T00:00:00.000Z",
           "start": "2021-05-13T00:00:00.000Z",
           "tweet_count": 1
       },
       {
           "end": "2021-05-15T00:00:00.000Z",
           "start": "2021-05-14T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-16T00:00:00.000Z",
           "start": "2021-05-15T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-17T00:00:00.000Z",
           "start": "2021-05-16T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-18T00:00:00.000Z",
           "start": "2021-05-17T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-05-19T00:00:00.000Z",
           "start": "2021-05-18T00:00:00.000Z",
           "tweet_count": 1
       },
       {
           "end": "2021-05-20T00:00:00.000Z",
           "start": "2021-05-19T00:00:00.000Z",
           "numero_post": 0
       },
       {
           "end": "2021-05-21T00:00:00.000Z",
           "start": "2021-05-20T00:00:00.000Z",
           "numero_post": 8
       },
       {
           "end": "2021-05-22T00:00:00.000Z",
           "start": "2021-05-21T00:00:00.000Z",
           "numero_post": 1
       },
       {
           "end": "2021-05-23T00:00:00.000Z",
           "start": "2021-05-22T00:00:00.000Z",
           "numero_post": 0
       },
       {
           "end": "2021-05-24T00:00:00.000Z",
           "start": "2021-05-23T00:00:00.000Z",
           "numero_post": 0
       },
       {
           "end": "2021-05-25T00:00:00.000Z",
           "start": "2021-05-24T00:00:00.000Z",
           "numero_post": 0
       },
       {
           "end": "2021-05-26T00:00:00.000Z",
           "start": "2021-05-25T00:00:00.000Z",
           "numero_post": 1
       },
       {
           "end": "2021-05-27T00:00:00.000Z",
           "start": "2021-05-26T00:00:00.000Z",
           "numero_post": 1
       },
       {
           "end": "2021-05-28T00:00:00.000Z",
           "start": "2021-05-27T00:00:00.000Z",
           "numero_post": 1
       },
       {
           "end": "2021-05-29T00:00:00.000Z",
           "start": "2021-05-28T00:00:00.000Z",
           "numero_post": 2
       },
       {
           "end": "2021-05-30T00:00:00.000Z",
           "start": "2021-05-29T00:00:00.000Z",
           "numero_post": 0
       },
       {
           "end": "2021-05-31T00:00:00.000Z",
           "start": "2021-05-30T00:00:00.000Z",
           "numero_post": 0
       },
       {
           "end": "2021-06-01T00:00:00.000Z",
           "start": "2021-05-31T00:00:00.000Z",
           "numero_post": 0
       }
   ],
   "meta": {
       "conteggio_totale_post": 22
   }
}
```

**Sesto passaggio: pagina i risultati**

Se l’oggetto “meta” nella tua risposta contiene anche next\_token, puoi passare il suo valore al parametro di query next\_token.

| Key | Value | Description |
| :--- | :--- | :--- |
| next\_token | Inserisci qui il next\_token che recuperi dall’oggetto meta della richiesta precedente. | Se l’ultima richiesta non restituisce tutti i risultati, riceverai un next\_token nell’oggetto meta. Recupera il valore di quel campo e usalo come valore del parametro next\_token nella richiesta successiva, mantenendo invariati tutti gli altri parametri. |

Una volta impostato il valore corretto per next\_token, fai clic sul pulsante “Send” per ricevere la pagina successiva dei risultati.