---
title: da v1 a v2 (Enterprise)
sidebarTitle: da v1 a v2 (Enterprise)
---

<div id="enterprise-compared-to-x-api-v2">
  ### Confronto tra Enterprise e API X v2
</div>

**Somiglianze**

- Granularità
- Paginazione
- Fuso orario

**Differenze**

- URL degli endpoint
- Requisito di App e Progetto
- Intervalli temporali disponibili
- Formato dei dati della risposta
- Metodi HTTP
- Formati temporali nelle richieste
- Parametri della richiesta
- Operatori di filtro

<div id="similarities">
  #### Somiglianze
</div>

**Granularità**

Sebbene il parametro per selezionare la granularità dei dati restituiti sia diverso (`bucket` per la versione enterprise, `granularity` per la versione v2), i valori che puoi fornire con tale parametro sono gli stessi, così come il comportamento predefinito:

- `day`
- `hour` (predefinito)
- `minute`

**Paginazione**

Sebbene v2 offra funzionalità di paginazione aggiuntive (nuovi parametri che consentono di navigare usando gli ID dei post con `since_id` e `until_id`), sia enterprise sia v2 consentono di paginare in base al tempo (`fromDate` e `toDate` con enterprise, `start_time` e `end_time` per v2).

Se utilizzi la versione enterprise, userai il parametro `next` per la paginazione: il campo del token successivo si chiama `next` e si trova alla radice della risposta.

Se utilizzi v2, puoi usare il parametro `next_token` o `pagination_token` per la paginazione e il token successivo sarà in `meta.next_token` nella risposta.
 

**Fuso orario**

Come indicato nella sezione sulla paginazione, puoi scorrere diverse pagine di dati in base al tempo sia con enterprise sia con v2. In entrambi i casi, dovrai usare l’UTC come fuso orario quando utilizzi questi parametri.

<div id="differences">
  #### Differenze
</div>

**URL degli endpoint**

- Endpoint Enterprise:
  - 30 giorni - `http://gnip-api.x.com/search/30day/accounts/:account_name/:label/counts.json`
  - Archivio completo - `http://gnip-api.x.com/search/fullarchive/accounts/:account_name/:label/counts.json`
- Endpoint API X v2
  - Recenti (7 giorni) - `https://api.x.com/2/tweets/counts/recent`
  - Archivio completo - `https://api.x.com/2/tweets/counts/all`

**Requisito di App e Progetto**

Gli endpoint dell’API X v2 richiedono l’uso di credenziali di una [developer App](/it/resources/fundamentals/developer-apps) associata a un [Project](/it/resources/fundamentals/developer-apps) quando autentichi le richieste. Tutti gli endpoint dell’API X v1.1 possono usare credenziali di App autonome o di App associate a un Project.
 

**Periodi di tempo disponibili**

Sia l’API Enterprise sia l’API X v2 offrono endpoint che consentono di recuperare i dati sul volume dei Post per l’archivio completo dei Post.

Tuttavia, l’API X v2 non offre un endpoint per un periodo di 30 giorni come fa l’API Enterprise. In alternativa, offre il suddetto archivio completo o un periodo di 7 giorni, in linea con gli [endpoint di Ricerca Post v2](/it/x-api/posts/search/introduction).
 

**Formato dei dati di risposta**

Ci sono alcune piccole differenze nel formato dei dati che riceverai tramite Enterprise e API X v2:

- I dati dei conteggi di Enterprise si trovano all’interno di un oggetto `results`, mentre i conteggi v2 si trovano all’interno di un oggetto `data`.
- I campi dei conteggi di Enterprise si chiamano `timePeriod` (ora di inizio) e `count`, mentre v2 scompone il periodo di tempo nei campi `start` ed `end` (che utilizzano un formato data/ora diverso rispetto a Enterprise, spiegato nei formati temporali della richiesta) e rinomina il campo count in `tweet_count`.
- I metadati di Enterprise includono `totalCount`, `next` e l’oggetto `requestParameters` a livello radice. Invece, v2 non include l’oggetto `requestParameters` e sposta/rinomina quanto segue in un oggetto `meta` che risiede a livello radice: `total_tweet_count` e `next_token`.
   

**Metodi HTTP**

La versione Enterprise dell’API consente di inviare la richiesta sia con il metodo HTTP POST con body JSON, sia con il metodo HTTP GET con query string.

La v2 consente solo l’uso del metodo HTTP GET con query string.
 

**Formati temporali della richiesta**

La versione Enterprise di questo endpoint utilizza il seguente formato data/ora sia nei parametri di paginazione sia nel campo di risposta `timePeriod`: `YYYYMMDDHHmm`

L’endpoint v2 utilizza il formato data/ora ISO 8601/RFC 3339 sia nei parametri di paginazione sia nei campi di risposta `start` ed `end`: `YYYY-MM-DDTHH:mm:ssZ`

**Parametri della richiesta**

Di seguito è riportata una tabella dei parametri di richiesta per Enterprise e API X v2:

| Enterprise | Search Posts v2 |
| :--- | :--- |
| query | query |
| bucket | granularity |
| fromDate (YYMMDDHHmm) | start\_time (YYYY-MM-DDTHH:mm:ssZ) |
| toDate (YYMMDDHHmm) | end\_time (YYYY-MM-DDTHH:mm:ssZ) |
|     | since\_id |
|     | until\_id |
| next | next\_token and pagination\_token |

**Operatori di filtraggio**

Sebbene gli operatori tra Enterprise e API X v2 siano per lo più gli stessi, ci sono alcune differenze nella disponibilità degli operatori e alcuni nuovi operatori introdotti solo nella versione API X v2.

Per consultare una tabella completa degli operatori disponibili per API X v2, Enterprise e anche premium, visita la [pagina di destinazione della migrazione dei conteggi dei Post](/it/x-api/posts/counts/migrate/overview).

<div id="api-reference-index">
  ## Indice di riferimento dell'API
</div>

Per una documentazione completa dell'API, seleziona un endpoint qui sotto.

<div id="recent-post-counts">
  ### Conteggio dei post recenti
</div>

|     |     |
| :--- | :--- |
| **Ottieni il conteggio dei post che corrispondono a una query negli ultimi 7 giorni** | `[GET /2/tweets/counts/recent](/x-api/posts/tweet-counts#api-reference-index/get-tweets-counts-recent)` |

<div id="full-archive-post-counts">
  ### Conteggio dei Post nell’archivio completo
</div>

Disponibile solo per chi ha [accesso Pro ed Enterprise](/it/x-api/getting-started/about-x-api)

|     |     |
| :--- | :--- |
| **Ottieni il numero di Post che corrispondono a una query** | `[GET /2/tweets/counts/all](/x-api/posts/tweet-counts#api-reference-index/get-tweets-counts-all)` |