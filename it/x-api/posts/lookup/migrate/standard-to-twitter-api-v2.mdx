---
title: da v1 a v2
sidebarTitle: da v1 a v2
---

<div id="standard-v11-compared-to-x-api-v2">
  ## Confronto tra Standard v1.1 e API X v2
</div>

Se hai lavorato con gli endpoint standard v1.1 GET statuses/show e GET statuses/lookup, questa guida ti aiuterà a comprendere somiglianze e differenze tra gli endpoint di ricerca dei Post dello standard e dell’API X v2.

Potresti anche essere interessato al nostro [strumento visivo per la migrazione del formato dei dati](/it/x-api/migrate/data-format-migration), che ti aiuta a confrontare rapidamente le differenze tra il [formato dei dati dell’API X v1.1](/it/x-api/fundamentals/data-dictionary) e il [formato dell’API X v2](/it/x-api/fundamentals/data-dictionary).

- **Somiglianze**
  - OAuth 1.0a User Context
  - Limiti di Post per richiesta
  - Supporto per la cronologia delle modifiche ai Post e i metadati

- **Differenze**
  - URL degli endpoint
  - Requisiti di App e Progetti
  - Formato dei dati della risposta
  - Parametri della richiesta

<div id="similarities">
  ### Somiglianze
</div>

<div id="oauth-10a-user-context-authentication-method">
  #### Metodo di autenticazione OAuth 1.0a con contesto utente
</div>

L’endpoint standard supporta [OAuth 1.0a con contesto utente](/it/resources/fundamentals/authentication), mentre il nuovo endpoint di ricerca dei post dell’API X v2 supporta sia OAuth 1.0a con contesto utente sia [OAuth 2.0 solo app](/it/resources/fundamentals/authentication). Pertanto, se in precedenza utilizzavi uno degli endpoint standard di ricerca dei post v1.1, puoi continuare a usare lo stesso metodo di autenticazione effettuando la migrazione alla versione per l’API X v2.

L’autenticazione solo app è probabilmente il modo più semplice per iniziare. Per sapere come generare un App Access Token, consulta [questa guida su OAuth 2.0 solo app](/it/resources/fundamentals/authentication).

<div id="posts-per-request-limits">
  #### Limiti di post per richiesta
</div>

L'endpoint v1.1 [GET statuses/lookup](https://developer.x.com/en/docs/twitter-api/v1/tweets/post-and-engage/api-reference/get-statuses-lookup) consente di specificare fino a 100 post per richiesta. Questo vale anche per l'endpoint GET /tweets. Per specificare l'intero set di 100 post, usa il parametro `ids` come parametro di query con un elenco di [ID post](/it/resources/fundamentals/x-ids) separati da virgole.

**Supporto per cronologia modifiche e metadati dei post**

Entrambe le versioni forniscono metadati che descrivono l'eventuale cronologia delle modifiche. Consulta le API reference per il lookup dei post e la [pagina sui fondamenti di modifica dei post](/it/x-api/fundamentals/edit-posts) per ulteriori dettagli.

<div id="differences">
  ### Differenze
</div>

<div id="endpoint-urls">
  #### URL degli endpoint
</div>

- **Endpoint standard v1.1:**
  - `https://api.x.com/1.1/statuses/show`
  - `https://api.x.com/1.1/statuses/lookup`

- **Endpoint API X v2:**
  - `https://api.x.com/2/tweets`
  - `https://api.x.com/2/tweets/:id`

<div id="app-and-project-requirements">
  #### Requisiti per App e Progetti
</div>

Gli endpoint dell’API X v2 richiedono credenziali da un’[App per sviluppatori](/it/resources/fundamentals/developer-apps) associata a un [Progetto](/it/resources/fundamentals/projects) per l’autenticazione. Gli endpoint dell’API X v1.1 possono usare credenziali di App autonome oppure di App associate a un Progetto.

<div id="response-data-format">
  #### Formato dei dati della risposta
</div>

Una differenza significativa tra le versioni degli endpoint standard v1.1 e API X v2 è il modo in cui i campi vengono selezionati nel payload.

Per gli endpoint standard, molti campi della risposta sono inclusi per impostazione predefinita, con la possibilità di utilizzare parametri per specificare campi aggiuntivi.

Tuttavia, l’API X v2 fornisce per impostazione predefinita solo i campi `id` e `text` del Post. Campi e oggetti aggiuntivi richiedono l’uso dei parametri [fields](/it/x-api/fundamentals/fields) e [expansions](/it/x-api/fundamentals/expansions). I campi espansi vengono restituiti in un oggetto `includes` all’interno della risposta e possono essere correlati all’oggetto Post principale abbinando gli ID.

Per maggiori informazioni sull’uso di fields ed expansions, consulta la [guida all’utilizzo di fields ed expansions](/it/x-api/fundamentals/data-dictionary). Una [guida alla migrazione del formato dei dati](/it/x-api/fundamentals/fields) mappa anche i campi standard v1.1 ai più recenti campi v2.

Inoltre, l’API X v2 introduce nuovi design JSON per gli oggetti, inclusi l’oggetto Post e l’oggetto [user](/it/x-api/fundamentals/data-dictionary#user):

- Gli endpoint standard restituiscono oggetti Post in un array `statuses`, mentre l’API X v2 utilizza un array `data`.
- In API X v2 i Post ritwittati e citati sostituiscono la terminologia “statuses”.
- Nuova terminologia come `like` sostituisce termini come `favorites` e `favourites`.
- Gli attributi senza valore (ad es. `null`) non sono inclusi nei payload dell’API X v2.

L’oggetto Post nell’API X v2 include nuovi campi quali:

- `conversation_id`
- Due nuovi campi di [annotations](/it/x-api/fundamentals/post-annotations) (`context` ed `entities`)
- Nuovi campi di [metrics](/it/x-api/fundamentals/metrics)
- Campo `reply_setting` che indica chi può rispondere a un determinato Post

<div id="request-parameters">
  #### Parametri della richiesta
</div>

I seguenti parametri standard v1.1 hanno equivalenti nell’API X v2:

| Standard | API X v2 |
|:----------|:----------|
| `id`     | `ids`    |

Alcuni parametri standard v1.1 **non** sono supportati nell’API X v2:

| Standard            | Commento                                                                                                                     |
|:---------------------|:------------------------------------------------------------------------------------------------------------------------------|
| `tweet_mode`        | Sostituito da campi ed espansioni.                                                                                           |
| `trim_user`         | Sostituito da campi ed espansioni. Usa l’espansione `author_id` e `user.fields` per i dati utente.                           |
| `include_my_retweet`| Fornisce l’ID del Post di origine per i Post retwittati dall’utente autenticato.                                              |
| `include_entities`  | Usa campi ed espansioni per controllare le entità nel payload.                                                                |
| `include_ext_alt_text` | Aggiunge il campo `ext_alt_text` nell’entità media se è presente del testo alternativo.                                     |
| `include_card_uri`  | Aggiunge `card_uri` quando è allegata una scheda ads.                                                                         |
| `map`               | Restituisce l’ID del Post e il messaggio di errore per i Post non disponibili nell’API X v2, a differenza dei campi azzerati in v1.1. |

<div id="curl-requests">
  ### Richieste cURL
</div>

Le seguenti richieste cURL mostrano gli endpoint standard della v1.1 e i loro equivalenti nella v2. Sostituisci `ACCESS_TOKEN` nell’intestazione con il token di accesso della tua app. Per gli endpoint v2, il token deve appartenere a un’[App sviluppatore](/it/resources/fundamentals/developer-apps/overview) all’interno di un [Progetto](/it/resources/fundamentals/projects/overview).

I payload di risposta della v1.1 differiscono da quelli della v2. Con la v2 puoi richiedere campi diversi tramite i parametri [fields](/it/x-api/fundamentals/fields) e [expansions](/it/x-api/fundamentals/expansions).

**Endpoint standard v1.1 `GET statuses/lookup` e v2 `GET /tweets`**

```bash
curl --request GET \
  --url 'https://api.x.com/1.1/statuses/lookup.json?id=1460323737035677698%2C1460323743339741184' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```

```
  curl --request GET \
  --url 'https://api.x.com/2/tweets?ids=1460323737035677698%2C1460323743339741184&tweet.fields=created_at&expansions=author_id&user.fields=created_at' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```

**Endpoint standard v1.1 `GET statuses/show/:id` e v2 `GET /tweets/:id`**

```
curl --request GET \
  --url 'https://api.x.com/1.1/statuses/show.json?id=1460323737035677698' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```

```
curl --request GET \
  --url 'https://api.x.com/2/tweets/1460323737035677698?tweet.fields=created_at&expansions=author_id&user.fields=created_at' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```