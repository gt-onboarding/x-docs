---
title: Coerenza
---

<div id="consistency-across-the-x-api-v2-endpoints">
  ## Coerenza tra gli endpoint dell'API X v2
</div>

Uno degli aspetti principali della nuova API X v2 è la coerenza tra gli endpoint. Questo significa che gli oggetti restituiti, le funzionalità e i comportamenti dell'API sono uniformi tra endpoint simili.

Puoi aspettarti che i seguenti elementi siano coerenti in tutti gli endpoint:

<div id="path-naming">
  ### Convenzioni di denominazione dei path
</div>

La denominazione dei path include sempre la [versione](/it/x-api/fundamentals/versioning) dell’endpoint, seguita dalla **risorsa**. Inoltre, il path può contenere un **ID** relativo alla risorsa precedente, un **verbo di selezione** che aiuta a determinare quali dati restituire (ad es. `search` o `sample`), un **verbo di erogazione** che indica come i dati verranno forniti (ad es. `stream`), oppure altre risorse che hanno una **relazione** con la risorsa principale (ad es. `/user/12/tweets`). Infine, è possibile aggiungere un **parametro di query** in coda se l’endpoint prevede parametri di query.

Ecco alcuni esempi di come questi elementi di path e query possono essere organizzati:

`/version/resource/id?param1=value&param2=value /version/resource/delivery/selection?param1=value&param2=value`

Esempi di richieste reali:

`/2/tweets/1067094924124872705?expansions=attachments.media_keys&tweet.fields=author_id /2/users/2244994945?user.fields=created_at,description /2/tweets/search/stream /2/tweets/search/recent?query=snow`

<div id="json-schema">
  ### JSON Schema
</div>

Le risposte alle richieste sono definite utilizzando [JSON Schema](http://json-schema.org/). Questo significa che le richieste restituiscono sempre insiemi di oggetti come array, in cui ogni elemento ha un ID. Le richieste non restituiscono mappe con gli ID come chiavi.

<div id="response-object-and-parameters">
  ### Oggetto di risposta e parametri
</div>

L'oggetto predefinito restituito è lo stesso per ciascun endpoint di quel tipo di oggetto:

- Gli `id` sono sempre stringhe.
- Parametri e campi di risposta utilizzano in modo coerente l'ortografia dell'inglese americano.
- I campi sono vuoti o non restituiti se non è presente alcun valore.
- L'oggetto `entities` contiene solo entità estratte dal testo del Post: include `urls`, `hashtags`, `mentions` e `cashtags`.
- Tutte le informazioni relative alle card, inclusi i campi `media_keys` e `poll_ids`, sono restituite nell'oggetto `attachments`.

Ecco un esempio di oggetto di risposta dall'endpoint [lookup di un singolo Post](/it/x-api/posts/post-lookup-by-post-id) (con il parametro [tweet.fields](/it/x-api/fundamentals/data-dictionary#tweet) impostato su `author_id`, `entities`):

```json
{
   "data": {
       "id": "1278747501642657792",
       "text": "It's been a year since Twitter's Developer Labs launched.\n\nAs we build towards the next generation of the #TwitterAPI (coming VERY soon), see what we've learned and changed along the way. https://t.co/WvjuEWCa6G",
       "author_id": "2244994945",
       "entities": {
           "urls": [
               {
                   "start": 188,
                   "end": 211,
                   "url": "https://t.co/WvjuEWCa6G",
                   "expanded_url": "https://blog.x.com/developer/en_us/topics/tools/2020/a-year-with-twitter-developer-labs.html",
                   "display_url": "blog.x.com/developer/en_u…",
                   "images": [
                       {
                           "url": "https://pbs.twimg.com/news_img/1278747527043362816/7HQRkQeV?format=jpg&name=orig",
                           "width": 1600,
                           "height": 600
                       },
                       {
                           "url": "https://pbs.twimg.com/news_img/1278747527043362816/7HQRkQeV?format=jpg&name=150x150",
                           "width": 150,
                           "height": 150
                       }
                   ],
                   "status": 200,
                   "title": "A year with Twitter Developer Labs: What we've learned and changed",
                   "description": "Labs has been invaluable in helping us understand what works well and what doesn’t, what you liked and what you didn’t.",
                   "unwound_url": "https://blog.x.com/developer/en_us/topics/tools/2020/a-year-with-twitter-developer-labs.html"
               }
           ],
           "hashtags": [
               {
                   "start": 106,
                   "end": 117,
                   "tag": "TwitterAPI"
               }
           ]
       }
   }
}
```

<div id="authentication">
  ### Autenticazione
</div>

Tutti gli endpoint dell’API X v2 richiedono l’autenticazione. Molti accettano il metodo [OAuth 2.0 Bearer Token](/it/resources/fundamentals/authentication#oauth-2-0), che prevede l’invio di un Bearer Token insieme alla richiesta all’endpoint per completarla con successo.

Per gli endpoint che richiedono l’autorizzazione a creare, modificare o recuperare dati per conto di un altro utente, utilizzare [OAuth 1.0a User Context](/it/resources/fundamentals/authentication). Ciò implica fornire le [chiavi e i token API](/it/resources/fundamentals/authentication#api-key-and-secret) della tua [App per sviluppatori](/it/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow), oltre a un set di [Access Token](/it/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) utente generati per l’utente per conto del quale stai effettuando la richiesta. Il [flusso OAuth a 3 passaggi](/it/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) può aiutarti a ottenere gli Access Token. Usa uno [strumento o una libreria](/it/x-api/tools-and-libraries/overview) che generi automaticamente questa intestazione di autorizzazione.

Ulteriori informazioni sono disponibili nella nostra documentazione sull’[autenticazione](/it/resources/fundamentals/authentication).

<div id="fields">
  ### Campi
</div>

L’oggetto restituito da ciascun endpoint è ridotto all’essenziale. Per offrire agli sviluppatori maggiore flessibilità nella risposta dell’API, il parametro [`fields`](/it/x-api/fundamentals/fields) consente di richiedere i campi desiderati. I campi restano uniformi tra gli endpoint. L’oggetto Post restituirà gli stessi campi in tutti gli endpoint in cui compare l’oggetto Post. Lo stesso set di campi può essere richiesto su endpoint analoghi.

Ad esempio, è possibile richiedere gli stessi campi di Post nel [Posts lookup](/it/x-api/posts/lookup/introduction) e per il Post fissato (pinned) espanso nel [Users lookup](/it/x-api/users/lookup/introduction).

---

<div id="expansions">
  ### Espansioni
</div>

Quando applicabile, le [espansioni](/it/x-api/fundamentals/expansions) sono disponibili per tutti i campi ID annidati (ad es. tutti i campi denominati `*_id`, come `author_id`). Le espansioni sono disponibili anche per tutti i campi che hanno un ID diverso dall’identificatore di primo livello dell’oggetto corrente. Ad esempio, in [Posts lookup](/it/x-api/posts/lookup/introduction), il post è l’oggetto corrente e il campo `id` è l’identificatore di primo livello. I campi `author_id` o `referenced_tweets.id` possono essere espansi in oggetti utente o post completi aggiungendo questi valori, separati da virgole, al parametro `expansions`.

[Segnala eventuali incongruenze](https://twitterdevfeedback.uservoice.com/) relative a questi campi.