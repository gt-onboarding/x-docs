---
title: Espansioni
---

Con le espansioni, gli sviluppatori possono includere nel risultato gli oggetti a cui il payload fa riferimento. Gli oggetti disponibili per l’espansione sono indicati tramite ID. Ad esempio, i campi `referenced_tweets.id` e `author_id` restituiti nel payload di [Posts lookup](/it/x-api/posts/lookup/introduction) possono essere espansi in oggetti completi. Se desideri richiedere campi relativi all’utente che ha pubblicato quel Post, oppure ai contenuti multimediali, al sondaggio o al luogo inclusi in quel Post, devi passare il parametro di query di espansione corrispondente nella richiesta per ricevere tali dati nella risposta. Attualmente, gli endpoint v2 che restituiscono oggetti Post, User, List, Space e Direct Message event supportano tutti le espansioni (vedi esempi sotto).

Quando includi un’espansione nella richiesta, includeremo i campi predefiniti dell’oggetto espanso nella stessa risposta. Questo consente di ottenere dati aggiuntivi nella stessa risposta senza dover inviare richieste separate. Se desideri richiedere ulteriori [campi](/it/x-api/fundamentals/fields) relativi all’oggetto espanso, puoi includere il parametro dei campi associato a quell’oggetto, insieme a un elenco di campi separati da virgole che desideri ricevere nella risposta. Tieni presente che i campi non vengono sempre restituiti nello stesso ordine in cui sono stati richiesti nella query.

Il payload del Post seguente contiene ID di riferimento per oggetti complementari su cui è possibile effettuare l’espansione, inclusi l’`author_id` di chi ha pubblicato il Post, l’`id` di un Post _referenziato_ e una `media_key` per un allegato multimediale.

```json
{
    "data": {
        "attachments": {
            "media_keys": ["16_1211797899316740096"]
        },
        "author_id": "2244994945",
        "id": "1212092628029698048",
        "referenced_tweets": [
            {
                "type": "replied_to",
                "id": "1212092627178287104"
            }
        ],
        "text": "We believe the best future version of our API will come from building it with YOU. Here’s to another great year with everyone who builds on the Twitter platform. We can’t wait to continue working with you in the new year. https://t.co/yvxdK6aOo2"
    }
}
```

<div id="available-expansions-for-post-payloads">
  ### Espansioni disponibili per i payload dei Post
</div>

| Espansione                      | Descrizione                                                                        |
|:--------------------------------|:------------------------------------------------------------------------------------|
| `author_id`                    | Restituisce un oggetto utente che rappresenta l’autore del Post                    |
| `referenced_tweets.id`         | Restituisce un oggetto Post a cui questo Post fa riferimento (Retweet, Post citato o risposta) |
| `edit_history_tweet_ids`       | Restituisce oggetti Post che fanno parte della cronologia di modifica di un Post   |
| `in_reply_to_user_id`          | Restituisce un oggetto utente che rappresenta l’autore del Post a cui questo Post richiesto è una risposta |
| `attachments.media_keys`       | Restituisce un oggetto media che rappresenta le immagini, i video e le GIF incluse nel Post |
| `attachments.poll_ids`         | Restituisce un oggetto sondaggio contenente i metadati del sondaggio incluso nel Post |
| `geo.place_id`                 | Restituisce un oggetto luogo contenente i metadati della località taggata nel Post |
| `entities.mentions.username`   | Restituisce un oggetto utente relativo all’utente menzionato nel Post              |
| `referenced_tweets.id.author_id` | Restituisce un oggetto utente relativo all’autore del Post di riferimento         |

<div id="available-expansion-for-user-payloads">
  ### Espansioni disponibili per i payload utente
</div>

| Espansione          | Descrizione                                               |
|:--------------------|:-----------------------------------------------------------|
| `pinned_tweet_id`  | Restituisce un oggetto Post che rappresenta il Post fissato in alto nel profilo dell’utente |

<div id="available-expansions-for-direct-message-event-payloads">
  ### Espansioni disponibili per i payload degli eventi dei Messaggi Diretti
</div>

| Espansione               | Descrizione                                                               |
|:--------------------------|:--------------------------------------------------------------------------|
| `attachments.media_keys` | Restituisce un oggetto Media allegato a un Messaggio Diretto             |
| `referenced_tweets.id`   | Restituisce un oggetto Post citato in un Messaggio Diretto               |
| `sender_id`              | Restituisce un oggetto User che rappresenta l’autore di un Messaggio Diretto e chi ha invitato un partecipante a unirsi a una conversazione |
| `participant_ids`        | Restituisce un oggetto User che rappresenta un partecipante che si è unito o ha lasciato una conversazione |

<div id="available-expansions-for-spaces-payloads">
  ### Espansioni disponibili per i payload di Spaces
</div>

| Espansione          | Descrizione                                               |
|:--------------------|:-----------------------------------------------------------|
| `invited_user_ids` | Restituisce oggetti User che rappresentano gli account invitati |
| `speaker_ids`      | Restituisce oggetti User che rappresentano gli account che hanno parlato durante uno Space |
| `creator_id`       | Restituisce un oggetto User che rappresenta l’account che ha creato lo Space |
| `host_ids`         | Restituisce oggetti User che rappresentano gli account configurati come host |
| `topics_ids`       | Restituisce le descrizioni degli argomenti configurati dal creator |

<div id="available-expansion-for-lists-payloads">
  ### Espansioni disponibili per i payload delle Liste
</div>

| Espansione   | Descrizione                                                    |
|:-------------|:----------------------------------------------------------------|
| `owner_id`  | Restituisce un oggetto User che rappresenta l’account che ha creato e gestisce la Lista |

<div id="expanding-the-media-object">
  ## Espansione dell’oggetto Media
</div>

Nella richiesta seguente, richiediamo l’espansione `geo.place_id` da includere insieme ai campi predefiniti del Post:

**Richiesta di esempio**

```
{`curl 'https://api.x.com/2/tweets/:ID?expansions=geo.place_id' --header 'Authorization: Bearer $ACCESS_TOKEN'`}
```

**Risposta di esempio**

```
{`{
  "data": {
      "geo": {
          "place_id": "01a9a39529b27f36"
      },
      "id": "ID",
      "text": "Test"
  },
  "includes": {
      "places": [
          {
              "full_name": "Manhattan, NY",
              "id": "01a9a39529b27f36"
          }
      ]
  }
}`}

```

<div id="expanding-the-poll-object">
  ## Espansione dell’oggetto sondaggio
</div>

Nella richiesta seguente, richiediamo l’espansione `attachments.poll_ids` da includere insieme ai campi predefiniti del Post:

**Richiesta di esempio**

<CodeBlock language="bash">
  {`curl 'https://api.x.com/2/tweets/1199786642791452673?expansions=attachments.poll_ids' --header 'Authorization: Bearer $ACCESS_TOKEN'`}
</CodeBlock>

**Risposta di esempio**

```
{`{
  "data": {
      "attachments": {
          "poll_ids": ["1199786642468413448"]
      },
      "id": "1199786642791452673",
      "text": "C#"
  },
  "includes": {
      "polls": [
          {
              "id": "1199786642468413448",
              "options": [
                  {
                      "position": 1,
                      "label": "“C Sharp”",
                      "votes": 795
                  },
                  {
                      "position": 2,
                      "label": "“C Hashtag”",
                      "votes": 156
                  }
              ]
          }
      ]
  }
}`}
```

<div id="expanding-the-place-object">
  ## Espansione dell’oggetto Place
</div>

Nella richiesta seguente, richiediamo l’espansione `geo.place_id` da includere insieme ai campi predefiniti del Post:

**Esempio di richiesta**

<CodeBlock language="bash">
  {`curl 'https://api.x.com/2/tweets/:ID?expansions=geo.place_id' --header 'Authorization: Bearer $ACCESS_TOKEN'`}
</CodeBlock>

**Esempio di risposta**

```s
{`{
  "data": {
      "geo": {
          "place_id": "01a9a39529b27f36"
      },
      "id": "ID",
      "text": "Test"
  },
  "includes": {
      "places": [
          {
              "full_name": "Manhattan, NY",
              "id": "01a9a39529b27f36"
          }
      ]
  }
}`}
```