---
title: Créations
---

import { Button } from "/snippets/fr/button.mdx";

<div id="overview">
  ## Aperçu
</div>

Les créations désignent toute entité pouvant être promue dans une campagne. Les posts peuvent inclure du texte, des images, des GIF, des vidéos ou des cartes. Les cartes peuvent inclure des images ou des vidéos.

Les créations image, GIF ou vidéo sont importées via soit [POST media/upload](/fr/x-api/media/upload-media#post-media-upload) — un endpoint d’import simple qui ne prend en charge que les images — soit les endpoints POST media/upload (chunked). Elles peuvent être ajoutées aux

cartes :

- POST accounts/:account\_id/cards
  Tweets :
- POST accounts/:account\_id/tweets - Pour ajouter des cartes aux Tweets, utilisez le paramètre card\_uri.
  Tweets programmés :
- POST accounts/:account\_id/scheduled\_tweets

Pour plus de détails sur les cartes, consultez la page Cards. La page Promoted Video fournit des informations sur l’association de vidéos avec des cartes ou des Tweets.

<div id="cards">
  ### Cartes
</div>

L’API publicitaire X prend en charge plusieurs types de cartes pouvant être utilisées dans des posts, qui peuvent ensuite être promus dans des campagnes. Remarque : une fois publiées, les informations de la carte sont visibles publiquement. Cela peut inclure des informations sur l’utilisateur qui possède la carte.

<div id="image">
  #### Image
</div>

Les spécifications d’image suivantes s’appliquent aux ressources utilisées dans les [Cards](/fr/x-ads-api/creatives#cards-2). Les images doivent faire 3 Mo ou moins et avoir une largeur d’au moins 800 px. De plus, nous prenons en charge les rapports largeur:hauteur suivants.

- Site web : 1:1 et 1,91:1
- Image App Download : 1:1 et 1,91:1
- Sondage : 1,91:1
- Image Conversation : 1,91:1
- Image Direct Message : 1,91:1

Nous prenons en charge les formats d’image suivants : .bmp, .jpeg et .png.

<div id="video">
  #### Vidéo
</div>

Les spécifications vidéo suivantes s’appliquent aux ressources utilisées dans les [Cards](/fr/x-ads-api/creatives#cards-2). Nous prenons en charge les rapports largeur:hauteur suivants.

- Carte site Web vidéo : 16:9 et 1:1
- Carte téléchargement d’app vidéo : 16:9 et 1:1
- Sondage : 16:9
- Conversation vidéo : 16:9
- Message privé vidéo : 16:9

<div id="promoted-video">
  ### Vidéo sponsorisée
</div>

Ce document présente un bref aperçu du processus de mise en ligne et de promotion de vidéos via l’API publicitaire X.

L’API publicitaire X prend en charge la vidéo sponsorisée dans les [Tweets](/fr/x-ads-api/creatives#tweets-2) et dans les cartes suivantes :

- [Site Web vidéo](https://devcommunity.x.com/t/ads-api-version-11/168814)
- [Téléchargement d’application vidéo](https://devcommunity.x.com/t/ads-api-version-11/168814)
- [Conversation vidéo](/fr/x-ads-api/creatives#video-conversation-cards)

Commencez par mettre en ligne la vidéo à l’aide du point de terminaison [POST media/upload (chunked)](https://developer.x.com/en/docs/media/upload-media/api-reference/post-media-upload-init.html). En utilisant le `media_id`, associez la vidéo à un compte publicitaire à l’aide du point de terminaison POST accounts/:account\_id/videos. L’`id` de la vidéo, parfois appelé `media_key`, sera utilisé dans les requêtes suivantes. Il s’agit d’une chaîne qui commence par un entier, est suivie d’un trait de soulignement et se termine par une valeur longue. Par exemple : `13_875943225764098048`.

<div id="promoted-video-in-tweets">
  #### Vidéo sponsorisée dans les Tweets
</div>

Pour créer un Tweet, utilisez le point de terminaison [POST accounts/:account\_id/tweet](/fr/x-ads-api/creatives#get-accounts-account-id-tweets) avec l’`id` de la vidéo. À cette étape, vous pouvez également fournir un titre de vidéo, une description et un appel à l’action (CTA). Ces valeurs sont visibles par les utilisateurs.

<div id="promoted-video-in-cards">
  #### Vidéo sponsorisée dans les Cards
</div>

Les Cards Video App Download et Video Conversation permettent d’ajouter une image d’affiche (poster). Chargez une image à utiliser dans ces Cards via l’endpoint [POST media/upload](https://developer.x.com/en/docs/media/upload-media/api-reference/post-media-upload.html).

Créez la Card à l’aide de l’un des endpoints suivants :

- [POST accounts/:account\_id/cards/video\_website](https://devcommunity.x.com/t/ads-api-version-11/168814)
- [POST accounts/:account\_id/cards/video\_app\_download](https://devcommunity.x.com/t/ads-api-version-11/168814)
- [POST accounts/:account\_id/cards/video\_conversation](https://devcommunity.x.com/t/ads-api-version-11/168814)

en utilisant l’`id` de la vidéo et, en option, le `media_id` de l’image (pour l’image d’affiche).

Enfin, créez le Tweet avec l’endpoint POST accounts/:account\_id/tweet. Les Cards sont associées aux Tweets à l’aide du paramètre `card_uri`.

<div id="general-information">
  #### Informations générales
</div>

Pour des instructions détaillées sur le téléversement de vidéos via l’API, veuillez consulter le [Guide de téléversement de vidéos](https://developer.x.com/en/docs/media/upload-media/uploading-media.html).

Les vidéos peuvent également être diffusées en tant qu’actifs pré-roll. Consultez le [Guide de l’objectif « Vues de vidéo » en pré-roll](/fr/x-ads-api/campaign-management#video-views-preroll-objective) pour une explication détaillée.

- (Au 2015-10-22) Lors du téléversement de vidéos destinées à être utilisées dans du contenu promu, le paramètre `media_category` doit être défini avec la valeur `amplify_video` pour toutes les requêtes de commande `INIT` vers le point de terminaison [POST media/upload (chunked)](https://developer.x.com/en/docs/media/upload-media/api-reference/post-media-upload-init.html). L’utilisation de ce paramètre garantit que la vidéo est prétraitée de manière asynchrone et préparée pour une utilisation dans du contenu promu. La commande `STATUS` peut être utilisée pour vérifier la fin du traitement asynchrone après le téléversement de la vidéo.
- La durée maximale actuellement autorisée pour une vidéo promue est de 10 minutes, pour une taille de fichier de 500 Mo ou moins.
- La vidéo téléversée doit être au format MP4 ou MOV.
- La vidéo téléversée est généralement traitée rapidement, mais les temps de traitement peuvent varier en fonction de sa durée et de sa taille.
- Les images d’aperçu téléversées doivent être au format PNG ou JPG. Il n’y a pas d’exigences concernant le ratio d’aspect ou la taille, mais l’image d’aperçu sera ajustée pour s’adapter au lecteur vidéo.

<div id="guides">
  ## Guides
</div>

<div id="scheduled-tweets">
  ### Tweets planifiés
</div>

<div id="introduction">
  #### Introduction
</div>

Les Tweets planifiés permettent à un annonceur ou à un utilisateur de créer un Tweet dont la publication peut être programmée à une date ultérieure. En plus de pouvoir créer et gérer ces Tweets, l’API permet d’associer ces Tweets à une ligne (line item) pour qu’ils soient promus une fois le Tweet publié. Cela permet aux annonceurs de préparer des Tweets natifs et de planifier à l’avance les créations de leurs campagnes pour toute initiative clé. Par exemple, préparer une création de Tweet pour qu’elle soit publiée immédiatement lors de l’annonce d’un nouveau produit.

L’ensemble des fonctionnalités fournies par les points de terminaison de l’API des Tweets planifiés est présenté ci-dessous :

- Créer, modifier et afficher de nouveaux Tweets planifiés
- Associer un Tweet planifié à une ligne (line item)
- Interroger et gérer les Tweets planifiés existants
- Une fois qu’un Tweet planifié est publié, récupérer l’ID du Tweet publié

<div id="api-endpoints">
  #### Points de terminaison de l’API
</div>

L’ensemble des points de terminaison liés à la fonctionnalité ci-dessus est répertorié ci-dessous :

<div id="scheduled-tweet-management">
  #### Gestion des Tweets programmés
</div>

- [GET accounts/:account\_id/scheduled\_tweets](/fr/x-ads-api/creatives#get-accounts-account-id-scheduled-tweets) (récupérer la liste de tous les Tweets programmés)
- [GET accounts/:account\_id/scheduled\_tweets/:scheduled\_tweet\_id](/fr/x-ads-api/creatives#get-accounts-account-id-scheduled-tweets) (rechercher un Tweet programmé spécifique à l’aide de son `id`)
- [POST accounts/:account\_id/scheduled\_tweets](/fr/x-ads-api/creatives#post-accounts-account-id-scheduled-tweets) (créer un nouveau Tweet programmé)
- [PUT accounts/:account\_id/scheduled\_tweets/:scheduled\_tweet\_id](/fr/x-ads-api/creatives#example-request-39) (modifier un Tweet programmé existant)
- [DELETE accounts/:account\_id/scheduled\_tweets/:scheduled\_tweet\_id](/fr/x-ads-api/creatives#example-request-40) (supprimer un Tweet programmé à l’aide de son `id`)
- [GET accounts/:account\_id/scheduled\_tweets/preview/:scheduled\_tweet\_id](/fr/x-ads-api/creatives#scheduled-tweets-2) (prévisualiser un Tweet programmé existant)

<div id="scheduled-promoted-tweets">
  #### Tweets promus programmés
</div>

- [GET accounts/:account\_id/scheduled\_promoted\_tweets](/fr/x-ads-api/campaign-management#get-accounts-account-id-scheduled-promoted-tweets) (récupérer la liste de tous les Tweets promus programmés)
- [GET accounts/:account\_id/scheduled\_promoted\_tweets/:scheduled\_promoted\_tweet\_id](/fr/x-ads-api/campaign-management#get-accounts-account-id-scheduled-promoted-tweets-scheduled-promoted-tweet-id) (rechercher un Tweet promu programmé à l’aide de son `id`)
- [POST accounts/:account\_id/scheduled\_promoted\_tweets](/fr/x-ads-api/campaign-management#post-accounts-account-id-scheduled-promoted-tweets) (créer un nouveau Tweet promu programmé)
- [DELETE accounts/:account\_id/scheduled\_promoted\_tweets/:scheduled\_promoted\_tweet\_id](/fr/x-ads-api/campaign-management#delete-accounts-account-id-scheduled-promoted-tweets-scheduled-promoted-tweet-id) (supprimer un Tweet promu programmé existant à l’aide de son `id`)

<div id="scheduled-tweet-view">
  #### Affichage d’un Tweet programmé
</div>

- [GET accounts/:account\_id/scheduled\_tweets/preview/:scheduled\_tweet\_id](/fr/x-ads-api/creatives#scheduled-tweets-2) (afficher un Tweet programmé existant)

Comme les Tweets programmés sont des entités distinctes des Tweets « en direct », deux séries de validations sont effectuées pour toute création ou modification de ces Tweets. La première série de règles de validation est appliquée lors de l’étape de création du Tweet programmé, à savoir :

<div id="scheduled-tweet-create">
  #### Création de Tweet programmé :
</div>

- Vérifiez que l’utilisateur authentifié est autorisé à créer des Tweets organiques pour un @handle donné. Les privilèges de création de Tweets « Promoted-Only » exigent que l’utilisateur authentifié soit un utilisateur du compte disposant des [autorisations de l’éditeur de Tweets](https://developer.x.com/content/developer-twitter/en/docs/ads/campaign-management/api-reference/authenticated-user-access#get-accounts-account-id-authenticated-user-access).
- Vérifiez qu’il n’y a pas plus de 30 Tweets programmés pour être publiés dans une fenêtre de 15 minutes autour de l’horodatage scheduled\_at. Un message d’erreur SCHEDULED\_TWEET\_LIMIT\_EXCEEDED indique qu’un trop grand nombre de Tweets programmés sont prévus dans la même fenêtre future de 15 minutes. Les annonceurs devront supprimer un Tweet programmé existant ou décaler l’horodatage scheduled\_at vers une heure plus tôt ou plus tard.

<div id="scheduled-tweet-goes-live">
  #### Le Tweet programmé passe en « live » :
</div>

- Ces règles de validation sont exécutées à l’heure indiquée dans scheduled\_at et sont identiques à celles appliquées lors de la création d’un Tweet classique via l’API. Par exemple, un Tweet programmé ne sera pas mis en ligne et le scheduled\_status sera défini sur FAILED si le Tweet programmé contient à la fois une image et un GIF.

<div id="workflow">
  #### Flux de travail
</div>

**Créer un nouveau Tweet programmé**

Un nouveau Tweet programmé peut être créé à l’aide de l’endpoint [POST accounts/:account\_id/scheduled\_tweets](https://developer.x.com/content/developer-twitter/en/docs/ads/creatives/api-reference/scheduled-tweets#post-accounts-account-id-scheduled-tweets). Cet endpoint comporte les paramètres requis suivants : l’heure `scheduled_at`, ainsi que le `text` du Tweet si aucune entité média n’est incluse dans le Tweet. De plus, cet endpoint propose quelques options supplémentaires qui permettent de créer un Tweet programmé au nom d’un autre @handle via le paramètre `as_user_id`, ainsi que d’ajouter une carte (`card_uri`) et des médias (`media_ids`). Notez qu’un Tweet ne peut contenir que des entités d’un même type, c’est‑à‑dire une vidéo, un GIF ou une image. Le paramètre `nullcast` détermine si le Tweet est « Promoted‑Only » ou non. Tous les Tweets programmés nouvellement créés sont « Promoted‑Only » (`nullcast=true`) par défaut. Si `nullcast=false`, un Tweet programmé organique est créé.

Une fois qu’un Tweet programmé est créé avec succès, la réponse contient un champ `id`, qui correspond à l’identifiant unique du Tweet programmé lui‑même. En plus de ce champ, un autre champ appelé `tweet_id` est également renvoyé. Ce champ est initialement `null`, mais une fois le Tweet publié, il est renseigné avec l’ID du Tweet « en ligne ».

```
twurl -H 'ads-api.x.com' -X POST "/6/accounts/:account_id/scheduled_tweets" -d 'scheduled_at=2017-12-24T23:59:00Z&text=Happy Holidays!'
```

Cela créera le Tweet programmé suivant :

```json
{
  "request": {
    "params": {
      "text": "Happy Holidays!",
      "scheduled_at": "2017-12-24T23:59:00Z"
    }
  },
  "data": {
    "completed_at": null,
    "id_str": "917507899668099072",
    "text": "Happy Holidays!",
    "user_id": "3271358660",
    "scheduled_status": "SCHEDULED",
    "id": 917507899668099100,
    "nullcast": true,
    "created_at": "2017-10-09T21:51:44Z",
    "scheduled_at": "2017-12-24T23:59:00Z",
    "card_uri": null,
    "updated_at": "2017-10-09T21:51:44Z",
    "tweet_id": null,
    "media_keys": []
  }
}
```

Une fois ce Tweet programmé en ligne, le champ `tweet_id` sera renseigné avec l’ID du Tweet « en ligne ».

**Afficher un Tweet programmé**

L’endpoint [GET accounts/:account\_id/tweet\_previews](https://developer.x.com/content/developer-twitter/en/docs/ads/creatives/api-reference/tweet-previews#get-accounts-account-id-tweet-previews) peut ensuite être utilisé avec l’`id` du Tweet programmé de l’étape précédente pour générer un aperçu du Tweet. La réponse de l’API contiendra une URL d’iframe prête à être utilisée pour afficher un aperçu du Tweet programmé. Les feuilles de style CSS et les images concernés seront servis directement par X.

```
twurl -H ads-api.x.com -X GET "/6/accounts/18ce54bgxky/tweet_previews?tweet_type=SCHEDULED&tweet_ids=917507899668099072
```

```json
{
  "request": {
    "params": {
      "tweet_type": "SCHEDULED",
      "tweet_ids": [
        "917507899668099072"
      ],
      "account_id": "18ce54bgxky"
    }
  },
  "data": [
    {
      "tweet_id": "1126633863155871744",
      "preview": "<\iframe class='tweet-preview' src='https://ton.smf1.x.com/ads-manager/tweet-preview/index.html?data=H4sIAAAAAAAAAK1WTW%2FjNhD9Kyyv9dqSZdmOgALJbhJsCyxaIDkUWBUEJY0lNhSpklRSN%2FV%2F71CyZbm297S%2BWJxPzpt5I71T9wbgaELeaW6AOygYxyN9rlryhW9JcEPmUbKIkuiG%2FBjgj8yD8IZOqChoEobz5TKK1ssojOP1KlwtFl7BrDMY4oIW%2FTatlMzB3z7JZ940W%2FJZS1Hwrf0Btc60Kve3oMmGSwsTWgjbSL7tXJjhqgSafA0mYfzHhIJywgmwNHmnFbeV4yU%2Bf0WN3daZlvtDa8Gw2htrdRCZXrlDU92aHIPStA2CKOekMrD5KaWVc02SztIZps%2Bh0rIAg27TXNcpJQYk2ii90VLqt7R3ht%2B4cQoMeVClUIAPd03Th01nvDfx0ClmoJFYk0aouGst82gqROaKskf03KCr7LLvXnXN02K3QTHFaziovYdH0seL5qswitfLZTBq6FGIRfSe9Lm1FTfkY%2BX%2FFcpPAlNRC7eufdFSY1%2BxASh84oo8YitzYXM9IZ%2FuaNcQ1HjMbQc61l0VXDmYlsJVbTYVGq0KwPCi2cf5tQFFnjR2zyDU6YycwX%2Fr3oRzvfKpwTaSZ8NfQUoU%2FUsetanxAV79VElhHbm1oIrSiILcvvgquqSN0Q7y8Uz2TQdjWa5bhZP8IUShEeh8IvIxkVB7SY%2FyKctaIL%2B0kgQrMp8n0SKJ10eWxZ4t%2FBXHUzg4idu6nOnNxsIQ1Yka2D9aDc0sQTNQPJP%2B2sgqvPUrGLERozL68ToNLRELvBj4VuZaOSOy1mmsdAi2dxaWOeyhlRzVl6TYozMnhHIjJLCM5y%2BlwaweHOn96afg%2FuHhnl60ETUvgR1HpJsQntkptrcuO0bOOhuLg1NBPfyH6Swrpw2W9O24rBu8kwH8DuEdns9Kv1hLc5rsxBaTLcN1HIdhHIVRuFov5wtMXH748vO2%2BP0jUzjFXE7%2FbMa3%2BFZl3z1ZxhWyjv2fwlfy9NaY6LhO0lm4WC3WcRSvlqO4UqiXYT7C%2B7vwcT7SWlFAxg3LtMHNfH2ODnZ4kIPVPRo9jnN1r5eDNup%2BIy2y5GxuDrQqYMNb6dje9or44HOyQYTnWs%2FXXoD7%2Ba8WrGO4hwZuK%2B2Qt%2F32tAPhB%2B4xt238qjVQtpIbuuvIP6wbjfAIhStncO3eZ0f9keMHmYHuo%2BCwFoJ%2BDfktdEF0JPfebbxgct30b%2BdhY%2B51u%2FGm2U2IR7rW%2FbJU%2FdcBfpEchHjwoO52%2FwENmVvErwgAAA%3D%3D'>"
    }
  ]
}
```

Un exemple d’affichage du Tweet planifié nouvellement créé est présenté ci‑dessus

**Associer un Tweet planifié à un élément de campagne**

Bien que les Tweets planifiés puissent servir à créer des Tweets organiques, nous permettons également aux partenaires de créer un Tweet « Promoted-Only » (`nullcast=true`), l’un ou l’autre pouvant être associé à un élément de campagne. Pour ce faire, nous proposons également l’endpoint [POST accounts/:account\_id/scheduled\_promoted\_tweets](https://developer.x.com/content/developer-twitter/en/docs/ads/campaign-management/api-reference/scheduled-promoted-tweets#post-accounts-account-id-scheduled-promoted-tweets). Cet endpoint permet uniquement d’associer un seul Tweet planifié promu à un élément de campagne par appel d’API. Pour associer plusieurs Tweets planifiés au même élément de campagne, plusieurs appels d’API sont nécessaires.

Veuillez noter qu’il n’est pas possible de modifier un Tweet planifié promu existant.

```
twurl -H 'ads-api.x.com' -X POST "/6/accounts/:account_id/scheduled_promoted_tweets" -d 'line_item_id=a44qc&scheduled_tweet_id=917507899668099072'
```

```json
{
  "data": {
    "line_item_id": "a44qc",
    "id": "26576",
    "created_at": "2017-10-09T22:24:16Z",
    "updated_at": "2017-10-09T22:24:16Z",
    "scheduled_tweet_id": "917507899668099072",
    "tweet_id": null,
    "deleted": false
  },
  "request": {
    "params": {
      "line_item_id": "a44qc",
      "scheduled_tweet_id": 917507899668099100,
      "account_id": "aaaaa"
    }
  }
}
```

Cet endpoint crée uniquement une association entre un Tweet planifié donné et un élément de campagne. Une fois que les dates de diffusion de la campagne/de l’élément de campagne sont en cours, l’élément de campagne commencera automatiquement à diffuser le Tweet « live » correspondant. Nous vérifions à cette étape que le Tweet planifié est dans l’état `SCHEDULED` et qu’il est valide pour l’objectif donné, mais aucune autre validation n’est effectuée. Les autres règles de validation applicables à l’élément de campagne et au Tweet planifié sont exécutées lorsque le Tweet passe « live ».

Afin d’éviter tout problème de diffusion, il est recommandé que le Tweet planifié soit `scheduled_at` à un moment antérieur aux dates de diffusion de la campagne/de l’élément de campagne.

Par exemple, si le Tweet planifié doit passer en live après la date de début de la campagne (et qu’un seul Tweet est associé à un seul élément de campagne), la campagne sera `ACTIVE`. Toutefois, étant donné que le Tweet planifié n’est pas encore live, aucune créa ne sera disponible pour la diffusion.

**Gestion des Tweets planifiés**

Les ensembles d’endpoints restants permettent aux consommateurs de l’API de gérer tous leurs Tweets planifiés et Tweets planifiés promus. Ces API peuvent servir soit à renvoyer une liste de tous les Tweets planifiés, éventuellement filtrés par un état donné, soit à rechercher un Tweet planifié donné par son `id`.

<div id="what-happens-when-a-scheduled-tweet-goes-live">
  #### Que se passe-t-il lorsqu’un Tweet programmé est mis en ligne ?
</div>

Lorsqu’un Tweet programmé est sur le point d’être publié, autrement dit à l’heure `scheduled_at`, les mises à jour suivantes sont effectuées :

- Le Tweet « en ligne » est créé ; toutefois, une latence pouvant aller jusqu’à 1 seconde peut survenir
- Le `tweet_id` est ajouté aux entités suivantes :
- Tweet programmé
- Tweet programmé promu
- Une nouvelle entité Tweet promu est créée

<div id="best-practices">
  #### Bonnes pratiques
</div>

Les bonnes pratiques suivantes sont recommandées lors de la création ou de la promotion de Tweets programmés :

- Assurez-vous que le Tweet est valide lors de la création du Tweet programmé (par exemple, un Tweet ne peut contenir qu’une image, une vidéo ou un GIF, et non une combinaison des trois)
- Assurez-vous que les dates de diffusion de la campagne (c.-à-d. `start_time` et `end_time`) sont cohérentes avec l’heure `scheduled_at` du Tweet programmé
- Ne programmez pas de Tweets à plus d’un an (365 jours) dans le futur
- L’aperçu de Tweet n’est actuellement pas pris en charge pour les Tweets programmés (il s’agit de la possibilité d’afficher un aperçu des Tweets programmés avant leur création)

<div id="media-library">
  ### Bibliothèque de médias
</div>

<div id="introduction">
  #### Introduction
</div>

Les endpoints de la Media Library permettent de gérer des images, des GIF et des vidéos pour les comptes publicitaires X. Les ressources média de la bibliothèque peuvent être utilisées dans des Tweets et pour créer des cartes. Elles peuvent également être réutilisées dans plusieurs [créations](https://developer.x.com/content/developer-twitter/en/docs/ads/creatives/overview), ce qui évite de téléverser plusieurs fois le même élément.

<div id="api-endpoints">
  #### Points de terminaison de l’API
</div>

- [POST media/upload](https://developer.x.com/content/developer-twitter/en/docs/media/upload-media/api-reference/post-media-upload#post-media-upload) ou [POST media/upload (chunked)](https://developer.x.com/content/developer-twitter/en/docs/media/upload-media/api-reference/post-media-upload-init#post-media-upload-init) (charger des médias)
- [POST accounts/:account\_id/media\_library](https://developer.x.com/x-ads-api/creatives#get-accounts-account-id-media-library#post-accounts-account-id-media-library) (ajouter des médias à la médiathèque)

<div id="adding-to-the-library">
  #### Ajout à la bibliothèque
</div>

L’ajout de médias à la bibliothèque se fait en deux étapes. Commencez par téléverser la ressource en utilisant soit le point de terminaison [POST media/upload](https://developer.x.com/content/developer-twitter/en/docs/media/upload-media/api-reference/post-media-upload#post-media-upload), soit l’ensemble de points de terminaison [POST media/upload (chunked)](https://developer.x.com/content/developer-twitter/en/docs/media/upload-media/api-reference/post-media-upload-init#post-media-upload-init). (Consultez le guide [Téléversement de médias par segments](https://developer.x.com/content/developer-twitter/en/docs/media/upload-media/uploading-media/chunked-media-upload) pour plus de détails sur notre processus de téléversement en plusieurs parties.)

```
twurl -X POST -H upload.x.com "/1.1/media/upload.json?additional_owners=756201191646691328" --file latte.jpeg --file-field "media"
```

```json
{
   "media_id":966947208837742592,
   "media_id_string":"966947208837742592",
   "size":74194,
   "expires_after_secs":86400,
   "image":{
      "image_type":"image/jpeg",
      "w":800,
      "h":418
   }
}
```

Ensuite, à l’aide de l’ID du média, ajoutez le média à la bibliothèque du compte publicitaire via le point de terminaison [POST accounts/:account\_id/media\_library](https://developer.x.com/x-ads-api/creatives#get-accounts-account-id-media-library#post-accounts-account-id-media-library).

```
twurl -X POST -H ads-api.x.com "/9/accounts/18ce54d4x5t/media_library?file_name=latte.jpeg&media_category=TWEET_IMAGE&media_key=966947208837742592&name=Latte"
```

```json
{
   "request":{
      "params":{
         "name":"Latte",
         "file_name":"latte.jpeg",
         "media_category":"TWEET_IMAGE",
         "account_id":"18ce54d4x5t",
         "media_key":966947208837742592
      }
   },
   "data":{
      "tweeted":false,
      "name":"Latte",
      "file_name":"latte.jpeg",
      "media_url":"https://pbs.twimg.com/media/DWtJXQNUQAAdPZj.jpg",
      "media_category":"TWEET_IMAGE",
      "media_key":"3_966947208837742592",
      "created_at":"2018-02-23T08:05:54Z",
      "media_status":"TRANSCODE_COMPLETED",
      "media_key":"966947208837742592",
      "media_type":"IMAGE",
      "updated_at":"2018-02-23T08:06:17Z",
      "deleted":false
   }
}
```

**Remarque :** Publier des images, des GIF ou des vidéos directement après le téléversement ajoute également ces médias à la bibliothèque.

<div id="request-parameters">
  #### Paramètres de requête
</div>

Toutes les requêtes POST de la Media Library nécessitent un identifiant de média. Cette valeur est renvoyée lors de l’étape de téléversement. Lorsque vous utilisez `media_id`, comme dans l’exemple ci-dessus, vous devez également spécifier une `media_category`. Il existe quatre valeurs possibles pour cette catégorie : AMPLIFY\_VIDEO, TWEET\_GIF, TWEET\_IMAGE et TWEET\_VIDEO.

En option, les champs `name` et `file_name` peuvent être définis pour les objets de la Media Library. Ces attributs aident les utilisateurs à distinguer les variantes d’un même média dans la bibliothèque.

Pour les vidéos, il est également possible de définir un titre et une description. Ces valeurs sont destinées à être transmises en tant que paramètres de requête `video_title` et `video_description` avec l’endpoint [POST accounts/:account\_id/tweet](https://developer.x.com/content/developer-twitter/en/docs/ads/creatives/api-reference/tweets#post-accounts-account-id-tweet). Dans le Tweet, ce texte apparaît sous la vidéo.

<div id="attributes">
  #### Attributs
</div>

La Media Library introduit formellement le concept de media\_key. Il s’agit de l’identifiant unique des objets dans la bibliothèque. Les media\_keys sont des chaînes de caractères au format suivant : 13\_875943225764098048. Elles sont entièrement prises en charge dans l’ensemble de nos endpoints de cartes.

De plus, la réponse de la Media Library inclut le media\_id, représenté sous forme de chaîne. Il est fourni pour les ressources qui n’acceptent pas encore une media\_key : [Tweets](https://developer.x.com/content/developer-twitter/en/docs/ads/creatives/api-reference/tweets#post-accounts-account-id-tweet)\*, [aperçu de Tweet](https://developer.x.com/content/developer-twitter/en/docs/ads/creatives/api-reference/tweets#get-accounts-account-id-tweet-preview)\* et [Tweets planifiés](https://developer.x.com/content/developer-twitter/en/docs/ads/creatives/api-reference/scheduled-tweets#post-accounts-account-id-scheduled-tweets). Nous travaillons à prendre en charge les media\_keys partout.

L’attribut aspect\_ratio est renvoyé pour les GIF et les vidéos. Il peut être utilisé pour filtrer les médias destinés à des cartes qui n’acceptent que certains rapports d’aspect.

\*Ces endpoints prennent en charge le paramètre video\_id, qui est une media\_key.

<div id="usage">
  #### Utilisation
</div>

Dans cette section, l’image suivante sera utilisée dans un Tweet et pour créer une carte de site web.

```
twurl -H ads-api.x.com "/9/accounts/18ce54d4x5t/media_library/3_966947208837742592"
```

```json
{
   "request":{
      "params":{
         "account_id":"18ce54d4x5t",
         "media_key":"3_966947208837742592"
      }
   },
   "data":{
      "tweeted":false,
      "name":"Latte",
      "file_name":"latte.jpeg",
      "media_url":"https://pbs.twimg.com/media/DWtJXQNUQAAdPZj.jpg",
      "media_category":"TWEET_IMAGE",
      "media_key":"3_966947208837742592",
      "created_at":"2018-02-23T08:05:54Z",
      "media_status":"TRANSCODE_COMPLETED",
      "media_key":"966947208837742592",
      "media_type":"IMAGE",
      "updated_at":"2018-02-23T08:06:17Z",
      "deleted":false
   }
}
```

**Tweet**

Nous pouvons créer le Tweet en référant les images à l’aide de media\_keys.

```
twurl -X POST -H ads-api.x.com "/9/accounts/18ce54d4x5t/tweet?text=coffee&media_keys=966947208837742592&as_user_id=756201191646691328&trim_user=true"
```

```json
{
   "data":{
      "created_at":"Fri Feb 23 08:20:05 +0000 2018",
      "id":966950781302665218,
      "id_str":"966950781302665218",
      "text":"coffee https://t.co/T772Hx5GNT",
      "truncated":false,
      "entities":{
         "hashtags":[

         ],
         "symbols":[

         ],
         "user_mentions":[

         ],
         "urls":[

         ],
         "media":[
            {
               "id":966947208837742592,
               "id_str":"966947208837742592",
               "indices":[
                  7,
                  30
               ],
               "media_url":"http://pbs.twimg.com/media/DWtJXQNUQAAdPZj.jpg",
               "media_url_https":"https://pbs.twimg.com/media/DWtJXQNUQAAdPZj.jpg",
               "url":"https://t.co/T772Hx5GNT",
               "display_url":"pic.x.com/T772Hx5GNT",
               "expanded_url":"https://x.com/apimctestface/status/966950781302665218/photo/1",
               "type":"photo",
               "sizes":{
                  "thumb":{
                     "w":150,
                     "h":150,
                     "resize":"crop"
                  },
                  "large":{
                     "w":800,
                     "h":418,
                     "resize":"fit"
                  },
                  "medium":{
                     "w":800,
                     "h":418,
                     "resize":"fit"
                  },
                  "small":{
                     "w":680,
                     "h":355,
                     "resize":"fit"
                  }
               }
            }
         ]
      },
      "source":"Ads API Internal Test App",
      "in_reply_to_status_id":null,
      "in_reply_to_status_id_str":null,
      "in_reply_to_user_id":null,
      "in_reply_to_user_id_str":null,
      "in_reply_to_screen_name":null,
      "user":{
         "id":756201191646691328,
         "id_str":"756201191646691328"
      },
      "geo":null,
      "coordinates":null,
      "place":null,
      "contributors":[
         2417045708
      ],
      "retweet_count":0,
      "favorite_count":0,
      "favorited":false,
      "retweeted":false,
      "possibly_sensitive":false,
      "scopes":{
         "followers":false
      },
      "lang":"en"
   },
   "request":{
      "params":{
         "as_user_id":756201191646691328,
         "text":"coffee",
         "account_id":"18ce54d4x5t",
         "media_keys":[
            966947208837742592
         ],
         "trim_user":true
      }
   }
}
```

**Carte de site web**

Tous nos endpoints de cartes prennent en charge les media keys. Nous allons créer la [carte de site web](https://developer.x.com/content/developer-twitter/en/docs/ads/creatives/api-reference/website#post-accounts-account-id-cards-website) en référant le media\_key de l’image.

```
twurl -X POST -H ads-api.x.com "/11/accounts/18ce54d4x5t/cards"
```

```json
{
  "name": "components create cards",
  "components": [
    {
      "type": "MEDIA",
      "media_key": "3_1323490622599176192"
    },
    {
      "type": "BUTTON",
      "label": {
        "type": "ENUM",
        "value": "INSTALL"
      },
      "destination": {
        "type": "APP",
        "country_code": "US",
        "googleplay_app_id": "com.twitter.android"
      }
    }
  ]
}
```

Nous associons ensuite cette carte à un Tweet à l’aide de son card\_uri.

<div id="identifying-cards">
  ### Identifier les Cards
</div>

<div id="introduction">
  #### Introduction
</div>

Les Cards sont des formats publicitaires personnalisables utilisant des médias et pouvant être associés à un site web, une application ou à des appels à l’action pour encourager certains engagements des utilisateurs, comme démarrer un message privé. Elles peuvent être ajoutées aux Tweets, aux Tweets planifiés ou aux brouillons de Tweet.

Les Cards peuvent être référencées dans les objets Tweet de deux façons : via le card\_uri de la Card ou via son preview\_url. Des valeurs d’exemple pour chacun sont présentées ci-dessous.

| card\_uri | preview\_url |
| :--- | :--- |
| card://1043282691834048513 | https://cards.x.com/cards/18ce54d4x5t/68w3s |

**Remarque** : À partir de la version 3 de l’API publicitaire X, seul le card\_uri est généré et renvoyé dans la réponse cards pour les Cards nouvellement créées.

**Remarque** : À partir de la version 5 de l’API publicitaire X, le preview\_url n’est plus renvoyé dans la réponse cards.

Le type de référence dans la réponse de l’objet Tweet dépend de la manière dont le Tweet a été créé. Autrement dit, si le Tweet a été créé en utilisant le paramètre de requête card\_uri, la valeur de l’URI de la Card apparaîtra dans la réponse. En revanche, si le preview\_url a été inclus dans le texte du Tweet, l’URL d’aperçu apparaîtra dans la réponse.

#### Identification des Tweets avec card\_uri

Pour les Tweets créés à l’aide de la valeur d’URI de la carte, cherchez la référence à la carte dans l’attribut de réponse card\_uri. L’exemple de réponse ci-dessous utilise le point de terminaison [GET accounts/:account\_id/tweets](https://developer.x.com/content/developer-twitter/en/docs/ads/creatives/api-reference/tweets#get-accounts-account-id-tweets).

```
$ twurl -H ads-api.x.com "/9/accounts/18ce54d4x5t/tweets?trim_user=true&tweet_type=PUBLISHED&tweet_ids=1043551275923591168"
{
  "request": {
    "params": {
      "tweet_ids": [
        "1043551275923591168"
      ],
      "tweet_type": "PUBLISHED",
      "trim_user": true,
      "account_id": "18ce54d4x5t"
    }
  },
  "next_cursor": null,
  "data": [
    {
      "coordinates": null,
      "retweeted": false,
      "source": "Ads API Internal Test App",
      "entities": {
        "hashtags": [],
        "symbols": [],
        "user_mentions": [],
        "urls": []
      },
      "display_text_range": [
        0,
        15
      ],
      "favorite_count": 0,
      "in_reply_to_status_id_str": null,
      "geo": null,
      "id_str": "1043551275923591168",
      "scopes": {
        "followers": false
      },
      "in_reply_to_user_id": null,
      "truncated": false,
      "retweet_count": 0,
      "scheduled_status": null,
      "id": 1043551275923591168,
      "in_reply_to_status_id": null,
      "nullcast": true,
      "created_at": "Sat Sep 22 17:23:07 +0000 2018",
      "place": null,
      "scheduled_at": null,
      "tweet_type": "PUBLISHED",
      "favorited": false,
      "card_uri": "card://1043282691834048513",
      "full_text": "Tracking a card",
      "lang": "en",
      "contributors": [
        2417045708
      ],
      "in_reply_to_screen_name": null,
      "in_reply_to_user_id_str": null,
      "user": {
        "id": 756201191646691328,
        "id_str": "756201191646691328"
      },
      "tweet_id": "1043551275923591168"
    }
  ]
}
```

Si vous utilisez l’API Standard, ajoutez include\_card\_uri=true dans la requête.

Quel que soit le point de terminaison utilisé, l’attribut de réponse card\_uri ne sera renvoyé que si le Tweet a été créé à l’aide d’un URI de carte.

Pour les objets de Tweets programmés et en brouillon, la réponse inclura toujours l’attribut de réponse card\_uri.

#### Identifier les Tweets avec preview\_url

Pour les Tweets créés en incluant l’URL d’aperçu dans le texte du Tweet, l’URL se trouve dans entities\["urls"]\[i]\["expanded\_url"] (le champ text contient une URL t.co raccourcie), où i est un indice de tableau (un Tweet peut contenir plusieurs URL).

Pour les objets Tweet planifiés et brouillons, l’URL d’aperçu apparaîtra toujours dans le champ text.

<div id="fetching-cards">
  #### Récupération des cartes
</div>

Pour obtenir des informations supplémentaires sur une carte précise, nous proposons deux points de terminaison : [GET accounts/:account\_id/cards/all](https://developer.x.com/en/docs/ads/creatives/api-reference/cards-fetch.html#get-accounts-account-id-cards-all) et [GET accounts/:account\_id/cards/all/:card\_id](https://developer.x.com/content/developer-twitter/en/docs/ads/creatives/api-reference/cards-fetch#get-accounts-account-id-cards-all-card-id). Le premier permet de récupérer une carte via son card\_uri et le second via son ID. L’ID de la carte se trouve à la fin du preview\_url. Dans l’exemple ci-dessus, l’ID est 68w3s.

<div id="identifying-media">
  ### Identification des médias
</div>

<div id="introduction">
  #### Introduction
</div>

Des médias — images, GIF et vidéos — peuvent être ajoutés aux Tweets et aux cartes. Par ailleurs, les vidéos peuvent être utilisées comme assets de pré-roll et les images peuvent être promues sur la [X Audience Platform](https://developer.x.com/en/docs/ads/measurement/overview/twitter-audience-platform). Cette section explique comment trouver les références aux médias dans ces entités.

Il existe deux types d’identifiants de médias : des ID et des clés. Des exemples de valeurs pour chacun sont présentés ci-dessous.

| **ID de média** | **Clé de média** |
| :--- | :--- |
| 1029825579531807971 | 13\_1029825579531807971 |

La clé de média correspond à l’ID avec un préfixe numérique suivi d’un tiret bas.

<div id="images">
  #### Images
</div>

Le tableau suivant présente les types d’identifiants actuellement disponibles dans la réponse de chaque ressource liée aux images, ainsi que le(s) nom(s) d’attribut correspondant(s).

| **Resource** | **Identifier** | **Attribute(s)** |
| :--- | :--- | :--- |
| Image cards | None |  |
| Tweet | Both | `entities["media"]["id_str"]`  `entities["media"]["media_key"]` |
| Scheduled Tweet | Both | `media_ids` and `media_keys` |
| Draft Tweet | Both | `media_ids` and `media_keys` |
| Account Media | None |  |
| Media Library | Both | `media_id` and `media_key` |

Les images des Image cards et d’Account Media n’incluent aucune référence à un identifiant de média. Les Tweets n’incluent que des IDs de média. Les Tweets programmés et les brouillons de Tweets incluent à la fois l’ID de média et la clé de média. La Media Library renvoie également les deux.

Pour les Tweets, les champs id et id\_str de l’objet au sein du tableau entities\["media"] correspondent à l’ID du média. Lorsque un Tweet inclut plusieurs images, les références à chaque entité média ne se trouvent que dans extended\_entities\["media"].

En plus des références aux identifiants, il est souvent important d’avoir accès à l’URL de l’image.

| **Resource** | **Attribute(s)** | **Format** |
| :--- | :--- | :--- |
| Image cards | `image` | .jpg |
| Tweet\* | `entities["media"][0]["media_url"]` or `extended_entities["media"][i]["media_url"]` | .jpg |
| Scheduled Tweet | None |  |
| Draft Tweet | None |  |
| Account Media | `media_url` | .jpg |
| Media Library | `media_url` | .jpg |

\* L’emplacement de cette URL dépend du fait que le Tweet contienne une seule image ou plusieurs images.

Toutes les Image cards incluent un attribut de réponse image qui contient l’URL de l’image X. (Pour les image app download cards, le nom est wide\_app\_image.)

Pour les Tweets, l’emplacement de l’URL du média dépend à la fois du type de média et de l’endpoint utilisé. Pour les Tweets avec une seule image, l’URL se trouve dans entities\["media"]\[0]\["media\_url"]. Cela est vrai à la fois pour l’API publicitaire X et l’API Standard. Lorsque les Tweets contiennent plusieurs images, toutefois, les URL ne se trouvent que dans extended\_entities\["media"]\[i]\["media\_url"]. Cela n’est disponible que dans l’API Standard.

<div id="videos">
  #### Vidéos
</div>

Le tableau suivant présente les types d’identifiants actuellement disponibles dans la réponse de chaque ressource liée à la vidéo ainsi que le(s) nom(s) d’attribut(s) correspondant(s).

| **Ressource** | **Identifiant** | **Attribut(s)** |
| :--- | :--- | :--- |
| Cartes vidéo | Peut être l’un ou l’autre | `video_content_id` |
| Cartes de sondage vidéo | Aucun |  |
| Tweet | Les deux | `entities["media"]["id_str"]`  `entities["media"]["media_key"]` |
| Tweet programmé | Les deux | `media_ids` et `media_keys` |
| Tweet brouillon | Les deux | `media_ids` et `media_keys` |
| Médias du compte | Clé de média | `video_id` |
| Médiathèque | Les deux | `media_id` et `media_key` |

Bien que les cartes vidéo (à l’exception des cartes de sondage avec vidéo) incluent un attribut de réponse video\_content\_id, il existe une incohérence dans le type de valeur renvoyée. Dans certains cas, c’est un identifiant de média ; dans d’autres, c’est une clé de média.

Les informations sur la manière d’accéder à l’URL de la vidéo sont présentées ci-dessous.

| **Ressource** | **Attribut(s)** | **Format** |
| :--- | :--- | :--- |
| Cartes vidéo | `video_url` et `video_hls_url` | .vmap  .m3u8 |
| Tweet avec vidéo | `extended_entities["media"][i]["video_info"]["variants"][j]["url"]` | .mp4 |
| Tweet programmé | Aucun |  |
| Tweet brouillon | Aucun |  |
| Médias du compte | Aucun |  |
| Médiathèque | `media_url` | .mp4 |

Les cartes vidéo incluent les attributs de réponse video\_url et video\_hls\_url avec des URL .vmap et .m3u8, respectivement.

<div id="media-library">
  #### Bibliothèque de médias
</div>

Il est parfois nécessaire de récupérer des informations supplémentaires sur une ressource média. Un cas d’usage, pour les cartes vidéo, consiste à récupérer l’URL MP4 au lieu de l’URL VMAP. Cela est disponible dans la Bibliothèque de médias. Pour plus de détails sur les informations disponibles, consultez notre [Guide de la Bibliothèque de médias](https://developer.x.com/content/developer-twitter/en/docs/ads/creatives/guides/media-library). La plupart des ressources appartenant à l’utilisateur pleinement promouvable (FULL) du compte publicitaire se trouvent dans la bibliothèque. Il existe toutefois quelques exceptions.

**Récupération des médias**

Comme indiqué ci-dessus, les cartes image ne contiennent pas de références ni à des media IDs ni à des media keys. Par conséquent, il n’est pas possible de récupérer leurs ressources via la Bibliothèque de médias. Cela est également vrai pour les images [Account Media](https://developer.x.com/content/developer-twitter/en/docs/ads/creatives/api-reference/account-media#account-media).

Les cartes vidéo exigent que la ressource vidéo fasse partie de la Bibliothèque de médias (ou de la ressource Videos auparavant) avant leur création. En conséquence, ces ressources seront toujours récupérables dans la Bibliothèque de médias. Cela est également vrai pour les ressources PREROLL d’Account Media.

Enfin, les médias dans les Tweets sont toujours garantis d’être présents dans la Bibliothèque de médias.

Le tableau suivant récapitule quelles ressources sont récupérables dans la Bibliothèque de médias, en tenant compte du fait que la réponse de la ressource inclut un identifiant à utiliser pour la recherche.

| **Ressource** | **Dans la Bibliothèque de médias** |
| :--- | :--- |
| Cartes image | Non |
| Cartes vidéo | Oui\* |
| Tweets (tout média)\*\* | Oui |
| Tweets programmés | Oui |
| Tweets brouillons | Oui |
| Images Account Media | Non |
| Vidéos Account Media (`PREROLL`) | Oui |

\* Pour les cartes où le `video_content_id` est une media key. Lorsque la valeur est un media ID, la ressource existe toujours dans la Bibliothèque de médias, mais la récupérer implique d’y ajouter un préfixe numérique suivi d’un caractère de soulignement.
\*\* Les Tweets ne renvoient que des media IDs. Bien que la ressource soit garantie d’exister dans la Bibliothèque de médias, la récupérer implique d’y ajouter un préfixe numérique suivi d’un caractère de soulignement.

**Interactions avec Account Media**

Il existe deux cas où les ressources média ajoutées à la bibliothèque sont automatiquement ajoutées à la ressource Account Media.

- Lorsqu’une ressource AMPLIFY\_VIDEO est ajoutée à la Bibliothèque de médias, elle est automatiquement ajoutée en tant que ressource Account Media avec le type de création PREROLL.
- Lorsque des images ayant des dimensions spécifiques (voir « Creative Types » sur notre [page des énumérations](https://developer.x.com/content/developer-twitter/en/docs/ads/general/overview/enums)) sont ajoutées à la Bibliothèque de médias, elles sont automatiquement ajoutées en tant que ressources Account Media. Le type de création (par exemple, INTERSTITIAL) dépend des dimensions de l’image.

<div id="tweets">
  ### Tweets
</div>

<div id="introduction">
  #### Introduction
</div>

L’API publicitaire X prend en charge trois types de Tweets : publiés, programmés et brouillons.

<div id="nullcasted-tweets">
  #### Tweets « nullcastés »
</div>

Les Tweets peuvent être « nullcastés » (également appelés « Promoted-only ») ou organiques. Une fois publiés, les Tweets nullcastés n’apparaissent pas dans la timeline publique de l’utilisateur, même s’ils sont publics. Les Tweets organiques, en revanche, sont diffusés aux abonnés de l’utilisateur et apparaissent dans sa timeline publique.

**Création de Tweets**

Chacun des trois endpoints de création de Tweet accepte un paramètre booléen nullcast qui offre à l’utilisateur de l’API la possibilité de créer des Tweets nullcastés ou organiques. Les Tweets nullcastés peuvent être créés par l’utilisateur ou par toute personne disposant de l’autorisation de créer des Tweets en son nom. Les Tweets organiques ne peuvent être créés que par le [full promotable user](https://developer.x.com/content/developer-twitter/en/docs/tutorials/ads-api-hierarchy-terminology#promotable-users).

**Mise à jour des Tweets**

Il est possible de mettre à jour la propriété nullcast pour les Tweets programmés et les brouillons. Pour les Tweets programmés, les modifications peuvent être effectuées jusqu’à l’horodatage scheduled\_at du Tweet. Les brouillons de Tweets peuvent être modifiés indéfiniment. Une fois publié, toutefois, il n’est pas possible de convertir un Tweet de nullcasté à organique, ou inversement.

<div id="promoting-tweets">
  #### Promotion de Tweets
</div>

Seuls les Tweets publiés et programmés peuvent être promus. Ils peuvent être « nullcastés » ou organiques ; il n’y a aucune restriction. Un annonceur peut promouvoir ses propres Tweets ou ceux d’un autre utilisateur, à condition d’avoir obtenu l’autorisation de le faire. (Voir : [Promouvoir les Tweets d’un autre utilisateur](https://developer.x.com/content/developer-twitter/en/docs/tutorials/promoting-another-users-content) pour plus d’informations.)

Plusieurs Tweets peuvent être promus dans une même campagne. De même, un même Tweet peut être promu dans une ou plusieurs campagnes.

Pour promouvoir des Tweets publiés, utilisez le [point de terminaison POST accounts/:account\_id/promoted\_tweets](https://developer.x.com/content/developer-twitter/en/docs/ads/campaign-management/api-reference/promoted-tweets#post-accounts-account-id-promoted-tweets). Cela associe des Tweets publiés à un élément de ligne. Pour promouvoir des Tweets programmés, utilisez le [point de terminaison POST accounts/:account\_id/scheduled\_promoted\_tweets](https://developer.x.com/content/developer-twitter/en/docs/ads/campaign-management/api-reference/scheduled-promoted-tweets#post-accounts-account-id-scheduled-promoted-tweets).

<div id="tweet-ids">
  #### ID de Tweets
</div>

Les ID de Tweets publiés, programmés et brouillons sont [numériques](https://developer.x.com/content/developer-twitter/en/docs/basics/twitter-ids) — ce sont des entiers non signés sur 64 bits. Par exemple, l’ID du Tweet publié suivant est 1166476031668015104.

Lorsque des Tweets publiés ou programmés sont promus, une entité de Tweet promu correspondante est créée. Ces entités ont leurs propres ID, qui sont alphanumériques et représentés sous forme de valeurs encodées en base 36. Par exemple, promouvoir le Tweet publié ci-dessus — c’est-à-dire l’associer à un élément de ligne 6c62d — renvoie la réponse d’API suivante.

```
$ twurl -X POST -H ads-api.x.com "/9/accounts/18ce54d4x5t/promoted_tweets?line_item_id=6c62d&tweet_ids=1166476031668015104"
{
  "request": {
    "params": {
      "tweet_ids": [
        1166476031668015104
      ],
      "line_item_id": "6c62d",
      "account_id": "18ce54d4x5t"
    }
  },
  "data": [
    {
      "line_item_id": "6c62d",
      "id": "3qwlq6",
      "entity_status": "ACTIVE",
      "created_at": "2019-09-12T21:39:10Z",
      "updated_at": "2019-09-12T21:39:10Z",
      "approval_status": "ACCEPTED",
      "tweet_id": "1166476031668015104",
      "deleted": false
    }
  ],
  "total_count": 1
}
```

En plus de l’ID du Tweet et de l’ID de l’élément de ligne, qui ont été passés dans la requête de création, la réponse inclut un champ id avec une valeur de 3qw1q6, qui correspond à l’ID du Tweet promu.

<div id="carousels">
  ### Carrousels
</div>

<div id="introduction">
  #### Introduction
</div>

L’API publicitaire X prend en charge la création et la récupération de carrousels vidéo et d’images. Le carrousel est un type de carte qui peut contenir entre 2 et 6 éléments média. La carte carrousel peut diriger l’utilisateur vers un site web ou l’inciter à installer une application mobile. Pour en savoir plus sur les carrousels, leurs avantages, les bonnes pratiques et la FAQ, consultez notre page [Carousel Ads on X](https://business.x.com/en/advertising/carousels.html).

Un carrousel, comme tout autre type de carte, peut être utilisé dans des Tweets, qui peuvent ensuite être promus. Le flux de travail est identique à celui auquel vous êtes déjà habitué :

1. Téléverser les médias
2. Créer la carte
3. Créer le Tweet
4. Promouvoir le Tweet

La seule différence tient à la façon de créer la carte. Alors que les autres requêtes de création de carte acceptent des paramètres de requête, les requêtes de création de carrousel n’acceptent que des corps JSON envoyés en POST.

<div id="endpoints">
  #### Points de terminaison
</div>

L’API publicitaire X prend en charge la création et la récupération de carrousels.

Pour créer un carrousel — quel qu’il soit — utilisez l’endpoint [POST accounts/:account\_id/cards](https://developer.x.com/en/docs/twitter-ads-api/creatives/api-reference/cards#post-accounts-account-id-cards). Pour récupérer des carrousels, utilisez l’endpoint [GET accounts/:account\_id/cards](https://developer.x.com/en/docs/twitter-ads-api/creatives/api-reference/cards#get-accounts-account-id-cards).

<div id="json-post-body">
  #### Corps de la requête POST JSON
</div>

Les carrousels sont créés à l’aide de deux composants. Le premier spécifie les ressources média qui seront utilisées. Le second précise des informations concernant soit le site Web, soit l’application.

Plus précisément, une carte carrousel est créée à l’aide des composants suivants, dans l’ordre :

- Un composant `SWIPEABLE_MEDIA`, qui accepte un tableau de clés média
- _L’un_ des éléments suivants :
- Un composant `DETAILS` pour spécifier les informations du site Web
- Un composant `BUTTON` pour spécifier les informations de l’application

Le composant `SWIPEABLE_MEDIA` doit inclure un tableau `media_keys` où vous pouvez spécifier entre 2 et 6 images ou vidéos. L’ordre dans lequel les clés média sont transmises détermine l’ordre dans lequel elles seront rendues.

```
{
  "type": "SWIPEABLE_MEDIA",
  "media_keys": [
    "13_1089771253848666112",
    "13_1191948012077092867"
  ]
}
```

Pour rappel, vous pouvez obtenir des clés média en effectuant une requête vers le point de terminaison [GET accounts/:account\_id/media\_library](https://developer.x.com/en/docs/twitter-ads-api/creatives/api-reference/media-library#get-accounts-account-id-media-library).

La composition de l’objet du second composant dépend de si vous souhaitez diriger un utilisateur vers un site Web ou l’encourager à installer une application. Le tableau ci-dessous résume les deux options. (Remarque : toutes les clés indiquées sont obligatoires.)

|  | **Site Web** | **Application** |
| :--- | :--- | :--- |
| Spécifier le type de composant | `"type": "DETAILS"` | `"type": "BUTTON"` |
| Titre/Libellé | `"title": "X"` | `"label": { "type": "ENUM", "value": "INSTALL" }` |
| Destination | `"destination": { "type": "WEBSITE", "url": "https://www.x.com" }` | `"destination": { "type": "APP", ... }` |

En combinant ces éléments, un exemple de corps de requête POST JSON pour un carrousel de site Web est présenté ci-dessous.

```
{
  "name": "website carousel",
  "components": [
    {
      "type": "SWIPEABLE_MEDIA",
      "media_keys": [
        "13_1089771253848666112",
        "13_1191948012077092867"
      ]
    },
    {
      "type": "DETAILS",
      "title": "X",
      "destination": {
        "type": "WEBSITE",
        "url": "https://www.x.com"
      }
    }
  ]
}
```

Les objets de destination d’application au sein des composants `BUTTON` exigent un code pays et au moins un identifiant d’application. Ils acceptent en option des liens profonds (deep links). Pour une description de ces champs, consultez la [documentation de référence](https://developer.x.com/en/docs/twitter-ads-api/creatives/api-reference/cards#app-destination).

En combinant ces éléments, un exemple de corps de requête POST JSON pour un carrousel d’application est présenté ci-dessous.

```
{
  "name": "app carousel",
  "components": [
    {
      "type": "SWIPEABLE_MEDIA",
      "media_keys": [
        "13_1089771253848666112",
        "13_1191948012077092867"
      ]
    },
    {
      "type": "BUTTON",
      "label": {
        "type": "ENUM",
        "value": "INSTALL"
      },
      "destination": {
        "type": "APP",
        "country_code": "US",
        "googleplay_app_id": "com.twitter.android",
        "iphone_app_id": "333903271"
      }
    }
  ]
}
```

<div id="example">
  #### Exemple
</div>

Cette section explique comment créer une carte carrousel vidéo pour site web et l’utiliser dans un Tweet. Comme indiqué ci-dessus, le flux de travail reste celui que vous connaissez déjà : importer les médias, créer la carte, créer le Tweet. La seule différence concerne la façon de créer la carte.

**Médias**

Pour commencer, importez de nouvelles ressources média ou utilisez des ressources existantes. Pour en savoir plus sur l’import de nouvelles ressources et leur ajout à la Media Library, consultez notre [Guide de la Media Library](https://developer.x.com/en/docs/twitter-ads-api/creatives/guides/media-library).

Une fois vos ressources disponibles dans la Media Library, récupérez-les à l’aide de l’endpoint [GET accounts/:account\_id/media\_library](https://developer.x.com/en/docs/twitter-ads-api/creatives/api-reference/media-library#get-accounts-account-id-media-library). Utilisez le paramètre de requête `media_type` pour restreindre les résultats à un type de média particulier.

```
$ twurl -H ads-api.x.com "/10/accounts/18ce54d4x5t/media_library?media_type=VIDEO"
```

```
{
  "request": {
    "params": {
      "account_id": "18ce54d4x5t",
      "media_type": "VIDEO"
    }
  },
  "next_cursor": null,
  "data": [
    {
      "tweeted": true,
      "duration": 5283,
      "name": "Sunrise",
      "file_name": "sunrise.mp4",
      "description": null,
      "media_url": "https://video.twimg.com/amplify_video/1089771253848666112/vid/1280x720/tyL-pUBP7GgkS9bl.mp4?tag=9",
      "poster_media_key": "3_1089771253848666112",
      "media_key": "13_1089771253848666112",
      "created_at": "2019-01-28T06:24:48Z",
      "media_status": "TRANSCODE_COMPLETED",
      "poster_media_url": "https://pbs.twimg.com/amplify_video_thumb/1089771253848666112/img/WOYvToSRZFXUSDzd.jpg",
      "title": null,
      "media_type": "VIDEO",
      "aspect_ratio": "16:9",
      "updated_at": "2019-08-23T19:05:33Z",
      "deleted": false
    },
    {
      "tweeted": true,
      "duration": 15248,
      "name": "snow",
      "file_name": "snow.mp4",
      "description": "Two, three, and to the four",
      "media_url": "https://video.twimg.com/amplify_video/1191948012077092867/vid/1280x720/2cOvadcctqqea6Hx.mp4?tag=13",
      "poster_media_key": "3_1191948012077092867",
      "media_key": "13_1191948012077092867",
      "created_at": "2019-11-06T05:18:46Z",
      "media_status": "TRANSCODE_COMPLETED",
      "poster_media_url": "https://pbs.twimg.com/amplify_video_thumb/1191948012077092867/img/IUbhTRd62SEeIVTf.jpg",
      "title": "One",
      "media_type": "VIDEO",
      "aspect_ratio": "16:9",
      "updated_at": "2020-03-27T22:23:18Z",
      "deleted": false
    }
  ]
}
```

**Création du carrousel**

Utilisez l’endpoint [POST accounts/:account\_id/cards](https://developer.x.com/en/docs/twitter-ads-api/creatives/api-reference/cards#post-accounts-account-id-cards) pour créer votre carrousel. Réutilisez les clés média de la requête précédente. N’oubliez pas que l’ordre dans lequel vous transmettez les clés média détermine l’ordre d’affichage.

```
$ twurl -A "Content-Type: application/json" -X POST -H ads-api.x.com "/10/accounts/18ce54d4x5t/cards" -d '{"name":"website carousel","components":[{"type": "SWIPEABLE_MEDIA","media_keys":["13_1089771253848666112","13_1191948012077092867"]},{"type": "DETAILS","title": "X","destination":{"type":"WEBSITE", "url":"https://www.x.com"}}]}'
```

```
{
  "request": {
    "params": {
      "account_id": "18ce54d4x5t"
    }
  },
  "data": {
    "name": "website carousel",
    "components": [
      {
        "type": "SWIPEABLE_MEDIA",
        "media_keys": [
          "13_1089771253848666112",
          "13_1191948012077092867"
        ]
      },
      {
        "type": "DETAILS",
        "title": "X",
        "destination": {
          "type": "WEBSITE",
          "url": "https://www.x.com/",
          "tco_url": "https://t.co/dyTMHWKWZb"
        }
      }
    ],
    "id": "ars7m",
    "created_at": "2020-11-11T07:51:47Z",
    "card_uri": "card://1326432421105995776",
    "updated_at": "2020-11-11T07:51:47Z",
    "deleted": false,
    "card_type": "UNIFIED"
  }
}
```

Notez que, comme pour les autres cartes, la réponse de la carte carrousel inclut un `card_uri`, qui sera utilisé lors de la création d’un Tweet.

**Tweet**

Utilisez l’endpoint [POST accounts/:account\_id/tweet](https://developer.x.com/en/docs/twitter-ads-api/creatives/api-reference/tweets#post-accounts-account-id-tweet) pour créer votre Tweet. Réutilisez le `card_uri` de la requête précédente. (Réponse tronquée pour faciliter la lecture.)

```
$ twurl -H ads-api.x.com "/9/accounts/18ce54d4x5t/tweet_previews?tweet_type=PUBLISHED&tweet_ids=1326434098324385792"
```

```
{
  "data": {
    "created_at": "Wed Nov 11 07:58:27 +0000 2020",
    "id": 1326434098324385792,
    "id_str": "1326434098324385792",
    "text": "Swipe",
    "truncated": false,
    "entities": {
      "hashtags": [],
      "symbols": [],
      "user_mentions": [],
      "urls": []
    },
    "source": "Ads API Internal Test App",
    "in_reply_to_status_id": null,
    "in_reply_to_status_id_str": null,
    "in_reply_to_user_id": null,
    "in_reply_to_user_id_str": null,
    "in_reply_to_screen_name": null,
    "user": {
      "id": 756201191646691300,
      "id_str": "756201191646691328",
      ...
    },
    "geo": null,
    "coordinates": null,
    "place": null,
    "contributors": [
      2417045708
    ],
    "retweet_count": 0,
    "favorite_count": 0,
    "favorited": false,
    "retweeted": false,
    "possibly_sensitive": false,
    "scopes": {
      "followers": false
    },
    "lang": "en"
  },
  "request": {
    "params": {
      "text": "Swipe",
      "as_user_id": 756201191646691300,
      "card_uri": "card://1326432421105995776",
      "account_id": "18ce54d4x5t"
    }
  }
}
```

**Aperçu du Tweet**

Utilisez l’endpoint [GET accounts/:account\_id/tweet\_previews](https://developer.x.com/en/docs/twitter-ads-api/creatives/api-reference/tweet-previews#get-accounts-account-id-tweet-previews) pour prévisualiser votre Tweet.

<div id="creative-metadata-tagging">
  ### balisage-des-métadonnées-créatif
</div>

<div id="introduction">
  #### Introduction
</div>

Ce guide s’adresse aux partenaires créatifs, aux agences et aux développeurs créatifs afin d’identifier les éléments utilisés dans les campagnes X et de mieux comprendre la valeur et les performances de chaque élément.

**Remarque :** Les éléments médias ne doivent être balisés que par le partenaire ou le développeur qui les a créés. Si l’utilisateur de l’élément média n’en est pas le créateur, n’implémentez pas de balisage de métadonnées.

Le balisage des métadonnées créatives permet d’attribuer les images et les vidéos créées par des partenaires créatifs, quel que soit l’endroit où l’élément est téléversé sur X ou l’entité qui le téléverse. Pour établir le lien entre l’élément créatif et le partenaire créatif, la norme [XMP](https://exiftool.org/TagNames/XMP.html) est utilisée.

<div id="tagging-creative-assets">
  #### Balisage des ressources créatives
</div>

Le tableau suivant présente les types d’identifiants actuellement disponibles dans la réponse de chaque ressource liée aux images ainsi que le(s) nom(s) d’attribut correspondant(s). Un outil de balisage est nécessaire pour baliser les ressources créatives. [ExifTool](https://exiftool.org/), une bibliothèque Perl multiplateforme accompagnée d’une [application en ligne de commande](https://exiftool.org/exiftool_pod.html) pour lire, écrire et modifier les métadonnées, est recommandé. Consultez la liste de tous les [types de fichiers](https://exiftool.org/#supported) pris en charge.

Suivez les [instructions d’installation d’ExifTool](https://exiftool.org/install.html). Des paquets sont également proposés par [Homebrew](https://formulae.brew.sh/) pour simplifier davantage l’installation via la [commande d’installation exiftool](https://formulae.brew.sh/formula/exiftool) pour macOS et Linux. Vérifiez que l’outil est correctement installé en saisissant exiftool -ver dans le terminal afin d’afficher le numéro de version. Pour en savoir plus sur les paramètres de commande, consultez la [documentation ExifTool](https://exiftool.org/).

Les partenaires créatifs peuvent attribuer des balises de métadonnées sur des ressources créatives nouvelles ou existantes en associant leur X app\_id à la balise XMP « contributor » et la date à la balise « date ». Les ressources créatives respecteront les restrictions de taille existantes lors du [téléversement de médias](https://developer.x.com/en/docs/twitter-api/v1/media/upload-media/overview).

**Remarque :** L’utilisation par X de la balise XMP « contributor » garantit que les métadonnées capturent des valeurs exclusivement pour les campagnes sur X.

`exiftool -contributor="<YOUR APP ID>" -creative_file.jpg`

`exiftool -date="<date>" -creative_file.jpg`

L’app\_id peut être trouvé dans le [Portail développeur](https://developer.x.com/en/portal/dashboard) sous Projets et applications. Exemple : 16489123

L’exemple suivant ajoute app\_id comme balise « contributor » et date comme balise « date » pour une image :

```
app_id:858382169
```

```
date:2022-03-13
```

```
creative_file: eiffel_tower.jpg
```

```
exiftool -contributor=858382169 eiffel_tower.jpg
```

```
   1 image files updated
```

```
exiftool -date=2022-03-13 eiffel_tower.jpg
```

```
  1 image files updated
```

Vérifiez que votre image a été correctement balisée :

`exiftool -xmp:all -G1 <filename>`

Exemple :

`exiftool -xmp:all -G1 eiffel_tower.jpg`

```
[XMP]        XMP Toolkit            : Image::ExifTool 12.30
```

```
[XMP]        Contributor            : 858382169
```

```
[XMP]        Date                   : 2022:03:13
```

<div id="questions">
  #### Des questions ?
</div>

Si vous souhaitez confirmer que votre marquage et votre attribution sont corrects, veuillez envoyer des éléments d’exemple tagués à adsapi-program@x.com afin qu’un représentant de X puisse les examiner.

<div id="api-reference">
  ## Référence de l’API
</div>

<div id="account-media">
  ### Médias du compte
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Exécuter dans Postman
</Button>

#### GET accounts/:account\_id/account\_media

Récupère les détails d’une partie ou de l’ensemble des médias du compte associés au compte actuel.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/account_media`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _requis_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte indiqué doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| account\_media\_ids   _optionnel_ | Limitez la réponse aux médias de compte souhaités en spécifiant une liste d’identifiants séparés par des virgules. Jusqu’à 200 ID peuvent être fournis.  Type : string  Exemple : `3wpx` |
| count   _optionnel_ | Indique le nombre d’enregistrements à tenter de récupérer par requête.  Type : int  Valeur par défaut : `200`   Min, Max : `1`, `1000` |
| creative\_types   _optionnel_ | Limitez la réponse aux médias de compte correspondant aux types créatifs spécifiés. Plusieurs types peuvent être indiqués en séparant les valeurs d’énumération par des virgules.  Type : enum  Valeurs possibles : `BANNER`, `BANNER_TABLET`, `INTERSTITIAL`, `INTERSTITIAL_LANDSCAPE`, `INTERSTITIAL_LANDSCAPE_TABLET`, `INTERSTITIAL_TABLET`, `MEDIUM_RECTANGLE`, `PREROLL`, `VAST_PREROLL` |
| cursor   _optionnel_ | Spécifie un curseur pour obtenir la page de résultats suivante. Voir [Pagination](https://developer.x.com/x-ads-api/introduction) pour plus d’informations.  Type : string  Exemple : `8x7v00oow` |
| sort\_by   _optionnel_ | Trie par attribut pris en charge, par ordre croissant ou décroissant. Voir [Tri](https://developer.x.com/x-ads-api/fundamentals/sorting) pour plus d’informations.  Type : string  Exemple : `created_at-asc` |
| with\_deleted   _optionnel_ | Inclure les résultats supprimés dans la réponse.  Type : boolean  Valeur par défaut : `false`   Valeurs possibles : `true`, `false` |
| with\_total\_count   _optionnel_ | Inclure l’attribut de réponse `total_count`.  **Remarque** : ce paramètre et `cursor` sont mutuellement exclusifs.  **Remarque** : les requêtes incluant `total_count` sont soumises à des limites de débit plus faibles, actuellement fixées à 200 par tranche de 15 minutes.  Type : boolean  Valeur par défaut : `false`   Valeurs possibles : `true`, `false` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/account_media?account_media_ids=3wpx`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "account_media_ids": [
        "3wpx"
      ],
      "account_id": "18ce54d4x5t"
    }
  },
  "next_cursor": null,
  "data": [
    {
      "video_id": "13_771791717175468032",
      "media_url": null,
      "creative_type": "PREROLL",
      "id": "3wpx",
      "created_at": "2016-09-02T19:27:52Z",
      "updated_at": "2016-09-02T19:27:52Z",
      "deleted": false
    }
  ]
}
```

Récupérez un objet média de compte spécifique associé au compte actuel.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/account_media/:account_media_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | Identifiant du compte utilisé. Apparaît dans le chemin de la ressource et est généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| account\_media\_id   _obligatoire_ | Référence au média de compte utilisé dans la requête.  Type : string  Exemple : `2pnfd` |
| with\_deleted   _optionnel_ | Inclure les résultats supprimés dans la réponse.  Type : boolean  Valeur par défaut : `false`   Valeurs possibles : `true`, `false` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/account_media/2pnfd`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "account_media_id": "2pnfd",
      "account_id": "18ce54d4x5t"
    }
  },
  "data": {
    "video_id": null,
    "media_url": "https://pbs.twimg.com/ad_img/890749735862026242/Up07zMym?format=jpg&name=orig",
    "creative_type": "INTERSTITIAL_LANDSCAPE_TABLET",
    "id": "2pnfd",
    "created_at": "2017-07-28T01:44:41Z",
    "updated_at": "2017-07-28T01:44:41Z",
    "deleted": false
  }
}
```

Supprimez l’objet média de compte indiqué appartenant au compte en cours.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/account_media/:account_media_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| account\_media\_id   _obligatoire_ | Référence au média de compte utilisé dans la requête.  Type : string  Exemple : `2pnfd` |

<div id="example-request">
  #### Exemple de requête
</div>

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/account_media/2pnfd`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "data": {
    "video_id": null,
    "media_url": "https://pbs.twimg.com/ad_img/890749735862026242/Up07zMym?format=jpg&name=orig",
    "creative_type": "INTERSTITIAL_LANDSCAPE_TABLET",
    "id": "2pnfd",
    "created_at": "2017-07-28T01:44:41Z",
    "updated_at": "2017-08-25T17:16:26Z",
    "deleted": true
  },
  "request": {
    "params": {
      "account_id": "18ce54d4x5t",
      "account_media_id": "2pnfd"
    }
  }
}
```

<div id="cards">
  ### Cartes
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Exécuter dans Postman
</Button>

**Remarque** : Pour associer une carte à un Tweet, utilisez le paramètre `card_uri` avec l’un des endpoints [POST accounts/:account\_id/tweet](https://developer.x.com/en/docs/ads/creatives/api-reference/tweets#post-accounts-account-id-tweet), [POST statuses/update](https://developer.x.com/en/docs/tweets/post-and-engage/api-reference/post-statuses-update#post-statuses-update), [POST accounts/:account\_id/scheduled\_tweets](https://developer.x.com/en/docs/ads/creatives/api-reference/scheduled-tweets#post-accounts-account-id-scheduled-tweets) ou [POST accounts/:account\_id/draft\_tweets](https://developer.x.com/en/docs/ads/creatives/api-reference/draft-tweets#post-accounts-account-id-draft-tweets).

Récupérez les détails de certaines ou de toutes les cartes associées au compte actuel.

**Remarque** : Seules les cartes créées via l’endpoint POST accounts/:account\_id/cards sont renvoyées. Les cartes créées via d’autres endpoints ne le sont pas.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _requis_ | L’identifiant du compte exploité. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| card\_types   _optionnel_ | Limitez la réponse aux types de cartes souhaités en fournissant une liste, séparée par des virgules, de valeurs d’énumération.  Type : enum  Valeurs possibles : `IMAGE_APP`, `IMAGE_CAROUSEL_APP`, `IMAGE_CAROUSEL_WEBSITE`, `IMAGE_MULTI_DEST_CAROUSEL_WEBSITE`, `IMAGE_WEBSITE`, `MIXED_MEDIA_MULTI_DEST_CAROUSEL_WEBSITE`, `MIXED_MEDIA_SINGLE_DEST_CAROUSEL_APP`, `MIXED_MEDIA_SINGLE_DEST_CAROUSEL_WEBSITE`, `VIDEO_APP`, `VIDEO_CAROUSEL_APP`, `VIDEO_CAROUSEL_WEBSITE`, `VIDEO_MULTI_DEST_CAROUSEL_WEBSITE`, `VIDEO_WEBSITE` |
| card\_id   _optionnel_ | Limitez la réponse aux cartes souhaitées en fournissant une liste d’identifiants séparés par des virgules. Jusqu’à 200 ID de carte peuvent être fournis.  Type : string  Exemple : `1044294149527166979,1044301099031658496` |
| card\_uris   _optionnel_ | Limitez la réponse aux cartes souhaitées en fournissant une liste d’identifiants séparés par des virgules. Jusqu’à 200 valeurs d’URI de carte peuvent être fournies.  Type : string  Exemple : `card://1044294149527166979,card://1044301099031658496` |
| count   _optionnel_ | Indique le nombre d’enregistrements à tenter de récupérer par requête.  Type : int  Par défaut : `100`   Min, Max : `1`, `200` |
| cursor   _optionnel_ | Indique un curseur pour obtenir la page suivante de résultats. Voir [Pagination](https://developer.x.com/x-ads-api/introduction) pour plus d’informations.  Type : string  Exemple : `8x7v00oow` |
| include\_legacy\_cards   _optionnel_ | Inclure dans la réponse les cartes site web et app au format hérité. Les cartes héritées sont celles dont l’URL de ressource suit le format : accounts/:account\_id/cards/:card\_type. Voir [ce message du forum des développeurs](https://devcommunity.x.com/t/new-cards-endpoints-and-carousel-ads/145782/6) pour plus de contexte.  Type : boolean  Par défaut : `false`   Valeurs possibles : `true`, `false` |
| q   _optionnel_ | Requête facultative pour filtrer les cartes par `name`. Omettez ce paramètre pour tout récupérer. Longueur maximale : 80 caractères.  Remarque : effectue une correspondance de préfixe insensible à la casse.  Type : string  Exemple : `dtc` |
| sort\_by   _optionnel_ | Trie selon un attribut pris en charge, par ordre croissant ou décroissant. Voir [Sorting](https://developer.x.com/x-ads-api/fundamentals/sorting) pour plus d’informations.  Type : string  Exemple : `created_at-asc` |
| with\_deleted   _optionnel_ | Inclure les résultats supprimés dans la réponse.  Type : boolean  Par défaut : `false`   Valeurs possibles : `true`, `false` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/cards?count=1`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "count": 1,
      "account_id": "18ce54d4x5t"
    }
  },
  "next_cursor": "8wzvldqtc",
  "data": [
    {
      "name": "deep link",
      "components": [
        {
          "type": "SWIPEABLE_MEDIA",
          "media_keys": [
            "3_1073727809120419840",
            "3_1075096386931052545"
          ]
        },
        {
          "type": "BUTTON",
          "label": {
            "type": "ENUM",
            "value": "OPEN"
          },
          "destination": {
            "type": "APP",
            "country_code": "US",
            "googleplay_app_id": "com.twitter.android",
            "googleplay_deep_link": "twitter://user?screen_name=apimctestface"
          }
        }
      ],
      "created_at": "2020-10-28T20:47:52Z",
      "card_uri": "card://1321554298900107264",
      "id": "1321554298900107264",
      "updated_at": "2020-10-28T20:47:52Z",
      "deleted": false,
      "card_type": "IMAGE_CAROUSEL_APP"
    }
  ]
}
```

Récupérer les détails d’une seule carte associée au compte en cours.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/:card_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | Identifiant du compte exploité. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : chaîne  Exemple : `18ce54d4x5t` |
| card\_id   _obligatoire_ | Identifiant des cartes.  Type : chaîne  Exemple : `1044294149527166979` |
| with\_deleted   _optionnel_ | Inclure les résultats supprimés dans la requête.  Type : booléen  Valeur par défaut : `false`   Valeurs possibles : `true`, `false` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/1321554298900107264`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "account_id": "18ce54d4x5t",
      "card_id": "1321554298900107264"
    }
  },
  "data": [
    {
      "name": "deep link",
      "components": [
        {
          "type": "SWIPEABLE_MEDIA",
          "media_keys": [
            "3_1073727809120419840",
            "3_1075096386931052545"
          ]
        },
        {
          "type": "BUTTON",
          "label": {
            "type": "ENUM",
            "value": "OPEN"
          },
          "destination": {
            "type": "APP",
            "country_code": "US",
            "googleplay_app_id": "com.twitter.android",
            "googleplay_deep_link": "twitter://user?screen_name=apimctestface"
          }
        }
      ],
      "created_at": "2020-10-28T20:47:52Z",
      "card_uri": "card://1321554298900107264",
      "id": "1321554298900107264",
      "updated_at": "2020-10-28T20:47:52Z",
      "deleted": false,
      "card_type": "IMAGE_CAROUSEL_APP"
    }
  ]
}
```

#### POST accounts/:account\_id/cards

Créer une nouvelle carte associée au compte spécifié.

Les requêtes de création de carte n’acceptent qu’un corps POST en JSON. L’en-tête `Content-Type` doit être défini sur `application/json`.

Consultez notre [guide des carrousels](https://developer.x.com/en/docs/twitter-ads-api/creatives/guides/carousels) pour un exemple d’utilisation détaillé.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards`
\---MDX\_CONTENTEND---

<div id="parameters">
  #### Paramètres
</div>

Le corps de la requête POST JSON doit inclure un `name` pour la carte et un tableau de `components`. Les composants sont représentés sous forme d’objets et décrivent les attributs de la carte visibles par l’annonceur.

L’exemple suivant illustre la structure générale de la charge utile (mais contient des valeurs factices).

```
{
  "name": "some name",
  "components": [
    {
      "type": "TYPE_ENUM",
      "key": "value"
    }
  ]
}
```

Informations supplémentaires sur les composants ci-dessous.

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | Identifiant du compte exploité. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : chaîne  Exemple : `18ce54d4x5t` |
| name   _obligatoire_ | Nom de la carte. Longueur maximale : 80 caractères.  Type : chaîne  Exemple : `component based card` |
| components   _parfois obligatoire_ | Décrit les composants à utiliser pour créer la carte. Informations supplémentaires ci-dessous.  Ne peut pas être utilisé avec `slides`.  Remarque : l’ordre des composants est important.  Type : tableau d’objets |
| slides   _parfois obligatoire_ | Utilisez ce tableau de tableaux pour créer des carrousels multi‑destinations.  Décrit chaque carte comme un regroupement de composants. Chaque diapositive doit être une représentation complète d’une carte.  Ne peut pas être utilisé avec `components`.  Remarque : l’ordre de chaque diapositive est important.  Type : tableau de tableaux |

<div id="components">
  #### Composants
</div>

Chaque composant doit inclure un champ `type` qui détermine le schéma de l’objet. L’API publicitaire X prend en charge les types de composants suivants, regroupés en composants basés sur les médias et sur la description.

- Médias :
- `MEDIA` : vidéo ou image unique
- `SWIPEABLE_MEDIA` : de 2 à 6 vidéos ou images
- Description :
- `DETAILS`
- `BUTTON`

Chaque composant comporte un ensemble de champs requis (en plus de la clé `type`). Ils sont listés dans le tableau suivant.

| Type de composant `type` | Champ | Type de valeur |
| :--- | :--- | :--- |
| `MEDIA` | `media_key` | chaîne |
| `SWIPEABLE_MEDIA` | `media_keys` | tableau de chaînes |
| `DETAILS` | `title`   `destination` | chaîne   objet |
| `BUTTON` | `label`   `destination` | objet   objet |

Voici un exemple de composant `BUTTON` dans le contexte du tableau `components` (la clé `name` est volontairement omise). (Les ellipses indiquent les endroits où davantage d’informations doivent être précisées.)

```
{
  "components": [
    {
      "type": "BUTTON",
      "label": {
        ...
      },
      "destination": {
        ...
      }
    }
  ]
}
```

L’ordre dans lequel les objets composant sont spécifiés définit l’ordre de rendu de haut en bas. Les cartes doivent être créées en utilisant un composant basé sur les médias et soit un composant `DETAILS`, soit un composant `BUTTON`. Les composants basés sur la description sont rendus sous les médias et possèdent des destinations associées, soit des URL, soit des applications mobiles.

**Label**

Les libellés définissent le texte affiché sur les boutons et ne s’appliquent donc qu’au composant `BUTTON`. Les objets label ont deux clés requises : `type` et `value`. Le `type` doit être défini sur `ENUM` et la `value` peut être l’une des valeurs suivantes : `BOOK`, `CONNECT`, `INSTALL`, `OPEN`, `ORDER`, `PLAY` ou `SHOP`.

En reprenant l’exemple précédent, ce qui suit montre l’objet `label` au sein du composant `BUTTON`.

```
{
  "components": [
    {
      "type": "BUTTON",
      "label": {
        "type": "ENUM",
        "value": "INSTALL"
      },
      "destination": {
        ...
      }
    }
  ]
}
```

**Destination**

Les destinations correspondent aux endroits où les annonceurs souhaitent amener les utilisateurs. Elles sont toujours requises dans les composants `DETAILS` ou `BUTTON`. Il existe deux types de destination : `WEBSITE` ou `APP`.

**Remarque** : Les destinations de site web ne peuvent être utilisées qu’avec les composants `DETAILS`, et les destinations d’application uniquement avec les composants `BUTTON`.

**Destination site web**

| Nom | Description |
| :--- | :--- |
| type   _requis_ | Le type de destination, qui détermine son schéma.  Type : énumération  Valeurs possibles : `WEBSITE` |
| url   _requis_ | L’URL du site web vers lequel rediriger l’utilisateur.  Type : chaîne  Exemple : `https://devcommunity.x.com/c/advertiser-api` |

**Destination application**

| Nom | Description |
| :--- | :--- |
| type   _requis_ | Le type de destination, qui détermine son schéma.  Type : énumération  Valeurs possibles : `APP` |
| country\_code   _requis_ | Le code à deux lettres [ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) du pays où l’application est proposée.  Type : chaîne  Exemple : `US` |
| googleplay\_app\_id   _parfois requis_ | Le nom de package de l’application Google Play.  **Remarque** : Au moins l’un des éléments suivants est requis : `ios_app_store_identifier` ou `googleplay_app_id`.  Type : chaîne  Exemple : `com.twitter.android` |
| ios\_app\_store\_identifier   _parfois requis_ | L’identifiant de l’App Store iOS.  **Remarque** : Au moins l’un des éléments suivants est requis : `ios_app_store_identifier` ou `googleplay_app_id`.  Type : chaîne  Exemple : `333903271` |
| googleplay\_deep\_link   _optionnel_ | Un lien profond (deep link) vers l’application Android promue.  **Remarque** : Ne peut être utilisé que si un `googleplay_app_id` a été fourni.  Type : chaîne |
| ios\_deep\_link   _optionnel_ | Un lien profond (deep link) vers l’application iOS promue.  **Remarque** : Ne peut être utilisé que si un `ios_app_store_identifier` a été fourni.  Type : chaîne |

<div id="example-request">
  #### Exemple de requête
</div>

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/cards`

```
{
  "name": "components create cards",
  "components": [
    {
      "type": "MEDIA",
      "media_key": "3_1323490622599176192"
    },
    {
      "type": "BUTTON",
      "label": {
        "type": "ENUM",
        "value": "INSTALL"
      },
      "destination": {
        "type": "APP",
        "country_code": "US",
        "googleplay_app_id": "com.twitter.android"
      }
    }
  ]
}
```

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "account_id": "18ce54d4x5t"
    }
  },
  "data": {
    "name": "components create cards",
    "components": [
      {
        "type": "MEDIA",
        "media_key": "3_1323490622599176192"
      },
      {
        "type": "BUTTON",
        "label": {
          "type": "ENUM",
          "value": "INSTALL"
        },
        "destination": {
          "type": "APP",
          "country_code": "US",
          "googleplay_app_id": "com.twitter.android"
        }
      }
    ],
    "created_at": "2020-11-11T05:42:25Z",
    "card_uri": "card://1326399865065238531",
    "id": "1321554298900107264",
    "updated_at": "2020-11-11T05:42:25Z",
    "deleted": false,
    "card_type": "IMAGE_APP"
  }
}
```

Met à jour l’élément spécifié associé au compte en cours.

Les requêtes d’édition de carte acceptent uniquement des corps POST au format JSON. L’en-tête `Content-Type` doit être défini sur `application/json`.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/1321554298900107264`

<div id="parameters">
  #### Paramètres
</div>

Le corps de la requête POST JSON doit inclure les paramètres à mettre à jour. La requête va **remplacer** chaque champ par les paramètres spécifiés dans la charge utile. Les composants sont représentés sous forme d’objets et décrivent les attributs de la carte visibles par l’annonceur.

L’exemple suivant illustre la structure générale de la charge utile (mais contient des informations non fonctionnelles).

```
{
  "name": "some name",
  "components": [
    {
      "type": "TYPE_ENUM",
      "key": "value"
    }
  ]
}
```

Informations supplémentaires sur les composants et les diapositives dans **POST accounts/:account\_id/cards**.

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et est généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| name   _optionnel_ | Le nom de la carte. Longueur maximale : 80 caractères.  Type : string  Exemple : `component based card` |
| components   _optionnel_ | Décrit les composants à utiliser pour mettre à jour la carte. Informations supplémentaires ci-dessous.  Ne peut pas être utilisé conjointement avec `slides`.  **Remarque** : l’ordre des composants est important.  Type : array of objects |
| slides   _optionnel_ | Utilisez ce tableau de tableaux pour mettre à jour les carrousels à destinations multiples.  Décrit chaque carte comme un regroupement de composants. Chaque diapositive doit être une représentation complète d’une carte.  Ne peut pas être utilisé conjointement avec `components`.  **Remarque** : l’ordre de chaque diapositive est important.  Type : array of array |

<div id="example-request">
  #### Exemple de requête
</div>

Cet exemple met à jour le nom et supprime l’une des media\_keys du champ components de l’exemple ci-dessus.

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/1321554298900107264`

```
{
  "name": "changed name",
  "components": [
    {
      "type": "SWIPEABLE_MEDIA",
      "media_keys": [
        "3_1075096386931052545"
      ]
    },
    {
      "type": "BUTTON",
      "label": {
        "type": "ENUM",
        "value": "OPEN"
      },
      "destination": {
        "type": "APP",
        "country_code": "US",
        "googleplay_app_id": "com.twitter.android",
        "googleplay_deep_link": "twitter://user?screen_name=apimctestface"
      }
    }
  ]
}
```

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "account_id": "18ce54d4x5t",
      "card_id": "1321554298900107264"
    }
  },
  "data": [
    {
      "name": "changed name",
      "components": [
        {
          "type": "SWIPEABLE_MEDIA",
          "media_keys": [
            "3_1075096386931052545"
          ]
        },
        {
          "type": "BUTTON",
          "label": {
            "type": "ENUM",
            "value": "OPEN"
          },
          "destination": {
            "type": "APP",
            "country_code": "US",
            "googleplay_app_id": "com.twitter.android",
            "googleplay_deep_link": "twitter://user?screen_name=apimctestface"
          }
        }
      ],
      "created_at": "2020-10-28T20:47:52Z",
      "card_uri": "card://1321554298900107264",
      "id": "1321554298900107264",
      "updated_at": "2020-10-29T20:47:52Z",
      "deleted": false,
      "card_type": "IMAGE_CAROUSEL_APP"
    }
  ]
}
```

Supprime la carte spécifiée appartenant au compte en cours.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/:card_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | Identifiant du compte utilisé. Apparaît dans le chemin de la ressource et est généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : chaîne  Exemple : `18ce54d4x5t` |
| card\_id   _obligatoire_ | Identifiant de la carte à supprimer.  Type : chaîne  Exemple : `1044294149527166979` |

<div id="example-request">
  #### Exemple de requête
</div>

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/1321554298900107264`
\---MDX\_CONTENTEND---

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "account_id": "18ce54d4x5t",
      "card_id": "1321554298900107264"
    }
  },
  "data": [
    {
      "name": "deep link",
      "components": [
        {
          "type": "SWIPEABLE_MEDIA",
          "media_keys": [
            "3_1073727809120419840",
            "3_1075096386931052545"
          ]
        },
        {
          "type": "BUTTON",
          "label": {
            "type": "ENUM",
            "value": "OPEN"
          },
          "destination": {
            "type": "APP",
            "country_code": "US",
            "googleplay_app_id": "com.twitter.android",
            "googleplay_deep_link": "twitter://user?screen_name=apimctestface"
          }
        }
      ],
      "created_at": "2020-10-28T20:47:52Z",
      "card_uri": "card://1321554298900107264",
      "id": "1321554298900107264",
      "updated_at": "2020-10-29T20:47:52Z",
      "deleted": true,
      "card_type": "IMAGE_CAROUSEL_APP"
    }
  ]
}
```

<div id="cards-fetch">
  ### Récupération de cartes
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Exécuter dans Postman
</Button>

Récupérez plusieurs cartes, identifiées par leur `card_uri`, associées au compte en cours.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/all`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _requis_ | Identifiant du compte utilisé. Apparaît dans le chemin de la ressource et est généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : chaîne  Exemple : `18ce54d4x5t` |
| card\_uris   _requis_ | Limitez la réponse aux cartes souhaitées en fournissant une liste d’identifiants séparés par des virgules. Jusqu’à 200 valeurs d’URI de carte peuvent être fournies.  Type : chaîne  Exemple : `card://1044294149527166979,card://1044301099031658496` |
| with\_deleted   _optionnel_ | Inclure les résultats supprimés dans la requête.  Type : booléen  Valeur par défaut : `false`   Valeurs possibles : `true`, `false` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/all?card_uris=card://1044294149527166979,card://1044301099031658496`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "card_uris": [
        "card://1044294149527166979",
        "card://1044301099031658496"
      ],
      "account_id": "18ce54d4x5t"
    }
  },
  "data": [
    {
      "name": "X App",
      "googleplay_app_id": "com.twitter.android",
      "image_display_height": "836",
      "country_code": "US",
      "id": "692xn",
      "wide_app_image": "https://pbs.twimg.com/media/Dc263l9VwAAAeEH.jpg",
      "created_at": "2018-09-24T18:35:01Z",
      "image_display_width": "1600",
      "card_uri": "card://1044294149527166979",
      "updated_at": "2018-09-24T18:35:01Z",
      "app_cta": "INSTALL",
      "deleted": false,
      "card_type": "IMAGE_APP_DOWNLOAD"
    },
    {
      "video_poster_height": "9",
      "name": "Developer Platform",
      "website_shortened_url": "https://t.co/zadeUSVD18",
      "video_height": "9",
      "video_url": "https://video.twimg.com/amplify_video/vmap/991374284135137280.vmap",
      "content_duration_seconds": "24",
      "video_owner_id": "756201191646691328",
      "video_content_id": "13_991374284135137280",
      "website_display_url": "developer.x.com",
      "id": "6933h",
      "video_width": "16",
      "video_hls_url": "https://video.twimg.com/amplify_video/991374284135137280/pl/sQrBsE9mFvNep9Cx.m3u8?tag=2",
      "website_dest_url": "https://developer.x.com",
      "created_at": "2018-09-24T19:02:38Z",
      "card_uri": "card://1044301099031658496",
      "title": "Developer Platform",
      "website_url": "https://developer.x.com",
      "updated_at": "2018-09-24T19:02:38Z",
      "video_poster_url": "https://pbs.twimg.com/amplify_video_thumb/991374284135137280/img/YbbGQHvWRjoFgrLz.jpg",
      "video_poster_width": "16",
      "deleted": false,
      "card_type": "VIDEO_WEBSITE"
    }
  ]
}
```

Récupérer une Card spécifique, par `card_id`, associée au compte en cours.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/all/:card_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | Identifiant du compte exploité. Figure dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : chaîne  Exemple : `18ce54d4x5t` |
| card\_id   _obligatoire_ | Référence de la carte utilisée dans la requête.  Type : chaîne  Exemple : `508pf` |
| with\_deleted   _optionnel_ | Inclure les éléments supprimés dans la réponse.  Type : booléen  Par défaut : `false`   Valeurs possibles : `true`, `false` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/all/508pf`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "card_id": "508pf",
      "account_id": "18ce54d4x5t"
    }
  },
  "data": {
    "video_poster_height": "9",
    "name": "carte de site web vidéo",
    "video_height": "9",
    "video_url": "https://video.twimg.com/amplify_video/vmap/867520357225418752.vmap",
    "content_duration_seconds": "21",
    "video_owner_id": "756201191646691328",
    "video_content_id": "13_867520357225418752",
    "website_display_url": "developer.x.com",
    "id": "508pf",
    "video_width": "16",
    "video_hls_url": "https://video.twimg.com/amplify_video/867520357225418752/pl/TPHeH5ZlHFCa2TeJ.m3u8",
    "website_dest_url": "https://developer.x.com/en/docs/ads/creatives/api-reference/video-website#post-accounts-account-id-cards-video-website",
    "created_at": "2017-11-10T09:00:35Z",
    "card_uri": "card://928910245920829440",
    "title": "VWC",
    "website_url": "https://t.co/F81hp59pUF",
    "updated_at": "2018-01-05T05:43:31Z",
    "video_poster_url": "https://pbs.twimg.com/amplify_video_thumb/867520357225418752/img/E3pnXM0sCKnRsFih.jpg",
    "video_poster_width": "16",
    "deleted": false,
    "card_type": "VIDEO_WEBSITE"
  }
}
```

<div id="draft-tweets">
  ### Brouillons de posts
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Exécuter dans Postman
</Button>

#### GET accounts/:account\_id/draft\_tweets

Récupère les détails de certains ou de l’ensemble des tweets en brouillon associés au compte actuel.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/draft_tweets`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _requis_ | Identifiant du compte exploité. Figure dans le chemin de la ressource et est généralement requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| count   _optionnel_ | Indique le nombre d’enregistrements à tenter de récupérer par requête.  Type : int  Valeur par défaut : `100`   Min, max : `1`, `200` |
| cursor   _optionnel_ | Indique un curseur pour obtenir la page suivante de résultats. Voir [Pagination](https://developer.x.com/x-ads-api/introduction) pour plus d’informations.  Type : string  Exemple : `c-jh1g0ryb` |
| user\_id   _optionnel_ | Indique l’utilisateur pour lequel récupérer les Tweets brouillons. Par défaut, l’utilisateur promouvable `FULL` du compte est utilisé lorsqu’il n’est pas défini.  Type : string  Exemple : `756201191646691328` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/draft_tweets?count=1`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "count": 1
    }
  },
  "data": [
    {
      "name" null,
      "text": "hello, world",
      "user_id": "756201191646691328",
      "id": "994791681219231744",
      "nullcast": true,
      "created_at": "2018-05-11T04:09:53Z",
      "card_uri": null,
      "updated_at": "2018-05-11T04:09:53Z",
      "media_keys": []
    }
  ],
  "next_cursor": "c-jh1g0ryb"
}
```

Récupérer un brouillon de Tweet précis associé au compte en cours.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/draft_tweets/:draft_tweet_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : chaîne  Exemple : `18ce54d4x5t` |
| draft\_tweet\_id   _obligatoire_ | Référence au brouillon de Tweet utilisé dans la requête.  Type : chaîne  Exemple : `994788364334325760` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/draft_tweets/994788364334325760`
\---MDX\_CONTENTEND---

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "draft_tweet_id": "994788364334325760"
    }
  },
  "data": {
    "name": null,
    "text": "#TwitterDev",
    "user_id": "756201191646691328",
    "id": "994788364334325760",
    "nullcast": true,
    "created_at": "2018-05-11T03:56:42Z",
    "card_uri": "card://958225772740714496",
    "updated_at": "2018-05-11T03:56:42Z",
    "media_keys": []
  }
}
```

#### POST accounts/:account\_id/draft\_tweets

Crée un brouillon de Tweet pour l’utilisateur entièrement promouvable du compte (par défaut) ou pour l’utilisateur spécifié via le paramètre `as_user_id`.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/draft_tweets`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _requis_ | L’identifiant du compte exploité. Apparaît dans le chemin de la ressource et est généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| as\_user\_id   _requis_ | L’ID utilisateur de l’annonceur pour le compte duquel vous publiez le post. L’annonceur doit accorder à votre handle (ou à vos handles) l’accès à son compte publicitaire via [ads.x.com](https://ads.x.com/). Cette autorisation vous permet d’appeler l’API en utilisant les jetons OAuth de votre propre handle plutôt que ceux de l’annonceur.  Type : string  Exemple : `756201191646691328` |
| text   _parfois requis_ | Le texte de votre mise à jour de statut. Requis si aucun `media_keys` n’est spécifié.  Type : string  Exemple : `Just setting up my X.` |
| card\_uri   _optionnel_ | Associer une carte au post en utilisant la valeur `card_uri` renvoyée par toute réponse de cartes, si disponible.  Type : string  Exemple : `card://960880280705392541` |
| media\_keys   _optionnel_ | Associer des médias au post en spécifiant une liste d’identifiants séparés par des virgules. Inclure jusqu’à 4 images, 1 GIF animé ou 1 vidéo.  Remarque : la ressource média doit se trouver dans la [Media Library](https://developer.x.com/en/docs/ads/creatives/api-reference/media-library#media-library) du compte.  Type : string  Exemple : `13_1153584529292270722` |
| nullcast   _optionnel_ | Indique s’il faut créer un post « nullcast » (ou « Promoted-only »).  Type : boolean  Valeur par défaut : `true`   Valeurs possibles : `true`, `false` |
| name   _optionnel_ | Le nom du post brouillon. Longueur maximale : 80 caractères.  Type : string  Exemple : `Tweet with name` |

<div id="example-request">
  #### Exemple de requête
</div>

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/draft_tweets?as_user_id=756201191646691328&text=Just setting up my X.`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "text": "Just setting up my X.",
      "as_user_id": "756201191646691328"
    }
  },
  "data": {
    "name": null,
    "text": "Just setting up my X.",
    "user_id": "756201191646691328",
    "id": "994747471329873920",
    "nullcast": true,
    "created_at": "2018-05-11T01:14:13Z",
    "card_uri": null,
    "updated_at": "2018-05-11T01:14:13Z",
    "media_keys": []
  }
}
```

Met à jour le brouillon de Tweet spécifié appartenant au compte actuel.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/draft_tweets/:draft_tweet_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte exploité. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| draft\_tweet\_id   _obligatoire_ | Référence au brouillon de Tweet utilisé dans la requête.  Type : string  Exemple : `994747471329873920` |
| card\_uri   _optionnel_ | Associe une carte au Tweet à l’aide de la valeur `card_uri` renvoyée par une réponse de cartes, si disponible.  Remarque : annulez (supprimez) l’association en spécifiant le paramètre sans valeur.  Type : string  Exemple : `card://970582057284129151` |
| media\_keys   _optionnel_ | Associe des médias au Tweet en spécifiant une liste d’identifiants séparés par des virgules. Incluez jusqu’à 4 images, 1 GIF animé ou 1 vidéo.  Remarque : l’actif média doit se trouver dans la [Media Library](https://developer.x.com/en/docs/ads/creatives/api-reference/media-library#media-library) du compte.  Remarque : annulez (supprimez) l’association en spécifiant le paramètre sans valeur.  Type : string  Exemple : `13_1153584529292270722` |
| nullcast   _optionnel_ | Indique s’il faut créer un Tweet en nullcast (ou « Promoted-only »).  Type : boolean  Valeurs possibles : `true`, `false` |
| text   _optionnel_ | Le texte de la mise à jour de statut.  Type : string  Exemple : `just setting up my twttr` |
| name   _optionnel_ | Le nom du brouillon de Tweet. Longueur maximale : 80 caractères.  Type : string  Exemple : `Tweet with name` |

<div id="example-request">
  #### Exemple de requête
</div>

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/draft_tweets/994747471329873920?text=just setting up my twttr`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "draft_tweet_id": 994747471329873920,
      "text": "just setting up my twttr"
    }
  },
  "data": {
    "name": null,
    "text": "just setting up my twttr",
    "user_id": "756201191646691328",
    "id": "994747471329873920",
    "nullcast": true,
    "created_at": "2018-05-11T01:14:13Z",
    "card_uri": null,
    "updated_at": "2018-05-11T01:16:59Z",
    "media_keys": []
  }
}
```

Supprime définitivement le brouillon de Tweet spécifié appartenant au compte actuel.

Remarque : Nous recommandons vivement de supprimer les brouillons dès qu’un Tweet ou un Tweet programmé a été créé à partir de ses métadonnées.

Remarque : Il s’agit d’une suppression irréversible. En conséquence, il n’est pas possible de récupérer les brouillons de Tweets supprimés.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/draft_tweets/:draft_tweet_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte utilisé. Figure dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte indiqué doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| draft\_tweet\_id   _obligatoire_ | Référence au brouillon de Tweet manipulé dans la requête.  Type : string  Exemple : `994787835663155200` |

<div id="example-request">
  #### Exemple de requête
</div>

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/draft_tweets/994787835663155200`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "draft_tweet_id": "994787835663155200"
    }
  },
  "data": {
    "name": null,
    "text": "hello, world",
    "user_id": "756201191646691328",
    "id": "994787835663155200",
    "nullcast": true,
    "status": "DELETED",
    "created_at": "2018-05-11T03:54:36Z",
    "card_uri": null,
    "updated_at": "2018-05-11T04:07:31Z",
    "media_keys": []
  }
}
```

#### POST accounts/:account\_id/draft\_tweets/preview/:draft\_tweet\_id

Prévisualiser un brouillon de Tweet sur un appareil mobile.

Une requête réussie envoie une notification à chaque appareil sur lequel l’utilisateur authentifié est connecté. Un clic sur la notification ouvre une timeline qui permet à l’utilisateur de voir et d’interagir avec le brouillon de Tweet, afin de tester la lecture automatique, le volume, le plein écran, l’ancrage de la carte vidéo de site Web, et d’autres comportements.

**Remarque** : Les aperçus sur l’appareil ne sont visibles que par l’utilisateur qui reçoit la notification.

**Remarque** : Les notifications ne sont envoyées qu’aux applications officielles X.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/draft_tweets/preview/:draft_tweet_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _requis_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : chaîne  Exemple : `18ce54d4x5t` |
| draft\_tweet\_id   _requis_ | Référence au brouillon de Tweet concerné par la requête.  Type : chaîne  Exemple : `996132315829948416` |

<div id="example-request">
  #### Exemple de requête
</div>

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/draft_tweets/preview/996132315829948416`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "account_id": "18ce54d4x5t",
      "draft_tweet_id": "996132315829948416"
    }
  },
  "message": "Consultez les notifications de @apimctestface dans l’application X pour prévisualiser votre post."
}
```

<div id="image-conversation-cards">
  ### Cartes de conversation avec image
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Exécuter dans Postman
</Button>

**Remarque** : Pour associer une carte à un Tweet, utilisez le paramètre `card_uri` avec l’un des endpoints [POST accounts/:account\_id/tweet](https://developer.x.com/en/docs/ads/creatives/api-reference/tweets#post-accounts-account-id-tweet), [POST statuses/update](https://developer.x.com/en/docs/tweets/post-and-engage/api-reference/post-statuses-update#post-statuses-update) ou [POST accounts/:account\_id/scheduled\_tweets](https://developer.x.com/en/docs/ads/creatives/api-reference/scheduled-tweets#post-accounts-account-id-scheduled-tweets).

#### GET accounts/:account\_id/cards/image\_conversation

Récupère les détails de certaines ou de toutes les cartes de conversation image associées au compte actuel.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/image_conversation`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | Identifiant du compte utilisé. Figure dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte indiqué doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| card\_ids   _optionnel_ | Restreint la réponse aux cartes de conversation image souhaitées en fournissant une liste d’identifiants séparés par des virgules. Jusqu’à 200 ID peuvent être fournis.  Type : string  Exemple : `59woh` |
| count   _optionnel_ | Spécifie le nombre d’enregistrements à tenter de récupérer par requête.  Type : int  Par défaut : `200`   Min, Max : `1`, `1000` |
| cursor   _optionnel_ | Spécifie un curseur pour obtenir la page suivante de résultats. Voir [Pagination](https://developer.x.com/x-ads-api/introduction) pour plus d’informations.  Type : string  Exemple : `8x7v00oow` |
| q   _optionnel_ | Requête facultative pour filtrer les cartes par `name`. Omettez ce paramètre pour tout récupérer. Longueur maximale : 80 caractères.  **Remarque** : effectue une correspondance de préfixe insensible à la casse.  Type : string  Exemple : `night` |
| sort\_by   _optionnel_ | Trie selon un attribut pris en charge, par ordre croissant ou décroissant. Voir [Sorting](https://developer.x.com/x-ads-api/fundamentals/sorting) pour plus d’informations.  Type : string  Exemple : `created_at-asc` |
| with\_deleted   _optionnel_ | Inclut les résultats supprimés dans la réponse.  Type : boolean  Par défaut : `false`   Valeurs possibles : `true`, `false` |
| with\_total\_count   _optionnel_ | Inclut l’attribut de réponse `total_count`.  **Remarque** : ce paramètre et `cursor` sont mutuellement exclusifs.  **Remarque** : les requêtes incluant `total_count` sont soumises à des limites de débit plus faibles, actuellement fixées à 200 par 15 minutes.  Type : boolean  Par défaut : `false`   Valeurs possibles : `true`, `false` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/image_conversation?card_ids=59woh`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "card_type": "image_conversation",
      "card_ids": [
        "59woh"
      ],
      "account_id": "18ce54d4x5t"
    }
  },
  "next_cursor": null,
  "data": [
    {
      "name": "image conversation card",
      "first_cta": "#moon",
      "image_display_height": "670",
      "media_url": "https://pbs.twimg.com/media/DUhZuzxUQAAWZqr.jpg",
      "thank_you_text": "thanks",
      "id": "59woh",
      "first_cta_tweet": "stars",
      "media_key": "3_957113581522141184",
      "created_at": "2018-01-27T04:58:42Z",
      "image_display_width": "1280",
      "card_uri": "card://923498485702009837",
      "title": "Full moon",
      "updated_at": "2018-01-27T04:58:42Z",
      "deleted": false,
      "card_type": "IMAGE_CONVERSATION"
    }
  ]
}
```

Récupère une carte de conversation avec image spécifique associée au compte actuel.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/image_conversation/:card_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _requis_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et est généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| card\_id   _requis_ | Référence à la carte de conversation d’image utilisée dans la requête.  Type : string  Exemple : `59woh` |
| with\_deleted   _optionnel_ | Inclure les résultats supprimés dans la requête.  Type : boolean  Valeur par défaut : `false`   Valeurs possibles : `true`, `false` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/image_conversation/59woh`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "card_type": "image_conversation",
      "card_id": "59woh",
      "account_id": "18ce54d4x5t"
    }
  },
  "data": {
    "name": "carte de conversation image",
    "first_cta": "#moon",
    "image_display_height": "670",
    "media_url": "https://pbs.twimg.com/media/DUhZuzxUQAAWZqr.jpg",
    "thank_you_text": "merci",
    "id": "59woh",
    "first_cta_tweet": "étoiles",
    "media_key": "3_957113581522141184",
    "created_at": "2018-01-27T04:58:42Z",
    "image_display_width": "1280",
    "card_uri": "card://923498485702009837",
    "title": "Pleine lune",
    "updated_at": "2018-01-27T04:58:42Z",
    "deleted": false,
    "card_type": "IMAGE_CONVERSATION"
  }
}
```

#### POST accounts/:account\_id/cards/image\_conversation

Créez une nouvelle carte « image conversation » associée au compte spécifié.

Consultez [Téléversement de médias](https://developer.x.com/rest/public/uploading-media) pour obtenir des informations utiles sur le téléversement d’images vers nos endpoints.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/image_conversation`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et constitue généralement un paramètre obligatoire pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| first\_cta   _obligatoire_ | Le hashtag d’appel à l’action (CTA) pour la première option. Longueur maximale : 20 caractères (sans compter le #).  Type : string  Exemple : `#ShareNow` |
| first\_cta\_tweet   _obligatoire_ | Le texte du Tweet à utiliser lorsque le premier CTA est cliqué.  Type : string  Exemple : `I Heart @AdsAPI` |
| media\_key   _obligatoire_ | La clé média d’une image à utiliser dans cette carte.  Remarque : l’image doit se trouver dans la [bibliothèque de médias](https://developer.x.com/en/docs/ads/creatives/api-reference/media-library#media-library) du compte.  Remarque : une largeur d’image minimale de 800 px et un ratio largeur:hauteur de 1,91:1 sont requis.  Type : string  Exemple : `3_1151345051104991073` |
| name   _obligatoire_ | Le nom de la carte.  Type : string  Exemple : `image conversation card` |
| thank\_you\_text   _obligatoire_ | Le texte à afficher après le clic sur le CTA. Longueur maximale : 23 caractères.  Type : string  Exemple : `Thank you` |
| second\_cta   _parfois obligatoire_ | Le hashtag d’appel à l’action (CTA) pour la deuxième option. Longueur maximale : 20 caractères (sans compter le #).  Type : string  Remarque : obligatoire si `title` n’est `pas` défini.  Exemple : `#ShareAgain` |
| second\_cta\_tweet   _parfois obligatoire_ | Le texte du Tweet à utiliser lorsque le deuxième CTA est cliqué.  Remarque : obligatoire si `second_cta` est défini.  Type : string  Exemple : `I Heart @AdsAPI Again` |
| title   _parfois obligatoire_ | Le titre de la carte, qui apparaît sous l’image et au-dessus des CTA. Longueur maximale : 23 caractères.  Type : string  Remarque : obligatoire si `second_cta` n’est `pas` défini.  Exemple : `Start a conversation` |
| third\_cta   _optionnel_ | Le hashtag d’appel à l’action (CTA) pour la troisième option. Longueur maximale : 20 caractères (sans compter le #).  Type : string  Exemple : `#ShareMore` |
| third\_cta\_tweet   _parfois obligatoire_ | Le texte du Tweet à utiliser lorsque le troisième CTA est cliqué.  Type : string  Remarque : obligatoire si `third_cta` est défini.  Exemple : `I Heart @TwitterDev` |
| fourth\_cta   _optionnel_ | Le hashtag d’appel à l’action (CTA) pour la quatrième option. Longueur maximale : 20 caractères (sans compter le #).  Type : string  Exemple : `#ShareExtra` |
| fourth\_cta\_tweet   _parfois obligatoire_ | Le texte du Tweet à utiliser lorsque le quatrième CTA est cliqué.  Type : string  Remarque : obligatoire si `fourth_cta` est défini.  Exemple : `I Heart @TwitterDev Again` |
| unlocked\_image\_media\_key   _optionnel_ | Un `media_key` d’une image qui sera utilisée dans le scénario de déverrouillage instantané.  Il s’agit d’un champ en écriture seule. Dans la réponse, l’API fournira une URL X pour cette image.  Remarque : l’image doit se trouver dans la bibliothèque de médias du compte.  Remarque : une largeur d’image minimale de 800 px et un ratio largeur:hauteur de 5:2 sont requis.  Type : string  Exemple : `3_883112887618682880` |
| thank\_you\_url   _optionnel_ | L’URL à afficher avec le texte de remerciement.  Type : string  Exemple : `https://example.com/thankyou` |

<div id="example-request">
  #### Exemple de requête
</div>

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/image_conversation?media_key=3_957113581522141184&name=image conversation card&first_cta=#moon&first_cta_tweet=stars&thank_you_text=thanks&title=Full moon`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "data": {
    "name": "image conversation card",
    "first_cta": "#moon",
    "image_display_height": "670",
    "media_url": "https://pbs.twimg.com/media/DUhZuzxUQAAWZqr.jpg",
    "thank_you_text": "thanks",
    "id": "59woh",
    "first_cta_tweet": "stars",
    "media_key": "3_957113581522141184",
    "created_at": "2018-01-27T04:58:42Z",
    "image_display_width": "1280",
    "card_uri": "card://923498485702009837",
    "title": "Full moon",
    "updated_at": "2018-01-27T04:58:42Z",
    "deleted": false,
    "card_type": "IMAGE_CONVERSATION"
  },
  "request": {
    "params": {
      "name": "image conversation card",
      "first_cta": "#moon",
      "image_display_height": "670",
      "media_url": "https://pbs.twimg.com/media/DUhZuzxUQAAWZqr.jpg",
      "thank_you_text": "thanks",
      "media_key": "3_957113581522141184",
      "account_id": "18ce54d4x5t",
      "first_cta_tweet": "stars",
      "image_display_width": "1280",
      "title": "Full moon",
      "card_type": "IMAGE_CONVERSATION"
    }
  }
}
```

Met à jour la carte de conversation avec image spécifiée appartenant au compte actuel.

Consultez [Téléversement de médias](https://developer.x.com/rest/public/uploading-media) pour des informations utiles sur le téléversement d’images vers nos points de terminaison.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/image_conversation/:card_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _requis_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et est généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| card\_id   _requis_ | La référence de la carte de conversation avec image utilisée dans la requête.  Type : string  Exemple : `4i0qg` |
| first\_cta   _optionnel_ | Le hashtag d’appel à l’action (CTA) pour la première option. Longueur maximale : 20 caractères (sans compter le #).  Type : string  Exemple : `#ShareNow` |
| first\_cta\_tweet   _optionnel_ | Le texte du Tweet à utiliser lorsque le premier CTA est cliqué.  Type : string  Exemple : `I Heart @AdsAPI` |
| second\_cta   _optionnel_ | Le hashtag d’appel à l’action (CTA) pour la deuxième option. Longueur maximale : 20 caractères (sans compter le #).  Type : string  **Remarque** : Requis si `title` n’est `pas` défini.  Exemple : `#ShareAgain` |
| second\_cta\_tweet   _optionnel_ | Le texte du Tweet à utiliser lorsque le deuxième CTA est cliqué.  **Remarque** : Requis si `second_cta` est défini.  Type : string  Exemple : `I Heart @AdsAPI Again` |
| third\_cta   _optionnel_ | Le hashtag d’appel à l’action (CTA) pour la troisième option. Longueur maximale : 20 caractères (sans compter le #).  Type : string  Exemple : `#ShareMore` |
| third\_cta\_tweet   _optionnel_ | Le texte du Tweet à utiliser lorsque le troisième CTA est cliqué.  Type : string  **Remarque** : Requis si `third_cta` est défini.  Exemple : `I Heart @TwitterDev` |
| fourth\_cta   _optionnel_ | Le hashtag d’appel à l’action (CTA) pour la quatrième option. Longueur maximale : 20 caractères (sans compter le #).  Type : string  Exemple : `#ShareExtra` |
| fourth\_cta\_tweet   _optionnel_ | Le texte du Tweet à utiliser lorsque le quatrième CTA est cliqué.  Type : string  **Remarque** : Requis si `fourth_cta` est défini.  Exemple : `I Heart @TwitterDev Again` |
| media\_key   _optionnel_ | La clé média d’une image à utiliser dans cette carte.  **Remarque** : L’image doit se trouver dans la [bibliothèque de médias](https://developer.x.com/en/docs/ads/creatives/api-reference/media-library#media-library) du compte.  **Remarque** : Une largeur minimale de 800 px et un ratio largeur/hauteur de 1,91:1 sont requis.  Type : string  Exemple : `3_1151345051104991073` |
| name   _optionnel_ | Le nom de la carte.  Type : string  Exemple : `moon card` |
| thank\_you\_text   _optionnel_ | Le texte à afficher après le clic sur le CTA. Longueur maximale : 23 caractères.  Type : string  Exemple : `Thank you` |
| thank\_you\_url   _optionnel_ | L’URL à afficher avec le texte de remerciement.  Type : string  Exemple : `https://example.com/thankyou` |
| title   _optionnel_ | Le titre de la carte, qui apparaît sous l’image et au-dessus des CTA. Longueur maximale : 23 caractères.  Type : string  **Remarque** : Requis si `second_cta` n’est `pas` défini.  Exemple : `Start a conversation` |
| unlocked\_image\_media\_key   _optionnel_ | Une `media_key` d’une image qui sera utilisée dans le scénario de déverrouillage instantané.  Il s’agit d’un champ en écriture seule. Dans la réponse, l’API fournira une URL X pour cette image.  **Remarque** : L’image doit se trouver dans la bibliothèque de médias du compte.  **Remarque** : Une largeur minimale de 800 px et un ratio largeur/hauteur de 5:2 sont requis.  Type : string  Exemple : `3_883112887618682880` |

<div id="example-request">
  #### Exemple de requête
</div>

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/image_conversation/59woh?name=moon card`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "data": {
    "name": "moon card",
    "id": "59woh",
    "created_at": "2018-01-27T04:58:42Z",
    "card_uri": "card://923498485702009837",
    "updated_at": "2018-01-29T21:04:39Z",
    "deleted": false,
    "card_type": "IMAGE_CONVERSATION"
  },
  "request": {
    "params": {
      "account_id": "18ce54d4x5t",
      "card_type": "IMAGE_CONVERSATION",
      "card_id": "59woh",
      "name": "moon card"
    }
  }
}
```

Supprime de façon permanente la carte de conversation d’image spécifiée appartenant au compte en cours.

**Remarque** : Il s’agit d’une suppression irréversible. Par conséquent, il est impossible de récupérer les cartes supprimées.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/image_conversation/:card_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _requis_ | Identifiant du compte utilisé. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : chaîne  Exemple : `18ce54d4x5t` |
| card\_id   _requis_ | Référence à la carte de conversation d’image utilisée dans la requête.  Type : chaîne  Exemple : `4i0qe` |

<div id="example-request">
  #### Exemple de requête
</div>

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/image_conversation/4i0qe`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "data": {
    "name": "carte de conversation avec image",
    "id": "4i0qe",
    "created_at": "2017-07-07T00:03:01Z",
    "updated_at": "2017-08-23T13:26:23Z",
    "deleted": true,
    "card_type": "IMAGE_CONVERSATION"
  },
  "request": {
    "params": {
      "card_id": "4i0qe",
      "card_type": "image_conversation",
      "account_id": "18ce54d4x5t"
    }
  }
}
```

<div id="media-library">
  ### Médiathèque
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Exécuter dans Postman
</Button>

#### GET accounts/:account\_id/media\_library

Récupère les détails de certains ou de l’ensemble des éléments de la médiathèque associés au compte en cours.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/media_library`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte exploité. Apparaît dans le chemin de la ressource et est généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| count   _optionnel_ | Spécifie le nombre d’enregistrements à récupérer par requête.  Type : int  Par défaut : `20`   Min, max : `1`, `50` |
| cursor   _optionnel_ | Spécifie un curseur pour obtenir la page suivante de résultats. Voir [Pagination](https://developer.x.com/x-ads-api/introduction) pour plus d’informations.  Type : string  Exemple : `c-1` |
| media\_type   _optionnel_ | Restreint la réponse au type de média souhaité.  Type : enum  Valeurs possibles : `GIF`, `IMAGE`, `VIDEO` |
| q   _optionnel_ | Requête facultative pour filtrer la ressource selon les champs `name`, `title`, `file_name` et `description`.  Remarque : effectue une correspondance de termes insensible à la casse.  Type : string  Longueur min., max : `1`, `255` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/media_library?count=1`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "account_id": "18ce54d4x5t",
      "count": 1
    }
  },
  "data": [
    {
      "tweeted": true,
      "name": null,
      "file_name": "coffee https://t.co/4tcPU9XUon",
      "media_url": "https://pbs.twimg.com/media/DJvnJf_UEAAXnzC.jpg",
      "media_category": "TWEET_IMAGE",
      "media_key": "3_908573900237180928",
      "created_at": "2017-09-15T06:11:12Z",
      "media_status": "TRANSCODE_COMPLETED",
      "media_type": "IMAGE",
      "updated_at": "2017-11-16T06:00:01Z",
      "deleted": false
    }
  ],
  "next_cursor": "c-1"
}
```

Récupérer un objet précis de la médiathèque associé au compte en cours.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/media_library/:media_key`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _requis_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte indiqué doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| media\_key   _requis_ | Référence à l’objet de la médiathèque concerné par la requête.  Type : string  Exemple : `13_909110614026444802` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/media_library/13_909110614026444802`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "account_id": "18ce54d4x5t",
      "media_key": "13_909110614026444802"
    }
  },
  "data": {
    "tweeted": true,
    "duration": 39973,
    "name": null,
    "file_name": "buildings https://t.co/xFdzrHM5QG",
    "description": null,
    "media_url": "https://video.twimg.com/amplify_video/909110614026444802/vid/1280x720/mfahmfkKVjjk1nGm.mp4",
    "media_category": "AMPLIFY_VIDEO",
    "poster_media_url": "https://pbs.twimg.com/amplify_video_thumb/909110614026444802/img/QZUNoaiCia0UFNrw.jpg",
    "poster_media_key": "3_909110614026444802",
    "media_key": "13_909110614026444802",
    "created_at": "2017-09-16T17:43:55Z",
    "media_status": "TRANSCODE_COMPLETED",
    "title": "buildings",
    "media_type": "VIDEO",
    "aspect_ratio": "16:9",
    "updated_at": "2017-09-27T13:04:00Z",
    "deleted": false
  }
}
```

Associez un objet média au compte en cours. Pour plus d’informations, consultez notre [guide Media Library](https://developer.x.com/en/docs/ads/creatives/guides/media-library).

Remarque : lors de l’ajout d’une vidéo avec la catégorie de média `AMPLIFY_VIDEO` à la Media Library, elle devient automatiquement disponible en tant qu’actif `PREROLL` [account\_media](https://developer.x.com/en/docs/ads/creatives/api-reference/account-media#get-accounts-account-id-account-media).

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/media_library`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _requis_ | L’identifiant du compte exploité. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| media\_key   _requis_ | La `media_key` du contenu importé. Une `media_key` est renvoyée dans la réponse à POST media/upload lorsqu’une `media_category` est spécifiée.  Type : string  Exemple : `3_931236738554519552` |
| description   _optionnel_ | La description qui apparaît sous la vidéo lorsqu’elle est publiée. Longueur maximale : 200 caractères.  Elle n’est pas affichée dans le post par défaut. Pour afficher la `description` de la vidéo, utilisez le paramètre `video_description` avec l’endpoint [POST accounts/:account\_id/tweet](https://developer.x.com/en/docs/ads/creatives/api-reference/tweets#post-accounts-account-id-tweet).  Remarque : ne peut être utilisé qu’avec des vidéos.  Type : string  Exemple : `This is the description under the video.` |
| file\_name   _optionnel_ | Le nom de fichier de l’objet de la médiathèque. Longueur maximale : 255.  Le nom de fichier est visible dans le détail média de chaque ressource dans l’interface Media Library sur ads.x.com. Ce champ sera vide si `file_name` n’est pas défini.  Type : string  Exemple : `coffee.jpeg` |
| name   _optionnel_ | Le nom de l’objet de la médiathèque. Longueur maximale : 100.  Il s’agit de l’étiquette sous chaque ressource média dans l’interface Media Library sur ads.x.com. L’étiquette sera « Untitled » si `name` n’est pas défini.  Type : string  Exemple : `Latte` |
| poster\_media\_key   _optionnel_ | Spécifie une image d’illustration pour la vidéo en utilisant la `media_key` d’une image importée. Si non spécifié, la première image sera utilisée.  Remarque : ne peut être utilisé qu’avec des vidéos.  Type : string  Exemple : `3_890599134483242005` |
| title   _optionnel_ | Le titre (accroche) qui apparaît sous la vidéo lorsqu’elle est publiée. Longueur maximale : 70 caractères.  Il n’est pas affiché dans le post par défaut. Pour afficher le `title` de la vidéo, utilisez le paramètre `video_title` avec l’endpoint [POST accounts/:account\_id/tweet](https://developer.x.com/en/docs/ads/creatives/api-reference/tweets#post-accounts-account-id-tweet).  Remarque : ne peut être utilisé qu’avec des vidéos.  Type : string  Exemple : `Video title` |

<div id="example-request">
  #### Exemple de requête
</div>

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/media_library?media_key=3_931236738554519552`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "account_id": "18ce54d4x5t",
      "media_key": "3_931236738554519552"
    }
  },
  "data": {
    "tweeted": false,
    "name": null,
    "file_name": null,
    "media_url": "https://pbs.twimg.com/media/DOxq4TtV4AAlvh_.jpg",
    "media_category": "TWEET_IMAGE",
    "media_key": "3_931236738554519552",
    "created_at": "2017-11-16T19:05:14Z",
    "media_status": "TRANSCODE_COMPLETED",
    "media_type": "IMAGE",
    "updated_at": "2017-11-16T19:05:23Z",
    "deleted": false
  }
}
```

Met à jour l’objet spécifié de la médiathèque appartenant au compte actuel.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/media_library/:media_key`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte exploité. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| media\_key   _obligatoire_ | Une référence à l’objet de la médiathèque avec lequel la requête opère.  Type : string  Exemple : `16_844800354743074820` |
| description   _facultatif_ | La description qui apparaît sous la vidéo lorsqu’elle est publiée en tant que Tweet. Longueur maximale : 200 caractères.  Elle n’est pas rendue dans le Tweet par défaut. Pour afficher la `description` de la vidéo, utilisez le paramètre `video_description` avec le point de terminaison [POST accounts/:account\_id/tweet](https://developer.x.com/en/docs/ads/creatives/api-reference/tweets#post-accounts-account-id-tweet).  Remarque : utilisable uniquement avec des vidéos.  Type : string  Exemple : `This is the description under the video.` |
| file\_name   _facultatif_ | Le nom de fichier de l’objet de la médiathèque. Longueur maximale : 255.  Le nom de fichier est visible dans les détails de chaque ressource média dans l’interface Media Library sur ads.x.com. Ce champ sera vide si `file_name` n’est pas défini.  Type : string  Exemple : `coffee.jpeg` |
| name   _facultatif_ | Le nom de l’objet de la médiathèque. Longueur maximale : 100.  Il s’agit du libellé sous chaque ressource média dans l’interface Media Library sur ads.x.com. Le libellé sera « Untitled » si `name` n’est pas défini.  Type : string  Exemple : `Latte` |
| poster\_media\_key   _facultatif_ | Spécifiez une image d’illustration pour la vidéo à l’aide du `media_key` d’une image téléversée.  Remarque : utilisable uniquement avec des vidéos.  Type : string  Exemple : `3_885003359340375465` |
| title   _facultatif_ | Le titre (accroche) qui apparaît sous la vidéo lorsqu’elle est publiée en tant que Tweet. Longueur maximale : 70 caractères.  Il n’est pas rendu dans le Tweet par défaut. Pour afficher le `title` de la vidéo, utilisez le paramètre `video_title` avec le point de terminaison [POST accounts/:account\_id/tweet](https://developer.x.com/en/docs/ads/creatives/api-reference/tweets#post-accounts-account-id-tweet).  Remarque : utilisable uniquement avec des vidéos.  Type : string  Exemple : `Video title` |

<div id="example-request">
  #### Exemple de requête
</div>

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/media_library/16_844800354743074820?title=cat GIF&description=in space`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "account_id": "18ce54d4x5t",
      "media_key": "16_844800354743074820",
      "title": "cat GIF",
      "description": "in space"
    }
  },
  "data": {
    "tweeted": true,
    "duration": null,
    "name": null,
    "file_name": null,
    "description": "in space",
    "media_url": "https://video.twimg.com/tweet_video/C7lVclqVwAQqTCZ.mp4",
    "media_category": "TWEET_GIF",
    "poster_media_url": "https://pbs.twimg.com/tweet_video_thumb/C7lVclqVwAQqTCZ.jpg",
    "poster_media_key": "3_844800354743074820",
    "media_key": "16_844800354743074820",
    "created_at": "2017-10-20T09:51:54Z",
    "media_status": "TRANSCODE_COMPLETED",
    "title": "cat GIF",
    "media_type": "GIF",
    "aspect_ratio": "125:79",
    "updated_at": "2017-10-23T06:37:56Z",
    "deleted": false
  }
}
```

Supprime l’objet spécifié de la bibliothèque de médias appartenant au compte actuel.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/media_library/:media_key`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte exploité. Apparaît dans le chemin de la ressource et est généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| media\_key   _obligatoire_ | Une référence à l’objet de la médiathèque utilisé dans la requête.  Type : string  Exemple : `7_860318603387600896` |

<div id="example-request">
  #### Exemple de requête
</div>

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/media_library/7_860318603387600896`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "account_id": "18ce54d4x5t",
      "media_key": "7_860318603387600896"
    }
  },
  "data": {
    "tweeted": true,
    "duration": 14330,
    "name": "mountains-on-ads.x.com",
    "file_name": "mountains.mp4",
    "description": "",
    "media_url": "https://video.twimg.com/ext_tw_video/860318603387600896/pu/vid/1280x720/xI3DbvWKxdvICsFW.mp4",
    "media_category": "TWEET_VIDEO",
    "poster_media_url": "https://pbs.twimg.com/media/C_B3bTRVYAAFBFt.jpg",
    "poster_media_key": "3_860318839740915712",
    "media_key": "7_860318603387600896",
    "created_at": "2017-05-05T02:21:53Z",
    "media_status": "TRANSCODE_COMPLETED",
    "title": "uploaded on ads.x.com",
    "media_type": "VIDEO",
    "aspect_ratio": "16:9",
    "updated_at": "2017-05-05T02:26:58Z",
    "deleted": true
  }
}
```

<div id="poll-cards">
  ### Cartes de sondage
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Exécuter dans Postman
</Button>

#### GET accounts/:account\_id/cards/poll

Récupère les détails de certaines ou de toutes les cartes de sondage associées au compte actuel.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/poll`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | Identifiant du compte utilisé. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| card\_ids   _facultatif_ | Restreignez la réponse aux cartes de sondage souhaitées en fournissant une liste d’identifiants séparés par des virgules. Jusqu’à 200 ID peuvent être fournis.  Type : string  Exemple : `57i77` |
| count   _facultatif_ | Indique le nombre d’enregistrements à tenter de récupérer par requête.  Type : int  Valeur par défaut : `200`   Min, Max : `1`, `1000` |
| cursor   _facultatif_ | Indique un curseur pour obtenir la page suivante de résultats. Voir [Pagination](https://developer.x.com/x-ads-api/introduction) pour plus d’informations.  Type : string  Exemple : `8x7v00oow` |
| q   _facultatif_ | Requête optionnelle pour filtrer les cartes par `name`. Omettez ce paramètre pour tout récupérer. Longueur maximale : 80 caractères.  **Remarque** : effectue une correspondance de préfixe insensible à la casse.  Type : string  Exemple : `night` |
| sort\_by   _facultatif_ | Trie selon un attribut pris en charge, par ordre croissant ou décroissant. Voir [Sorting](https://developer.x.com/x-ads-api/fundamentals/sorting) pour plus d’informations.  Type : string  Exemple : `created_at-asc` |
| with\_deleted   _facultatif_ | Inclure les résultats supprimés dans la réponse.  Type : boolean  Valeur par défaut : `false`   Valeurs possibles : `true`, `false` |
| with\_total\_count   _facultatif_ | Inclure l’attribut de réponse `total_count`.  **Remarque** : ce paramètre et `cursor` sont mutuellement exclusifs.  **Remarque** : les requêtes incluant `total_count` auront des limites de débit plus basses, actuellement fixées à 200 par tranche de 15 minutes.  Type : boolean  Valeur par défaut : `false`   Valeurs possibles : `true`, `false` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/poll?card_ids=57i77`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "card_type": "poll",
      "card_ids": [
        "57i77"
      ],
      "account_id": "18ce54d4x5t"
    }
  },
  "next_cursor": null,
  "data": [
    {
      "video_poster_height": "9",
      "name": "best coast poll",
      "start_time": "2018-01-09T04:51:34Z",
      "first_choice": "East",
      "video_height": "9",
      "video_url": "https://video.twimg.com/amplify_video/vmap/950589518557540353.vmap",
      "content_duration_seconds": "8",
      "second_choice": "West",
      "end_time": "2018-01-16T04:51:34Z",
      "id": "57i77",
      "video_width": "16",
      "video_hls_url": "https://video.twimg.com/amplify_video/950589518557540353/vid/1280x720/BRkAhPxFoBREIaFA.mp4",
      "created_at": "2018-01-09T04:51:34Z",
      "duration_in_minutes": "10080",
      "card_uri": "card://950590850777497601",
      "updated_at": "2018-01-09T04:51:34Z",
      "video_poster_url": "https://pbs.twimg.com/amplify_video_thumb/950589518557540353/img/nZ1vX_MXYqmvbsXP.jpg",
      "video_poster_width": "16",
      "deleted": false,
      "card_type": "VIDEO_POLLS"
    }
  ]
}
```

Récupérez une carte de sondage spécifique associée au compte actuel.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/poll/:card_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| card\_id   _obligatoire_ | Référence à la carte de sondage utilisée dans la requête.  Type : string  Exemple : `57i8t` |
| with\_deleted   _optionnel_ | Inclure les résultats supprimés dans la requête.  Type : boolean  Par défaut : `false`   Valeurs possibles : `true`, `false` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/poll/57i8t`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "card_type": "poll",
      "card_id": "57i8t",
      "account_id": "18ce54d4x5t"
    }
  },
  "data": {
    "name": "sondage texte uniquement",
    "start_time": "2018-01-09T05:03:05Z",
    "first_choice": "Matin",
    "second_choice": "Soir",
    "end_time": "2018-01-11T05:03:05Z",
    "id": "57i8t",
    "created_at": "2018-01-09T05:03:05Z",
    "duration_in_minutes": "2880",
    "card_uri": "card://950593749658189824",
    "updated_at": "2018-01-09T05:03:05Z",
    "deleted": false,
    "card_type": "TEXT_POLLS"
  }
}
```

#### POST accounts/:account\_id/cards/poll

Crée une nouvelle carte de sondage associée au compte spécifié. Cet endpoint permet de créer des cartes de sondage avec une image, une vidéo ou sans média. Les sondages avec média sont appelés Media Forward Polls.

Remarque : le produit Media Forward Polls est en bêta et nécessite la fonctionnalité de compte `PROMOTED_MEDIA_POLLS`.

Remarque : il n’est pas possible de mettre à jour (PUT) des cartes de sondage.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/poll`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et est généralement un paramètre obligatoire pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| duration\_in\_minutes   _obligatoire_ | La durée (en minutes) pendant laquelle le sondage restera ouvert. Une fois la valeur `duration_in_minutes` atteinte, le sondage se ferme et les votes ne sont plus acceptés. Correspond à `end_time` dans la réponse.  Remarque : le décompte commence dès la création de la carte, et non lorsqu’elle est ajoutée à un post.  Type : int  Min, Max : `5`, `10080` |
| first\_choice   _obligatoire_ | Le premier choix du sondage. Longueur maximale : 25 caractères.  Type : string  Exemple : `One` |
| name   _obligatoire_ | Le nom de la carte.  Type : string  Exemple : `poll card` |
| second\_choice   _obligatoire_ | Le deuxième choix du sondage. Longueur maximale : 25 caractères.  Type : string  Exemple : `Two` |
| fourth\_choice   _optionnel_ | Le quatrième choix du sondage. Longueur maximale : 25 caractères.  Remarque : les premier, deuxième et troisième choix doivent être définis lors de l’utilisation de ce paramètre.  Type : string  Exemple : `Four` |
| media\_key   _optionnel_ | La valeur `media_key` d’une image ou d’une vidéo de la médiathèque qui sera utilisée dans cette carte.  Champ en écriture seule. Dans la réponse, l’API fournira une URL X pour ce média.  Remarque : l’image ou la vidéo doit se trouver dans la médiathèque du compte.  Remarque : largeur minimale de 800 px et ratio largeur:hauteur de 1,91:1 requis. |
| third\_choice   _optionnel_ | Le troisième choix du sondage. Longueur maximale : 25 caractères.  Remarque : les premier et deuxième choix doivent être définis lors de l’utilisation de ce paramètre.  Type : string  Exemple : `Three` |

<div id="example-request">
  #### Exemple de requête
</div>

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/poll?duration_in_minutes=10080&first_choice=East&second_choice=West&media_key=13_950589518557540353&name=best coast poll`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "first_choice": "East",
      "name": "best coast poll",
      "second_choice": "West",
      "media_key": "13_950589518557540353",
      "duration_in_minutes": 10080
    }
  },
  "data": {
    "video_poster_height": "9",
    "name": "best coast poll",
    "start_time": "2018-01-09T04:51:34Z",
    "first_choice": "East",
    "video_height": "9",
    "video_url": "https://video.twimg.com/amplify_video/vmap/950589518557540353.vmap",
    "content_duration_seconds": "8",
    "second_choice": "West",
    "end_time": "2018-01-16T04:51:34Z",
    "id": "57i77",
    "video_width": "16",
    "video_hls_url": "https://video.twimg.com/amplify_video/950589518557540353/vid/1280x720/BRkAhPxFoBREIaFA.mp4",
    "created_at": "2018-01-09T04:51:34Z",
    "duration_in_minutes": "10080",
    "card_uri": "card://950590850777497601",
    "updated_at": "2018-01-09T04:51:34Z",
    "video_poster_url": "https://pbs.twimg.com/amplify_video_thumb/950589518557540353/img/nZ1vX_MXYqmvbsXP.jpg",
    "video_poster_width": "16",
    "deleted": false,
    "card_type": "VIDEO_POLLS"
  }
}
```

Supprime définitivement la carte de sondage spécifiée appartenant au compte en cours.

Remarque : il s’agit d’une suppression définitive. Il n’est donc pas possible de récupérer les cartes supprimées.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/poll/:card_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte exploité. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte indiqué doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| card\_id   _obligatoire_ | Référence à la carte de sondage utilisée dans la requête.  Type : string  Exemple : `57i9t` |

<div id="example-request">
  #### Exemple de requête
</div>

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/poll/57i9t`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "data": {
    "name": "sondage avec image",
    "start_time": "2018-01-09T05:10:51Z",
    "id": "57i9t",
    "created_at": "2018-01-09T05:10:51Z",
    "updated_at": "2018-01-09T05:11:04Z",
    "deleted": true,
    "card_type": "IMAGE_POLLS"
  },
  "request": {
    "params": {
      "card_id": "57i9t",
      "card_type": "poll",
      "account_id": "18ce54d4x5t"
    }
  }
}
```

<div id="preroll-call-to-actions">
  ### Appels à l’action du pré-roll
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Exécuter dans Postman
</Button>

#### GET accounts/:account\_id/preroll\_call\_to\_actions

Récupère les détails de certaines ou de toutes les incitations à l’action (CTA) en pré-roll associées aux éléments de ligne du compte actuel.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/preroll_call_to_actions`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| line\_item\_ids   _optionnel_ | Limite la réponse aux seuls CTA de preroll associés aux éléments de campagne spécifiés en fournissant une liste d’identifiants séparés par des virgules. Jusqu’à 200 ID peuvent être fournis.  Type : string  Exemple : `8v53k` |
| count   _optionnel_ | Spécifie le nombre d’enregistrements à tenter de récupérer par requête distincte.  Type : int  Par défaut : `200`   Min, Max : `1`, `1000` |
| cursor   _optionnel_ | Spécifie un curseur pour obtenir la page suivante de résultats. Voir [Pagination](https://developer.x.com/x-ads-api/introduction) pour plus d’informations.  Type : string  Exemple : `8x7v00oow` |
| preroll\_call\_to\_action\_ids   _optionnel_ | Limite la réponse aux seuls CTA de preroll souhaités en fournissant une liste d’identifiants séparés par des virgules. Jusqu’à 200 ID peuvent être fournis.  Type : string  Exemple : `8f0` |
| sort\_by   _optionnel_ | Trie selon un attribut pris en charge, par ordre croissant ou décroissant. Voir [Tri](https://developer.x.com/x-ads-api/fundamentals/sorting) pour plus d’informations.  Type : string  Exemple : `created_at-asc` |
| with\_deleted   _optionnel_ | Inclut les résultats supprimés dans votre requête.  Type : boolean  Par défaut : `false`   Valeurs possibles : `true`, `false` |
| with\_total\_count   _optionnel_ | Inclut l’attribut de réponse `total_count`.  Remarque : ce paramètre et `cursor` sont mutuellement exclusifs.  Remarque : les requêtes qui incluent `total_count` auront des limites de débit plus basses, actuellement fixées à 200 par 15 minutes.  Type : boolean  Par défaut : `false`   Valeurs possibles : `true`, `false` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/preroll_call_to_actions?line_item_ids=8v53k`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "account_id": "18ce54d4x5t",
      "line_item_ids": [
        "8v53k"
      ]
    }
  },
  "next_cursor": null,
  "data": [
    {
      "line_item_id": "8v53k",
      "call_to_action_url": "https://www.x.com",
      "call_to_action": "VISIT_SITE",
      "id": "8f0",
      "created_at": "2017-07-07T19:28:40Z",
      "updated_at": "2017-07-07T19:28:40Z",
      "deleted": false
    }
  ]
}
```

Récupère un appel à l’action (CTA) spécifique associé à ce compte.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/preroll_call_to_actions/:preroll_call_to_action_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | Identifiant du compte utilisé. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte indiqué doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| preroll\_call\_to\_action\_id   _obligatoire_ | Référence de l’appel à l’action du preroll utilisé dans la requête.  Type : string  Exemple : `8f0` |
| with\_deleted   _optionnel_ | Inclure les résultats supprimés dans la requête.  Type : boolean  Valeur par défaut : `false`   Valeurs possibles : `true`, `false` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/preroll_call_to_actions/8f0`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "preroll_call_to_action_id": "8f0",
      "account_id": "18ce54d4x5t"
    }
  },
  "data": {
    "line_item_id": "8v53k",
    "call_to_action_url": "https://www.x.com",
    "call_to_action": "VISIT_SITE",
    "id": "8f0",
    "created_at": "2017-07-07T19:28:40Z",
    "updated_at": "2017-07-07T19:28:40Z",
    "deleted": false
  }
}
```

#### POST accounts/:account\_id/preroll\_call\_to\_actions

Définit l’appel à l’action (CTA) facultatif pour un élément `PREROLL_VIEWS`.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/preroll_call_to_actions`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte exploité. Apparaît dans le chemin de la ressource et constitue généralement un paramètre obligatoire pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| call\_to\_action   _obligatoire_ | Le texte de l’appel à l’action (CTA) pour le bouton affiché dans la publicité.  Type : enum  Valeurs possibles : `GO_TO`, `SEE_MORE`, `SHOP`, `VISIT_SITE`, `WATCH_NOW` |
| call\_to\_action\_url   _obligatoire_ | L’URL vers laquelle rediriger l’utilisateur lorsque le bouton d’appel à l’action est cliqué.  Type : string  Exemple : `https://www.x.com` |
| line\_item\_id   _obligatoire_ | La référence à l’élément de ligne concerné par la requête.  Type : string  Exemple : `8v53k` |

<div id="example-request">
  #### Exemple de requête
</div>

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/preroll_call_to_actions?line_item_id=8v53k&call_to_action=VISIT_SITE&call_to_action_url=https://www.x.com`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "data": {
    "line_item_id": "8v53k",
    "call_to_action_url": "https://www.x.com",
    "call_to_action": "VISIT_SITE",
    "id": "8f0",
    "created_at": "2017-07-07T19:28:40Z",
    "updated_at": "2017-07-07T19:28:40Z",
    "deleted": false
  },
  "request": {
    "params": {
      "line_item_id": "8v53k",
      "call_to_action": "VISIT_SITE",
      "call_to_action_url": "https://www.x.com",
      "account_id": "18ce54d4x5t"
    }
  }
}
```

Mettre à jour l’appel à l’action (CTA) facultatif pour un poste « PREROLL\_VIEWS ».

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/preroll_call_to_actions/:preroll_call_to_action_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et est généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte indiqué doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| preroll\_call\_to\_action\_id   _obligatoire_ | Référence au CTA de pré-roll utilisé dans la requête.  Type : string  Exemple : `8f0` |
| call\_to\_action   _optionnel_ | Le texte du CTA pour le bouton affiché dans la publicité.  Type : enum  Valeurs possibles : `GO_TO`, `SEE_MORE`, `SHOP`, `VISIT_SITE`, `WATCH_NOW` |
| call\_to\_action\_url   _optionnel_ | L’URL vers laquelle rediriger l’utilisateur lorsque le bouton CTA est cliqué.  Type : string  Exemple : `https://www.x.com` |

<div id="example-request">
  #### Exemple de requête
</div>

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/preroll_call_to_actions/8f0?call_to_action=WATCH_NOW`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "data": {
    "line_item_id": "8v53k",
    "call_to_action_url": "https://www.x.com",
    "call_to_action": "WATCH_NOW",
    "id": "8f0",
    "created_at": "2017-07-07T19:28:40Z",
    "updated_at": "2017-09-09T05:51:26Z",
    "deleted": false
  },
  "request": {
    "params": {
      "preroll_call_to_action_id": "8f0",
      "call_to_action": "WATCH_NOW",
      "account_id": "18ce54d4x5t"
    }
  }
}
```

Supprimez l’incitation à l’action (CTA) de pré-roll spécifiée appartenant au compte en cours.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/preroll_call_to_actions/:preroll_call_to_action_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _requis_ | Identifiant du compte exploité. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| preroll\_call\_to\_action\_id   _requis_ | Référence au CTA de pré-roll utilisé dans la requête.  Type : string  Exemple : `8f0` |

<div id="example-request">
  #### Exemple de requête
</div>

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/preroll_call_to_actions/8f0`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "data": {
    "line_item_id": "8v53k",
    "call_to_action_url": "https://www.x.com",
    "call_to_action": "VISIT_SITE",
    "id": "8f0",
    "created_at": "2017-07-07T19:28:40Z",
    "updated_at": "2017-08-30T06:08:21Z",
    "deleted": true
  },
  "request": {
    "params": {
      "preroll_call_to_action_id": "8f0",
      "account_id": "18ce54d4x5t"
    }
  }
}
```

<div id="scheduled-tweets">
  ### Tweets programmés
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Exécuter dans Postman
</Button>

#### GET accounts/:account\_id/scheduled\_tweets

Récupérer les détails de certains ou de l’ensemble des Tweets programmés associés au compte actuel.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/scheduled_tweets`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | Identifiant du compte exploité. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| count   _optionnel_ | Indique le nombre d’enregistrements à tenter de récupérer par requête.  Type : int  Valeur par défaut : `100`   Min, Max : `1`, `200` |
| cursor   _optionnel_ | Indique un curseur pour obtenir la page suivante de résultats. Voir [Pagination](https://developer.x.com/x-ads-api/introduction) pour plus d’informations.  Type : string  Exemple : `c-j3cn6n40` |
| user\_id   _optionnel_ | Indique l’utilisateur pour lequel récupérer les Tweets programmés. Par défaut, l’utilisateur promouvable `FULL` du compte lorsqu’il n’est pas défini.  Type : long  Exemple : `756201191646691328` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/scheduled_tweets?count=1`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "count": 1
    }
  },
  "data": [
    {
      "name": "test name",
      "completed_at": "2017-06-18T22:00:05Z",
      "text": "where you want to be",
      "user_id": "756201191646691328",
      "scheduled_status": "SUCCESS",
      "id": "875828692081037312",
      "nullcast": true,
      "created_at": "2017-06-16T21:33:27Z",
      "scheduled_at": "2017-06-18T22:00:00Z",
      "card_uri": null,
      "updated_at": "2017-06-19T18:02:20Z",
      "tweet_id": "876560168963645440",
      "media_keys": []
    }
  ],
  "next_cursor": "c-j41uw400"
}
```

Récupérer un Tweet programmé précis associé au compte en cours.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/scheduled_tweets/:scheduled_tweet_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte exploité. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| scheduled\_tweet\_id   _obligatoire_ | Référence au Tweet programmé concerné par la requête.  Type : string  Exemple : `917438609065623552` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/scheduled_tweets/917438609065623552`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "scheduled_tweet_id": "917438609065623552"
    }
  },
  "data": {
    "name": null,
    "completed_at": null,
    "text": "",
    "user_id": "756201191646691328",
    "scheduled_status": "SCHEDULED",
    "id": "917438609065623552",
    "nullcast": true,
    "created_at": "2017-10-09T17:16:24Z",
    "scheduled_at": "2018-01-01T00:00:00Z",
    "card_uri": null,
    "updated_at": "2017-10-09T17:16:24Z",
    "tweet_id": null,
    "media_keys": [
      "3_917438348871983104"
    ]
  }
}
```

#### POST accounts/:account\_id/scheduled\_tweets

Crée un Tweet planifié pour l’utilisateur promouvable complet du compte (par défaut) ou pour l’utilisateur indiqué dans le paramètre `as_user_id`.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/scheduled_tweets`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _requis_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et est généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| scheduled\_at   _requis_ | L’heure, au format [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601), à laquelle le Tweet doit être publié (mis en ligne).  Remarque : les Tweets ne peuvent être planifiés qu’un an au maximum à l’avance.  Remarque : les Tweets doivent être planifiés à la granularité de la minute ; les secondes seront ignorées.  Type : string  Exemple : `2017-12-31T23:59:00Z` |
| as\_user\_id   _requis_ | L’identifiant utilisateur de l’annonceur pour le compte duquel vous publiez le Tweet. L’annonceur doit accorder à votre handle (ou à vos handles) l’accès à son compte publicitaire via [ads.x.com](https://ads.x.com/). Cette autorisation vous permet d’appeler l’API en utilisant les jetons OAuth de votre propre handle plutôt que ceux de l’annonceur.  Type : long  Exemple : `756201191646691328` |
| text   _parfois requis_ | Le texte de votre mise à jour de statut. Requis si aucun `media_keys` n’est spécifié.  Type : string  Exemple : `just setting up my twttr` |
| card\_uri   _optionnel_ | Associez une carte au Tweet en utilisant la valeur `card_uri` retournée par n’importe quelle réponse de cartes, si disponible.  Type : string  Exemple : `card://855591459410511943` |
| media\_keys   _optionnel_ | Associez des médias au Tweet en indiquant une liste d’identifiants séparés par des virgules. Jusqu’à 4 images, 1 GIF animé ou 1 vidéo.  Remarque : la ressource média doit se trouver dans la [Media Library](https://developer.x.com/en/docs/ads/creatives/api-reference/media-library#media-library) du compte.  Type : string  Exemple : `13_1153584529292270722` |
| nullcast   _optionnel_ | Indique s’il faut créer un Tweet en nullcast (ou « Promoted-only »).  Type : boolean  Valeur par défaut : `true`   Valeurs possibles : `true`, `false` |
| name   _optionnel_ | Le nom du Tweet planifié. Longueur maximale : 80 caractères.  Type : string  Exemple : `Tweet with name` |

<div id="example-request">
  #### Exemple de requête
</div>

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/scheduled_tweets?as_user_id=756201191646691328&media_keys=3_917438348871983104&scheduled_at=2018-01-01`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "media_keys": [
        "3_917438348871983104"
      ],
      "scheduled_at": "2018-01-01T00:00:00Z",
      "as_user_id": 756201191646691328
    }
  },
  "data": {
    "name": null,
    "completed_at": null,
    "text": "",
    "user_id": "756201191646691328",
    "scheduled_status": "SCHEDULED",
    "id": "917438609065623552",
    "nullcast": true,
    "created_at": "2017-10-09T17:16:24Z",
    "scheduled_at": "2018-01-01T00:00:00Z",
    "card_uri": null,
    "updated_at": "2017-10-09T17:16:24Z",
    "tweet_id": null,
    "media_keys": [
      "3_917438348871983104"
    ]
  }
}
```

Met à jour le Tweet planifié spécifié appartenant au compte en cours.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/scheduled_tweets/:scheduled_tweet_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _requis_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et est généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte indiqué doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| scheduled\_tweet\_id   _requis_ | Référence au Tweet planifié concerné par la requête.  Type : string  Exemple : `870321875435442177` |
| card\_uri   _optionnel_ | Associer une carte au Tweet en utilisant la valeur `card_uri` renvoyée par une réponse de cartes, si disponible.  **Remarque** : Annuler (supprimer) en spécifiant le paramètre sans valeur.  Type : string  Exemple : `card://875146925316386347` |
| media\_keys   _optionnel_ | Associer des médias au Tweet en fournissant une liste d’identifiants séparés par des virgules. Jusqu’à 4 images, 1 GIF animé ou 1 vidéo.  **Remarque** : La ressource média doit se trouver dans la [bibliothèque de médias](https://developer.x.com/en/docs/ads/creatives/api-reference/media-library#media-library) du compte.  **Remarque** : Annuler (supprimer) en spécifiant le paramètre sans valeur.  Type : string  Exemple : `13_1153584529292270722` |
| nullcast   _optionnel_ | Indique s’il faut créer un Tweet en nullcast (ou « Promoted-only »).  Type : boolean  Valeurs possibles : `true`, `false` |
| scheduled\_at   _optionnel_ | L’heure, exprimée au format [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601), à laquelle le Tweet doit être publié (mis en ligne).  Type : string  Exemple : `2017-12-31T23:59:59Z` |
| text   _optionnel_ | Le texte de la mise à jour de statut.  Type : string  Exemple : `just setting up my twttr` |
| name   _optionnel_ | Le nom du Tweet planifié. Longueur maximale : 80 caractères.  Type : string  Exemple : `Tweet with name` |

<div id="example-request">
  #### Exemple de requête
</div>

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/scheduled_tweets/875057751231037440?text=winter solstice`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "scheduled_tweet_id": "875057751231037440",
      "text": "winter solstice"
    }
  },
  "data": {
    "name": null,
    "completed_at": null,
    "scheduled_status": "SCHEDULED",
    "text": "winter solstice",
    "user_id": "756201191646691328",
    "id": "875057751231037440",
    "nullcast": true,
    "created_at": "2017-06-14T18:30:00Z",
    "scheduled_at": "2017-12-21T00:00:00Z",
    "card_uri": null,
    "updated_at": "2017-06-14T18:30:00Z",
    "tweet_id": null,
    "media_keys": []
  }
}
```

Supprimez définitivement le Tweet programmé spécifié appartenant au compte actuel.

Remarque : il s’agit d’une suppression irréversible. En conséquence, il n’est pas possible de récupérer des Tweets programmés supprimés.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/scheduled_tweets/:scheduled_tweet_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _requis_ | L’identifiant du compte exploité. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| scheduled\_tweet\_id   _requis_ | Référence au Tweet programmé concerné par la requête.  Type : string  Exemple : `870321875435442177` |

<div id="example-request">
  #### Exemple de requête
</div>

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/scheduled_tweets/875064008595787776`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "scheduled_tweet_id": 875064008595787776
    }
  },
  "data": {
    "name": null,
    "completed_at": null,
    "scheduled_status": "DELETED",
    "text": "hello, world",
    "user_id": "756201191646691328",
    "id": "875064008595787776",
    "nullcast": true,
    "created_at": "2017-06-14T18:54:52Z",
    "scheduled_at": "2017-06-15T00:00:00Z",
    "card_uri": null,
    "updated_at": "2017-06-14T19:01:16Z",
    "tweet_id": null,
    "media_keys": []
  }
}
```

<div id="tweet-previews">
  ### Aperçus de Tweets
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Exécuter dans Postman
</Button>

#### GET accounts/:account\_id/tweet\_previews

Prévisualisez des Tweets publiés, programmés ou en brouillon.

- Permet de prévisualiser _plusieurs_ Tweets — jusqu’à 200 — dans une seule requête API
- Rendu précis et à jour de la mise en page et du style des Tweets
- Prend en charge tous les formats et types de cartes les plus récents
- Renvoie un iframe

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/tweet_previews`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et est généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| tweet\_ids   _obligatoire_ | Une liste d’identifiants séparés par des virgules. Jusqu’à 200 ID peuvent être fournis.  Remarque : les ID doivent correspondre au `tweet_type` indiqué. Par exemple, si un ID de Tweet programmé est transmis et que `tweet_type=PUBLISHED` est spécifié, aucun aperçu ne sera renvoyé pour cet ID.  Type : long  Exemple : `1122911801354510336,1102836745790316550` |
| tweet\_type   _obligatoire_ | Le type de Tweet pour les `tweet_ids` indiqués.  Type : enum  Valeurs possibles : `DRAFT`, `PUBLISHED`, `SCHEDULED` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/tweet_previews?tweet_ids=1122911801354510336,1102836745790316550&tweet_type=PUBLISHED`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "tweet_ids": [
        "1122911801354510336",
        "1102836745790316550"
      ],
      "tweet_type": "PUBLISHED",
      "account_id": "18ce54d4x5t"
    }
  },
  "data": [
    {
      "tweet_id": "1122911801354510336",
      "preview": "<iframe class='tweet-preview' src='https://ton.twimg.com/ads-manager/tweet-preview/index.html?data=H4sIAAAAAAAAANVYW2%2FbNhT%2BKwJf59iiZDuSgWLI0suyrUXbZBuGaiAoibbZUKRGUk7TIP99h6Jsy4mdC5CX%2BiUiz%2F0cfueQuUH2ijGLZsENKjSjlpWEwhK9VzI4qXUQpQE%2BnuF4FofBTyH8gijEKRogXqIZxlGUYpyEOJ6MJziM46kjEGM1qNhDBbl5IwSx7JszsuIlU8EVyw23DGhWN7JwPqDZnArDBqjkphb0uhUgmsoFQ7Mv4QDH%2Fw4Qk5Zbzgya3aAlNUtLF%2FD9BSjmusqV6BaNYZpUjlnJ9Zb2xFtgVY0uQCnKmjCMCxosNZu%2FytDS2trMslE2oqU5ojUf2ituLdPDQlUZCjQTwCXVXAmhrjIvzi48T3BSmuBUVbUC214x6PEsLnWSaFYLiEpBqqhtDHHZlJCZA0Sf0fsMbWz7ZTvSIUkD1WaSSFqxNdlJuFw6fceTKdQZp3g6nk5THEdJr7D3iRCU14ROPp4F74sLZuycFi7YHUMIElkVdksVCuoNhQHSOZXBWyhxwU2hBsHpCWoLtfauZKCJ1x3zmbQqcHq4XARUlgHYNSBQa2VZ0T9BvkBMG1KoRsKpO8KwqTmT5c6W4MYd%2Fm7H29xBxMWyCX5rRBDhACezyXQWJVtEtCebruAwwUne0dvYgqj53LCNVssrRr4ruUn8ginCJM1Fz%2B0V03zOexv%2BLOzqFgAI8IxJsF4oaTXPG6sg1LvauCEWUmsEBfK%2BXcjqPSHI5ZwLRnJaXC40WHXZEU4ehe0P7eXhFV0w0lauRZEHUW4cgKpFC59Ry2OykV2yavMXZ6N8MawhpIf1khabnXbzUuotrO%2BFvjeWetfYDi8YA3TE4yTGx%2BNJMgnTJJpko9cXvxefT%2BtzIpWuqBh%2BrftePBTZixvLqZTQGbYxPWjHc3tDdzCfjfAYvqbROMY9%2FYLLy8PnxEDHz6kmudIlePEoHyzEYa52KhykAlrunZ%2FtYGFz2ghLOuZD%2B3ekfDPhDnUeun4D2up%2FDTQjYti2eUhlAcG%2BvZkN9jcoJPa6dh1RukZw2zaBTdtRkB0uofVs5GAIFmxL30J9vadZO8jX3SH07ch1oz1bW4x3Yn3UK2N4DkMCYoGxzFfb6KEv137cbppqRwP%2FC6pLR%2BoafTRJpnEaHuPpDFJZKdLOerKd9f4AOqn2%2FOFwPI5DHKZpGOPpJBmnrqU6cpuouxh0hCNHOALCETdHJas1a%2B8OQy5XVMAQG6CcS8jjgsC68Y539olZKm2ZhN7eKr5BXTXOLz6ffXjnxhZkeC25AxQLAMlG32nJ%2Fjz%2F6zVOXO1cQaDypGy0b6WGwVZpnqA4GjsF7o4DcLjipV0%2BQQjGzVZobZyXT5GMSQroPR5HyRiuZfAVJWFP2ZLxxdI%2BQVHqhFZUcnv9xBSWbMUEHCDdv0k5LeualA5Bzy3HQa1dQOpKdlekR5Xuudb0EiPMs31rj3y%2Fq9KqFnx%2B7bGQje5XAhqvyEbmk%2F7FvEmrt6sPrE5Pvw2ruEl%2Bhuvtq8h5BLde17AedeT1OjXBR%2Bg4cxgG%2FWy%2FdKJBkNHqxXO0qmi9L1NDR%2BiZ9zPUwLzr2z97f%2FLujbtxt9TO%2Bg16ZPjtuEDssqny%2FcUCiWz0T56%2F%2B%2FTr6u%2FPX9Xbhf7jezdvOyxjYBygNayOI1hQ0c2I2zvu%2F7COE0H1j%2Bz%2Btx8wgHY0Pnt49aDbPs14zsglu%2B4mcatvo7xedw2w0P%2BGTsAL1pv18No9qTlqHy3Gv89w7LBJmxLeWTu8cBkom6J9xcF8bopLtonJGd6%2BaG4HAWpvDv5VJv2%2FDIKbzSYsrG7Y7e3%2FCm%2FIC8QQAAA%3D'>"
    },
    {
      "tweet_id": "1102836745790316550",
      "preview": "<iframe class='tweet-preview' src='https://ton.twimg.com/ads-manager/tweet-preview/index.html?data=H4sIAAAAAAAAAO1YbW%2FbNhD%2BK4K%2Bzo3eZdlAMQQttqZrt6FNEXRVIVASJTOhSIWkHDeB%2F%2FuOomXLb%2BuHdQWGzV8s3T13vCOPz539ZKsHjJU9t57sQmCkcJkheLWvO2y9RcJyI8udzkN%2F7ofWDy58LN%2F1ZvbEJqU99zzXT4J4GkbTmRt4cRS5WpFJJcDFCS3YVR2lmcIrvcgNWmJpLZRq5Tx1UkddFDx16mUU8Lv4UhQAV6JjhQ7LnleISjyxSyJbir70PjKBWI3t%2BSd3En2e2JgpogiW9vzJXiC5UKiG50%2BgkV%2BanNPNSyexyBoN5mwQiUHZ4JIgeHwyGbpumLjh1PcDfxZ6XpSE4wyPtXpnWEkKHcSneOLPBpcZLAEmOtk%2B1zaXF%2BqBNDXk3KSOTkY9ZEtSYp6pRdfkqXPCPdh1qQNWYPFz%2BfHls7v7y6s3dZm%2Fci9u29oeLZb1%2B7pZUv6ja%2B5SO3uOw6kZaEsKHYhSWJhQ9rB41SJWQiUe%2BR2boJY0hcJSVajAqSMVUp2EBI6rLnX6FEGnC%2BpLi3UEC644vEryaOqlz18%2FPMCp6zpebL4F1hgwKQRv7bXZ4a4ZoL5rsPE0GmErojRUNojSDTJODDBIgmMgRULX8cblBjn13UMkQCu4pZ3og16vP6%2F1dincb9e4%2FP8v4%2F9EGfeSf2UZm%2BMirOIaj2SLC03nwMlQcV480RVXdr2AZQ2hlEhdx9MYnC2RIIgp2dd3ThSgwHUSQBKgLTiDCwE1Mdqi1Gna8MQR98pzxfQXZQT61IlDdxXEcC7Rm1fsHl96H8sau%2Fer1xew2I%2FQfJ4HsCmjCP0o%2Fr4Rwo6svAQivLvqXn14mRD%2FD%2BnWuX91NkJv%2Bp1D1GWyghJJnbD56HePt%2FjXG%2FJbVd3cHsR4EBFqW0qKvjxSZ%2FWsaXH94d2bbxhdS1Nn5r17CF7cTMurt6%2Ffh7fJRRN0yRDT5wMyntioLIkOCNHM8NdQ3sDLVAetGQTLQpBWw4wANzkuS5RrAEw7MOE0nGFFHo2on3oM0UveiUK7STvXDQpkLQSunqejXFEp9wjJtgSmgGC84pTyh9SY4muDsS5LaXyBqdH0xJ8J3FKYsHhm6CjTPYTB4HZGafrIMaAftE7bblTnLGGPMGYZQw0e1NpC76X2N41iGEO9mReHcTzzAj8ZtbNjJSRlPNmXv19Zb4vrDd1q4hwvZO%2BRMWgpNxUGqveIWT%2FBuFkQWfCJ9eJyKDUT3f6xXjHFLe2HsNqCJmDBuhIMWsEV8NxomjXngoXMCt4xGIqfeSAUBDr6ngjoT8%2FmG4lZc39gX3TW645avmd5yTyK536yG9hjPXijJdQPgajGfjtVZLyqJN56VaTB2SOU4CCogacx09W4C3uJBanISGBqYd83heEcIsPMNnwiSN4pDqkeeiMyA%2F5hkiJQn5LqHnBoBHtZEYqzHBV3tYBV9e5QbW%2B7%2Fcc%2BiSENqvHhFIP2J4oeA01YLXCz%2FfZSJ68vWlZ%2Fxe%2BJgeUbuFdkSwY7%2FclcDqajPSwsBrcjCJPAg8kiidxZ4kep8%2FL6l%2BLdi%2FZ9xriAVr8Zh45W%2Bfoo9vcXyxFjwAyHJH5mHYM2Cx3ceWD2EJ5iPwy8kX9K2N35OpHQE3IkspyLEqL4Kg5e6HlU%2Fwv1rBZuy1H97H7k4gp1VGUb8Dn5gZUhE6Jvnbm6RgC0et8BGWUS78iDcQU32NCb3N797S0c2izTRLDuSWBLOxx2hzCgnq0dzMQF3ul3V32QCdz%2FzzCwg2voSLPRCdHujm%2FMxreeS0lyaBKQi4Rmu9xlD7zcmiF4S6pD%2Bxxz0Xpi6TNouOFTZv6LsJ62QnjRfXi9%2FhONbe6QHREAAA%3D%3D'>"
    }
  ]
}
```

<div id="tweets">
  ### Tweets
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Exécuter dans Postman
</Button>

#### GET accounts/:account\_id/tweets

Récupère les détails des Tweets pour l’utilisateur promouvable principal du compte (par défaut) ou pour l’utilisateur indiqué dans le paramètre `user_id`. Il peut s’agir de n’importe quel [utilisateur promouvable](https://developer.x.com/en/docs/ads/campaign-management/api-reference/promotable-users) rattaché au compte.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/tweets`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _requis_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et est généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| tweet\_type   _requis_ | Le type de Tweet pour les `tweet_ids` spécifiés.  Type : enum  Valeurs possibles : `DRAFT`, `PUBLISHED`, `SCHEDULED` |
| count   _optionnel_ | Indique le nombre d’enregistrements à tenter de récupérer par requête.  Type : int  Par défaut : `200`   Min, Max : `1`, `1000` |
| cursor   _optionnel_ | Spécifie un curseur pour obtenir la page suivante de résultats. Voir [Pagination](https://developer.x.com/x-ads-api/introduction) pour plus d’informations.  Type : string  Exemple : `AAAAAFhLRpQLNF-sGBSgAA` |
| include\_mentions\_and\_replies   _optionnel_ | Indique s’il faut exclure les mentions et les réponses de la liste des Tweets disponibles.  Type : boolean  Par défaut : `false`   Valeurs possibles : `true`, `false` |
| name   _optionnel_ | Requête facultative pour restreindre les Tweets par `name`. Omettez ce paramètre pour tout récupérer. Longueur maximale : 80 caractères.  Note : effectue une correspondance de préfixe insensible à la casse.  Type : string  Exemple : `dtc` |
| timeline\_type   _optionnel_ | Indique s’il faut renvoyer des Tweets nullcast (alias « Promoted-only »), des Tweets organiques ou les deux.  Type : enum  Par défaut : `NULLCAST`   Valeurs possibles : `ALL`, `NULLCAST`, `ORGANIC` |
| trim\_user   _optionnel_ | Indique s’il faut exclure l’objet utilisateur dans la réponse du Tweet. Lorsque cette option est activée, la seule partie de l’objet utilisateur renvoyée est l’ID utilisateur de l’auteur du Tweet.  Type : boolean  Par défaut : `false`   Valeurs possibles : `true`, `false` |
| tweet\_ids   _optionnel_ | Liste d’identifiants séparés par des virgules. Jusqu’à 200 ID peuvent être fournis.  Note : les ID doivent correspondre au `tweet_type` spécifié. Par exemple, si un ID de Tweet planifié est fourni, alors le `tweet_type` **doit** être `SCHEDULED` pour que ce Tweet soit renvoyé dans la réponse.  Type : long  Exemple : `1122911801354510336,1102836745790316550` |
| user\_id   _optionnel_ | Spécifie l’utilisateur auquel restreindre les Tweets. Par défaut, l’utilisateur promouvable `FULL` du compte si non défini.  Type : long  Exemple : `756201191646691328` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/tweets?tweet_ids=1166476031668015104&tweet_type=PUBLISHED&trim_user=true`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "tweet_ids": [
        "1166476031668015104"
      ],
      "tweet_type": "PUBLISHED",
      "trim_user": true,
      "account_id": "18ce54d4x5t"
    }
  },
  "next_cursor": null,
  "data": [
    {
      "coordinates": null,
      "retweeted": false,
      "name": null,
      "source": "<a href=\"https://ads-api.x.com\" rel=\"nofollow\">Ads API Internal Test App</a>",
      "entities": {
        "hashtags": [],
        "symbols": [],
        "user_mentions": [],
        "urls": []
      },
      "display_text_range": [
        0,
        9
      ],
      "favorite_count": 0,
      "in_reply_to_status_id_str": null,
      "geo": null,
      "id_str": "1166476031668015104",
      "scopes": {
        "followers": false
      },
      "in_reply_to_user_id": null,
      "truncated": false,
      "retweet_count": 0,
      "id": 1166476031668015104,
      "in_reply_to_status_id": null,
      "conversation_settings": "EVERYONE",
      "nullcast": true,
      "created_at": "Tue Aug 27 22:22:12 +0000 2019",
      "place": null,
      "scheduled_at": null,
      "tweet_type": "PUBLISHED",
      "favorited": false,
      "full_text": "hello, v6",
      "lang": "es",
      "contributors": [
        2417045708
      ],
      "in_reply_to_screen_name": null,
      "in_reply_to_user_id_str": null,
      "user": {
        "id": 756201191646691328,
        "id_str": "756201191646691328"
      },
      "tweet_id": "1166476031668015104"
    }
  ]
}
```

#### POST accounts/:account\_id/tweet

Créez un Post pour l’utilisateur promouvable « FULL » du compte (par défaut) ou pour l’utilisateur spécifié dans le paramètre `as_user_id`. La création de Posts nullcastés (par défaut) et organiques est prise en charge. Les Posts nullcastés n’apparaissent pas dans la timeline publique et ne sont pas diffusés aux abonnés. Les deux types peuvent être utilisés dans des campagnes.

Si l’utilisateur authentifié n’est pas l’utilisateur promouvable « FULL » sur ce compte, vérifiez s’il est autorisé à publier des Posts au nom de cet utilisateur en envoyant une requête à l’endpoint [GET accounts/:account\_id/authenticated\_user\_access](https://developer.x.com/en/docs/ads/campaign-management/api-reference/authenticated-user-access#get-accounts-account-id-authenticated-user-access). Une permission `TWEET_COMPOSER` indique que l’utilisateur peut utiliser cet endpoint pour créer des Posts nullcastés au nom de l’utilisateur [promouvable](https://developer.x.com/en/docs/ads/campaign-management/api-reference/promotable-users#get-accounts-account-id-promotable-users) « FULL ».

Lorsque vous utilisez l’endpoint [upload.x.com](https://developer.x.com/rest/reference/post/media/upload) pour les médias, transmettez pour le paramètre `additional_owners` la même valeur `user_id` que la valeur `as_user_id` que vous envoyez à cet endpoint.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/tweet`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte exploité. Apparaît dans le chemin de la ressource et est généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte indiqué doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| as\_user\_id   _obligatoire_ | L’ID de l’utilisateur annonceur pour le compte duquel vous publiez le Tweet. L’annonceur doit accorder à votre handle (ou à vos handles) l’accès à son compte publicitaire via [ads.x.com](https://ads.x.com/). Cette autorisation vous permet d’appeler l’API en utilisant les jetons OAuth de votre propre handle plutôt que ceux de l’annonceur.  Type : long  Exemple : `756201191646691328` |
| text   _parfois obligatoire_ | Le texte de votre mise à jour de statut. Requis si aucun `media_keys` n’est indiqué.  Type : string  Exemple : `hello, world` |
| card\_uri   _facultatif_ | Associez une carte au Tweet à l’aide de la valeur `card_uri` renvoyée par toute réponse de cartes, si disponible.  Type : string  Exemple : `card://853503245793641682` |
| conversation\_settings   _facultatif_ | Choisissez qui peut répondre à ce Tweet. Toute personne mentionnée peut toujours répondre.  Remarque : ce champ ne sera pas renvoyé dans la réponse à la requête POST, mais le sera lors d’une requête GET.  Remarque : ce paramètre ne fonctionne que dans l’API publicitaire X v8 et versions ultérieures.  Type : enum  Valeur par défaut : `EVERYONE`   Valeurs possibles : `EVERYONE`, `FOLLOWING`, `MENTIONED_USERS` |
| media\_keys   _facultatif_ | Associez des médias au Tweet en indiquant une liste d’identifiants séparés par des virgules. Incluez jusqu’à 4 images, 1 GIF animé ou 1 vidéo.  Type : string  Exemple : `13_1153584529292270722` |
| name   _facultatif_ | Le nom du Tweet. Longueur maximale : 80 caractères.  Type : string  Exemple : `Tweet with name` |
| nullcast   _facultatif_ | Indique s’il faut créer un Tweet « nullcasté » (ou « Promoted-only »).  Remarque : les Tweets organiques (`nullcast=false`) ne peuvent être créés que pour l’utilisateur authentifié.  Type : boolean  Valeur par défaut : `true`   Valeurs possibles : `true`, `false` |
| trim\_user   _facultatif_ | Indique s’il faut exclure l’objet user de la réponse du Tweet. Lorsque cette option est activée, la seule partie de l’objet user renvoyée est l’ID de l’auteur du Tweet.  Type : boolean  Valeur par défaut : `false`   Valeurs possibles : `true`, `false` |
| tweet\_mode   _facultatif_ | Indique si la réponse doit être en mode compatibility ou extended. Voir [ce document](https://developer.x.com/overview/api/upcoming-changes-to-tweets#rendering-modes) pour plus d’informations.  Type : string  Valeurs possibles : `compat`, `extended` |
| video\_cta   _facultatif_ | L’appel à l’action (CTA) pour la vidéo.  Type : enum  Valeurs possibles : `VISIT_SITE`, `WATCH_NOW` |
| video\_cta\_value   _facultatif_ | La valeur du CTA correspondant pour la vidéo.  Type : string  Exemple : `https://dev.x.com` |
| video\_description   _facultatif_ | La description qui apparaît sous la vidéo. Longueur maximale : 200 caractères.  Type : string  Exemple : `Intégrez la plateforme publicitaire X` |
| video\_title   _facultatif_ | Le titre (accroche) qui apparaît sous la vidéo. Longueur maximale : 70 caractères.  Type : string  Exemple : `API publicitaire X` |

<div id="example-request">
  #### Exemple de requête
</div>

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/tweet?text=hello, world&as_user_id=756201191646691328&trim_user=true`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "data": {
    "created_at": "Sat Jun 24 05:08:30 +0000 2017",
    "id": 878479925472251906,
    "id_str": "878479925472251906",
    "text": "hello, world",
    "name": null,
    "truncated": false,
    "entities": {
      "hashtags": [],
      "symbols": [],
      "user_mentions": [],
      "urls": []
    },
    "source": "<a href='"https://ads-api.x.com"' rel='"nofollow"'>Ads API Internal Test App</a>",
    "in_reply_to_status_id": null,
    "in_reply_to_status_id_str": null,
    "in_reply_to_user_id": null,
    "in_reply_to_user_id_str": null,
    "in_reply_to_screen_name": null,
    "user": {
      "id": 756201191646691328,
      "id_str": "756201191646691328"
    },
    "geo": null,
    "coordinates": null,
    "place": null,
    "contributors": null,
    "retweet_count": 0,
    "favorite_count": 0,
    "favorited": false,
    "retweeted": false,
    "scopes": {
      "followers": false
    },
    "lang": "en"
  },
  "request": {
    "params": {
      "text": "hello, world",
      "trim_user": true,
      "as_user_id": 756201191646691328,
      "account_id": "18ce54d4x5t"
    }
  }
}
```

Met à jour le champ `name` du Tweet spécifié appartenant au compte en cours.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/tweets/:tweet_id/name`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et est généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte indiqué doit être associé à l’utilisateur authentifié.  Type : chaîne  Exemple : `18ce54d4x5t` |
| tweet\_id   _obligatoire_ | Une référence au post avec lequel vous opérez dans la requête.  Type : long  Exemple : `994747471329873920` |
| name   _facultatif_ | Le nom du post. Longueur maximale : 80 caractères.  Type : chaîne  Exemple : `Tweet with name` |

<div id="example-request">
  #### Exemple de requête
</div>

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/tweets/994747471329873920/name?name=new Tweet name`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "tweet_id": 994747471329873920,
      "name": "nouveau nom de Tweet",
      "account_id": "18ce54d4x5t"
    }
  },
  "data": {
      "coordinates": null,
      "retweeted": false,
      "name": "nouveau nom de Tweet",
      "conversation_settings": "EVERYONE",
      "source": "<a href=\"https://ads-api.x.com\" rel=\"nofollow\">Ads API Internal Test App</a>",
      "entities": {
        "hashtags": [],
        "symbols": [],
        "user_mentions": [],
        "urls": []
      },
      "display_text_range": [
        0,
        5
      ],
      "favorite_count": 0,
      "in_reply_to_status_id_str": null,
      "geo": null,
      "id_str": "994747471329873920",
      "scopes": {
        "followers": false
      },
      "in_reply_to_user_id": null,
      "truncated": false,
      "retweet_count": 0,
      "scheduled_status": null,
      "id": 994747471329873920,
      "in_reply_to_status_id": null,
      "nullcast": true,
      "created_at": "Wed Jan 01 00:00:00 +0000 2020",
      "place": null,
      "scheduled_at": null,
      "tweet_type": "PUBLISHED",
      "favorited": false,
      "full_text": "hello",
      "lang": "en",
      "contributors": null,
      "in_reply_to_screen_name": null,
      "in_reply_to_user_id_str": null,
      "user": {
        "utc_offset": null,
        "name": "Tushar Bhushan",
        "friends_count": 1065,
        "screen_name": "imit8me",
        "location": "San Francisco, CA",
        "protected": false,
        "url": "https://tushdante.github.io",
        "profile_image_url": "http://pbs.twimg.com/profile_images/618551153131786241/g-MIydXB_normal.jpg",
        "profile_background_color": "C0DEED",
        "profile_use_background_image": true,
        "is_translator": false,
        "geo_enabled": true,
        "description": "Open Sorcerer / Partner Engineer @twitter / Space Traveller | Former evangelist @sendgrid @keen_io",
        "profile_link_color": "1DA1F2",
        "id_str": "3271358660",
        "listed_count": 31,
        "default_profile_image": false,
        "followers_count": 407,
        "profile_image_url_https": "https://pbs.twimg.com/profile_images/618551153131786241/g-MIydXB_normal.jpg",
        "profile_sidebar_border_color": "C0DEED",
        "profile_background_image_url": "http://abs.twimg.com/images/themes/theme1/bg.png",
        "favourites_count": 5993,
        "following": null,
        "default_profile": true,
        "withheld_in_countries": [],
        "id": 3271358660,
        "profile_background_tile": false,
        "contributors_enabled": false,
        "follow_request_sent": null,
        "created_at": "Tue Jul 07 22:34:58 +0000 2015",
        "profile_sidebar_fill_color": "DDEEF6",
        "translator_type": "regular",
        "lang": null,
        "profile_text_color": "333333",
        "notifications": null,
        "verified": false,
        "time_zone": null,
        "profile_banner_url": "https://pbs.twimg.com/profile_banners/3271358660/1474853576",
        "statuses_count": 500,
        "profile_background_image_url_https": "https://abs.twimg.com/images/themes/theme1/bg.png",
        "is_translation_enabled": false
      },
      "tweet_id": "994747471329873920"
    }
}
```

<div id="video-conversation-cards">
  ### Cartes de conversation vidéo
</div>

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Exécuter dans Postman
</Button>

**Remarque** : pour associer une carte à un post, utilisez le paramètre `card_uri` avec l’un des endpoints [POST accounts/:account\_id/tweet](https://developer.x.com/en/docs/ads/creatives/api-reference/tweets#post-accounts-account-id-tweet), [POST statuses/update](https://developer.x.com/en/docs/tweets/post-and-engage/api-reference/post-statuses-update#post-statuses-update) ou [POST accounts/:account\_id/scheduled\_tweets](https://developer.x.com/en/docs/ads/creatives/api-reference/scheduled-tweets#post-accounts-account-id-scheduled-tweets).

#### GET accounts/:account\_id/cards/video\_conversation

Récupérer les détails de certaines ou de toutes les cartes de conversation vidéo associées au compte en cours.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/video_conversation`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte exploité. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| card\_ids   _optionnel_ | Limite la réponse aux cartes de conversation vidéo souhaitées en spécifiant une liste d’identifiants séparés par des virgules. Jusqu’à 200 ID peuvent être fournis.  Type : string  Exemple : `5a86h` |
| count   _optionnel_ | Indique le nombre d’enregistrements à tenter de récupérer par requête.  Type : int  Par défaut : `200`   Min, Max : `1`, `1000` |
| cursor   _optionnel_ | Indique un curseur pour obtenir la page suivante de résultats. Voir [Pagination](https://developer.x.com/x-ads-api/introduction) pour plus d’informations.  Type : string  Exemple : `8x7v00oow` |
| q   _optionnel_ | Requête facultative pour filtrer les cartes par `name`. Omettez ce paramètre pour tout récupérer. Longueur maximale : 80 caractères.  **Remarque** : effectue une correspondance de préfixe insensible à la casse.  Type : string  Exemple : `night sky` |
| sort\_by   _optionnel_ | Trie selon un attribut pris en charge, par ordre ascendant ou descendant. Voir [Sorting](https://developer.x.com/x-ads-api/fundamentals/sorting) pour plus d’informations.  Type : string  Exemple : `created_at-asc` |
| with\_deleted   _optionnel_ | Inclure les résultats supprimés dans la requête.  Type : boolean  Par défaut : `false`   Valeurs possibles : `true`, `false` |
| with\_total\_count   _optionnel_ | Inclure l’attribut de réponse `total_count`.  **Remarque** : ce paramètre et `cursor` sont mutuellement exclusifs.  **Remarque** : les requêtes incluant `total_count` seront soumises à des limites de débit plus faibles, actuellement fixées à 200 par période de 15 minutes.  Type : boolean  Par défaut : `false`   Valeurs possibles : `true`, `false` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/video_conversation?card_ids=5a86h`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "card_type": "video_conversation",
      "card_ids": [
        "5a86h"
      ],
      "account_id": "18ce54d4x5t"
    }
  },
  "next_cursor": null,
  "data": [
    {
      "name": "video conversation card",
      "first_cta": "#APIs",
      "video_height": "9",
      "media_url": "https://video.twimg.com/amplify_video/vmap/958388276489895936.vmap",
      "thank_you_text": "Build it",
      "video_owner_id": "756201191646691328",
      "media_key": "13_958388276489895936",
      "id": "5a86h",
      "video_width": "16",
      "first_cta_tweet": "Ads API",
      "created_at": "2018-01-30T17:53:04Z",
      "card_uri": "card://958397665015775232",
      "title": "Developers",
      "updated_at": "2018-01-30T17:53:04Z",
      "poster_media_url": "https://pbs.twimg.com/amplify_video_thumb/958388276489895936/img/W-OL5rZ_MZ19A7Pa.jpg",
      "deleted": false,
      "card_type": "VIDEO_CONVERSATION"
    }
  ]
}
```

Récupérez une carte de conversation vidéo spécifique associée au compte actuel.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/video_conversation/:card_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _requis_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et est généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| card\_id   _requis_ | Référence à la carte de conversation vidéo utilisée dans la requête.  Type : string  Exemple : `4i0ya` |
| with\_deleted   _optionnel_ | Inclure les éléments supprimés dans la réponse.  Type : boolean  Par défaut : `false`   Valeurs possibles : `true`, `false` |

<div id="example-request">
  #### Exemple de requête
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/video_conversation/5a86h`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "request": {
    "params": {
      "card_type": "video_conversation",
      "card_id": "5a86h",
      "account_id": "18ce54d4x5t"
    }
  },
  "data": {
    "name": "video conversation card",
    "first_cta": "#APIs",
    "video_height": "9",
    "media_url": "https://video.twimg.com/amplify_video/vmap/958388276489895936.vmap",
    "thank_you_text": "Build it",
    "video_owner_id": "756201191646691328",
    "media_key": "13_958388276489895936",
    "id": "5a86h",
    "video_width": "16",
    "first_cta_tweet": "API publicitaire X",
    "created_at": "2018-01-30T17:53:04Z",
    "card_uri": "card://958397665015775232",
    "title": "Developers",
    "updated_at": "2018-01-30T17:53:04Z",
    "poster_media_url": "https://pbs.twimg.com/amplify_video_thumb/958388276489895936/img/W-OL5rZ_MZ19A7Pa.jpg",
    "deleted": false,
    "card_type": "VIDEO_CONVERSATION"
  }
}
```

#### POST accounts/:account\_id/cards/video\_conversation

Crée une nouvelle carte de conversation vidéo associée au compte spécifié.

Consultez [Téléchargement de médias](https://developer.x.com/rest/public/uploading-media) pour des informations utiles sur le téléchargement d’images vers nos endpoints.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/video_conversation`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte exploité. Figure dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : chaîne  Exemple : `18ce54d4x5t` |
| first\_cta   _obligatoire_ | Le hashtag d’appel à l’action (CTA) pour la première option. Longueur maximale : 20 caractères (sans compter le #).  Type : chaîne  Exemple : `#APIs` |
| first\_cta\_tweet   _obligatoire_ | Le texte du Tweet à utiliser lorsque le premier CTA est cliqué.  Type : chaîne  Exemple : `Ads API` |
| media\_key   _obligatoire_ | La clé média d’une vidéo à utiliser dans cette carte.  **Remarque** : la vidéo doit se trouver dans la [bibliothèque de médias](https://developer.x.com/en/docs/ads/creatives/api-reference/media-library#media-library) du compte.  **Remarque** : un format d’image 16:9 est requis.  Type : chaîne  Exemple : `13_1168079965037467209` |
| name   _obligatoire_ | Le nom de la carte.  Type : chaîne  Exemple : `video conversation card` |
| thank\_you\_text   _obligatoire_ | Le texte à afficher après le clic sur le CTA. Longueur maximale : 23 caractères.  Type : chaîne  Exemple : `Build it` |
| title   _parfois obligatoire_ | Le titre de la carte, qui apparaît sous la vidéo et au-dessus des CTA. Longueur maximale : 23 caractères.  Type : chaîne  **Remarque** : requis si `second_cta` n’est `pas` défini.  Exemple : `Developers` |
| second\_cta   _parfois obligatoire_ | Le hashtag d’appel à l’action (CTA) pour la deuxième option. Longueur maximale : 20 caractères (sans compter le #).  Type : chaîne  **Remarque** : requis si `title` n’est `pas` défini.  Exemple : `#ShareAgain` |
| second\_cta\_tweet   _parfois obligatoire_ | Le texte du Tweet à utiliser lorsque le deuxième CTA est cliqué.  **Remarque** : requis si `second_cta` est défini.  Type : chaîne  Exemple : `I Heart @AdsAPI Again` |
| poster\_media\_key   _facultatif_ | La clé média d’une image d’affiche à utiliser dans cette carte. Si elle n’est pas spécifiée, la première image sera utilisée.  **Remarque** : la vidéo doit se trouver dans la [bibliothèque de médias](https://developer.x.com/en/docs/ads/creatives/api-reference/media-library#media-library) du compte.  Type : long  Exemple : `3_882726458191298561` |
| third\_cta   _facultatif_ | Le hashtag d’appel à l’action (CTA) pour la troisième option. Longueur maximale : 20 caractères (sans compter le #).  Type : chaîne  Exemple : `#ShareMore` |
| third\_cta\_tweet   _parfois obligatoire_ | Le texte du Tweet à utiliser lorsque le troisième CTA est cliqué.  Type : chaîne  **Remarque** : requis si `third_cta` est défini.  Exemple : `I Heart @TwitterDev` |
| fourth\_cta   _facultatif_ | Le hashtag d’appel à l’action (CTA) pour la quatrième option. Longueur maximale : 20 caractères (sans compter le #).  Type : chaîne  Exemple : `#ShareExtra` |
| fourth\_cta\_tweet   _parfois obligatoire_ | Le texte du Tweet à utiliser lorsque le quatrième CTA est cliqué.  Type : chaîne  **Remarque** : requis si `fourth_cta` est défini.  Exemple : `I Heart @TwitterDev Again` |
| thank\_you\_url   _facultatif_ | L’URL à afficher avec le texte de remerciement.  Type : chaîne  Exemple : `https://example.com/thankyou` |
| unlocked\_image\_media\_key   _facultatif_ | Un `media_key` d’une image qui sera utilisée dans le scénario de déverrouillage instantané.  Champ en écriture seule. Dans la réponse, l’API fournira une URL X pour cette image.  **Remarque** : l’image doit se trouver dans la bibliothèque de médias du compte.  **Type** : chaîne  Exemple : `3_883112887618682880` || unlocked\_video\_media\_key   _facultatif_ | Identifiant d’une vidéo renvoyée par le point de terminaison [GET accounts/:account\_id/media\_library](https://developer.x.com/en/docs/ads/creatives/api-reference/media_library#get-accounts-account-id-media-library), utilisée dans le scénario de déverrouillage instantané.  Type : chaîne  Exemple : `13_867520357225418752` |

<div id="example-request">
  #### Exemple de requête
</div>

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/video_conversation?first_cta=#APIs&first_cta_tweet=Ads API&name=video conversation card&thank_you_text=Build it&title=Developers&media_key=13_958388276489895936`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "data": {
    "name": "video conversation card",
    "first_cta": "#APIs",
    "video_height": "9",
    "media_url": "https://video.twimg.com/amplify_video/vmap/958388276489895936.vmap",
    "thank_you_text": "Build it",
    "video_owner_id": "756201191646691328",
    "media_key": "13_958388276489895936",
    "id": "5a86h",
    "video_width": "16",
    "first_cta_tweet": "Ads API",
    "created_at": "2018-01-30T17:53:04Z",
    "card_uri": "card://958397665015775232",
    "title": "Developers",
    "updated_at": "2018-01-30T17:53:04Z",
    "poster_media_url": "https://pbs.twimg.com/amplify_video_thumb/958388276489895936/img/W-OL5rZ_MZ19A7Pa.jpg",
    "deleted": false,
    "card_type": "VIDEO_CONVERSATION"
  },
  "request": {
    "params": {
      "video_poster_height": "9",
      "name": "video conversation card",
      "first_cta": "#APIs",
      "video_height": "9",
      "media_url": "https://video.twimg.com/amplify_video/vmap/958388276489895936.vmap",
      "thank_you_text": "Build it",
      "video_owner_id": "756201191646691328",
      "media_key": "13_958388276489895936",
      "account_id": "18ce54d4x5t",
      "video_width": "16",
      "first_cta_tweet": "Ads API",
      "title": "Developers",
      "poster_media_url": "https://pbs.twimg.com/amplify_video_thumb/958388276489895936/img/W-OL5rZ_MZ19A7Pa.jpg",
      "video_poster_width": "16",
      "card_type": "VIDEO_CONVERSATION"
    }
  }
}
```

Met à jour la carte de conversation vidéo spécifiée appartenant au compte en cours.

Voir [Téléchargement de médias](https://developer.x.com/rest/public/uploading-media) pour des informations utiles sur le téléchargement d’images vers nos endpoints.

<div id="resource-url">
  #### URL de la ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/video_conversation/:card_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _requis_ | L’identifiant du compte utilisé. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte indiqué doit être associé à l’utilisateur authentifié.  Type : string  Exemple : `18ce54d4x5t` |
| card\_id   _requis_ | Référence à la carte de conversation vidéo utilisée dans la requête.  Type : string  Exemple : `5a86h` |
| first\_cta   _facultatif_ | Le hashtag d’appel à l’action (CTA) pour la première option. Longueur maximale : 20 caractères (sans compter le #).  Type : string  Exemple : `#APIs` |
| first\_cta\_tweet   _facultatif_ | Le texte du Tweet à utiliser lorsque le premier CTA est cliqué.  Type : string  Exemple : `Ads API` |
| second\_cta   _facultatif_ | Le hashtag d’appel à l’action (CTA) pour la deuxième option. Longueur maximale : 20 caractères (sans compter le #).  Type : string  **Remarque** : Requis si `title` n’est `pas` défini.  Exemple : `#ShareAgain` |
| second\_cta\_tweet   _facultatif_ | Le texte du Tweet à utiliser lorsque le deuxième CTA est cliqué.  **Remarque** : Requis si `second_cta` est défini.  Type : string  Exemple : `I Heart @AdsAPI Again` |
| third\_cta   _facultatif_ | Le hashtag d’appel à l’action (CTA) pour la troisième option. Longueur maximale : 20 caractères (sans compter le #).  Type : string  Exemple : `#ShareMore` |
| third\_cta\_tweet   _facultatif_ | Le texte du Tweet à utiliser lorsque le troisième CTA est cliqué.  Type : string  **Remarque** : Requis si `third_cta` est défini.  Exemple : `I Heart @TwitterDev` |
| fourth\_cta   _facultatif_ | Le hashtag d’appel à l’action (CTA) pour la quatrième option. Longueur maximale : 20 caractères (sans compter le #).  Type : string  Exemple : `#ShareExtra` |
| fourth\_cta\_tweet   _facultatif_ | Le texte du Tweet à utiliser lorsque le quatrième CTA est cliqué.  Type : string  **Remarque** : Requis si `fourth_cta` est défini.  Exemple : `I Heart @TwitterDev Again` |
| media\_key   _facultatif_ | La clé média d’une vidéo à utiliser dans cette carte.  **Remarque** : La vidéo doit se trouver dans la [bibliothèque de médias](https://developer.x.com/en/docs/ads/creatives/api-reference/media-library#media-library) du compte.  **Remarque** : Un ratio 16:9 est requis.  Type : string  Exemple : `13_1168079965037467209` |
| name   _facultatif_ | Le nom de la carte.  Type : string  Exemple : `developers card` |
| poster\_media\_key   _facultatif_ | La clé média d’une image d’affiche à utiliser dans cette carte. Si elle n’est pas spécifiée, la première image de la vidéo sera utilisée.  **Remarque** : La vidéo doit se trouver dans la [bibliothèque de médias](https://developer.x.com/en/docs/ads/creatives/api-reference/media-library#media-library) du compte.  Type : long  Exemple : `3_882726458191298561` |
| thank\_you\_text   _facultatif_ | Le texte à afficher après le clic sur le CTA. Longueur maximale : 23 caractères.  Type : string  Exemple : `Build it` |
| thank\_you\_url   _facultatif_ | L’URL à afficher avec le texte de remerciement.  Type : string  Exemple : `https://example.com/thankyou` |
| title   _facultatif_ | Le titre de la carte, affiché sous la vidéo et au-dessus des CTA. Longueur maximale : 23 caractères.  Type : string  **Remarque** : Requis si `second_cta` n’est `pas` défini.  Exemple : `Start a conversation` |
| unlocked\_image\_media\_key   _facultatif_ | Un `media_key` d’une image utilisée dans le scénario de déverrouillage instantané. Champ en écriture seule. Dans la réponse, l’API fournira une URL X pour cette image.  **Remarque** : L’image doit se trouver dans la bibliothèque de médias du compte.  Type : string  Exemple : `3_883112887618682880` || unlocked\_video\_media\_key   _facultatif_ | L’identifiant d’une vidéo renvoyée par le point de terminaison [GET accounts/:account\_id/media\_library](https://developer.x.com/en/docs/ads/creatives/api-reference/media-library#get-accounts-account-id-media-library) qui sera utilisé dans le scénario de déverrouillage instantané.  Type : chaîne  Exemple : `13_867520357225418752` |

<div id="example-request">
  #### Exemple de requête
</div>

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/video_conversation/5a86h?name=developers card`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "data": {
    "name": "developers card",
    "first_cta": "#APIs",
    "video_height": "9",
    "media_url": "https://video.twimg.com/amplify_video/vmap/958388276489895936.vmap",
    "thank_you_text": "Build it",
    "video_owner_id": "756201191646691328",
    "media_key": "13_958388276489895936",
    "id": "5a86h",
    "video_width": "16",
    "first_cta_tweet": "Ads API",
    "created_at": "2018-01-30T17:53:04Z",
    "card_uri": "card://958397665015775232",
    "title": "Developers",
    "updated_at": "2018-01-30T18:02:15Z",
    "poster_media_url": "https://pbs.twimg.com/amplify_video_thumb/958388276489895936/img/W-OL5rZ_MZ19A7Pa.jpg",
    "deleted": false,
    "card_type": "VIDEO_CONVERSATION"
  },
  "request": {
    "params": {
      "account_id": "18ce54d4x5t",
      "card_type": "VIDEO_CONVERSATION",
      "card_id": "5a86h",
      "name": "developers card"
    }
  }
}
```

Supprimez définitivement la carte de conversation vidéo spécifiée appartenant au compte actuel.

Remarque : il s’agit d’une suppression définitive. Il est donc impossible de récupérer des cartes supprimées.

<div id="resource-url">
  #### URL de ressource
</div>

`https://ads-api.x.com/12/accounts/:account_id/cards/video_conversation/:card_id`

<div id="parameters">
  #### Paramètres
</div>

| Nom | Description |
| :--- | :--- |
| account\_id   _obligatoire_ | L’identifiant du compte exploité. Apparaît dans le chemin de la ressource et constitue généralement un paramètre requis pour toutes les requêtes de l’API publicitaire X, à l’exception de [GET accounts](https://developer.x.com/en/docs/ads/campaign-management/api-reference/accounts#get-accounts). Le compte spécifié doit être associé à l’utilisateur authentifié.  Type : chaîne  Exemple : `18ce54d4x5t` |
| card\_id   _obligatoire_ | Référence à la carte de conversation vidéo utilisée dans la requête.  Type : chaîne  Exemple : `4i0ya` |

<div id="example-request">
  #### Exemple de requête
</div>

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/cards/video_conversation/4i0ya`

<div id="example-response">
  #### Exemple de réponse
</div>

```
{
  "data": {
    "name": "video conversation card",
    "id": "4i0ya",
    "created_at": "2017-07-07T01:36:39Z",
    "updated_at": "2017-08-23T13:29:13Z",
    "deleted": true,
    "card_type": "VIDEO_CONVERSATION"
  },
  "request": {
    "params": {
      "card_id": "4i0ya",
      "card_type": "video_conversation",
      "account_id": "18ce54d4x5t"
    }
  }
}
```