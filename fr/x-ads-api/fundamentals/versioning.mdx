---
title: Versions
---

Pour obtenir les informations les plus à jour sur les versions historiques de l’API publicitaire X, veuillez consulter les informations ci-dessous.

| Version | Chemin | Date d’introduction | Date de dépréciation | Date de fin de vie |
|:---------|:---------|:--------------------|:------------------|:-------------------|
| [12.0](#) | /12/    | 27 octobre 2022   | À déterminer              | À déterminer               |
| [11.0](https://devcommunity.x.com/t/ads-api-version-11/168814) | /11/    | 31 mars 2022    | À déterminer              | À déterminer               |
| [10.0](#v9) | /10/    | 31 août 2021    | 31 mars 2022   | 27 octobre 2022  |
| [9.0](#v9)  | /9/     | 2 mars 2021      | 31 août 2021  | 31 mars 2022    |
| [8.0](#v8)  | /8/     | 8 septembre 2020  | 2 mars 2021    | 31 août 2021    |
| [7.0](#v7)  | /7/     | 3 mars 2020      | 1 septembre 2020 | 2 mars 2021     |
| [6.0](#v6)  | /6/     | 28 août 2019    | 3 mars 2020    | 1 septembre 2020 |
| [5.0](#v5)  | /5/     | 28 février 2019  | 28 août 2019  | 3 mars 2020     |
| [4.0](#v4)  | /4/     | 28 août 2018    | 28 février 2019 | 28 août 2019   |
| [3.0](#v3)  | /3/     | 1er février 2018   | 28 août 2018  | 28 février 2019 |
| [2.0](#v2)  | /2/     | 10 juillet 2017      | 1er février 2018 | 1er août 2018    |
| [1.0](#v1)  | /1/     | 31 mars 2016     | 7 juillet 2017     | 10 janvier 2018  |
| [0.0](#v0)  | /0/     | 21 février 2013   | N/A              | 31 octobre 2016  |

<div id="overview">
  ## Vue d’ensemble
</div>

Chaque mois, nous apportons des modifications et déployons plusieurs nouvelles fonctionnalités sur l’API publicitaire X. Ces changements sont presque toujours rétrocompatibles, mais nous introduisons généralement chaque année un petit nombre de changements incompatibles. Nous avons reçu des retours de développeurs sur les difficultés que la cadence rapide des évolutions de l’API publicitaire impose à leurs cycles de développement pour implémenter de nouvelles fonctionnalités, gérer les mises hors service et tester les changements. Nous souhaitons améliorer l’expérience développeur sur notre plateforme publicitaire, c’est pourquoi nous avons introduit le concept de versionnage de nos endpoints.

Quelques définitions des concepts abordés :

**Version** : le numéro de version figurant dans le chemin d’URL de toute requête à l’API publicitaire, par exemple : GET /{version_number}/accounts. Ce style de versionnage est connu sous le nom de versionnage URI.

**Changements incompatibles** : toute modification nécessitant des ressources de développement pour maintenir la fonctionnalité existante. Cela inclut les ressources consacrées à l’analyse des modifications à apporter, à l’identification des fonctionnalités/endpoints mis hors service et à l’implémentation finale de l’ensemble de ces changements. Parmi les changements incompatibles, on peut citer :

- Suppression d’un paramètre dans la requête ou la réponse de l’API

- Modification du nom de paramètres ou d’endpoints

- Changement de la représentation des valeurs (preview\_url → card\_uri)

- Changement de comportement des endpoints (p. ex., stats asynchrones vs synchrones)

- Ajout ou modification de paramètres optionnels ou obligatoires (p. ex., rendre name un champ obligatoire dans la requête)

**Mise hors service** : Les versions ou produits mis hors service ne seront plus pris en charge et il est recommandé aux développeurs de cesser d’utiliser ces API.

**Fin de vie** : Une fois qu’un produit ou une API est en fin de vie, l’ensemble correspondant d’endpoints ne sera plus accessible via l’API.

<div id="versioning-strategy">
  ## Stratégie de gestion des versions
</div>

Les principes clés de cette stratégie sont les suivants :

1. Toutes les modifications incompatibles seront regroupées dans une nouvelle version

2. La période de mise hors service (dépréciation) des versions existantes lorsqu’une nouvelle version est annoncée est de 6 mois

3. À tout moment, l’API acceptera des requêtes de deux versions simultanément ; toutefois, la plus ancienne des deux ne sera pas prise en charge

4. Afin de favoriser une adoption plus rapide des nouveaux produits, ceux-ci seront publiés en continu (en dehors du rythme de versionnement)

5. Toutes les réponses de l’API contiendront un en-tête `x-current-api-version`, défini sur la version actuelle de l’API, ainsi qu’un en-tête `x-api-warn` lors de l’appel de tout point de terminaison d’API obsolète.

S’il devait y avoir des changements fondamentaux des exigences produit nécessitant une modification incompatible de l’API (par exemple, l’abandon du ciblage par plusieurs tranches d’âge), nous enverrons un préavis de 90 jours pour annoncer cette modification incompatible, et au moins 90 jours après la publication de l’avis, la modification sera déployée

<div id="v9">
  ### v9
</div>

Aujourd’hui, 3 mars 2021, la version 9 (v9) de l’API publicitaire X est disponible. Cette version vise à accroître la parité fonctionnelle, à simplifier la création de campagnes et à introduire des mises à jour majeures pour nos endpoints Cards et Mobile App Promotion.

Comme pour les versions précédentes, une période de transition de 6 mois est prévue pour migrer vers v9. Le 31 août 2021, la version 8 (v8) de l’API publicitaire ne sera plus disponible. Nous encourageons tous les développeurs à passer à la dernière version de l’API publicitaire dès que possible afin d’éviter toute interruption de service.

<Note>
  **Remarque :** À compter de cette version, la version 7 (v7) de l’API publicitaire a atteint sa fin de vie et n’est plus disponible.
</Note>

Pour plus de détails, veuillez consulter l’[annonce sur le forum des développeurs](https://devcommunity.x.com/t/ads-api-version-9/150316).

<div id="v8">
  ### v8
</div>

Aujourd’hui, le 20 septembre 2020, nous présentons la version 8 de l’API publicitaire X, conçue pour introduire de nouvelles fonctionnalités d’Audience personnalisée, renforcer la parité fonctionnelle avec ads.x.com et améliorer l’expérience des développeurs.

Comme pour les versions précédentes, une période de transition de six mois est prévue pour migrer vers v8. Le 2 mars 2021, la version 7 de l’API publicitaire ne sera plus disponible. Nous encourageons tous les développeurs à migrer vers la dernière version de l’API dès que possible afin d’éviter toute interruption de service.

Pour plus de détails, veuillez consulter l’[annonce sur le forum des développeurs](https://devcommunity.x.com/t/ads-api-version-8/141914).

<div id="v7">
  ### v7
</div>

Aujourd’hui, le 20 mars 2020, nous présentons la version 7 de l’API publicitaire X, conçue pour améliorer la parité des fonctionnalités avec [ads.x.com](http://ads.x.com/).

Comme pour les [versions](https://developer.x.com/en/docs/ads/general/overview/versions) précédentes, une période de transition de 6 mois est prévue pour migrer vers v7. À partir du 2020-09-01, la version 6 de l’API publicitaire ne sera plus disponible. Nous encourageons tous les développeurs à passer à la dernière version de l’API dès que possible afin d’éviter toute interruption de service. La version 5 de l’API publicitaire est arrivée en fin de vie et n’est plus disponible.

Pour plus de détails, veuillez consulter l’[annonce sur le forum des développeurs](https://devcommunity.x.com/t/ads-api-version-7/135093).

<div id="v6">
  ### v6
</div>

Aujourd’hui, le 28 août 2019, X lance l’API publicitaire X v6, avec des mises à jour axées sur la cohérence et l’amélioration de l’expérience développeur.

Cette version inclut un nouvel endpoint pour récupérer des Tweets, des statistiques pour les Comptes sponsorisés, la possibilité de rechercher des entités par nom, ainsi que des informations sur le nombre actuel de tâches d’analytique asynchrones en cours de traitement. De plus, nous avons apporté des mises à jour axées sur la cohérence aux endpoints qui utilisent des médias ainsi qu’à nos endpoints de critères de ciblage. Enfin, nous avons apporté de légères mises à jour à certains de nos noms de paramètres et attributs de réponse et nous déprécions l’endpoint Scoped Timeline.

Pour plus de détails, veuillez consulter l’[annonce sur le forum des développeurs](https://devcommunity.x.com/t/ads-api-version-6/129060).

<div id="v5">
  ### v5
</div>

Aujourd’hui, 28 février 2019, X présente l’API publicitaire X v5, avec des mises à jour axées sur la montée en charge et l’efficacité.

Cette version inclut un nouvel endpoint pour déterminer quelles entités étaient actives sur une période donnée, des statistiques pour les créations média (c.-à-d. des vidéos In-stream et des images sur la X Audience Platform), la possibilité de récupérer _plusieurs_ cartes par URI de carte, ainsi qu’une plus grande flexibilité pour la récupération des critères de ciblage et d’autres entités. Par ailleurs, nous avons corrigé des bogues et mis à jour des noms de paramètres et des attributs de réponse. Enfin, les cartes d’application non multimédia et l’endpoint POST `accounts/:account_id/account_media` ont été déclarés obsolètes.

Comme pour les versions précédentes, une période de transition de 6 mois est prévue pour migrer vers la v5. Le **2019-08-28**, la version 4 de l’API publicitaire X ne sera plus disponible. Nous encourageons tous les partenaires à migrer vers la dernière version de l’API dès que possible afin d’éviter toute interruption de service. _La version 3 de l’API publicitaire X est arrivée en fin de vie et n’est plus disponible._

<div id="new">
  #### Nouveau
</div>

**Déterminer quelles entités étaient actives**

Le point de terminaison [Entités actives](/fr/x-ads-api/analytics#active-entities-2) indique si les mesures d’analytique pour des entités publicitaires ont changé. Conçu pour être utilisé avec les points de terminaison d’analytique, Entités actives fonctionne en spécifiant un type d’entité et une plage de dates — maximum 90 jours — puis renvoie un tableau d’ID d’entité pour lesquels votre plateforme doit demander des analyses. Les ID autres que ceux renvoyés ne doivent pas être inclus dans les requêtes d’analytique suivantes.

Ce point de terminaison prend en charge les types d’entités suivants : `CAMPAIGN`, `FUNDING_INSTRUMENT`, `LINE_ITEM`, `MEDIA_CREATIVE` et `PROMOTED_TWEET`.

**Statistiques `MEDIA_CREATIVE`**

Les points de terminaison d’analytique de l’API publicitaire X fournissent désormais des mesures pour les entités Media Creative. Les Media Creatives sont le mécanisme de promotion des publicités in-stream ou des images sur la X Audience Platform. L’interface publicitaire X affiche les mesures Media Creative sous les onglets « In-stream videos » et « Display creatives ». Les points de terminaison d’analytique [synchrones](/fr/x-ads-api/analytics#get-stats-accounts-account-id) et [asynchrones](/fr/x-ads-api/analytics#asynchronous-analytics) prennent désormais en charge l’énum `MEDIA_CREATIVE`.

**Récupérer plusieurs cartes**

Faisant évoluer la [version v3](https://devcommunity.x.com/t/ads-api-version-3/100732) du point de terminaison conçu pour récupérer une seule carte via son URI, il est désormais possible de récupérer _plusieurs_ cartes à l’aide du point de terminaison [GET accounts/:account\_id/cards/all](/fr/x-ads-api/creatives#cards-fetch). Plutôt que d’envoyer une requête par carte, vous pouvez récupérer jusqu’à 200 cartes en une seule requête.

Deux points à noter :

1. Le chemin d’URL est désormais `accounts/:account_id/cards/all`. (L’ancien chemin n’est plus disponible.) Cela garantit la cohérence avec [le point de terminaison](/fr/x-ads-api/creatives#cards-fetch) conçu pour récupérer une carte par ID.
2. Le paramètre de requête requis s’appelle désormais card\_uris (pluriel).

**Souplesse dans la récupération**

Le point de terminaison [GET accounts/:account\_id/targeting\_criteria](/fr/x-ads-api/campaign-management#get-accounts-account-id-targeting-criteria) prend désormais en charge plusieurs ID de line item. Le paramètre line\_item\_ids, qui accepte jusqu’à 200 ID, est requis. Auparavant, un seul line item était accepté, ce qui compliquait la synchronisation. Avec ce changement, il est possible de récupérer davantage de ciblages en moins de temps.

Les points de terminaison suivants prennent également désormais en charge plusieurs ID de line item, bien que le paramètre line\_item\_ids y soit facultatif :

- [GET accounts/:account\_id/line\_item\_apps](https://developer.x.com/en/docs/x-ads-api/campaign-management/api-reference/line-item-apps#get-accounts-account-id-line-item-apps)
- [GET accounts/:account\_id/media\_creatives](/fr/x-ads-api/campaign-management#get-accounts-account-id-media-creatives)
- [GET accounts/:account\_id/promoted\_accounts](/fr/x-ads-api/campaign-management#get-accounts-account-id-promoted-accounts)
- [GET accounts/:account\_id/preroll\_call\_to\_actions](/fr/x-ads-api/creatives#preroll-call-to-actions)

<div id="changed">
  #### Modifié
</div>

**Récupération des campagnes et des éléments de ligne à l’état de brouillon**

La méthode de récupération des campagnes et des éléments de ligne à l’état de brouillon a été mise à jour. Désormais, lorsque le paramètre with\_draft(boolean) est défini sur true, il renvoie à la fois les entités en brouillon et celles qui ne le sont pas. Cela est cohérent avec la manière dont les entités supprimées sont récupérées (c.-à-d. via with\_deleted). Auparavant, obtenir à la fois des entités en brouillon et non brouillon nécessitait au moins deux requêtes. Désormais, cela peut se faire en un seul appel d’API.

| **v4** | **v5** |
| :--- | :--- | :--- |
| `draft_only` | `with_draft` |     |

**Ciblage par durée d’activation du réseau**

L’API publicitaire X a résolu un problème d’affichage où, après l’ajout du ciblage par durée d’activation du réseau, le type de ciblage dans la réponse incluait un suffixe \_IN\_SEC. La référence aux secondes prêtait à confusion, car la durée d’activation du réseau est toujours exprimée en mois. Cette correction uniformise la représentation et réduit les ambiguïtés.

| **v4** | **v5** |
| :--- | :--- | :--- |
| `NETWORK_ACTIVATION_DURATION_IN_SEC` | `NETWORK_ACTIVATION_DURATION` |     |

**Totaux et curseurs**

En v5, with\_total\_count et cursor sont mutuellement exclusifs. Spécifier les deux dans une requête renverra le code d’erreur EXCLUSIVE\_PARAMETERS. Avant v5, with\_total\_count était ignoré lorsque cursor était spécifié. Ce changement explicite cette relation.

<div id="removed">
  #### Supprimé
</div>

Trois champs sont retirés des réponses de l’API publicitaire X : preview\_url, account\_id et parent\_ids. L’effort d’ingénierie requis pour ces trois suppressions est minimal.

- En v4, il a été annoncé que le paramètre de réponse preview\_url pour les cartes (cards) était toujours null. La dernière étape de cette migration consiste à supprimer preview\_url de toutes les réponses de cartes.
- L’attribut de réponse account\_id est retiré pour les ressources suivantes, étant donné que l’ID du compte publicitaire figure déjà dans l’URL ainsi que dans request.params. (Il est intentionnel d’exclure les instruments de financement de cette liste, car les IDs parent doivent être présents dans les objets de réponse lorsque c’est possible, et les IDs de compte sont les entités parentes des instruments de financement.)
  - Médias du compte
  - Fournisseurs d’événements d’app
  - Tags d’événements d’app
  - Campagnes
  - Cartes (cards)
  - Éléments de ligne
  - Utilisateurs promouvables
  - Critères de ciblage
- Pour les requêtes [GET accounts/:account\_id/targeting\_criteria](/fr/x-ads-api/campaign-management#get-accounts-account-id-targeting-criteria), nous ne renvoyons plus le champ parent\_ids, car il a toujours été un tableau vide.

**Cartes d’app sans média**

En v5, les cartes d’app sans média ne sont plus prises en charge. [Auparavant](https://devcommunity.x.com/t/deprecation-announcement-app-download-cards/87807), la possibilité de créer ou de modifier des cartes d’app sans média avait été supprimée. Désormais, les endpoints restants pour cette ressource sont en cours de dépréciation.

- Remarque : Cela n’affecte **pas** les cartes de téléchargement d’app image et vidéo.

**Création de médias de compte**

L’endpoint POST accounts/:account\_id/account\_media n’est plus disponible en v5. Les autres endpoints pour cette ressource ne sont _pas_ affectés. Ce changement s’explique par le fait que, lors de l’ajout de médias à la [Médiathèque](/fr/x-ads-api/creatives#media-library), il arrive que ces ressources soient _automatiquement_ ajoutées en tant qu’entités Account Media, et tenter d’ajouter une ressource déjà existante à Account Media entraîne une erreur. Cela se produit dans les cas suivants.

- Les ressources `AMPLIFY_VIDEO` ajoutées à la Médiathèque sont automatiquement ajoutées en tant que ressource Account Media avec le type créatif `PREROLL`.
- Les images avec des dimensions spécifiques ajoutées à la Médiathèque sont automatiquement ajoutées en tant que ressources Account Media. Le type créatif (par exemple, `INTERSTITIAL`) dépend des dimensions de l’image. (Pour les dimensions, voir notre page [Enumerations](/fr/x-ads-api/introduction).)

<div id="v4">
  ### v4
</div>

La version 4 de l’API publicitaire X est lancée aujourd’hui, le 28 août 2018.

Cette version apporte des améliorations à notre produit [Audiences](/fr/x-ads-api/audiences), notamment une nouvelle interface d’API, soutenue par un backend de traitement des audiences plus robuste. La version 4 inclut également un ensemble de points de terminaison pour gérer les paramètres utilisateur, de compte et fiscaux. Par ailleurs, les points de terminaison accounts/:account\_id/videos sont en cours d’abandon. Cette version comprend aussi quelques modifications mineures des noms de paramètres et de réponses.

Comme pour la version 3, nous proposons une période de transition de 6 mois. Le **2019-02-28**, la version 3 de l’API publicitaire X ne sera plus disponible. Nous encourageons tous les partenaires à migrer vers la dernière version de l’API dès que possible afin d’éviter toute interruption de service. Consultez notre page [Versions](/fr/x-ads-api/introduction) pour plus de détails sur notre stratégie de gestion des versions.

<div id="new">
  #### Nouveautés
</div>

_**API Audience**_

La nouvelle API Audience s’appuie sur notre nouveau backend de traitement des audiences, offrant davantage de robustesse et de fiabilité. Ce nouvel endpoint permettra aux partenaires de fournir plusieurs types d’identifiants pour un même utilisateur, ce qui nous permet d’exploiter des signaux supplémentaires pour le rapprochement. La documentation de référence du nouvel endpoint Audience est disponible [ici](/fr/x-ads-api/audiences). Nous prévoyons de continuer à publier des mises à jour et des améliorations de ce produit tout au long de l’année.

Les endpoints suivants ne seront plus disponibles en v4 en raison de fonctionnalités redondantes (ils continueront de fonctionner en v3 et seront entièrement retirés lorsque la v3 ne sera plus disponible) :

- TON Upload :
  - GET accounts/:account\_id/tailored\_audience\_changes
  - GET accounts/:account\_id/tailored\_audience\_changes/:tailored\_audience\_change\_id
  - POST accounts/:account\_id/tailored\_audience\_changes
  - PUT accounts/:account\_id/tailored\_audiences/global\_opt\_out
- Real Time Audiences :
  - POST tailored\_audience\_memberships

Enfin, le paramètre `list_type` sera supprimé de la requête et de la réponse sur _tous_ les [endpoints Tailored Audiences](/fr/x-ads-api/audiences) dans la version 4.

_**Endpoints des paramètres**_

Nous offrons désormais aux administrateurs de compte la possibilité de définir et de mettre à jour les paramètres utilisateur, de compte et fiscaux. Les [paramètres utilisateur](/fr/x-ads-api/campaign-management#get-accounts-account-id-user-settings-user-id) correspondent aux préférences de contact propres à l’utilisateur pour un compte publicitaire donné. À l’aide de l’endpoint [PUT accounts/:account\_id](/fr/x-ads-api/campaign-management#put-accounts-account-id), les annonceurs peuvent désormais mettre à jour le nom de leur compte et leur secteur d’activité. Enfin, les endpoints des [paramètres fiscaux](/fr/x-ads-api/campaign-management#get-accounts-account-id-tax-settings) permettent aux annonceurs dans les pays où une taxe sur la valeur ajoutée (TVA) est appliquée de mettre à jour des informations telles que la raison sociale, l’adresse, l’identifiant de TVA, et d’indiquer si le compte appartient à l’annonceur ou à une agence agissant pour le compte d’un annonceur.

<div id="changed">
  #### Modifié
</div>

_**Renommages de « Universal Lookalike »**_

Nous mettons à jour les valeurs d’énumération du paramètre `lookalike_expansion` sur les endpoints [POST accounts/:account\_id/line\_items](/fr/x-ads-api/campaign-management#post-accounts-account-id-line-items) et [PUT accounts/:accountit/line\_items/:line\_item\_id](/fr/x-ads-api/campaign-management#put-accounts-account-id-line-items-line-item-id).

| **v3** | **v4** |
| :--- | :--- |
| `NARROW` | `DEFINED` |
| `BALANCED` | `EXPANDED` |

**Utilisation de `country_code` partout**

Dans le cadre d’un effort plus large de [cohérence](https://devcommunity.x.com/t/feedback-ads-api-consistency/109145) au sein de l’API publicitaire X, nous renommons les paramètres des endpoints suivants de `app_country_code` en `country_code`.

- [POST accounts/:account\_id/cards/image\_app\_download](https://devcommunity.x.com/t/ads-api-version-11/168814)
- [PUT accounts/:account\_id/cards/image\_app\_download/:card\_id](https://developer.x.com/content/developer-twitterhttps://developer.x.com/en/docs/ads/creatives/api-reference/image-app-download#put-accounts-account-id-cards-image-app-download-card-id)
- [POST accounts/:account\_id/cards/video\_app\_download](https://developer.x.com/content/developer-twitter/en/docs/ads/creatives/api-reference/video-app-download#post-accounts-account-id-cards-video-app-download)
- [PUT accounts/:account\_id/cards/video\_app\_download/:card\_id](https://developer.x.com/content/developer-twitter/en/docs/ads/creatives/api-reference/video-app-download#put-accounts-account-id-cards-video-app-download-card-id)

Cela n’a aucun impact sur le comportement ni sur les valeurs acceptées pour ces paramètres et constitue uniquement un changement d’appellation.

**`preview_url` toujours null**

Comme annoncé pour la v3, toutes les cartes existantes disposent désormais d’un `card_uri`. En conséquence, la valeur de `preview_url` sera toujours `null`.

Pour rappel, associez une carte à un Tweet en utilisant sa valeur `card_uri`. Voir l’exemple de requête ci-dessous.

$ twurl -X POST -H ads-api.x.com "/4/accounts/18ce54d4x5t/tweet?text=Version 4\&card\_uri=card://958225772740714496"

<div id="removed">
  #### Supprimé
</div>

**Endpoints vidéo**

Les endpoints accounts/:account\_id/videos ne seront plus disponibles en v4. Ces endpoints sont désormais obsolètes avec l’introduction des endpoints [Media Library](/fr/x-ads-api/creatives#get-accounts-account-id-media-library). Voir la comparaison d’utilisation ci-dessous.

- Endpoint vidéos v3 : `twurl -H ads-api.x.com "/3/accounts/18ce54d4x5t/videos"`

- Endpoint v4 de Media Library pour les vidéos : `twurl -H ads-api.x.com "/4/accounts/18ce54d4x5t/media_library?media_type=VIDEO"`

Les endpoints Media Library offrent une parité complète avec les endpoints vidéos et proposent en plus des fonctionnalités supplémentaires, notamment la prise en charge des images et des GIF. Il est demandé aux partenaires d’utiliser exclusivement Media Library pour toute gestion de médias.

**`as_user_id` dans l’aperçu de Tweet**

Le paramètre `as_user_id` disponible sur l’endpoint [GET accounts/:account\_id/tweet/preview/:tweet\_id](/fr/x-ads-api/creatives#get-accounts-account-id-tweets) ne sera plus accepté. L’aperçu sera toujours affiché en tant qu’auteur du Tweet.

<div id="v3">
  ### v3
</div>

La version 3 de l’API publicitaire [a été lancée](https://devcommunity.x.com/t/ads-api-version-3/100732) le 1er février 2018. La version 2 de l’API publicitaire arrivera en fin de vie le 1er août 2018.

Cette version inclut notre nouveau produit Audience Intelligence, l’accès à la Media Library et des workflows de cartes améliorés. Nous annonçons également l’abandon de l’endpoint [PUT accounts/:account\_id/targeting\_criteria](/fr/x-ads-api/campaign-management#get-accounts-account-id-targeting-criteria). Enfin, la version 3 inclut quelques modifications mineures des paramètres et des réponses ainsi qu’une limite inférieure de taille de lot.

Comme pour la [version 2](https://devcommunity.x.com/t/ads-api-version-2/90360), nous accordons aux partenaires **6 mois** pour effectuer la transition. Le **2018-08-01**, la v2 de l’API publicitaire sera désactivée. Nous encourageons tous les partenaires et développeurs à migrer vers la v3 dès que possible.

**Audience Intelligence**

Audience Intelligence fournit des insights en temps réel sur les principaux hashtags, @handles et événements les plus pertinents pour une audience X donnée. Par exemple, saisissez Male 18-34 aux États-Unis et vous verrez #nintendoswitch, #cardinal et @ricegum en tendance au sein de cette audience.

Les [endpoints](/fr/x-ads-api/audiences) Audience Intelligence offriront les fonctionnalités suivantes :

- Étant donnée une audience en entrée, récupérer les hashtags, @handles et événements les plus pertinents.
- Étant donnée une audience en entrée, récupérer des informations démographiques clés (telles que l’âge, le genre et le revenu des ménages).
- Étant donné un mot-clé, récupérer la série temporelle du volume de Tweets

**Media Library**

La [Media Library](/fr/x-ads-api/creatives#get-accounts-account-id-media-library) permet de gérer des images, des GIF et des vidéos pour les comptes publicitaires. Ces objets média peuvent être utilisés dans des Tweets et pour créer des cartes. Ils peuvent également être réutilisés dans plusieurs créations, supprimant la nécessité de téléverser plusieurs fois la même ressource.

Les objets de la bibliothèque sont identifiés par une media\_key. Les media keys sont des chaînes de caractères au format suivant : 13\_875943225764098048, par exemple. Dans l’API publicitaire, nous évoluons vers l’utilisation de media keys pour tous les médias.

**Workflow de cartes amélioré**

Tous nos endpoints de cartes prennent désormais en charge les media keys. Cela permet d’utiliser les objets de la Media Library pour créer ou mettre à jour des cartes.

De plus, nous introduisons deux nouveaux endpoints pour [récupérer les détails des cartes](/fr/x-ads-api/creatives#fetching-cards). Ces endpoints peuvent être utilisés pour rechercher des cartes utilisées dans des Tweets ou des Tweets programmés, par exemple, en spécifiant soit la card\_uri soit l’ID. Auparavant, cela n’était pas possible.

<div id="other-changes">
  #### Autres changements
</div>

En plus de ces nouvelles fonctionnalités, nous incluons les changements suivants dans la version 3.

**Nouveau**

- La réponse de l’endpoint [GET insights/keywords/search](/fr/x-ads-api/audiences) inclut désormais un attribut related\_keywords avec 30 termes liés aux mots-clés fournis en entrée.

**Modifié**

- La taille maximale d’un lot de critères de ciblage est désormais de 500.
- Les attributs de réponse card\_uri et preview\_url sont désormais mutuellement exclusifs. Lorsqu’une carte possède un card\_uri, le preview\_url est null. Lorsqu’une carte n’a pas de card\_uri, seul le preview\_url est renvoyé.
  - Toutes les cartes créées à partir du 2018-01-29 auront un card\_uri.
  - D’ici la version 4, toutes les cartes existantes auront un card\_uri.
- Il n’est plus possible de créer des cartes avec des images au format 5:2. Bien que les cartes existantes basées sur des images 5:2 continuent de fonctionner, nous encourageons les partenaires à adopter les rapports d’aspect plus performants 1,91:1 ou 1:1 (là où c’est pris en charge).

**Supprimé**

- L’endpoint [PUT accounts/:account\_id/targeting\_criteria](/fr/x-ads-api/campaign-management#get-accounts-account-id-targeting-criteria) n’est plus disponible. Nous avons décidé d’effectuer ce changement, car le comportement de remplacement avec cet endpoint entraînait de la confusion chez les annonceurs et n’était pas cohérent avec nos autres endpoints PUT qui mettent à jour une seule ressource à la fois. À la place, les partenaires doivent utiliser l’endpoint [POST batch/accounts/:account\_id/targeting\_criteria](/fr/x-ads-api/campaign-management#post-batch-accounts-account-id-targeting-criteria), qui offre une plus grande flexibilité, notamment la possibilité d’ajouter et de supprimer du ciblage dans une seule requête.
- L’attribut de réponse paused n’est plus renvoyé pour les instruments de financement. À la place, consultez l’attribut de réponse entity\_status pour déterminer si un instrument de financement est en pause ou non. De plus, comme paused et cancelled correspondent à la même valeur, cancelled n’est pas non plus renvoyé dans la réponse.
- Nous avons supprimé le paramètre card\_id de l’endpoint [GET accounts/:account\_id/tweet/preview](/fr/x-ads-api/creatives#get-accounts-account-id-tweets).
- Comme il n’est pas possible de récupérer des Tweets planifiés supprimés, le paramètre with\_deleted n’est plus pris en charge.
- Le paramètre draft\_only a été supprimé des endpoints suivants, car ces entités ne peuvent jamais être à l’état de brouillon :
  - [GET accounts/:account\_id/targeting\_criteria](/fr/x-ads-api/campaign-management#get-accounts-account-id-targeting-criteria)
  - [GET accounts/:account\_id/promoted\_tweets](/fr/x-ads-api/campaign-management#get-accounts-account-id-promoted-tweets)
  - [GET accounts/:account\_id/promoted\_accounts](/fr/x-ads-api/campaign-management#get-accounts-account-id-promoted-accounts)
  - [GET accounts/:account\_id/media\_creatives](/fr/x-ads-api/campaign-management#get-accounts-account-id-media-creatives)
  - [GET accounts/:account\_id/preroll\_call\_to\_actions](/fr/x-ads-api/creatives#get-accounts-account-id-preroll-call-to-actions)

**Remarque**

Les Video Website Cards et les Tweets planifiés ne sont désormais plus en bêta. Voir [ce fil](https://devcommunity.x.com/t/announcement-update-to-scheduled-tweets/94869) pour les changements que nous avons apportés aux Tweets planifiés depuis le lancement. Cela inclut la possibilité de générer des [aperçus](https://devcommunity.x.com/t/announcement-tweet-preview-improvements/96577) HTML pour les Tweets planifiés.

<div id="v2">
  ### v2
</div>

La version 2 de l’API publicitaire a été [lancée](https://devcommunity.x.com/t/ads-api-version-2/90360) le 10 juillet 2017. La version 1 de l’API publicitaire arrivera en fin de vie le 10 janvier 2018.

**Modifications majeures/Dépréciations[¶](#breaking-changes-deprecations "Permalink to this headline")**

- `total_count` est désormais un attribut de réponse optionnel. Il ne sera disponible que si `with_total_count` est défini sur `true`

- Les champs `paused` et `draft_only` des objets de requête et de réponse `line_items` et `campaigns` sont remplacés par un unique paramètre `entity_status`

- Le paramètre `status` a été renommé `text` sur les endpoints [POST accounts/:account\_id/tweet](/fr/x-ads-api/creatives) et [GET accounts/:account\_id/tweet/preview](/fr/x-ads-api/creatives#get-accounts-account-id-tweets)

- Les énumérations `location_type` de l’endpoint [GET targeting\_criteria/locations](/fr/x-ads-api/campaign-management#get-targeting-criteria-locations) sont désormais au pluriel. `COUNTRY` devient `COUNTRIES`, `REGION` devient `REGIONS`, etc. La seule exception est que, en v2, `CITY` devient `METROS`, afin de refléter correctement que le type d’emplacement fait référence aux Designated Market Areas (DMA) ou « metros ».

- Suppression de `display_properties` sur les endpoints PUT accounts/:account\_id/promoted\_tweets. Cette valeur ne sera plus renvoyée dans la réponse

- En conséquence du point précédent, il n’est plus possible de mettre à jour (PUT) des entités promoted\_tweets

- Le paramètre `line_item_id` sur l’endpoint [GET accounts/:account\_id/promoted\_tweets](/fr/x-ads-api/campaign-management#get-accounts-account-id-promoted-tweets) a été supprimé

- Il n’est plus possible de créer des Website Cards au format 5:2 sur les endpoints v2

- L’attribut de réponse `data_type` n’est plus renvoyé

**Nouvelles fonctionnalités[¶](#new-features "Permalink to this headline")**

1. Cards v2
2. Création et activation de campagnes/line items en brouillon
3. Tweets programmés
4. Résumés de tâches asynchrones

**Cards v2[¶](#cards-v2 "Permalink to this headline")**

- Le paramètre de requête `card_uri` doit être utilisé plutôt que d’ajouter le `preview_url` au texte du Tweet lors de l’association d’une carte à un Tweet
- Si le paramètre `card_uri` n’est pas renvoyé dans la réponse (lors de la création de la carte), utilisez le `preview_url`
- Tous les nouveaux formats de carte seront nativement disponibles via l’API, en tirant parti du paramètre `card_uri`.

**Nouveaux formats de carte :[¶](#new-card-formats "Permalink to this headline")**

- Video Website Cards :

  - [GET accounts/:account\_id/cards/video\_website](https://developer.x.com/en/docs/ads/creatives/api-reference/video-website.html#get-accounts-account-id-cards-video-website)
  - [GET accounts/:account\_id/cards/video\_website/:card\_id](https://developer.x.comhttps://developer.x.com/en/docs/ads/creatives/api-reference/video-website.html#get-accounts-account-id-cards-video-website-card-id)
  - [POST accounts/:account\_id/cards/video\_website](https://developer.x.com/en/docs/ads/creatives/api-reference/video-website.html#post-accounts-account-id-cards-video-website)
  - [PUT accounts/:account\_id/cards/video\_website/:card\_id](https://developer.x.com/en/docs/ads/creatives/api-reference/video-website.html#put-accounts-account-id-cards-video-website-card-id)
  - [DELETE accounts/:account\_id/cards/video\_website/:card\_id](https://developer.x.com/en/docs/ads/creatives/api-reference/video-website.html#delete-accounts-account-id-cards-video-website-card-id)

**Campagnes en brouillon[¶](#draft-campaigns "Permalink to this headline")**

Les campagnes en brouillon étaient consultables via l’endpoint [GET accounts/:account\_id/campaigns](/fr/x-ads-api/campaign-management#get-accounts-account-id-campaigns). Avec la v2, il est désormais possible de créer et d’activer des campagnes en brouillon via l’API.

- La valeur du paramètre `entity_status` sur les points de terminaison [POST accounts/:account\_id/line\_items](/fr/x-ads-api/campaign-management#post-accounts-account-id-line-items) et [POST accounts/:account\_id/campaigns](/fr/x-ads-api/campaign-management#post-accounts-account-id-campaigns) peut être définie sur `DRAFT` afin de créer de nouvelles campagnes ou de nouveaux éléments de ligne à l’état de brouillon.
- Ensemble des paramètres requis pour un brouillon nouvellement créé :

| Campagne brouillon | Élément de ligne brouillon |
| :--- | :--- |
| `funding_instrument_id` | `campaign_id` |
| `name` | `objective` |
| `start_time` | `product_type` |
|     | `placements` |

**Notes[¶](#notes "Permalink to this headline")**

- Les éléments de ligne ou campagnes à l’état de brouillon ne peuvent être convertis que d’un `entity_status` de `DRAFT` vers `PAUSED` ou `ACTIVE`.
- Pour activer une campagne entière (avec plusieurs éléments de ligne), chaque élément de ligne de la campagne, ainsi que la campagne elle-même, doit avoir un `entity_status` défini sur `ACTIVE`.
- Pour modifier le `entity_status` de toute campagne ou de tout élément de ligne, utilisez le point de terminaison PUT correspondant.

**Tweets programmés[¶](#scheduled-tweets "Permalink to this headline")**

- Les Tweets programmés s’appuient sur les nouveaux points de terminaison suivants

- Tweets programmés :

  - [GET accounts/:account\_id/scheduled\_tweets](/fr/x-ads-api/creatives#get-accounts-account-id-scheduled-tweets)
  - [GET accounts/:account\_id/scheduled\_tweets/:scheduled\_tweet\_id](/fr/x-ads-api/creatives#scheduled-tweets)
  - [POST accounts/:account\_id/scheduled\_tweets](/fr/x-ads-api/creatives#post-accounts-account-id-scheduled-tweets)
  - [PUT accounts/:account\_id/scheduled\_tweets/:scheduled\_tweet\_id](/fr/x-ads-api/creatives#scheduled-tweet-management)
  - [DELETE accounts/:account\_id/scheduled\_tweets/:scheduled\_tweet\_id](/fr/x-ads-api/creatives#scheduled-tweet-management)

- Gestion des campagnes :

  - [GET accounts/:account\_id/scheduled\_promoted\_tweets](/fr/x-ads-api/campaign-management#get-accounts-account-id-scheduled-promoted-tweets)
  - [GET accounts/:account\_id/scheduled\_promoted\_tweets/:scheduled\_promoted\_tweet\_id](/fr/x-ads-api/campaign-management#get-accounts-account-id-scheduled-promoted-tweets-scheduled-promoted-tweet-id)
  - [POST accounts/:account\_id/scheduled\_promoted\_tweets](/fr/x-ads-api/campaign-management#post-accounts-account-id-scheduled-promoted-tweets)
  - [DELETE accounts/:account\_id/scheduled\_promoted\_tweets/:scheduled\_promoted\_tweet\_id](/fr/x-ads-api/campaign-management#delete-accounts-account-id-scheduled-promoted-tweets-scheduled-promoted-tweet-id)

- Les nouveaux Tweets programmés peuvent être planifiés à n’importe quelle date ultérieure.

- Actuellement, il n’est pas possible d’afficher un aperçu d’un Tweet programmé.

- Seuls les Tweets programmés ayant l’état `SCHEDULED` peuvent être modifiés/supprimés.

- Les Tweets programmés ne sont _pas_ propagés vers l’Enterprise Firehose ni vers toute autre API de données avant la date/heure `scheduled_at`.

<div id="v1">
  ### v1
</div>

La version 1 de l’API publicitaire X a été lancée le 31 mars 2016 et atteindra sa fin de vie le 10 janvier 2018.

**Changements dans la version 1:[¶](#changes-in-version-1 "Permalink to this headline")**

- [Prise en charge de la gestion des versions](https://blog.x.com/2016/versioning-is-coming-to-twitter-s-ads-apis)
- L’[objectif](/fr/x-ads-api/campaign-management#objective-based-campaigns) `CUSTOM` n’est plus pris en charge
- Les [endpoints batch](/fr/x-ads-api/campaign-management#post-batch-accounts-account-id-campaigns) sont désormais généralement disponibles
- [Modifications de l’estimation de la portée](https://developer.x.com/en/docs/ads/campaign-management/api-reference/reach-estimate.html#get-accounts-account-id-reach-estimate):
- Pour améliorer l’estimation de la portée, l’endpoint est désormais sensible au budget. Les paramètres suivants sont désormais obligatoires :
  - \[nouveau] `campaign_daily_budget_amount_local_micro`
  - `currency`
  - `bid`
  - `objective`
- L’objet de réponse a changé et renvoie désormais des plages pour les valeurs renvoyées.
- `infinite_count` a été renommé `infinite_bid_count` afin d’éviter toute confusion quant à sa finalité
- En plus de `count` et `infinite_bid_count`, les nouvelles données suivantes seront désormais renvoyées :
  - `impressions`
  - `engagements`
  - `estimated_daily_spend_local_micro`
- Changement de type de données pour les audiences personnalisées
- Le champ `data_type` pour les Tailored Audiences a été modifié de `tailored_audiences` à `tailored_audience` dans l’ensemble de nos réponses.
- Les audiences personnalisées partagées sont désormais disponibles en bêta, uniquement via l’API. Les audiences personnalisées partagées permettent d’utiliser une même audience sur plusieurs comptes publicitaires. Utilisez le point de terminaison [POST accounts/:account\_id/tailored\_audiences/:tailored\_audience\_id/permissions](/fr/x-ads-api/audiences) (et les points de terminaison associés) pour gérer les autorisations d’une audience personnalisée que vous souhaitez partager entre des comptes publicitaires.
- Améliorations majeures de la façon dont vous collectez les [analyses](/fr/x-ads-api/analytics) de performance pour les comptes annonceurs :
- Pour nous aligner sur nos [bonnes pratiques](/fr/x-ads-api/analytics#best-practices), nous n’autoriserons désormais l’extraction de données que sur une période maximale de **7 jours** pour les [endpoints de statistiques synchrones](/fr/x-ads-api/analytics#get-stats-accounts-account-id).
- Pour simplifier la récupération des mesures, nous avons remplacé le paramètre `metrics` par un nouveau paramètre `metric_groups`. Les développeurs n’ont qu’à indiquer les groupes de mesures qu’ils souhaitent obtenir pour une requête donnée.

  \*Toute demande de mesures non adaptées à une entité donnée sera exclue de la réponse et apparaîtra avec des valeurs `null`. _Ces mesures ne seront pas décomptées de votre limite de coût d’analytique._
- La réponse a été **considérablement simplifiée** et s’alignera désormais plus étroitement sur la manière dont les mesures sont présentées dans notre interface.
  - Auparavant, nous exposions une métrique distincte pour chaque emplacement (Tweets sponsorisés dans la Recherche, dans les fils d’actualité, dans les Profils et détails de Tweet, et X Audience Platform). Désormais, nous renverrons un ensemble standardisé de mesures pour chacun. Au lieu de `promoted_tweet_timeline_impressions`, `promoted_tweet_search_impressions`, `promoted_tweets_profile_impressions`, `promoted_tweets_tpn_impressions`, une seule métrique `impressions` sera exposée lorsqu’elle est demandée dans l’une des catégories suivantes (cela s’applique à toutes les métriques) :
  - `ALL_ON_TWITTER`
  - `PUBLISHER_NETWORK`
  - Lorsque vous effectuez une requête, vous recevrez une seule métrique `impressions`, afin de faciliter l’alignement avec les valeurs de notre interface.
  - Vous devez effectuer deux requêtes pour obtenir à la fois les données `ALL_ON_TWITTER` et `PUBLISHER_NETWORK`, car elles ne peuvent pas être combinées.
- Les [points de terminaison de statistiques asynchrones](/fr/x-ads-api/analytics#asynchronous-analytics) sont désormais disponibles, grâce aux retours de nos développeurs !
  - Un nouvel ensemble de points de terminaison pour demander des statistiques de façon _asynchrone_, pour des données dont vous n’avez pas besoin immédiatement ou pour des extractions historiques.
  - Mettez en file d’attente une tâche de statistiques à l’aide d’un point de terminaison unique. Nous récupérerons les données demandées selon les ressources disponibles.
  - Vous pouvez interroger un point de terminaison d’état de tâche pour savoir si les données sont disponibles.
  - Une fois les données prêtes, nous fournirons un identifiant de retrait pour vous permettre de télécharger la réponse JSON, qui reflétera celle du point de terminaison synchrone.
  - Interrogez jusqu’à **90 jours** de données sur **20 entités** maximum dans une seule tâche.
- Consultez notre guide de migration vers Analytics v1, qui inclut la correspondance des mesures v0 avec les mesures v1
- Améliorations de l’environnement Sandbox \* Vous pouvez désormais [créer plusieurs comptes publicitaires de test](/fr/x-ads-api/campaign-management#post-accounts) dans l’environnement Sandbox. \* Vous pouvez désormais créer plusieurs instruments de financement pour un compte publicitaire de test, uniquement dans l’environnement Sandbox. Cela vous permet de tester l’ensemble de nos types d’instruments de financement. Auparavant, seule une source de financement `CREDIT_CARD` était disponible pour les tests. \* Vous souhaitez tester une fonctionnalité bêta ? Vous pouvez désormais activer ou désactiver des fonctionnalités pour un compte dans l’environnement Sandbox afin de répondre à vos besoins de test.

<div id="v0">
  ### v0
</div>

La version 0 de l’API publicitaire X a été officiellement lancée le 21 février 2013 et prise en charge jusqu’au 31 octobre 2016.

Tous les points de terminaison d’analytique de la version 0 sont obsolètes et ne seront plus disponibles après le 31 octobre 2016. Ils ont été remplacés par trois points de terminaison d’analytique dans la version 1.

Le point de terminaison d’estimation de la portée adopte un nouveau comportement dans la version 1.