---
title: Autorisation par code PIN
sidebarTitle: OAuth par code PIN
---

import { Button } from "/snippets/fr/button.mdx";

<div id="pin-based-authorization">
  ### Autorisation par code PIN
</div>

Le flux OAuth par code PIN est une variante du processus [OAuth à 3 volets](/fr/resources/fundamentals/authentication/oauth-1-0a/obtaining-user-access-tokens), conçue pour les applications qui ne peuvent pas accéder à ni intégrer un navigateur web pour rediriger l’utilisateur après l’autorisation. Exemples : applications en ligne de commande, systèmes embarqués, consoles de jeu et certains types d’applications mobiles.

Le flux OAuth par code PIN est initié par une application via `request_token` avec `oauth_callback` défini sur `oob`. Le terme `oob` signifie OAuth hors bande. L’utilisateur se rend toujours sur X pour se connecter ou autoriser l’application, mais il ne sera pas automatiquement redirigé vers celle‑ci après avoir approuvé l’accès. À la place, un code PIN numérique s’affiche, avec des instructions lui demandant de revenir dans l’application et de saisir cette valeur.

<Note>
  **Remarque :** Le `callback_url` dans les paramètres de l’application X reste requis, même lors de l’utilisation de l’authentification par code PIN.
</Note>

 

<div id="implementing-the-pin-based-oauth-flow">
  #### Implémentation du flux OAuth basé sur un code PIN
</div>

Le flux basé sur un code PIN est implémenté de la même manière que l’[autorisation en 3 étapes](/fr/resources/fundamentals/authentication/oauth-1-0a/obtaining-user-access-tokens) (et [Se connecter avec X](/fr/resources/fundamentals/authentication#log-in-with-x)), à ceci près :

1. La valeur de `oauth_callback` doit être définie sur `oob` lors de l’appel [POST oauth/request\_token](/fr/resources/fundamentals/authentication/api-reference#post-oauth-request-token).

2. Après que l’utilisateur a été redirigé vers X pour autoriser votre application via [GET oauth/authenticate](/fr/resources/fundamentals/authentication/api-reference#get-oauth-authenticate) ou [GET oauth/authorize](/fr/resources/fundamentals/authentication/api-reference#get-oauth-authorize), il ne sera pas renvoyé vers votre `callback_url`. À la place, un écran affichera un code PIN d’environ 7 chiffres généré par X, ainsi que des instructions lui demandant de saisir ce code PIN dans votre application.

3. L’utilisateur saisit ce code PIN dans votre application, laquelle utilise ce code comme `oauth_verifier` dans [POST oauth/access\_token](/fr/resources/fundamentals/authentication/api-reference#post-oauth-access-token) pour obtenir un access\_token.

<Note>
  **Remarque :** Les codes PIN ne sont pas réutilisables et l’`access_token` obtenu doit être utilisé pour les requêtes application-utilisateur.
</Note>