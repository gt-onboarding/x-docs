---
title: v1 vers v2
sidebarTitle: v1 vers v2
---

<div id="standard-v11-compared-to-x-api-v2">
  ## Comparaison entre la version standard v1.1 et l’API X v2
</div>

Si vous avez travaillé avec les endpoints standard v1.1 GET statuses/show et GET statuses/lookup, ce guide vous aidera à comprendre les similitudes et différences entre les endpoints de recherche de posts de la version standard et de l’API X v2.

Vous pourriez également être intéressé par notre [outil visuel de migration de format de données](/fr/x-api/migrate/data-format-migration) pour voir rapidement les différences entre le [format de données de l’API X v1.1](/fr/x-api/fundamentals/data-dictionary) et le [format de l’API X v2](/fr/x-api/fundamentals/data-dictionary).

- **Similarités**
  - Contexte utilisateur OAuth 1.0a
  - Limites de posts par requête
  - Prise en charge de l’historique d’édition des posts et des métadonnées

- **Différences**
  - URL d’endpoint
  - Exigences relatives aux applications et aux projets
  - Format des données de la réponse
  - Paramètres de requête

<div id="similarities">
  ### Similarités
</div>

<div id="oauth-10a-user-context-authentication-method">
  #### Méthode d’authentification OAuth 1.0a en contexte utilisateur
</div>

Le point de terminaison standard prend en charge l’[OAuth 1.0a en contexte utilisateur](/fr/resources/fundamentals/authentication), tandis que le nouveau point de terminaison de consultation de Post de l’API X v2 prend en charge à la fois l’OAuth 1.0a en contexte utilisateur et l’[OAuth 2.0 App-only](/fr/resources/fundamentals/authentication). Par conséquent, si vous utilisiez auparavant l’un des points de terminaison v1.1 standard de consultation de Post, vous pouvez continuer à utiliser la même méthode d’authentification en migrant vers la version API X v2.

L’authentification App-only est probablement le moyen le plus simple pour démarrer. Pour savoir comment générer un jeton d’accès d’application (App Access Token), consultez [ce guide OAuth 2.0 App-only](/fr/resources/fundamentals/authentication).

<div id="posts-per-request-limits">
  #### Limites de posts par requête
</div>

Le point de terminaison v1.1 [GET statuses/lookup](https://developer.x.com/en/docs/twitter-api/v1/tweets/post-and-engage/api-reference/get-statuses-lookup) vous permet de spécifier jusqu’à 100 posts par requête. Cela s’applique également au point de terminaison GET /tweets. Pour indiquer 100 posts, utilisez le paramètre `ids` dans la chaîne de requête avec une liste d’[IDs de posts](/fr/resources/fundamentals/x-ids) séparés par des virgules.

**Prise en charge de l’historique d’édition des posts et des métadonnées**

Les deux versions fournissent des métadonnées décrivant tout historique d’édition. Consultez les références de l’API de recherche de posts et la [page Fondamentaux sur l’édition de posts](/fr/x-api/fundamentals/edit-posts) pour plus de détails.

<div id="differences">
  ### Différences
</div>

<div id="endpoint-urls">
  #### URL des endpoints
</div>

- **Endpoints standard v1.1 :**
  - `https://api.x.com/1.1/statuses/show`
  - `https://api.x.com/1.1/statuses/lookup`

- **Endpoint de l’API X v2 :**
  - `https://api.x.com/2/tweets`
  - `https://api.x.com/2/tweets/:id`

<div id="app-and-project-requirements">
  #### Exigences relatives aux applications et aux projets
</div>

Les endpoints de l’API X v2 nécessitent des identifiants provenant d’une [application développeur](/fr/resources/fundamentals/developer-apps) associée à un [projet](/fr/resources/fundamentals/projects) pour l’authentification. Les endpoints de l’API X v1.1 peuvent utiliser des identifiants d’applications autonomes ou d’applications associées à un projet.

<div id="response-data-format">
  #### Format des données de réponse
</div>

Une différence majeure entre les versions d’endpoint standard v1.1 et API X v2 concerne la manière de sélectionner les champs dans la charge utile.

Pour les endpoints standard, de nombreux champs de réponse sont inclus par défaut, avec la possibilité d’utiliser des paramètres pour demander des champs supplémentaires.

En revanche, l’API X v2 ne fournit par défaut que les champs `id` et `text` du Post. Les champs et objets supplémentaires nécessitent l’utilisation des paramètres [fields](/fr/x-api/fundamentals/fields) et [expansions](/fr/x-api/fundamentals/expansions). Les champs étendus sont renvoyés dans un objet `includes` au sein de la réponse, que l’on peut faire correspondre à l’objet Post principal via les identifiants.

Pour en savoir plus sur l’utilisation de fields et expansions, consultez le [guide d’utilisation des fields et expansions](/fr/x-api/fundamentals/data-dictionary). Un [guide de migration du format de données](/fr/x-api/fundamentals/fields) fait également correspondre les champs standard v1.1 aux nouveaux champs v2.

De plus, l’API X v2 introduit de nouvelles conceptions JSON pour les objets, notamment les objets Post et [user](/fr/x-api/fundamentals/data-dictionary#user) :

- Les endpoints standard renvoient les objets Post dans un tableau `statuses`, tandis que l’API X v2 utilise un tableau `data`.
- Les Retweeted et Quoted Tweets dans l’API X v2 remplacent la terminologie « statuses ».
- Une nouvelle terminologie telle que `like` remplace des termes comme `favorites` et `favourites`.
- Les attributs sans valeur (par exemple, `null`) ne sont pas inclus dans les charges utiles de l’API X v2.

L’objet Post dans l’API X v2 inclut de nouveaux champs, notamment :

- `conversation_id`
- Deux nouveaux champs d’[annotations](/fr/x-api/fundamentals/post-annotations) (`context` et `entities`)
- De nouveaux champs de [metrics](/fr/x-api/fundamentals/metrics)
- Le champ `reply_setting`, indiquant qui peut répondre à un Post donné

<div id="request-parameters">
  #### Paramètres de requête
</div>

Les paramètres de requête standard v1.1 suivants ont des équivalents dans l’API X v2 :

| Standard | API X v2 |
|:----------|:----------|
| `id`     | `ids`    |

Certains paramètres standard v1.1 ne sont **pas** pris en charge dans l’API X v2 :

| Standard            | Commentaire                                                                                                                   |
|:---------------------|:------------------------------------------------------------------------------------------------------------------------------|
| `tweet_mode`        | Remplacé par les fonctionnalités de champs et d’expansions.                                                                   |
| `trim_user`         | Remplacé par les champs et les expansions. Utilisez l’expansion `author_id` et `user.fields` pour les données utilisateur.    |
| `include_my_retweet`| Fournit l’ID du Post source pour les Posts retweetés par l’utilisateur authentifié.                                           |
| `include_entities`  | Utilisez les champs et les expansions pour contrôler les entités dans le payload.                                             |
| `include_ext_alt_text` | Ajoute le champ `ext_alt_text` dans l’entité média si un texte alternatif est présent.                                     |
| `include_card_uri`  | Ajoute `card_uri` lorsqu’une carte publicitaire est jointe.                                                                   |
| `map`               | Renvoie l’ID du Post et le message d’erreur pour les Posts indisponibles dans l’API X v2, contrairement aux champs annulés en v1.1. |

<div id="curl-requests">
  ### Requêtes cURL
</div>

Les requêtes cURL suivantes présentent les endpoints standard v1.1 et leurs équivalents v2. Remplacez `ACCESS_TOKEN` dans l’en-tête par le jeton d’accès de votre application. Pour les endpoints v2, le jeton doit appartenir à une [application développeur](/fr/resources/fundamentals/developer-apps/overview) au sein d’un [projet](/fr/resources/fundamentals/projects/overview).

Les charges utiles de réponse de v1.1 diffèrent de celles de v2. Avec v2, vous pouvez demander des champs supplémentaires à l’aide des paramètres [fields](/fr/x-api/fundamentals/fields) et [expansions](/fr/x-api/fundamentals/expansions).

**Endpoints standard v1.1 `GET statuses/lookup` et v2 `GET /tweets`**

```bash
curl --request GET \
  --url 'https://api.x.com/1.1/statuses/lookup.json?id=1460323737035677698%2C1460323743339741184' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```

```
  curl --request GET \
  --url 'https://api.x.com/2/tweets?ids=1460323737035677698%2C1460323743339741184&tweet.fields=created_at&expansions=author_id&user.fields=created_at' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```

**Endpoints standard v1.1 `GET statuses/show/:id` et v2 `GET /tweets/:id`**

```
curl --request GET \
  --url 'https://api.x.com/1.1/statuses/show.json?id=1460323737035677698' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```

```
curl --request GET \
  --url 'https://api.x.com/2/tweets/1460323737035677698?tweet.fields=created_at&expansions=author_id&user.fields=created_at' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```