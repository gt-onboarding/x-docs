---
title: Gérer les Retweets
sidebarTitle: Gérer les Retweets
---

import { Button } from '/snippets/fr/button.mdx';

<div id="getting-started-with-the-manage-retweets-endpoints">
  ### Bien démarrer avec les endpoints de gestion des Retweets
</div>

Ce guide de démarrage rapide vous aidera à effectuer votre première requête vers les endpoints de gestion des Retweets à l’aide de Postman.

Si vous souhaitez voir des exemples de code dans différents langages, consultez notre dépôt GitHub [Exemples de code pour l’API X v2](https://github.com/xdevplatform/Twitter-API-v2-sample-code). 

<div id="prerequisites">
  #### Prérequis
</div>

Pour suivre ce guide, vous devez disposer d’un ensemble de [clés et jetons](/fr/resources/fundamentals/authentication) pour authentifier votre requête. Vous pouvez générer ces clés et jetons en procédant comme suit :

- [Inscrivez-vous à un compte développeur](https://developer.x.com/en/apply-for-access) et obtenez l’approbation.
- Créez un [projet](/fr/resources/fundamentals/projects) et une [application développeur](/fr/resources/fundamentals/developer-apps) associée dans le portail développeur.
- Accédez à la page « Keys and tokens » de votre application pour générer les informations d’identification requises. Veillez à stocker toutes les informations d’identification dans un emplacement sécurisé.

<div id="steps-to-build-a-manage-retweets-request">
  #### Étapes pour créer une requête de gestion des Retweets
</div>

**Première étape : commencer avec un outil ou une bibliothèque**

Il existe plusieurs outils, exemples de code et bibliothèques que vous pouvez utiliser pour effectuer une requête vers cet endpoint, mais nous allons utiliser l’outil Postman pour simplifier le processus.

Pour charger la collection Postman de l’API X v2 dans votre environnement, cliquez sur le bouton suivant :

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Ajouter l’API X v2 à Postman
</Button>

Une fois la collection API X v2 chargée dans Postman, accédez au dossier “Retweets” et sélectionnez “Retweet a Post”.
 

Deuxième étape : authentifier votre requête

Pour effectuer correctement une requête vers l’API X, vous devez vérifier que vous avez l’autorisation. Pour ce faire avec cet endpoint, vous devez authentifier votre requête en utilisant soit [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication), soit [OAuth 2.0 Authorization Code with PKCE](fr/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2).

Dans cet exemple, nous allons utiliser OAuth 1.0a User Context.

Vous devez ajouter vos clés et jetons — en particulier votre API Key, API Secret Key, OAuth 1.0a user Access Token et OAuth 1.0a user Access Token Secret — à Postman. Pour cela, sélectionnez l’environnement nommé “X API v2” dans le coin supérieur droit de Postman et ajoutez vos clés et jetons dans les champs "initial value" et "current value" (en cliquant sur l’icône en forme d’œil à côté du menu déroulant de l’environnement).

Ces variables seront automatiquement renseignées dans l’onglet Authorization de la requête si vous avez effectué cette configuration correctement.

**Troisième étape : spécifier le Post que vous allez retweeter**

Les endpoints de gestion des Retweets nécessitent deux identifiants : l’un pour l’utilisateur qui souhaite retweeter ou annuler un retweet, et l’identifiant du Post.

L’ID de l’utilisateur doit correspondre à l’ID de l’utilisateur authentifié, ce qui signifie que vous devez transmettre les [Access Tokens](/fr/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) associés à cet ID lors de l’authentification de votre requête. Dans ce cas, vous pouvez spécifier votre propre ID. Vous pouvez trouver votre ID de deux manières :

1. En utilisant l’endpoint [user lookup by username](/fr/x-api/users/user-lookup-by-username), vous pouvez transmettre un nom d’utilisateur et recevoir le champ id.
2. En consultant votre Access Token, vous constaterez que la partie numérique correspond à votre ID utilisateur.
    

Vous devez également spécifier le Post que vous souhaitez retweeter. Vous pouvez trouver l’ID du Post en allant sur X.com, en cliquant sur un Post, puis en regardant l’URL. Par exemple, l’ID du Post de l’URL suivante est 1228393702244134912.

https://x.com/TwitterDev/status/1228393702244134912

Dans Postman, accédez à l’onglet "Params", entrez votre ID dans la colonne "Value" de la variable de chemin id, puis entrez l’ID du Post que vous souhaitez retweeter comme valeur pour le paramètre tweet\_id. Veillez à ne pas inclure d’espaces avant ou après un ID.

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | (votre ID utilisateur) |
| tweet\_id | (l’ID du Tweet que vous voulez retweeter) |

En cliquant sur le bouton "Send", vous recevrez un objet de réponse contenant l’état de la relation :

- Si vous recevez "retweeted": true, alors l’id retweete avec succès le tweet\_id.
   

**Quatrième étape : envoyer votre requête et examiner la réponse**

Une fois que tout est configuré, cliquez sur le bouton "Send" et vous recevrez la réponse suivante :

```
{
    "data": {
        "retweeted": true
    }
}
```

Si vous recevez `"retweeted": true`, le `tweet_id` a bien été retweeté.

Si vous souhaitez annuler un retweet pour le même utilisateur, vous pouvez utiliser la requête intitulée “Undo a Retweet”, également située dans le dossier “Retweets” de la collection API X v2 chargée dans Postman. Le `id` doit être votre ID utilisateur et `source_tweet_id` doit être l’ID du Post pour lequel vous voulez annuler le retweet. Vous n’aurez pas à ajouter de corps JSON ; assurez-vous donc d’ajouter les paramètres de requête requis pour `id` et `source_tweet_id`. 

En cas d’annulation réussie d’un retweet, vous recevrez une réponse similaire à l’exemple suivant :

```
{
  "data": {
    // Indique si le post a été retweeté
    "retweeted": false
  }
}
```