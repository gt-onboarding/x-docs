---
title: Créer une règle
sidebarTitle: Créer une règle
---

<div id="building-rules-for-filtered-stream">
  ## Créer des règles pour le flux filtré
</div>

Les endpoints du flux filtré vous envoient des posts filtrés qui correspondent à un ensemble de règles appliquées au flux. Les règles sont constituées d’opérateurs utilisés pour faire correspondre divers attributs de post.

Plusieurs règles peuvent être appliquées à un flux à l’aide de l’endpoint [POST /tweets/search/stream/rules](/fr/x-api/posts/filtered-stream#post-2-tweets-search-stream-rules). Une fois que vous avez ajouté des règles et que vous vous connectez à votre flux à l’aide de l’endpoint [GET /tweets/search/stream](/fr/x-api/posts/filtered-stream#get-2-tweets-search-stream), seuls les posts qui correspondent à vos règles seront transmis via une connexion de streaming persistante. Vous n’avez pas besoin de vous déconnecter de votre flux pour ajouter ou supprimer des règles. 

<div id="table-of-contents">
  ### Table des matières
</div>

- [Créer une règle](#building-a-rule)
  - [Limitations des règles](#rule-limitations)
  - [Disponibilité des opérateurs](#operator-availability)
  - [Types d’opérateurs : autonomes et nécessitant une conjonction](#operator-types-standalone-and-conjunction-required)
  - [Opérateurs booléens et regroupement](#boolean-operators-and-grouping)
  - [Ordre des opérations](#order-of-operations)
  - [Ponctuation, diacritiques et sensibilité à la casse](#punctuation-diacritics-and-case-sensitivity)
  - [Spécificité et efficacité](#specificity-and-efficiency)
  - [Construire une règle de manière itérative](#iteratively-building-a-rule)
  - [Ajouter et supprimer des règles](#adding-and-removing-rules)
  - [Exemples de règles](#rule-examples)
- [Liste des opérateurs](#operators)

<div id="building-a-rule">
  ### Créer une règle
</div>

<div id="rule-limitations">
  #### Limites des règles
</div>

Les limites concernant le nombre de règles dépendent du [niveau d’accès](/fr/x-api/getting-started/about-x-api) appliqué à votre [projet](/fr/resources/fundamentals/projects).

Vous pouvez voir comment ces limites s’appliquent sur la page [Présentation du flux filtré](/fr/x-api/posts/filtered-stream).

<div id="operator-types-standalone-and-conjunction-required">
  #### Types d’opérateurs : autonomes et nécessitant une conjonction
</div>

Les **opérateurs autonomes** peuvent être utilisés seuls ou avec n’importe quel autre opérateur (y compris ceux qui nécessitent une conjonction).

Par exemple, la règle suivante fonctionne car elle utilise l’opérateur `#hashtag`, qui est autonome :

`#xapiv2`

Les opérateurs **nécessitant une conjonction** ne peuvent pas être utilisés seuls dans une règle ; ils ne peuvent l’être que lorsqu’au moins un opérateur autonome est inclus dans la règle. Cela s’explique par le fait qu’utiliser ces opérateurs seuls serait beaucoup trop général et correspondrait à un volume extrêmement élevé de posts.

Par exemple, les règles suivantes ne sont pas prises en charge puisqu’elles ne contiennent que des opérateurs nécessitant une conjonction :

`has:media`

`has:links OR is:retweet`

Si nous ajoutons un opérateur autonome, tel que l’expression « X data », la règle fonctionnerait alors correctement.

`"X data" has:mentions (has:media OR has:links)`

<div id="boolean-operators-and-grouping">
  #### Opérateurs booléens et groupement
</div>

Si vous souhaitez enchaîner plusieurs opérateurs dans une seule règle, vous disposez des outils suivants :

|     |     |
| :--- | :--- |
| **Logique AND** | Des opérateurs successifs **séparés par un espace** appliquent une logique booléenne « AND », ce qui signifie que les Posts correspondent uniquement si les deux conditions sont remplies. Par exemple, `snow day #NoSchool` fera correspondre les Posts contenant les termes snow et day et le hashtag #NoSchool. |
| **Logique OR** | Des opérateurs successifs avec OR entre eux appliquent une logique OR, ce qui signifie que les Posts correspondent si l’une ou l’autre condition est remplie. Par exemple, spécifier `grumpy OR cat OR #meme` fera correspondre tout Post contenant au moins les termes grumpy ou cat, ou le hashtag #meme. |
| **Logique NOT, négation** | Préfixez un tiret (-) à un mot-clé (ou à tout opérateur) pour le nier (NOT). Par exemple, `cat #meme -grumpy` fera correspondre les Posts contenant le hashtag #meme et le terme cat, mais uniquement s’ils ne contiennent pas le terme grumpy. Une clause de règle courante est `-is:retweet`, qui exclut les Retweets, faisant ainsi correspondre uniquement les Posts originaux, les Quote Tweets et les réponses. Tous les opérateurs peuvent être niés, mais les opérateurs niés ne peuvent pas être utilisés seuls. |
| **Groupement** | Vous pouvez utiliser des parenthèses pour regrouper des opérateurs. Par exemple, `(grumpy cat) OR (#meme has:images)` renverra soit des Posts contenant les termes grumpy et cat, soit des Posts avec des images contenant le hashtag #meme. Notez que les AND sont appliqués en premier, puis les OR sont appliqués. |

<Note>
  **Remarque sur les négations**

  Tous les opérateurs peuvent être niés à l’exception de `sample:`, et `-is:nullcast` doit toujours être nié. Les opérateurs niés ne peuvent pas être utilisés seuls.

  Ne niez pas un ensemble d’opérateurs regroupés entre parenthèses. À la place, niez chaque opérateur individuellement.

  Par exemple, au lieu d’utiliser `skiing -(snow OR day OR noschool)`, nous vous suggérons d’utiliser `skiing -snow -day -noschool`. 
</Note>

<div id="order-of-operations">
  #### Ordre des opérations
</div>

Lorsque vous combinez les opérateurs AND et OR, l’ordre des opérations suivant détermine la façon dont votre règle est évaluée.

1. Les opérateurs liés par la logique AND sont combinés en premier
2. Ensuite, ceux liés par la logique OR sont appliqués

Par exemple :

- `apple OR iphone ipad` sera évalué comme `apple OR (iphone ipad)`
- `ipad iphone OR android` sera évalué comme `(iphone ipad) OR android`

Pour éliminer toute ambiguïté et vous assurer que votre règle est évaluée comme prévu, regroupez les termes avec des parenthèses lorsque cela est pertinent.

Par exemple :

- `(apple OR iphone) ipad`
- `iphone (ipad OR android)`

<div id="punctuation-diacritics-and-case-sensitivity">
  #### Ponctuation, diacritiques et sensibilité à la casse
</div>

Si vous définissez une règle de mot-clé ou de hashtag avec des accents ou des diacritiques, elle correspondra uniquement aux Posts qui contiennent exactement le mot avec les accents ou diacritiques appropriés, et non à ceux qui ont les mêmes lettres mais sans l’accent ou le diacritique.

Par exemple, des règles avec le mot-clé `diacrítica` ou le hashtag `#cumpleaños` correspondront aux Posts qui contiennent _diacrítica_ ou _#cumpleaños_ parce qu’ils incluent l’accent ou le diacritique. En revanche, ces règles ne correspondront pas aux Posts qui contiennent _Diacritica_ ou _#cumpleanos_ sans la tilde í ou le eñe.

Les caractères avec accents ou diacritiques sont traités comme des caractères ordinaires et ne constituent pas des délimiteurs de mots. Par exemple, une règle avec le mot-clé _cumpleaños_ ne correspondra qu’aux Posts contenant le mot _cumpleaños_ et ne correspondra pas aux Posts contenant _cumplea_, _cumplean_ ou _os_.

Tous les opérateurs sont évalués sans tenir compte de la casse. Par exemple, la règle cat correspondra à toutes les variantes suivantes : _cat_, _CAT_, _Cat_.

<Note>
  Le comportement de correspondance de [Search Posts](/fr/x-api/posts/search/introduction) diffère de celui du flux filtré. Lors de la [création d’une requête Search Posts](/fr/x-api/posts/search/integrate/build-a-query), sachez que les mots-clés et hashtags avec accents ou diacritiques feront correspondre à la fois le terme avec accents/diacritiques et la version avec des caractères non accentués.

  Par exemple, les requêtes Search Posts qui incluent un mot-clé `Diacrítica` ou un hashtag `#cumpleaños` feront correspondre à la fois _Diacrítica_ et _#cumpleaños_, ainsi que _Diacritica_ ou _#cumpleanos_ sans la tilde í ou le eñe.
</Note>

<div id="specificity-and-efficiency">
  #### Spécificité et efficacité
</div>

Lorsque vous commencez à créer votre règle, il est important de garder quelques points à l’esprit.

- L’utilisation d’opérateurs génériques et isolés pour votre règle, comme un simple mot-clé ou un #hashtag, n’est généralement pas recommandée, car cela fera probablement correspondre un volume massif de Posts. Créer une règle plus robuste produira un ensemble de Posts correspondants plus précis et devrait réduire la quantité de bruit dans la charge utile que vous devrez filtrer pour trouver des informations utiles.
  - Par exemple, si votre règle se limitait au mot-clé `happy`, vous obtiendriez probablement entre 200 000 et 300 000 Posts par jour.
  - Ajouter davantage d’opérateurs conditionnels affine vos résultats de recherche, par exemple `(happy OR happiness) place_country:GB -birthday -is:retweet`
- Rédiger des règles efficaces aide également à respecter la limite de longueur, en nombre de caractères, d’une règle. Le nombre de caractères inclut l’intégralité de la chaîne de la règle, espaces et opérateurs compris.
  - Par exemple, la règle suivante compte 59 caractères : `(happy OR happiness) place_country:GB -birthday -is:retweet`

<div id="quote-tweet-matching-behavior">
  #### Comportement d’appariement des Tweets cités
</div>

Lors de l’utilisation des endpoints de flux filtré, les opérateurs évaluent à la fois le contenu du Post original cité et le contenu inclus dans le Tweet cité.

Cependant, veuillez noter que les endpoints [Search Posts](/fr/x-api/posts/search/introduction) n’évaluent pas le contenu du Post original cité, mais prennent en compte le contenu du Tweet cité.

<div id="iteratively-building-a-rule">
  #### Construire une règle de façon itérative
</div>

<div id="test-your-rule-early-and-often">
  ##### Testez votre règle tôt et souvent
</div>

Obtenir dès la première tentative une règle qui renvoie les « bons » résultats est rare. Il y a tellement de contenu sur X dont certains aspects peuvent ne pas être évidents au premier abord, et la syntaxe de règles décrite ci-dessus peut être difficile à aligner sur votre recherche. À mesure que vous élaborez une règle, il est important de la tester périodiquement avec l’endpoint de flux afin de voir quelles données elle renvoie. Vous pouvez également tester avec l’un des endpoints [Search Post](/fr/x-api/posts/search/introduction), à condition que les opérateurs que vous utilisez y soient également disponibles.

Pour cette section, nous allons commencer par la règle suivante et l’ajuster en fonction des résultats obtenus lors de nos tests :

`happy OR happiness`

<div id="use-results-to-narrow-the-rule">
  ##### Utiliser les résultats pour affiner la règle
</div>

Au fur et à mesure que vous testez la règle, examinez les Posts renvoyés pour vérifier qu’ils contiennent les données que vous attendez. Commencer par une règle large et un surensemble de correspondances de Post vous permet d’examiner le résultat et d’affiner la règle afin de filtrer les résultats indésirables.  

Lorsque nous avons testé la règle d’exemple, nous avons constaté que nous recevions des Posts dans différentes langues. Dans cette situation, nous voulons ne recevoir que des Posts en anglais, nous allons donc ajouter l’opérateur `lang:` :

`(happy OR happiness) lang:en`

Le test a renvoyé un certain nombre de Posts souhaitant un joyeux anniversaire, nous allons donc ajouter `-birthday` comme opérateur de mot-clé négatif. Nous voulons également ne recevoir que des Posts originaux, nous ajoutons donc l’opérateur négatif `-is:retweet` :

`(happy OR happiness) lang:en -birthday -is:retweet`

<div id="adjust-for-inclusion-where-needed">
  ##### Ajuster pour inclure si nécessaire
</div>

Si vous constatez que vous ne recevez pas certaines données attendues alors que vous savez que des posts existants devraient correspondre, il peut être nécessaire d’élargir votre règle en supprimant des opérateurs qui filtrent peut-être les données recherchées.

Dans notre exemple, nous avons remarqué d’autres posts dans notre fil personnel qui exprimaient l’émotion visée mais n’étaient pas inclus dans les résultats de test. Pour assurer une meilleure couverture, nous allons ajouter les mots-clés `excited` et `elated`.

`(happy OR happiness OR excited OR elated) lang:en -birthday -is:retweet`

<div id="adjust-for-popular-trendsbursts-over-the-time-period">
  ##### S’adapter aux tendances/« pics » populaires sur la période
</div>

Les tendances vont et viennent rapidement sur X. La maintenance de votre règle doit être un processus actif. Si vous prévoyez d’utiliser une seule règle pendant un certain temps, nous vous suggérons de vérifier périodiquement les données reçues pour voir si des ajustements sont nécessaires.

Dans notre exemple, nous constatons que nous avons commencé à recevoir des posts souhaitant « joyeuses fêtes ». Comme nous ne voulons pas que ces posts soient inclus dans nos résultats, nous allons ajouter le mot-clé négatif `-holidays`.

`(happy OR happiness OR excited OR elated) lang:en -birthday -is:retweet -holidays`

<div id="adding-and-removing-rules">
  #### Ajout et suppression de règles
</div>

Vous utiliserez le point de terminaison [POST /2/tweets/search/stream/rules](/fr/x-api/posts/filtered-stream#post-2-tweets-search-stream-rules) pour à la fois ajouter et supprimer des règles de votre flux.

Pour ajouter une ou plusieurs règles à votre flux, envoyez un corps JSON `add` avec un tableau contenant le paramètre `value` (la règle) et, en option, le paramètre `tag` avec un texte libre que vous pouvez utiliser pour [identifier quels Posts renvoyés correspondent à cette règle](/fr/x-api/posts/filtered-stream#matching-returned-posts-to-their-associated-rule).

Par exemple, si vous souhaitiez ajouter un ensemble de règles à votre flux, votre commande cURL pourrait ressembler à ceci :

```bash
curl -X POST 'https://api.x.com/2/tweets/search/stream/rules' \
-H "Content-type: application/json" \
-H "Authorization: Bearer $ACCESS_TOKEN" -d \
'{
  "add": [
    {"value": "cat has:media", "tag": "cats with media"},
    {"value": "cat has:media -grumpy", "tag": "happy cats with media"},
    {"value": "meme", "tag": "funny things"},
    {"value": "meme has:images"}
  ]
}'
```

De même, pour supprimer une ou plusieurs règles de votre flux, envoyez un corps JSON `delete` avec un tableau contenant le paramètre `id` listant les identifiants des règles à supprimer.

Par exemple, si vous souhaitiez supprimer un ensemble de règles de votre flux, votre commande cURL pourrait ressembler à ceci :

```bash
curl -X POST 'https://api.x.com/2/tweets/search/stream/rules' \
  -H "Content-type: application/json" \
  -H "Authorization: Bearer $ACCESS_TOKEN" -d \
  '{
    "delete": {
      "ids": [
        "1165037377523306498",
        "1165037377523306499"
      ]
    }
  }'
```

Nous proposons des exemples de code dans différents langages sur notre [GitHub](https://github.com/xdevplatform/Twitter-API-v2-sample-code/tree/master/Filtered-Stream). 

<div id="rule-examples">
  #### Exemples de règles
</div>

<div id="tracking-a-natural-disaster">
  ##### Suivre une catastrophe naturelle
</div>

La règle suivante correspond aux Posts provenant d’agences météorologiques et de capteurs qui évoquent l’ouragan Harvey, lequel a frappé Houston en 2017. Notez l’utilisation de la balise [matching rules](/fr/x-api/posts/filtered-stream#matching-returned-posts-to-their-associated-rule) et le format JSON que vous devrez utiliser lors de la soumission de la règle à l’[endpoint POST /2/tweets/search/stream/rules](/fr/x-api/posts/filtered-stream#post-2-tweets-search-stream-rules).

```json
{
    "value": "-is:retweet has:geo (from:NWSNHC OR from:NHC_Atlantic OR from:NWSHouston OR from:NWSSanAntonio OR from:USGS_TexasRain OR from:USGS_TexasFlood OR from:JeffLindner1)",
    "tag": "theme:info has:geo original from weather agencies and gauges"
}
```

<div id="reviewing-the-sentiment-of-a-conversation">
  ##### Analyser le sentiment d’une conversation
</div>

La règle suivante peut être utilisée pour mieux comprendre le sentiment de la conversation qui se développe autour du hashtag _#nowplaying_, mais uniquement pour les Posts publiés en Amérique du Nord.

```json
{
    "value": "#nowplaying (happy OR exciting OR excited OR favorite OR fav OR amazing OR lovely OR incredible) (place_country:US OR place_country:MX OR place_country:CA) -horrible -worst -sucks -bad -disappointing",
    "tag": "#nowplaying positive"
},
{
    "value": "#nowplaying (horrible OR worst OR sucks OR bad OR disappointing) (place_country:US OR place_country:MX OR place_country:CA) -happy -exciting -excited -favorite -fav -amazing -lovely -incredible",
    "tag": "#nowplaying negative"
}
```

<div id="find-posts-that-relate-to-a-specific-post-annotation">
  ##### Trouver des posts correspondant à une annotation de post spécifique
</div>

Cette règle a été conçue pour rechercher des posts originaux contenant l’image d’un animal de compagnie qui n’est pas un chat, et dont la langue identifiée est le japonais. Pour ce faire, nous avons utilisé l’opérateur `context:` afin d’exploiter la fonctionnalité [Annotation de post](/fr/x-api/fundamentals/post-annotations). Nous avons d’abord utilisé l’endpoint [Recherche de post](/fr/x-api/posts/lookup/introduction) et le paramètre de champ `tweet.fields=context_annotations` pour déterminer quels identifiants domain.entity utiliser dans notre requête :

- Les posts liés aux chats renvoient `domain` 66 (catégorie Interests and Hobbies) avec `entity` 852262932607926273 (Cats).
- Les posts liés aux animaux de compagnie renvoient `domain` 65 (Interests and Hobbies Vertical) avec `entity` 852262932607926273 (Pets).
   

Voici à quoi ressemblerait la règle :

```json
{
    "value": "context:65.852262932607926273 -context:66.852262932607926273 -is:retweet has:images lang:ja",
    "tag": "Japanese pets with images - no cats"
}
```

<div id="operators">
  ### Opérateurs
</div>

<Note>**Remarque :** Pour certains opérateurs, un nom alternatif (alias) est disponible.</Note>

| **Opérateur**                 | **Type**           | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|:------------------------------|:-------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `mot-clé`                     | Autonome           | Correspond à un mot-clé présent dans le corps d’un Post. Il s’agit d’une correspondance tokenisée, ce qui signifie que votre chaîne de mot-clé sera comparée au texte tokenisé du corps du Post. La tokenisation sépare les mots en fonction de la ponctuation, des symboles et des caractères séparateurs du plan de base Unicode.<br />Par exemple, un Post contenant le texte « I like coca-cola » serait découpé en jetons comme suit : I, like, coca, cola. Ces jetons seraient ensuite comparés à la chaîne de mot-clé utilisée dans votre règle. Pour faire correspondre des chaînes contenant de la ponctuation (par exemple, coca-cola), des symboles ou des caractères séparateurs, vous devez entourer votre mot-clé de guillemets doubles.<br /><br />Exemple : `pepsi OR cola OR "coca cola"`                                                                                                                                                                                                                                                         |
| `emoji`                       | Autonome           | Correspond à un emoji présent dans le corps d’un Post. Comme pour un mot-clé, les emojis donnent lieu à une correspondance tokenisée, ce qui signifie que votre emoji sera comparé au texte tokenisé du corps du Post.<br /><br />Notez que si un emoji a une variante, vous devez l’entourer de guillemets doubles pour l’ajouter à une règle.<br /><br />Exemple : `(😃 OR 😡) 😬`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `"exact phrase match"`        | Autonome           | Correspond à l’expression exacte présente dans le corps d’un Post.<br /><br />Exemple : `("X API" OR #v2) -"filtered stream"`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `#`                           | Autonome           | Correspond à tout Post contenant un hashtag reconnu, si le hashtag est une entité reconnue dans un Post.<br /><br />Cet opérateur effectue une correspondance exacte, PAS une correspondance tokenisée, ce qui signifie que la règle `#thanku` fera correspondre les posts avec le hashtag exact #thanku, mais pas ceux avec le hashtag #thankunext.<br /><br />Exemple : `#thankunext #fanart OR @arianagrande`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `@`                           | Autonome           | Correspond à tout Post mentionnant le nom d’utilisateur indiqué, si le nom d’utilisateur est une entité reconnue (y compris le caractère @).<br /><br />Exemple : `(@XDevelopers OR @api) -@x`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `$`                           | Autonome           | Correspond à tout Post contenant le « cashtag » spécifié (où le premier caractère du jeton est le caractère $).<br /><br />Notez que l’opérateur de cashtag s’appuie sur l’extraction d’entités « symbols » de X pour faire correspondre les cashtags, plutôt que d’essayer d’extraire le cashtag du corps lui-même.<br /><br />Exemple : `$twtr OR @XDevelopers -$fb`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `from:`                       | Autonome           | Correspond à tout Post provenant d’un utilisateur spécifique.<br />La valeur peut être soit le nom d’utilisateur (sans le caractère @), soit l’identifiant numérique de l’utilisateur.<br /><br />Vous ne pouvez passer qu’un seul nom d’utilisateur/ID par opérateur `from:`.<br /><br />Exemple : `from:XDevelopers OR from:api -from:X`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `to:`                         | Autonome           | Correspond à tout Post qui est une réponse à un utilisateur particulier.<br />La valeur peut être soit le nom d’utilisateur (sans le caractère @), soit l’identifiant numérique de l’utilisateur.<br /><br />Vous ne pouvez passer qu’un seul nom d’utilisateur/ID par opérateur `to:`.<br /><br />Exemple : `to:XDevelopers OR to:api -to:x`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `url:`                        | Standalone         | Effectue une correspondance tokenisée sur toute URL correctement formatée d’un Post.<br /><br />Cet opérateur peut faire correspondre le contenu des champs `url` ou `expanded_url`. Par exemple, un Post contenant « You should check out X Developer Labs: https://t.co/c0A36SWil4 » (avec l’URL courte redirigeant vers https://developer.x.com) correspondra aux deux règles suivantes :<br /><br />`from:XDevelopers url:"https://developer.x.com"`<br />(car cela correspondra au contenu de `entities.urls.expanded_url`)<br /><br />`from:XDevelopers url:"https://t.co"`<br />(car cela correspondra au contenu de `entities.urls.url`)<br /><br />Les jetons et les expressions contenant de la ponctuation ou des caractères spéciaux doivent être entourés de guillemets doubles (par exemple, `url:"/developer"`). De même, pour faire correspondre un protocole spécifique, placez-le entre guillemets doubles (par exemple, `url:"https://developer.x.com"`).<br /><br />Vous ne pouvez passer qu’une seule URL par opérateur `url:`.                                                                                                                                                                                                                                                  |
| `retweets_of:`                | Standalone         | Alias disponible : `retweets_of_user:`<br />Fait correspondre les Posts qui sont des Retweets de l’utilisateur spécifié. La valeur peut être soit le nom d’utilisateur (sans le caractère @), soit l’identifiant numérique de l’utilisateur.<br /><br />Vous ne pouvez passer qu’un seul nom d’utilisateur/ID par opérateur `retweets_of:`.<br /><br />Exemple : `retweets_of:XDevelopers OR retweets_of:twitterapi`<br />Voir [ICI](/fr/x-api/users/lookup/introduction) pour les méthodes permettant de rechercher les identifiants numériques de comptes X.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `context:`                    | Standalone         | Fait correspondre les Posts avec un ID de domaine spécifique et/ou une paire ID de domaine, ID d’entité, où \* représente un joker. Pour en savoir plus sur cet opérateur, consultez notre page sur les [annotations de Post](/fr/x-api/fundamentals/post-annotations).<br /><br />Vous ne pouvez passer qu’un seul domaine/entité par opérateur `context:`.<br /><br />`context:domain_id.entity_id`<br />`context:domain_id.*`<br />`context:*.entity_id`<br /><br />Exemples :<br />`context:10.799022225751871488`<br />(`domain_id.entity_id` renvoie les Posts correspondant à cette paire domaine–entité spécifique)<br /><br />`context:47.*`<br />(`domain_id.*` renvoie les Posts correspondant à cet ID de domaine, avec n’importe quelle paire domaine–entité)<br /><br />`context:*.799022225751871488`<br />(`*.entity_id` renvoie les Posts correspondant à cet ID d’entité, avec n’importe quelle paire domaine–entité)                                                                                                                                                                                                                                                        |
| `entity:`                     | Standalone         | Fait correspondre les Posts avec une valeur de chaîne d’entité spécifique. Pour en savoir plus sur cet opérateur, consultez notre page sur les [annotations](/fr/x-api/fundamentals/post-annotations).<br /><br />Vous ne pouvez passer qu’une seule entité par opérateur `entity:`.<br /><br />`entity:"string declaration of entity/place"`<br /><br />Exemples : `entity:"Michael Jordan" OR entity:"Barcelona"`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `conversation_id:`            | Standalone         | Fait correspondre les Posts qui partagent un ID de conversation commun. Un ID de conversation est défini sur l’ID du Post qui a lancé une conversation. Au fur et à mesure que des réponses à un Post sont publiées, y compris des réponses à des réponses, le `conversation_id` est ajouté à sa charge utile JSON.<br /><br />Vous ne pouvez passer qu’un seul ID de conversation par opérateur `conversation_id:`.<br /><br />Exemple : `conversation_id:1334987486343299072 (from:XDevelopers OR from:api)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `bio:`                        | Standalone         | Alias disponible : `user_bio:`<br />Fait correspondre un mot-clé ou une expression dans la bio de l’éditeur du Post. Il s’agit d’une correspondance tokenisée dans le contenu du champ `description` de l’[objet User](/fr/x-api/fundamentals/data-dictionary#user).<br /><br />Exemple : `bio:developer OR bio:"data engineer" OR bio:academic`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `bio_name:`                   | Standalone         | Fait correspondre un mot-clé dans le nom affiché de la bio de l’éditeur du Post. Il s’agit d’une correspondance tokenisée dans le contenu du champ « name » d’un utilisateur au sein de l’[objet User](/fr/x-api/fundamentals/data-dictionary#user).<br /><br />Exemple : `bio_name:phd OR bio_name:md`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `bio_location:`               | Autonome           | _Alias disponible :_ `user_bio_location:`<br />Fait correspondre les Posts publiés par des utilisateurs dont l’emplacement contient le mot-clé ou l’expression spécifié(e). Cet opérateur effectue une correspondance tokenisée, similaire aux règles de mots-clés classiques appliquées au corps du message.<br /><br />Cet emplacement fait partie de l’[objet User](/fr/x-api/fundamentals/data-dictionary#user), correspond au champ « location » et est une chaîne libre, non normalisée et générée par l’utilisateur. Il est également distinct de l’emplacement d’un Post (voir `place:`).<br /><br />Exemple : `bio_location:"big apple" OR bio_location:nyc OR bio_location:manhattan`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `place:`                      | Autonome           | Fait correspondre les Posts étiquetés avec l’emplacement spécifié ou l’ID de lieu X. Les noms de lieux comportant plusieurs mots (« New York City », « Palo Alto ») doivent être placés entre guillemets.<br /><br />Vous ne pouvez transmettre qu’un seul lieu par opérateur `place:`.<br /><br />Remarque : Consultez le point de terminaison standard v1.1 [GET geo/search](https://developer.x.com/content/developer-twitter/en/docs/geo/places-near-location/api-reference/get-geo-search) pour savoir comment obtenir des IDs de lieu X.<br /><br />Remarque : Cet opérateur ne fera pas correspondre les Retweets, car les lieux des Retweets sont rattachés au Post original. Il ne fera pas non plus correspondre les lieux rattachés au Post original d’un Tweet cité.<br /><br />Exemple : `place:"new york city" OR place:seattle OR place:fd70c22040963ac7`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `place_country:`              | Autonome           | Fait correspondre les Posts dont le code pays associé à un lieu/localisation étiqueté(e) correspond au code ISO alpha‑2 indiqué.<br /><br />Vous pouvez trouver une liste des codes ISO valides sur [Wikipédia](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2).<br /><br />Vous ne pouvez transmettre qu’un seul code ISO par opérateur `place_country:`.<br /><br />Remarque : Cet opérateur ne fera pas correspondre les Retweets, car les lieux des Retweets sont rattachés au Post original. Il ne fera pas non plus correspondre les lieux rattachés au Post original d’un Tweet cité.<br /><br />Exemple : `place_country:US OR place_country:MX OR place_country:CA`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `point_radius:`               | Autonome           | Fait correspondre l’objet `place.geo.coordinates` du Post lorsqu’il est présent et, dans X, un polygone géographique de lieu, lorsque le polygone du lieu est entièrement contenu dans la région définie.<br /><br />`point_radius:[longitude latitude radius]`<br /><br />- Les unités de rayon prises en charge sont les miles (mi) et les kilomètres (km)<br />- Le rayon doit être inférieur à 25 mi<br />- La longitude est comprise entre ±180<br />- La latitude est comprise entre ±90<br />- Toutes les coordonnées sont en degrés décimaux<br />- Les arguments de règle sont entre crochets et séparés par des espaces<br /><br />Vous ne pouvez transmettre qu’un seul polygone géographique par opérateur `point_radius:`.<br /><br />Remarque : Cet opérateur ne fera pas correspondre les Retweets, car les lieux des Retweets sont rattachés au Post original. Il ne fera pas non plus correspondre les lieux rattachés au Post original d’un Tweet cité.<br /><br />Exemple : `point_radius:[2.355128 48.861118 16km] OR point_radius:[-41.287336 174.761070 20mi]`                                                                                                                                                                                                                       |
| `bounding_box:`               | Autonome           | _Alias disponible :_ `geo_bounding_box:`<br />Fait correspondre l’objet place.geo.coordinates du Post lorsqu’il est présent et, sur X, un polygone géographique de lieu, lorsque le polygone du lieu est entièrement contenu dans la région définie.<br /><br />`bounding_box:[west_long south_lat east_long north_lat]`<br /><br />- `west_long south_lat` représentent le coin sud-ouest de la boîte englobante, où `west_long` est la longitude de ce point et `south_lat` la latitude.<br />- `east_long north_lat` représentent le coin nord-est de la boîte englobante, où `east_long` est la longitude de ce point et `north_lat` la latitude.<br />- La largeur et la hauteur de la boîte englobante doivent être inférieures à 25 mi<br />- La longitude est comprise dans l’intervalle ±180<br />- La latitude est comprise dans l’intervalle ±90<br />- Toutes les coordonnées sont en degrés décimaux.<br />- Les arguments de règle sont placés entre crochets et séparés par des espaces.<br /><br />Vous ne pouvez transmettre qu’un seul polygone géographique par opérateur `bounding_box:`.<br /><br />Remarque : cet opérateur ne renverra pas les Retweets, car les lieux des Retweets sont rattachés au Post original. Il ne renverra pas non plus les lieux rattachés au Post original d’un Tweet cité.<br /><br />Exemple : `bounding_box:[-105.301758 39.964069 -105.178505 40.09455]` |
| `is:retweet`                  | Conjonction requise | Renvoie les Retweets qui correspondent au reste de la règle spécifiée. Cet opérateur recherche uniquement les véritables Retweets (par exemple, ceux générés via le bouton Retweet). Les Tweets cités ne seront pas renvoyés par cet opérateur.<br /><br />Exemple : `data @XDevelopers -is:retweet` |
| `is:reply`                    | Conjonction requise | Ne renvoie que les réponses explicites qui correspondent à une règle. Peut également être utilisé en négation pour exclure de la diffusion les réponses qui correspondent à une règle.<br /><br />Lorsqu’il est utilisé avec le Flux filtré, cet opérateur fait correspondre les réponses à un Post original, les réponses dans des Posts cités et les réponses dans des Retweets.<br /><br />Exemple : `from:XDevelopers is:reply` |
| `is:quote`                    | Conjonction requise | Renvoie tous les Tweets cités, également appelés Posts avec commentaires.<br /><br />Exemple : `"sentiment analysis" is:quote` |
| `is:verified`                 | Conjonction requise | Ne renvoie que les Posts dont les auteurs sont vérifiés par X.<br /><br />Exemple : `#nowplaying is:verified` |
| `-is:nullcast`                | Conjonction requise | Exclut les Posts créés uniquement à des fins de promotion sur ads.twitter.com qui ont `source:"Twitter for Advertisers (legacy)"` ou `source:"Twitter for Advertisers".`<br />Cet opérateur doit être utilisé en négation.<br /><br />Pour en savoir plus sur les Posts « nullcast », consultez notre page sur la [disponibilité des Posts](https://developer.x.com/content/developer-twitter/en/docs/twitter-api/v1/tweets/post-and-engage/guides/tweet-availability).<br /><br />Exemple : `"mobile games" -is:nullcast` |
| `has:hashtags`                | Conjonction requise | Fait correspondre les Posts qui contiennent au moins un hashtag.<br /><br />Exemple : `from:XDevelopers -has:hashtags` |
| `has:cashtags`                | Conjonction requise | Fait correspondre les Posts qui contiennent un cashtag (avec un caractère « $ » en préfixe, par exemple `$tag`).<br /><br />Exemple : `#stonks has:cashtags` |
| `has:links`                   | Conjonction requise | Fait correspondre les Posts qui contiennent des liens et des médias dans le corps du Post.<br /><br />Exemple : `from:XDevelopers announcement has:links` |
| `has:mentions`                | Conjonction requise | Fait correspondre les Posts qui mentionnent un autre utilisateur X.<br /><br />Exemple : `#nowplaying has:mentions` |
| `has:media`                   | Conjonction requise | _Alias disponible :_ `has:media_link`<br />Renvoie les publications contenant un objet média (photo, GIF ou vidéo) selon la détection de X. Ne correspond pas aux médias créés avec Periscope ni aux publications comportant des liens vers d’autres sites d’hébergement de médias.<br /><br />Exemple : `(kittens OR puppies) has:media`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `has:images`                  | Conjonction requise | Renvoie les publications qui contiennent une URL reconnue pointant vers une image.<br /><br />Exemple : `#meme has:images`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `has:video_link`              | Conjonction requise | _Alias disponible :_ `has:videos`<br />Renvoie les publications contenant des vidéos natives X, téléversées directement sur X. Ne correspond pas aux vidéos créées avec Periscope ni aux publications comportant des liens vers d’autres sites d’hébergement de vidéos.<br /><br />Exemple : `#icebucketchallenge has:video_link`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `has:geo`                     | Conjonction requise | Renvoie les publications disposant de données de géolocalisation propres à la publication, fournies par l’utilisateur X. Il peut s’agir d’un lieu au format « place » X, avec le nom d’affichage correspondant, le polygone géographique et d’autres champs, ou, plus rarement, d’une coordonnée lat/long.<br /><br />Remarque : Les opérateurs portant sur le lieu (géolocalisation de la publication) n’incluent que des correspondances issues des publications originales. Les Retweets ne contiennent aucune donnée de lieu.<br /><br />Exemple : `recommend #paris has:geo -bakery`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `sample:`                     | Conjonction requise | Renvoie un échantillon aléatoire en pourcentage des publications correspondant à une règle, plutôt que l’ensemble complet des publications. La valeur en pourcentage doit être un entier entre 1 et 100 (par exemple, `sample:10` renvoie un échantillon aléatoire de 10 %).<br /><br />Cet opérateur réduit d’abord la portée du flux au pourcentage spécifié, puis la règle/le filtre est appliqué au sous-ensemble échantillonné. En d’autres termes, avec `sample:10`, chaque publication a 10 % de chances d’être incluse dans l’échantillon.<br /><br />Cet opérateur s’applique à l’ensemble de la règle et exige que tous les termes reliés par OR soient regroupés.<br /><br />Exemple : `#nowplaying @spotify sample:15`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `lang:`                       | Conjonction requise | Fait correspondre les posts que X a classés dans une langue donnée (si, et seulement si, le post a été classé). Il est important de noter que chaque post n’est actuellement classé que dans une seule langue ; combiner plusieurs langues avec ET ne renverra donc aucun résultat.<br /><br />Vous ne pouvez transmettre qu’un seul identifiant de langue BCP 47 par opérateur `lang:`.<br /><br />Remarque : si aucune classification de langue ne peut être effectuée, la valeur renvoyée est « und » (pour non défini).<br /><br />Exemple : `recommend #paris lang:en`<br /><br />La liste ci-dessous présente les langues actuellement prises en charge et leur identifiant de langue BCP 47 correspondant :<br /><br />| Langue          | BCP 47 |<br />|-|-|<br />| Amharique        | `am`   |<br />| Arabe            | `ar`   |<br />| Arménien         | `hy`   |<br />| Basque           | `eu`   |<br />| Bengali          | `bn`   |<br />| Bosniaque        | `bs`   |<br />| Bulgare          | `bg`   |<br />| Birman           | `my`   |<br />| Croate           | `hr`   |<br />| Catalan          | `ca`   |<br />| Tchèque          | `cs`   |<br />| Danois           | `da`   |<br />| Néerlandais      | `nl`   |<br />| Anglais          | `en`   |<br />| Estonien         | `et`   |<br />| Finnois          | `fi`   |<br />| Français         | `fr`   |<br />| Géorgien         | `ka`   |<br />| Allemand         | `de`   |<br />| Grec             | `el`   |<br />| Gujarati         | `gu`   |<br />| Créole haïtien   | `ht`   |<br />| Hébreu           | `iw`   |<br />| Hindi            | `hi`   |<br />| Hindi latinisé   | `hi-Latn` |<br />| Hongrois         | `hu`   |<br />| Islandais        | `is`   |<br />| Indonésien       | `in`   |<br />| Italien          | `it`   |<br />| Japonais         | `ja`   |<br />| Kannada          | `kn`   |<br />| Khmère           | `km`   |<br />| Coréen           | `ko`   |<br />| Lao              | `lo`   |<br />| Letton           | `lv`   |<br />| Lituanien        | `lt`   |<br />| Malayalam        | `ml`   |<br />| Maldivien        | `dv`   |<br />| Marathi          | `mr`   |<br />| Népali           | `ne`   |<br />| Norvégien        | `no`   |<br />| Oriya            | `or`   |<br />| Panjabi          | `pa`   |<br />| Pachto           | `ps`   |<br />| Persan           | `fa`   |<br />| Polonais         | `pl`   |<br />| Portugais        | `pt`   |<br />| Roumain          | `ro`   |<br />| Russe            | `ru`   |<br />| Serbe            | `sr`   |<br />| Chinois simplifié | `zh-CN` |<br />| Sindhi           | `sd`   |<br />| Sinhala          | `si`   |<br />| Slovaque         | `sk`   |<br />| Slovène          | `sl`   |<br />| Kurde sorani     | `ckb`  |<br />| Espagnol         | `es`   |<br />| Suédois          | `sv`   |<br />| Tagalog          | `tl`   |<br />| Tamoul           | `ta`   |<br />| Télougou         | `te`   |<br />| Thaï             | `th`   |<br />| Tibétain         | `bo`   |<br />| Chinois traditionnel | `zh-TW` |<br />| Turc             | `tr`   |<br />| Ukrainien        | `uk`   |<br />| Ourdou           | `ur`   |<br />| Ouïghour         | `ug`   |<br />| Vietnamien       | `vi`   |<br />| Gallois          | `cy`   | |
| `followers_count:`            |                  | Fait correspondre des Posts lorsque l’auteur a un nombre d’abonnés dans l’intervalle indiqué.<br />Si un seul nombre est spécifié, tout nombre égal ou supérieur correspondra.<br /><br />Exemple : `followers_count:500`<br /><br />Il est également possible de spécifier un intervalle pour faire correspondre tout nombre compris dans l’intervalle indiqué.<br /><br />Exemple : `followers_count:1000..10000`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `tweets_count:`               |                  | _Alias disponible :_ `statuses_count:`<br />Fait correspondre des Posts lorsque l’auteur a publié un nombre de Posts qui se situe dans l’intervalle indiqué.<br />Si un seul nombre est spécifié, tout nombre égal ou supérieur correspondra.<br /><br />Exemple : `tweets_count:1000`<br /><br />Il est également possible de spécifier un intervalle pour faire correspondre tout nombre compris dans l’intervalle indiqué.<br /><br />Exemple : `tweets_count:1000..10000`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `following_count:`            |                  | _Alias disponible :_ `friends_count:`<br />Fait correspondre des Posts lorsque l’auteur a un nombre d’abonnements (le nombre d’utilisateurs suivis) qui se situe dans l’intervalle indiqué.<br />Si un seul nombre est spécifié, tout nombre égal ou supérieur correspondra.<br /><br />Exemple : `following_count:500`<br /><br />Il est également possible de spécifier un intervalle pour faire correspondre tout nombre compris dans l’intervalle indiqué.<br /><br />Exemple : `following_count:1000..10000`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `listed_count:`               |                  | _Alias disponible :_ `user_in_lists_count:`<br />Fait correspondre des Posts lorsque l’auteur figure dans le nombre de Listes indiqué.<br />Si un seul nombre est spécifié, tout nombre égal ou supérieur correspondra.<br /><br />Exemple : `listed_count:10`<br /><br />Il est également possible de spécifier un intervalle pour faire correspondre tout nombre compris dans l’intervalle indiqué.<br /><br />Exemple : `listed_count:10..100`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `url_title:`                  |                  | _Alias disponible :_ `within_url_title:`<br />Effectue une recherche par mot‑clé/phrase dans la métadonnée de titre HTML de l’URL développée.<br /><br />Exemple : `url_title:snow`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `url_description:`            |                  | _Alias disponible :_ `within_url_description:`<br />Effectue une recherche par mot‑clé/phrase dans la métadonnée de description de la page développée.<br /><br />Exemple : `url_description:weather`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `url_contains:`               |                  | Fait correspondre des Posts avec des URL qui contiennent littéralement la phrase ou le mot‑clé indiqué. Pour rechercher des motifs contenant de la ponctuation (p. ex. : google.com), placez le terme de recherche entre guillemets.<br />Remarque : ceci effectuera également une correspondance avec l’URL développée.<br /><br />Exemple : `url_contains:photos`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `source:`                     |                  | Fait correspondre tout Post généré par l’application source indiquée. La valeur doit être soit le nom de l’application, soit l’URL de l’application. Ne peut pas être utilisé seul.<br /><br />Exemple : `source:"X for iPhone"`<br /><br />Remarque : En tant que développeur d’app X, les Posts créés de façon programmatique par votre application auront comme source le nom et l’URL du site Web de votre application définis dans vos [paramètres d’application](/fr/resources/fundamentals/developer-apps#app-management).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `in_reply_to_tweet_id:`       |                  | _Alias disponible :_ `in_reply_to_status_id:`<br />Retourne uniquement les réponses explicites au Post spécifié.<br /><br />Exemple : `in_reply_to_tweet_id:1539382664746020864`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| `retweets_of_tweet_id:`       |                  | _Alias disponible :_ `retweets_of_status_id:`<br />Retourne uniquement les Retweets explicites (ou natifs) du Post spécifié. Notez que l’ID de statut utilisé doit être l’ID d’un Post original et non d’un Retweet.<br /><br />Exemple : `retweets_of_tweet_id:1539382664746020864`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |