---
title: Recherche récente
sidebarTitle: Recherche récente
---

import { Button } from '/snippets/fr/button.mdx';

<div id="getting-started-with-the-recent-search-endpoint">
  ## Bien démarrer avec l’endpoint de recherche récente
</div>

Ce guide de démarrage rapide vous aidera à effectuer votre première requête vers l’endpoint de recherche récente avec un ensemble de champs spécifiés, à l’aide de Postman.

Si vous souhaitez voir des exemples de code dans différentes langues, consultez notre dépôt GitHub [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code).

<Note>
  ### **Prérequis**

  Pour suivre ce guide, vous devez disposer d’un ensemble de [keys and tokens](/fr/resources/fundamentals/authentication) pour authentifier votre requête. Vous pouvez générer ces clés et jetons en suivant ces étapes :

  - [Demandez un compte développeur](https://developer.x.com/en/apply-for-access) et obtenez l’approbation.
  - Créez un [Project](/fr/resources/fundamentals/projects) et une [developer App](/fr/resources/fundamentals/developer-apps) associée dans le portail développeur.
  - Accédez à la page « Keys and tokens » de votre App pour générer les identifiants requis. Assurez-vous d’enregistrer tous les identifiants dans un emplacement sécurisé.
</Note>

<div id="steps-to-build-a-recent-search-request">
  ### Étapes pour créer une requête de recherche récente
</div>

**Première étape : commencer avec un outil ou une bibliothèque**

Il existe plusieurs outils, exemples de code et bibliothèques que vous pouvez utiliser pour envoyer une requête à ce point de terminaison, mais nous allons utiliser l’outil Postman ici pour simplifier le processus.

Pour charger la collection Postman de l’API X v2 dans votre environnement, veuillez cliquer sur le bouton suivant :

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Ajouter l’API X v2 à Postman
</Button>

Une fois la collection API X v2 chargée dans Postman, accédez à Search Posts > Recent search request.

**Deuxième étape : authentifier votre requête**

Pour effectuer correctement une requête vers l’API X, vous devez vérifier que vous disposez des autorisations nécessaires. Pour ce faire avec ce point de terminaison, vous devez authentifier votre requête avec l’une des méthodes suivantes : [OAuth 2.0 App-Only](/fr/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token), [OAuth 2.0 Authorization Code with PKCE](fr/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2), ou [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication).

Pour simplifier, nous utiliserons OAuth 2.0 App-Only avec cette requête, mais vous devrez utiliser l’une des autres méthodes d’authentification si vous souhaitez demander des [mesures](/fr/x-api/fundamentals/metrics) privées ou des Posts.

Pour utiliser OAuth 2.0 App-Only, vous devez ajouter vos clés et jetons, en particulier le [App Access Token](/fr/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token) (également appelé App-only Bearer Token) dans Postman. Pour ce faire, sélectionnez l’environnement nommé « X API v2 » dans le coin supérieur droit de Postman, puis ajoutez vos clés et jetons dans les champs « initial value » et « current value » (en cliquant sur l’icône en forme d’œil à côté de la liste déroulante des environnements).

Ces variables seront automatiquement renseignées dans l’onglet d’autorisation de la requête si vous avez effectué cette étape correctement.
 

**Troisième étape : créer une requête de recherche**

Chaque recherche récente requiert une seule [requête de recherche](/fr/x-api/posts/search/integrate/build-a-query). Pour cet exemple, nous allons utiliser une requête correspondant aux Posts publiés par le compte @XDevelopers. Pour cette requête, nous utilisons l’opérateur from et le définissons sur XDevelopers (insensible à la casse) :

`from:XDevelopers`

Dans Postman, accédez à l’onglet « Params » et saisissez cet ID, ou une chaîne d’IDs de Posts séparés par une virgule, dans la colonne « Value » du paramètre `ids`.

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Description** |
| `query` | from:XDevelopers | Requête de recherche à soumettre au point de terminaison de recherche récente |

**Quatrième étape : identifier et spécifier les champs que vous souhaitez récupérer**

Si vous cliquez sur le bouton « Send » après l’étape trois, vous recevrez par défaut les champs du [Post object](/fr/x-api/fundamentals/data-dictionary#tweet) dans votre réponse : id, text et `edit_history_tweet_ids`. Si vous souhaitez recevoir des champs supplémentaires au-delà de id, text et `edit_history_tweet_ids`, vous devrez les spécifier dans votre requête à l’aide des paramètres [field](/fr/x-api/fundamentals/fields) et/ou [expansion](/fr/x-api/fundamentals/expansions).

Pour cet exercice, nous demanderons quatre ensembles différents de champs provenant d’objets distincts :

1. Les champs par défaut de l’objet Post.
2. Le champ supplémentaire tweet.created\_at dans les objets utilisateur principaux.
3. Les champs par défaut de l’objet utilisateur des auteurs associés pour les Posts renvoyés.
4. Le champ supplémentaire user.description dans les objets utilisateur associés.

Dans Postman, accédez à l’onglet « Params » et ajoutez la paire clé:valeur suivante au tableau « Query Params » :

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Returned fields** |
| `tweet.fields` | `created_at` | `tweets.created_at` |
| `expansions` | `author_id` | `includes.users.id`, `includes.users.name`, `includes.users.username` |
| `user.fields` | `description` | `includes.users.description` |

Vous devriez maintenant voir l’URL suivante à côté du bouton « Send » :

`https://api.x.com/2/tweets/search/recent?query=from:XDevelopers&tweet.fields=created_at&expansions=author_id&user.fields=created_at`

**Cinquième étape : envoyez votre requête et examinez la réponse**

Une fois tout configuré, cliquez sur le bouton « Send » et vous recevrez la réponse suivante :

```
{
   "data": [
       {
           "author_id": "2244994945",
           "created_at": "2020-06-11T16:05:06.000Z",
           "id": "1271111223220809728",
           "text": "Tune in tonight and watch as @jessicagarson takes us through running your favorite Python package in R. 🍿\n\nLearn how to use two powerful programming languages for data science together, and see a live example that uses the recent search endpoint from Twitter’s Developer Labs. https://t.co/v178oUZNuj"
       },
       {
           "author_id": "2244994945",
           "created_at": "2020-06-10T19:25:24.000Z",
           "id": "1270799243071062016",
           "text": "As we work towards building the new Twitter API, we’ve extended the deprecation timeline for several Labs v1 endpoints. Learn more 📖 https://t.co/rRWaJYJgKk"
       },
       {
           "author_id": "2244994945",
           "created_at": "2020-06-09T18:08:47.000Z",
           "id": "1270417572001976322",
           "text": "Annotations help you learn more about a Tweet — they can even help you find topics of interest. 🔬\n\nIn this tutorial, @suhemparack shows us how find Tweets related to COVID-19 using annotations + the filtered stream endpoint.\n\nLearn how you can, too. ⤵️\nhttps://t.co/qwVOgw0zSV"
       }
   ],
   "includes": {
       "users": [
           {
               "description": "The voice of Twitter's #DevRel team, and your official source for updates, news, & events about Twitter's API. \n\n#BlackLivesMatter",
               "id": "2244994945",
               "name": "X Developers",
               "username": "XDevelopers"
           }
       ]
   },
   "meta": {
       "newest_id": "1271111223220809728",
       "oldest_id": "1270417572001976322",
       "result_count": 3
   }
}
```

**Prochaines étapes**

[Personnalisez votre requête à l’aide de la référence de l’API](/fr/x-api/posts/recent-search)

[Consultez la liste complète des opérateurs de requête](/fr/x-api/posts/search/integrate/build-a-query "Consultez la liste complète des opérateurs de requête")

[Utilisez des exemples de code pour ces endpoints](https://github.com/xdevplatform/Twitter-API-v2-sample-code "Utilisez des exemples de code pour ces endpoints")