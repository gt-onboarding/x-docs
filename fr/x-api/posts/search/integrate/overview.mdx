---
title: Présentation
sidebarTitle: Présentation
---

<div id="how-to-integrate-with-the-search-posts-endpoints">
  ## Comment s’intégrer aux endpoints de recherche de posts
</div>

Cette page présente plusieurs outils et concepts clés à connaître lorsque vous intégrez les endpoints de recherche récente ou de recherche sur l’archive complète à votre système. Nous avons divisé la page en sections suivantes :

- [Outils utiles](#helpful-tools)
- Concepts clés
  - [Authentification](#authentication)

  - [Portail développeur, Projets et applications](#developer-portal)

  - [Limites de débit](#rate-limits)

  - [Champs et extensions](#fields-expansions)

  - [Mesures](#metrics)

  - [Construction de requêtes de recherche](#queries)

  - [Pagination](#pagination)

  - [Plafonds de posts](#tweet-caps) 

  - [Modifications de posts](#tweet-edits) 

<div id="helpful-tools">
  ### Outils utiles
</div>

Avant d’examiner certains concepts clés, nous vous recommandons d’utiliser l’un des outils ou des exemples de code suivants pour commencer à tester le fonctionnement de ces endpoints.

<div id="code-samples">
  #### Exemples de code
</div>

Vous souhaitez configurer ces endpoints avec du code dans votre langage de programmation préféré ? Nous proposons plusieurs exemples de code que vous pouvez utiliser comme point de départ sur notre [page GitHub](https://github.com/xdevplatform/Twitter-API-v2-sample-code), notamment un [client Python](https://github.com/xdevplatform/search-tweets-python) et un [client Ruby](https://github.com/xdevplatform/search-tweets-ruby).

<div id="libraries">
  #### Bibliothèques
</div>

Profitez de l’une de nos nombreuses [bibliothèques tierces de la communauté](/fr/x-api/tools-and-libraries/overview) pour vous aider à démarrer. Pour trouver une bibliothèque compatible avec les endpoints v2, recherchez le tag de version approprié.

<div id="postman">
  #### Postman
</div>

Postman est un excellent outil pour tester ces endpoints. Chaque requête Postman inclut tous les paramètres de l’endpoint concerné afin de vous aider à comprendre rapidement ce qui est disponible. Pour en savoir plus sur nos collections Postman, consultez la page [Utiliser Postman](/fr/tutorials/postman-getting-started).
 

<div id="key-concepts">
  ### Concepts essentiels
</div>

<div id="authentication">
  #### Authentification
</div>

Tous les endpoints de l’API X v2 exigent que vous authentifiiez vos requêtes avec un ensemble d’identifiants, également appelés clés et jetons. Vous pouvez utiliser le Contexte utilisateur OAuth 1.0a, OAuth 2.0 App-Only ou le Code d’autorisation OAuth 2.0 avec PKCE pour authentifier vos requêtes vers l’endpoint de recherche récente. Vous devez utiliser OAuth 2.0 App-Only avec l’endpoint de recherche sur l’archive complète.

[OAuth 2.0 App-Only](/fr/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-3) nécessite simplement de transmettre un [OAuth 2.0 App Access Token](/fr/resources/fundamentals/authentication#bearer-token-also-known-as-app-only) avec votre requête. Vous pouvez soit générer un App Access Token directement depuis une application développeur, soit en générer un via l’endpoint [POST oauth2/token](/fr/resources/fundamentals/authentication#post-oauth2-token).

Le [Contexte utilisateur OAuth 1.0a](/fr/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) vous demande d’utiliser vos clés API, des jetons d’accès utilisateur et quelques autres paramètres pour [créer un en-tête d’autorisation](https://developer-staging.x.com/resources/fundamentals/authentication/authorizing-a-request), que vous transmettrez ensuite avec votre requête. Les jetons d’accès doivent être associés à l’utilisateur pour le compte duquel vous effectuez la requête. Si vous souhaitez générer un ensemble de jetons d’accès pour un autre utilisateur, celui-ci doit autoriser votre application via le [flux OAuth à 3 acteurs](https://developer-staging.x.com/resources/fundamentals/authentication/obtaining-user-access-tokens).

Veuillez noter qu’OAuth 1.0a peut être difficile à utiliser. Si vous n’êtes pas familier avec cette méthode d’authentification, nous vous recommandons d’utiliser une [bibliothèque](/fr/x-api/tools-and-libraries/overview), un outil comme Postman, ou OAuth 2.0 pour authentifier vos requêtes. Si vous souhaitez demander un Post ou des mesures privées depuis ces endpoints, vous devrez utiliser soit le Contexte utilisateur OAuth 1.0a, soit le Code d’autorisation OAuth 2.0 avec PKCE, afin de garantir que vous disposez des autorisations appropriées de l’utilisateur propriétaire de ce contenu.

Le [Code d’autorisation OAuth 2.0 avec PKCE](/fr/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) permet un contrôle plus fin de la portée d’une application et des flux d’autorisation sur plusieurs appareils. OAuth 2.0 vous permet de choisir des portées spécifiques et granulaires qui vous confèrent des autorisations précises au nom d’un utilisateur.

Pour activer OAuth 2.0 dans votre application, vous devez l’activer dans les paramètres d’authentification de votre application, situés dans la section Paramètres de l’application du Portail développeur.

<Note>
  **Veuillez noter**

  Si vous demandez les [champs](/fr/x-api/fundamentals/fields) suivants, le Contexte utilisateur OAuth 1.0a ou le Code d’autorisation OAuth 2.0 est requis :

  - tweet.fields.non\_public\_metrics
  - tweet.fields.promoted\_metrics
  - tweet.fields.organic\_metrics
  - media.fields.non\_public\_metrics
  - media.fields.promoted\_metrics
  - media.fields.organic\_metrics
</Note>

####

Portail développeur, Projets et applications développeur

Pour utiliser n’importe quel endpoint de l’API X v2, vous devez avoir [créé un compte développeur](https://developer.x.com/en/portal/petition/essential/basic-info), configuré un Projet dans ce compte et créé une application développeur au sein de ce Projet. Les clés et jetons de cette application développeur fonctionneront avec ces endpoints de recherche.

Vous pouvez utiliser des clés et jetons d’un Projet avec n’importe quel [niveau d’accès](/fr/x-api/getting-started/about-x-api) pour effectuer des requêtes vers l’endpoint de recherche récente. En revanche, vous devrez utiliser un Projet avec un niveau d’accès Pro ou Enterprise pour effectuer des requêtes vers l’endpoint de recherche sur l’archive complète. Si vous disposez [d’un accès Enterprise](/fr/x-api/getting-started/getting-access), vous aurez accès à des fonctionnalités supplémentaires, notamment des opérateurs additionnels et des requêtes plus longues.
 

<div id="rate-limits">
  #### Limites de débit
</div>

Chaque jour, plusieurs milliers de développeurs envoient des requêtes à l’API X. Pour gérer ce volume, des [limites de débit](/fr/x-api/fundamentals/rate-limits) sont appliquées à chaque endpoint afin de plafonner le nombre de requêtes qu’un développeur peut effectuer au nom d’une application ou d’un utilisateur authentifié.

Différentes limites s’appliquent selon la méthode d’authentification utilisée. Les limites au niveau application s’appliquent à une application qui envoie des requêtes avec OAuth 2.0 App-Only, tandis que la limite au niveau utilisateur s’applique aux requêtes effectuées au nom de l’utilisateur autorisant, via OAuth 1.0a User Context ou OAuth 2.0 Authorization Code with PKCE. Ces deux types de limites sont basés sur la fréquence des requêtes dans une fenêtre de 15 minutes.

Par exemple, une application utilisant OAuth 2.0 App-Only pour interroger l’endpoint de recherche récente peut effectuer 450 requêtes (pagination incluse) dans une fenêtre de 15 minutes. Cette même application, sur la même période de 15 minutes, avec deux utilisateurs authentifiés différents (via OAuth 1.0a User Context ou OAuth 2.0 Authorization Code with PKCE), peut effectuer jusqu’à 180 requêtes (pagination incluse) vers l’endpoint de recherche récente pour chaque utilisateur authentifié.
 

<div id="fields-and-expansions">
  #### Champs et expansions
</div>

L’API X v2 vous permet de sélectionner précisément les données à retourner en utilisant les [champs](/fr/x-api/fundamentals/fields) et les [expansions](/fr/x-api/fundamentals/expansions). Le paramètre expansions permet d’étendre les objets référencés dans la charge utile. Par exemple, cet endpoint vous permet de demander des objets de type sondage, lieu, média, etc., via le paramètre expansions.

Les paramètres fields vous permettent de sélectionner exactement quels champs, au sein des différents objets de données, vous souhaitez recevoir. Par défaut, l’objet principal Post renvoyé par ces endpoints inclut les champs id et text (ainsi que edit\_history\_tweet\_ids pour les Posts créés après le lancement de cette fonctionnalité). Pour recevoir des champs supplémentaires tels que author\_id ou public\_metrics, vous devez les demander explicitement via les paramètres fields. Parmi les champs importants à envisager dans votre intégration figurent nos données de sondage, les [mesures](/fr/x-api/fundamentals/metrics), les [annotations de Post](/fr/x-api/fundamentals/post-annotations) et le champ [conversation ID](/fr/x-api/fundamentals/conversation-id).

Nous avons ajouté à notre [dictionnaire de données de l’API X v2](/fr/x-api/fundamentals/data-dictionary) un guide expliquant comment [utiliser conjointement champs et expansions](/fr/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions).
 

<div id="metrics">
  #### Mesures
</div>

Les points de terminaison de l’API X v2 vous permettent de demander des mesures directement à partir des objets renvoyés, à condition d’inclure les [fields](/fr/x-api/fundamentals/fields) appropriés dans votre requête.

Il existe certaines limites concernant les mesures de Post dont vous devez être informé, notamment en lien avec la confidentialité des utilisateurs et les champs de réponse suivants :

- tweet.fields.non\_public\_metrics
- tweet.fields.promoted\_metrics
- tweet.fields.organic\_metrics
- media.fields.non\_public\_metrics
- media.fields.promoted\_metrics
- media.fields.organic\_metrics

Les champs mentionnés incluent des données de mesures privées, ce qui signifie que vous devez être autorisé par le publieur du Post pour récupérer ces données en son nom lorsque vous utilisez le point de terminaison de recherche récente, ce qui implique d’utiliser [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication). Étant donné que cette méthode d’authentification n’est disponible qu’avec la recherche récente, vous ne pourrez pas récupérer ces mesures via le point de terminaison de recherche sur l’archive complète.

Par exemple, pour recevoir `non_public_metrics` pour les Posts de l’utilisateur ayant l’ID 1234, vous devrez inclure dans votre requête des jetons d’accès associés à cet utilisateur. Vous pouvez faire autoriser votre application par des utilisateurs et obtenir un ensemble de jetons d’accès qui leur sont associés en utilisant le [flux OAuth à 3 étapes](/fr/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow).

Toutes les `non_public_metrics`, `organic_metrics` et `promoted_metrics` ne sont disponibles que pour les Posts créés au cours des 30 derniers jours. Cela signifie que lorsque vous demandez les champs mentionnés, les résultats s’ajustent automatiquement pour n’inclure que des Posts des 30 derniers jours.

Si ces champs sont demandés, seuls les Posts publiés par l’utilisateur authentifié seront renvoyés ; tous les autres Posts renverront un message d’erreur.
 

<div id="building-search-queries">
  #### Créer des requêtes de recherche
</div>

La fonctionnalité centrale de ces endpoints est l’utilisation d’une requête de recherche unique pour filtrer les posts qui vous sont renvoyés. Ces requêtes sont composées d’opérateurs qui s’appliquent à des attributs de post et d’utilisateur, tels que des mots-clés, des hashtags et des URL. Les opérateurs peuvent être combinés au sein de requêtes à l’aide de la logique booléenne et de parenthèses afin d’affiner le comportement de correspondance de la requête.

Vous pouvez consulter notre guide sur [la création d’une requête](/fr/x-api/posts/search/integrate/build-a-query) pour en savoir plus.

<div id="pagination">
  #### Pagination
</div>

Ces endpoints utilisent la pagination afin de renvoyer rapidement les réponses. Lorsque le nombre de résultats dépasse ce qui peut être envoyé dans une seule réponse (jusqu’à 100 posts pour la recherche récente et 500 pour la recherche sur l’archive complète), vous devrez paginer. Utilisez le paramètre max\_results pour indiquer combien de résultats seront renvoyés par page, et le paramètre pagination\_token pour obtenir la page suivante de résultats. Pour en savoir plus, consultez notre [guide de pagination](/fr/x-api/fundamentals/pagination).

<div id="post-caps">
  #### Plafonds de posts
</div>

Les endpoints Search Posts sont limités quant au nombre de Posts qu’ils peuvent renvoyer au cours d’un mois donné, indépendamment de la pagination.

Quel que soit l’endpoint de recherche que vous utilisez, les Posts renvoyés seront comptabilisés dans les [plafonds de posts](/fr/x-api/fundamentals/post-cap) au niveau du Projet. L’utilisation est affichée dans le portail développeur, et le « mois » commence à la date de renouvellement de votre abonnement indiquée sur le [tableau de bord du portail développeur](https://developer.x.com/en/portal/dashboard).

**Modifications de Posts**

Les Posts éligibles à la modification peuvent être modifiés jusqu’à cinq fois dans les 30 minutes suivant la publication du Post initial. Les endpoints de recherche renverront toujours la dernière version du Post. Si vous ne demandez que des Posts publiés depuis 30 minutes ou plus, vous recevrez toujours la version finale du Post. En revanche, si vous avez un cas d’usage quasi temps réel et interrogez des Posts publiés au cours des trente dernières minutes, ces Posts peuvent avoir été modifiés après leur première réception. Ces Posts peuvent être « réhydratés » via la recherche ou l’endpoint Post Lookup afin de confirmer leur état final. Pour en savoir plus sur le fonctionnement des modifications de Posts, consultez la page [Principes de base des modifications de Posts](/fr/x-api/fundamentals/edit-posts).  

**Étapes suivantes**

[Effectuez votre première requête vers un endpoint Search Posts](/fr/x-api/posts/search/quickstart/recent-search)

[Consultez la liste complète des paramètres, champs, et plus encore dans nos pages de référence de l’API](/fr/x-api/posts/recent-search)

[Obtenez de l’aide ou dépannez une erreur](https://developer.x.com/en/support/x-api)