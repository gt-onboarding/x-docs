---
title: Recherche des likes
sidebarTitle: Recherche des likes
---

import { Button } from '/snippets/fr/button.mdx';

<div id="getting-started-with-the-likes-lookup-endpoint">
  ### Prise en main de l’endpoint de consultation des Likes
</div>

Ce guide de démarrage rapide vous aidera à effectuer votre première requête vers l’endpoint de consultation des Likes à l’aide de [Postman](/fr/tutorials/postman-getting-started).

Si vous souhaitez consulter des exemples de code dans différents langages, rendez-vous sur notre dépôt GitHub [Exemples de code pour l’API X v2](https://github.com/xdevplatform/Twitter-API-v2-sample-code).
 

<div id="prerequisites">
  #### Prérequis
</div>

Pour pouvoir suivre ce guide, vous devrez disposer d’un ensemble de [clés et jetons](/fr/resources/fundamentals/authentication), que vous pouvez générer en suivant ces étapes :

1. [Demandez un compte développeur](https://developer.x.com/en/apply-for-access) et obtenez l’approbation.

2. Créez un [projet](/fr/resources/fundamentals/projects) et une [application développeur](/fr/resources/fundamentals/developer-apps) associée dans le portail développeur.

3. Accédez à la page « Keys and tokens » de votre application et enregistrez vos clés API, vos jetons d’accès et votre jeton Bearer dans votre gestionnaire de mots de passe.

<div id="steps-to-build-a-likes-lookup-request">
  #### Étapes pour créer une requête de recherche des Likes
</div>

**Première étape : commencez avec un outil ou une bibliothèque**

Il existe plusieurs outils, exemples de code et bibliothèques que vous pouvez utiliser pour effectuer une requête vers cet endpoint, mais nous utiliserons ici l’outil Postman pour simplifier le processus.

Pour charger la collection Postman de l’API X v2 dans votre environnement, veuillez cliquer sur le bouton suivant :

[![](https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/m1_vnext/carat.svg)<br />Ajouter l’API X v2 à Postman](https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400)

Une fois la collection de l’API X v2 chargée dans Postman, accédez au dossier "Likes" et sélectionnez "Liking users." 
 

**Deuxième étape : authentifiez votre requête**

Pour réussir une requête vers cet endpoint, vous devrez utiliser l’authentification [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication) ou [OAuth 2.0 Bearer Token](/fr/resources/fundamentals/authentication#oauth-2-0). Pour ce faire, vous devez ajouter les clés et jetons suivants à Postman en sélectionnant l’environnement nommé "X API v2", puis en ajoutant les variables suivantes dans les champs Initial value et Current value :

- consumer\_key avec votre API Key
- consumer\_secret avec votre API Key Secret
- access\_token avec votre Access Token
- token\_secret avec votre Access Token Secret
   

**Troisième étape : spécifiez un Tweet**

Avec cet endpoint, vous devez indiquer l’ID du Tweet pour lequel vous souhaitez obtenir la liste des utilisateurs ayant liké. Vous pouvez trouver l’ID d’un Tweet en ouvrant ce Tweet sur X et en récupérant le code numérique à la fin de l’URL. Par exemple, l’ID du Tweet de l’URL suivante est 1354143047324299264.

https://x.com/TwitterDev/status/1354143047324299264

Dans Postman, accédez à l’onglet "Params" et saisissez cet identifiant dans la colonne "Value" de la variable de chemin tweet\_id (en bas de la section), en veillant à ne pas inclure d’espaces avant ou après les noms d’utilisateur. 

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | L’ID du Tweet pour lequel vous souhaitez obtenir les utilisateurs ayant liké |

**Quatrième étape : identifiez et précisez les champs que vous souhaitez récupérer**

Si vous cliquez sur le bouton "Send" après l’étape trois, vous recevrez les champs par défaut de l’[objet user](/fr/x-api/fundamentals/data-dictionary#user) dans votre réponse : id, name et username.

Si vous souhaitez recevoir des champs supplémentaires au-delà de id, name et username, vous devrez les préciser dans votre requête à l’aide des paramètres [fields](/fr/x-api/fundamentals/fields) et/ou [expansions](/fr/x-api/fundamentals/expansions).

Pour cet exercice, nous demanderons trois ensembles supplémentaires de champs provenant d’objets différents :

1. Le champ supplémentaire user.created\_at dans les objets utilisateur principaux.
2. Les champs par défaut de l’objet des Tweets épinglés associés pour les utilisateurs renvoyés : id et text.
3. Le champ supplémentaire tweet.created\_at dans les objets Tweet associés.

Dans Postman, accédez à l’onglet "Params" et ajoutez la paire clé:valeur suivante au tableau "Query Params" :

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Returned fields** |
| user.fields | created\_at | user.created\_at |
| expansions | pinned\_tweet\_id | tweet.id, tweet.text |
| tweet.fields | created\_at | tweet.created\_at |

Vous devriez maintenant voir l’URL suivante à côté du bouton "Send" :

`https://api.x.com/2/tweets/1354143047324299264/liking_users?user.fields=created_at&expansions=pinned_tweet_id&tweet.fields=created_at`

**Cinquième étape : envoyez votre requête et examinez la réponse**

Une fois que tout est configuré, cliquez sur le bouton "Send" et vous recevrez une réponse similaire à l’exemple suivant :

```
{
  "data": [
    {
      "created_at": "2008-12-04T18:51:57.000Z",
      "id": "17874544",
      "username": "TwitterSupport",
      "name": "Twitter Support"
    },
    {
      "created_at": "2007-02-20T14:35:54.000Z",
      "id": "783214",
      "username": "Twitter",
      "name": "Twitter"
    },
    {
      "pinned_tweet_id": "1389270063807598594",
      "created_at": "2018-11-21T14:24:58.000Z",
      "id": "1065249714214457345",
      "username": "TwitterSpaces",
      "name": "Spaces"
    },
    {
      "pinned_tweet_id": "1293595870563381249",
      "created_at": "2007-05-23T06:01:13.000Z",
      "id": "6253282",
      "username": "XAPI",
      "name": "X API"
    }
  ],
  "includes": {
    "tweets": [
      {
        "created_at": "2021-05-03T17:26:09.000Z",
        "id": "1389270063807598594",
        "text": "now, everyone with 600 or more followers can host a Space.\n\nbased on what we've learned, these accounts are likely to have a good experience hosting because of their existing audience. before bringing the ability to create a Space to everyone, we’re focused on a few things. 🧵"
      },
      {
        "created_at": "2020-08-12T17:11:04.000Z",
        "id": "1293595870563381249",
        "text": "X API v2: Early Access released\n\nToday we announced Early Access to the first endpoints of the new Twitter API!\n\n#TwitterAPI #EarlyAccess #VersionBump https://t.co/g7v3aeIbtQ"
      }
    ]
  }
}
```

**Étape six : Récupérer les Tweets aimés d’un utilisateur**

Vous pouvez également envoyer une requête pour récupérer les Tweets aimés d’un utilisateur. Avec l’endpoint Likes lookup, vous pouvez obtenir des informations sur les Tweets qu’un utilisateur a aimés. Pour ce faire, accédez au dossier « Likes » et sélectionnez « Liked Tweets ».

Avec cet endpoint, vous devez spécifier l’ID de l’utilisateur pour lequel vous souhaitez récupérer les Tweets aimés. Vous pouvez utiliser l’endpoint [user lookup](/fr/x-api/users/lookup/introduction) pour obtenir cette information.

Dans Postman, accédez à l’onglet « Params » et saisissez ce nom d’utilisateur dans la colonne « Value » de la variable de chemin id (en bas de la section), en veillant à ne pas inclure d’espaces avant ou après les noms d’utilisateur.

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| id  | L’ID de l’utilisateur dont vous souhaitez récupérer les Tweets aimés |
| max\_results | 5   |

Vous pouvez maintenant voir, à côté du bouton « Send », une URL similaire avec votre ID au lieu de celui de TwitterDev :

`https://api.x.com/2/users/2244994945/liked_tweets?max_results=5`

Une fois tout configuré, cliquez sur le bouton « Send » et vous recevrez une réponse similaire à l’exemple suivant :

```
{
  "data": [
    {
      "id": "1362449997430542337",
      "text": "Honoré d’être le premier développeur mis à l’honneur lors du love fest de @TwitterDev 🥰♥️😍 https://t.co/g8TsPoZsij"
    },
    {
      "id": "1365416026435854338",
      "text": "Nous sommes ravis pour notre partenaire officiel @Brandwatch et leur grande nouvelle. https://t.co/3DwWBNSq0o https://t.co/bDUGbgPkKO"
    },
    {
      "id": "1296487407475462144",
      "text": "Découvrez cet article sur @TwitterDev pour en savoir plus sur la façon dont nous exploitons les données des réseaux sociaux pour donner du sens à cette crise #santépublique qui évolue https://t.co/sIFLXRSvEX."
    },
    {
      "id": "1294346980072624128",
      "text": "Je me réveille après cinq ans de sommeil https://t.co/OEPVyAFcfB"
    },
    {
      "id": "1283153843367206912",
      "text": "@wongmjane On aimerait en dire plus, mais je ne suis qu’une théière 👀"
    }
  ],
  "meta": {
        "next_token": "7140dibdnow9c7btw4539n0vybdnx19ylpayqf16fjt4l",
    	  "result_count": 5
  }
}
```