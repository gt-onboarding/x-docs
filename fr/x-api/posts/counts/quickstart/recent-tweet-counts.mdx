---
title: Rechercher des posts (récent)
sidebarTitle: Rechercher des posts (récent)
---

import { Button } from '/snippets/fr/button.mdx';

<div id="getting-started-with-the-recent-post-counts-endpoint">
  ### Prise en main de l’endpoint de comptage des Posts récents
</div>

Ce guide de démarrage rapide vous aidera à effectuer votre première requête vers l’endpoint de comptage des Posts récents avec Postman, un outil graphique permettant d’envoyer des requêtes HTTP.

Si vous souhaitez consulter des exemples de code dans différents langages de programmation, rendez-vous sur notre dépôt GitHub [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code).

<Note>
  ### Prérequis

  Pour suivre ce guide, vous devez disposer d’un ensemble de [keys and tokens](/fr/resources/fundamentals/authentication) pour authentifier votre requête. Vous pouvez générer ces clés et jetons en suivant les étapes ci-dessous :

  - [Inscrivez-vous pour obtenir un compte développeur](https://developer.x.com/en/apply-for-access) et attendez l’approbation.
  - Créez un [Project](/fr/resources/fundamentals/projects) et une [developer App](/fr/resources/fundamentals/developer-apps) associée dans le portail développeur.
  - Accédez à la page « Keys and tokens » de votre App pour générer les identifiants requis. Veillez à enregistrer tous les identifiants dans un emplacement sécurisé.
</Note>

<div id="steps-to-build-a-recent-post-counts-request">
  #### Étapes pour créer une requête de comptage de Posts récents
</div>

**Première étape : démarrer avec un outil ou une bibliothèque**

Il existe plusieurs outils, exemples de code et bibliothèques que vous pouvez utiliser pour effectuer une requête vers cet endpoint, mais nous allons utiliser l’outil Postman ici pour simplifier le processus.

Pour charger la collection API X v2 de Postman dans votre environnement, veuillez cliquer sur le bouton suivant :

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Ajouter l’API X v2 à Postman
</Button>

Une fois que vous avez chargé la collection API X v2 dans Postman, accédez à Post counts > Recent Post counts request.

**Deuxième étape : authentifier votre requête**

Pour effectuer correctement une requête vers l’API X, vous devez vérifier que vous avez l’autorisation. Pour ce faire avec cet endpoint, vous devez authentifier votre requête avec les méthodes d’authentification [OAuth 2.0 App-Only](/fr/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token).

Vous devez ajouter vos clés et jetons, en particulier le [App Access Token](/fr/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token) (également appelé App-only Bearer Token) dans Postman. Pour cela, sélectionnez l’environnement nommé « X API v2 » dans le coin supérieur droit de Postman, puis ajoutez vos clés et jetons dans les champs « initial value » et « current value » (en cliquant sur l’icône en forme d’œil à côté du menu déroulant de l’environnement).

Cette variable sera automatiquement renseignée dans l’onglet Authorization de la requête si vous avez effectué cette étape correctement.
 

**Troisième étape : créer une requête**

Chaque requête de comptage de Posts récents nécessite une seule [query](/fr/x-api/posts/counts/integrate/build-a-query). Pour cet exemple, nous allons utiliser une requête qui cible les Posts publiés par le compte @XDevelopers. Pour cette requête, nous utilisons l’opérateur from: et le définissons sur XDevelopers (insensible à la casse) :

`from:XDevelopers`

Dans Postman, accédez à l’onglet « Params » et saisissez cet ID, ou une liste d’IDs de Posts séparés par des virgules, dans la colonne « Value » du paramètre `ids`.

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Description** |
| `query` | from:XDevelopers | Requête à soumettre à l’endpoint de comptage de Posts récents |

**Quatrième étape (optionnelle) : spécifier la granularité de la requête**

Si vous cliquez sur le bouton « Send » après la troisième étape, vous obtiendrez par défaut le comptage de Posts récents par heure pour les sept derniers jours. Si vous souhaitez obtenir le comptage de Posts récents par jour, vous devez ajouter le paramètre granularity avec la valeur day.

Dans Postman, accédez à l’onglet « Params » et saisissez day dans la colonne « Value » du paramètre granularity.

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Description** |
| granularity | day | La granularité des résultats du comptage de Posts. Valeurs possibles : day, hour ou minute |

Vous devriez maintenant voir l’URL suivante à côté du bouton « Send » :

`https://api.x.com/2/tweets/counts/recent?query=from%3AXDevelopers&granularity=day`

**Cinquième étape : envoyer votre requête et examiner la réponse**

Une fois que tout est configuré, cliquez sur le bouton « Send » et vous recevrez la réponse suivante :

```
{
   "data": [
       {
           "end": "2021-06-16T00:00:00.000Z",
           "start": "2021-06-15T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-06-17T00:00:00.000Z",
           "start": "2021-06-16T00:00:00.000Z",
           "tweet_count": 1
       },
       {
           "end": "2021-06-18T00:00:00.000Z",
           "start": "2021-06-17T00:00:00.000Z",
           "tweet_count": 2
       },
       {
           "end": "2021-06-19T00:00:00.000Z",
           "start": "2021-06-18T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-06-20T00:00:00.000Z",
           "start": "2021-06-19T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-06-21T00:00:00.000Z",
           "start": "2021-06-20T00:00:00.000Z",
           "tweet_count": 0
       },
       {
           "end": "2021-06-22T00:00:00.000Z",
           "start": "2021-06-21T00:00:00.000Z",
           "tweet_count": 1
       },
       {
           "end": "2021-06-23T00:00:00.000Z",
           "start": "2021-06-22T00:00:00.000Z",
           "tweet_count": 2
       }
   ],
   "meta": {
       "total_tweet_count": 6
   }
}
```