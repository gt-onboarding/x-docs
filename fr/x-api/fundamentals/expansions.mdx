---
title: Expansions
---

Avec les expansions, les développeurs peuvent développer les objets référencés dans la charge utile. Les objets disponibles pour expansion sont référencés par ID. Par exemple, les champs `referenced_tweets.id` et `author_id` renvoyés dans la charge utile de [Posts lookup](/fr/x-api/posts/lookup/introduction) peuvent être développés en objets complets. Si vous souhaitez demander des champs liés à l’utilisateur qui a publié ce Post, ou aux médias, au sondage ou au lieu inclus dans ce Post, vous devez ajouter le paramètre de requête d’expansion correspondant à votre requête pour recevoir ces données dans votre réponse. Actuellement, les points de terminaison v2 qui renvoient des Posts, des utilisateurs, des listes, des Spaces et des événements de Messages privés prennent tous en charge les expansions (voir les exemples ci-dessous).

Lorsque vous incluez une expansion dans votre requête, nous ajoutons les champs par défaut de l’objet développé dans la même réponse. Cela permet de renvoyer des données supplémentaires dans la même réponse sans avoir besoin de requêtes séparées. Si vous souhaitez demander des [champs](/fr/x-api/fundamentals/fields) supplémentaires liés à l’objet développé, vous pouvez inclure le paramètre de champ associé à cet objet, accompagné d’une liste de champs séparés par des virgules que vous souhaitez recevoir dans votre réponse. Veuillez noter que les champs ne sont pas toujours renvoyés dans le même ordre que celui de la requête.

La charge utile de Post ci-dessous contient des identifiants de référence pour des objets complémentaires sur lesquels nous pouvons effectuer une expansion, y compris l’`author_id` de l’auteur du Post, l’`id` d’un Post _référencé_ et une `media_key` pour une pièce jointe média.

```json
{
    "data": {
        "attachments": {
            "media_keys": ["16_1211797899316740096"]
        },
        "author_id": "2244994945",
        "id": "1212092628029698048",
        "referenced_tweets": [
            {
                "type": "replied_to",
                "id": "1212092627178287104"
            }
        ],
        "text": "We believe the best future version of our API will come from building it with YOU. Here’s to another great year with everyone who builds on the Twitter platform. We can’t wait to continue working with you in the new year. https://t.co/yvxdK6aOo2"
    }
}
```

<div id="available-expansions-for-post-payloads">
  ### Extensions disponibles pour les charges utiles de Post
</div>

| Extension                      | Description                                                                        |
|:--------------------------------|:------------------------------------------------------------------------------------|
| `author_id`                    | Renvoie un objet utilisateur représentant l’auteur du Post                         |
| `referenced_tweets.id`         | Renvoie un objet Post auquel ce Post fait référence (Retweet, Post cité ou réponse) |
| `edit_history_tweet_ids`       | Renvoie des objets Post faisant partie de l’historique des modifications du Post   |
| `in_reply_to_user_id`          | Renvoie un objet utilisateur représentant l’auteur du Post auquel le Post demandé répond |
| `attachments.media_keys`       | Renvoie un objet média représentant les images, vidéos et GIF inclus dans le Post  |
| `attachments.poll_ids`         | Renvoie un objet sondage contenant les métadonnées du sondage inclus dans le Post  |
| `geo.place_id`                 | Renvoie un objet lieu contenant les métadonnées de l’emplacement tagué dans le Post |
| `entities.mentions.username`   | Renvoie un objet utilisateur pour l’utilisateur mentionné dans le Post             |
| `referenced_tweets.id.author_id` | Renvoie un objet utilisateur pour l’auteur du Post référencé                      |

<div id="available-expansion-for-user-payloads">
  ### Extensions disponibles pour les charges utiles utilisateur
</div>

| Extension          | Description                                               |
|:--------------------|:-----------------------------------------------------------|
| `pinned_tweet_id`  | Renvoie un objet Post représentant le post épinglé en haut du profil de l’utilisateur |

<div id="available-expansions-for-direct-message-event-payloads">
  ### Extensions disponibles pour les charges utiles d’événements de Messages privés
</div>

| Extension                | Description                                                              |
|:--------------------------|:--------------------------------------------------------------------------|
| `attachments.media_keys` | Renvoie un objet Media joint à un Message privé                           |
| `referenced_tweets.id`   | Renvoie un objet Post référencé dans un Message privé                     |
| `sender_id`              | Renvoie un objet User représentant l’auteur d’un Message privé et la personne ayant invité un participant à rejoindre une conversation |
| `participant_ids`        | Renvoie un objet User représentant un participant ayant rejoint ou quitté une conversation |

<div id="available-expansions-for-spaces-payloads">
  ### Extensions disponibles pour les charges utiles Spaces
</div>

| Extension           | Description                                               |
|:--------------------|:-----------------------------------------------------------|
| `invited_user_ids` | Renvoie des objets User représentant les comptes invités |
| `speaker_ids`      | Renvoie des objets User représentant les comptes qui ont pris la parole pendant un Space |
| `creator_id`       | Renvoie un objet User représentant le compte qui a créé le Space |
| `host_ids`         | Renvoie des objets User représentant les comptes définis comme hôtes |
| `topics_ids`       | Renvoie les descriptions des sujets définis par le créateur |

<div id="available-expansion-for-lists-payloads">
  ### Extensions disponibles pour les charges utiles de listes
</div>

| Extension   | Description                                                    |
|:-------------|:----------------------------------------------------------------|
| `owner_id`  | Renvoie un objet User représentant le compte qui a créé et gère la liste |

<div id="expanding-the-media-object">
  ## Extension de l’objet Media
</div>

Dans la requête suivante, nous demandons l’extension `geo.place_id` en plus des champs de Post par défaut :

**Exemple de requête**

```
{`curl 'https://api.x.com/2/tweets/:ID?expansions=geo.place_id' --header 'Authorization: Bearer $ACCESS_TOKEN'`}
```

**Exemple de réponse**

```
{`{
  "data": {
      "geo": {
          "place_id": "01a9a39529b27f36"
      },
      "id": "ID",
      "text": "Test"
  },
  "includes": {
      "places": [
          {
              "full_name": "Manhattan, NY",
              "id": "01a9a39529b27f36"
          }
      ]
  }
}`}

```

<div id="expanding-the-poll-object">
  ## Extension de l’objet Poll
</div>

Dans la requête suivante, nous demandons l’extension `attachments.poll_ids` afin de l’inclure en plus des champs de Post par défaut :

**Exemple de requête**

<CodeBlock language="bash">
  {`curl 'https://api.x.com/2/tweets/1199786642791452673?expansions=attachments.poll_ids' --header 'Authorization: Bearer $ACCESS_TOKEN'`}
</CodeBlock>

**Exemple de réponse**

```
{`{
  "data": {
      "attachments": {
          "poll_ids": ["1199786642468413448"]
      },
      "id": "1199786642791452673",
      "text": "C#"
  },
  "includes": {
      "polls": [
          {
              "id": "1199786642468413448",
              "options": [
                  {
                      "position": 1,
                      "label": "“C Sharp”",
                      "votes": 795
                  },
                  {
                      "position": 2,
                      "label": "“C Hashtag”",
                      "votes": 156
                  }
              ]
          }
      ]
  }
}`}
```

<div id="expanding-the-place-object">
  ## Extension de l’objet Place
</div>

Dans la requête suivante, nous demandons l’expansion `geo.place_id` afin de l’inclure avec les champs de Post par défaut :

**Exemple de requête**

<CodeBlock language="bash">
  {`curl 'https://api.x.com/2/tweets/:ID?expansions=geo.place_id' --header 'Authorization: Bearer $ACCESS_TOKEN'`}
</CodeBlock>

**Exemple de réponse**

```s
{`{
  "data": {
      "geo": {
          "place_id": "01a9a39529b27f36"
      },
      "id": "ID",
      "text": "Test"
  },
  "includes": {
      "places": [
          {
              "full_name": "Manhattan, NY",
              "id": "01a9a39529b27f36"
          }
      ]
  }
}`}
```