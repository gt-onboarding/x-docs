---
title: Démarrage rapide
sidebarTitle: Démarrage rapide
---

import { Button } from '/snippets/fr/button.mdx';

<div id="getting-started-with-the-manage-follows-endpoints">
  ## Prise en main des endpoints de gestion des abonnements
</div>

Ce guide de démarrage rapide vous aidera à effectuer votre première requête vers les endpoints de gestion des abonnements avec [Postman](/fr/tutorials/postman-getting-started).

Si vous souhaitez voir des exemples de code dans différents langages, consultez notre dépôt GitHub [Exemples pour l’API X v2](https://github.com/xdevplatform/Twitter-API-v2-sample-code).

<Note>
  ### Prérequis

  Pour suivre ce guide, vous devez disposer d’un ensemble de [clés et jetons](/fr/resources/fundamentals/authentication) pour authentifier votre requête. Vous pouvez générer ces clés et jetons en suivant ces étapes :

  - [Demandez un compte développeur](https://developer.x.com/en/apply-for-access) et attendez son approbation.
  - Créez un [projet](/fr/resources/fundamentals/projects) et une [application développeur](/fr/resources/fundamentals/developer-apps) associée dans le portail développeur.
  - Accédez à la page « Keys and tokens » de votre application pour générer les identifiants requis. Veillez à enregistrer toutes les informations d’identification dans un emplacement sécurisé.
</Note>

<div id="steps-to-build-a-manage-follows-request">
  ### Étapes pour créer une requête de gestion des suivis
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### Première étape : commencer avec un outil ou une bibliothèque
</div>

Il existe plusieurs outils, exemples de code et bibliothèques que vous pouvez utiliser pour envoyer une requête à ce point de terminaison, mais nous allons utiliser Postman ici pour simplifier le processus.

Pour importer la collection Postman de l’API X v2 dans votre environnement, veuillez cliquer sur le bouton suivant :

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Ajouter l’API X v2 à Postman
</Button>

Une fois la collection de l’API X v2 importée dans Postman, accédez au dossier « Follows », puis sélectionnez « Follow a user ID ».
 

<div id="step-two-authenticate-your-request">
  #### Deuxième étape : authentifier votre requête
</div>

Pour effectuer correctement une requête vers l’API X, vous devez vérifier que vous disposez des autorisations nécessaires. Pour ce faire avec cet endpoint, vous devez authentifier votre requête en utilisant soit [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication), soit [OAuth 2.0 Authorization Code with PKCE](fr/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2).

Dans cet exemple, nous allons utiliser OAuth 1.0a User Context.

Vous devez ajouter vos clés et jetons — spécifiquement votre clé d’API, votre clé secrète d’API, le jeton d’accès utilisateur OAuth 1.0a et le secret du jeton d’accès utilisateur OAuth 1.0a — dans Postman. Pour cela, sélectionnez l’environnement nommé « API X v2 » dans l’angle supérieur droit de Postman, puis ajoutez vos clés et jetons dans les champs « initial value » et « current value » (en cliquant sur l’icône en forme d’œil à côté de la liste déroulante des environnements).

Ces variables seront automatiquement reprises dans l’onglet Authorization de la requête si vous avez procédé correctement.
 

<div id="step-three-specify-who-is-going-to-follow-whom">
  #### Troisième étape : préciser qui suit qui
</div>

Les endpoints de gestion des abonnements prennent deux identifiants : l’un pour l’utilisateur source (l’utilisateur qui souhaite s’abonner à ou se désabonner d’un autre utilisateur) et l’autre pour l’utilisateur cible (l’utilisateur qui sera suivi ou dont on se désabonnera). L’ID de l’utilisateur source doit correspondre à l’ID de l’utilisateur authentifié. Dans ce cas, vous pouvez indiquer l’ID de votre propre compte. Vous pouvez trouver votre ID de deux façons :

1. En utilisant l’endpoint [user lookup by username](/fr/x-api/users/user-lookup-by-id), vous pouvez passer un nom d’utilisateur et récupérer le champ id.
2. En consultant votre jeton d’accès, vous constaterez que la partie numérique correspond à votre ID utilisateur.

L’ID cible peut être n’importe quel ID utilisateur valide. Par exemple, l’ID utilisateur de @XDevelopers est 2244994945.

Dans Postman, accédez à l’onglet « Params » et saisissez votre ID dans la colonne « Value » de la variable de chemin id. Accédez à l’onglet « Body » et indiquez 2244994945 (l’ID utilisateur de @XDevelopers) comme valeur pour le paramètre target\_user\_id. Veillez à ne pas inclure d’espace avant ou après un ID.

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | (votre ID utilisateur) |
| target\_user\_id | 2244994945 |

Si vous cliquez sur le bouton « Send », vous recevrez un objet de réponse contenant l’état de la relation :

- Si vous recevez "following": true, alors l’ID suit bien le target\_user\_id.
- Si vous recevez "pending": true, alors le target\_user\_id est protégé et doit accepter votre demande d’abonnement.

####

Étape quatre : Envoyez votre requête et vérifiez la réponse

Une fois tout configuré, cliquez sur le bouton « Send » et vous recevrez la réponse suivante :

```{
    "data": {
        "following": true,
        "pending_follow": false
    }
}
```

De même, si vous souhaitiez cesser de suivre un utilisateur, vous utiliseriez la requête « Unfollow a user ID » dans la même collection Postman. Cependant, les paramètres source\_user\_id et target\_user\_id doivent être transmis comme variables de chemin via l’endpoint d’unfollow. 