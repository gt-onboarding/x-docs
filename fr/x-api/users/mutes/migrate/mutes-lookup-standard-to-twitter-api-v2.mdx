---
title: Recherche des masquages
sidebarTitle: Recherche des masquages
---

import { Button } from '/snippets/fr/button.mdx';

<div id="mutes-lookup-standard-v11-compared-to-x-api-v2">
  ### Recherche des utilisateurs masqués : Standard v1.1 comparé à l’API X v2
</div>

Si vous avez travaillé avec les endpoints standard v1.1 [GET mutes/users/ids](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/mute-block-report-users/api-reference/get-mutes-users-ids) et [GET mutes/users/list](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/mute-block-report-users/api-reference/get-mutes-users-list), l’objectif de ce guide est de vous aider à comprendre les similitudes et les différences entre les endpoints de recherche des utilisateurs masqués du standard v1.1 et de l’API X v2.

- **Similarités**
  - Authentification
- **Différences**
  - URL d’endpoint

  - Limites d’utilisateurs par requête

  - Exigences pour les applications et les projets

  - Formats de données de réponse

  - Paramètres de requête

<div id="similarities">
  #### Similarités
</div>

**Authentification**

Les endpoints de recherche des mises en sourdine, tant de la version standard v1.1 que de l’API X v2, utilisent tous deux [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication#oauth-1-0a-2). Par conséquent, si vous utilisiez auparavant l’un des endpoints de recherche des mises en sourdine de la version standard v1.1, vous pouvez continuer à utiliser la même méthode d’authentification lors de la migration vers la version API X v2. 

<div id="differences">
  #### Différences
</div>

**URLs d’endpoints**

- Endpoints standard v1.1 :
  - GET https://api.x.com/1.1/mutes/users/ids.json
    (liste des identifiants d’utilisateurs que l’utilisateur spécifié a mis en sourdine)
  - GET https://api.x.com/1.1/mutes/users/lists.json
    (liste des utilisateurs mis en sourdine par l’utilisateur spécifié)
- Endpoint API X v2 :
  - GET https://api.x.com/2/users/:id/muting
    (liste des utilisateurs mis en sourdine par l’identifiant d’utilisateur spécifié)
     

**Limites d’utilisateurs par requête**

Les endpoints standard v1.1 permettent de renvoyer jusqu’à 5 000 utilisateurs par requête. Les nouveaux endpoints v2 permettent de renvoyer jusqu’à 1 000 utilisateurs par requête. Pour obtenir 1 000 utilisateurs complets, vous devez passer max\_results=1000 comme paramètre de requête ; vous pouvez ensuite transmettre le next\_token renvoyé dans la charge utile de la réponse au paramètre de requête pagination\_token de votre requête suivante.
 

**Exigences pour les applications et les projets**

Les endpoints de l’API X v2 exigent l’utilisation d’informations d’identification issues d’une [application développeur](/fr/resources/fundamentals/developer-apps) associée à un [projet](/fr/resources/fundamentals/developer-apps) lors de l’authentification de vos requêtes. Tous les endpoints de l’API X v1.1 peuvent utiliser des informations d’identification provenant d’applications autonomes ou d’applications associées à un projet.

**Format des données de réponse**

L’une des principales différences entre les versions des endpoints standard v1.1 et de l’API X v2 est la manière dont vous sélectionnez les champs renvoyés dans la charge utile.

Pour les endpoints standard, de nombreux champs de réponse sont renvoyés par défaut ; vous pouvez ensuite utiliser des paramètres pour indiquer quels champs ou ensembles de champs doivent être inclus dans la charge utile.

La version API X v2 ne renvoie par défaut que les champs user id, name et username. Pour demander des champs ou objets supplémentaires, utilisez les paramètres [fields](/fr/x-api/fundamentals/fields) et [expansions](/fr/x-api/fundamentals/expansions). Tous les champs utilisateur demandés à partir de cet endpoint seront renvoyés dans l’objet utilisateur principal. Tout objet Post étendu et ses champs seront renvoyés dans un objet includes au sein de la réponse. Vous pouvez ensuite apparier les objets étendus à l’objet utilisateur en faisant correspondre les identifiants présents à la fois dans l’objet utilisateur et dans l’objet Post étendu. 

Nous vous encourageons à en savoir plus sur ces nouveaux paramètres dans leurs guides respectifs, ou en consultant notre guide sur [l’utilisation des fields et expansions](/fr/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions). 

Nous avons également élaboré un [guide de migration du format de données](/fr/x-api/migrate/data-format-migration#migrating-from-standard-v1-1s-data-format-to-v2) qui peut vous aider à faire correspondre les champs standard v1.1 aux nouveaux champs v2. Ce guide vous indiquera aussi les paramètres d’expansion et de champ spécifiques à transmettre avec votre requête v2 pour renvoyer des champs particuliers. 
 

En plus des changements dans la façon de demander certains champs, l’API X v2 introduit également de nouvelles conceptions JSON pour les objets renvoyés par les API, notamment les objets [Post](/fr/x-api/fundamentals/data-dictionary#tweet) et [user](/fr/x-api/fundamentals/data-dictionary#user).

- Au niveau racine du JSON, les endpoints standard renvoient les objets Post dans un tableau statuses, tandis que l’API X v2 renvoie un tableau data. 
- Au lieu de se référer à des « statuses » Retweeted et Quoted, le JSON de l’API X v2 fait référence à des Tweets Retweeted et Quoted. De nombreux champs hérités et obsolètes, tels que contributors et user.translator\_type, sont supprimés. 
- Au lieu d’utiliser à la fois favorites (dans l’objet Post) et favourites (dans l’objet user), l’API X v2 utilise le terme like. 
- X adopte la convention selon laquelle les valeurs JSON sans valeur (par exemple null) ne sont pas écrites dans la charge utile. Les attributs Post et user ne sont inclus que s’ils ont des valeurs non nulles. 
   

Nous avons également introduit un nouvel ensemble de champs dans l’[objet Post](/fr/x-api/fundamentals/data-dictionary#tweet), notamment :

- Un champ [conversation\_id](/fr/x-api/fundamentals/conversation-id)
- Deux nouveaux champs [annotations](/fr/x-api/fundamentals/post-annotations), à savoir context et entities
- Plusieurs nouveaux champs [metrics](/fr/x-api/fundamentals/metrics) 
- Un nouveau champ reply\_setting, qui indique qui peut répondre à un Post donné

**Paramètres de requête**

Les paramètres de requête standard v1.1 suivants ont des équivalents dans l’API X v2 :

| **Standard** | **API X v2** |
| :--- | :--- |
| stringify\_ids | Aucun équivalent |
| cursor | pagination\_token |
| skip\_status | Aucun équivalent |

Il existe également un ensemble de paramètres de requête standard v1.1 pour la recherche des sourdines **non** pris en charge dans l’API X v2 :

| Standard | Commentaire |
| :--- | :--- |
| include\_entities | Ce paramètre permet de supprimer le nœud entities de la charge utile du post. Il a été remplacé par la fonctionnalité des champs additifs et des expansions. |