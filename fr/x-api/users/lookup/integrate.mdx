---
title: Guide d’intégration
sidebarTitle: Guide d’intégration
---

import { Button } from '/snippets/fr/button.mdx';

Cette page présente plusieurs outils et concepts clés à connaître lors de l’intégration des endpoints de recherche d’utilisateurs à votre système. Nous avons fractionné la page en plusieurs sections :

- [Outils utiles](#helpful)
- Concepts clés
- [Authentification](#authentication)
- [Portail développeur, Projets et applications](#portal)
- [Limites de débit](#limits)
- [Champs et expansions](#fields)
- [Cas particuliers](#edge)

<div id="helpful-tools">
  ### Outils pratiques
</div>

Avant d’aborder certains concepts clés qui vous aideront à intégrer cet endpoint, nous vous recommandons de vous familiariser avec :

<div id="postman">
  #### Postman
</div>

Postman est un excellent outil pour tester un endpoint. Chaque requête Postman inclut tous les paramètres de chemin et de corps afin de vous aider à comprendre rapidement ce qui est disponible. Pour en savoir plus sur nos collections Postman, consultez notre ["Utiliser Postman"](/fr/tutorials/postman-getting-started) page. 

<div id="code-samples">
  #### Exemples de code
</div>

Vous souhaitez configurer cet endpoint avec du code dans votre langage de programmation préféré ? Nous proposons plusieurs exemples de code que vous pouvez utiliser comme point de départ sur notre [page GitHub](https://github.com/xdevplatform/Twitter-API-v2-sample-code).

<div id="third-party-libraries">
  #### Bibliothèques tierces
</div>

Profitez de l’une des [bibliothèques tierces](/fr/x-api/tools-and-libraries/overview) de notre communauté pour vous aider à démarrer. Vous pouvez trouver une bibliothèque compatible avec les points de terminaison v2 en recherchant le tag de version approprié.

<div id="key-concepts">
  ### Concepts clés
</div>

<div id="authentication">
  #### Authentification
</div>

Tous les endpoints de l’API X v2 exigent que les requêtes soient [authentifiées](/fr/resources/fundamentals/authentication) avec un ensemble d’identifiants, également appelés clés et jetons. Vous pouvez utiliser OAuth 1.0a (contexte utilisateur), App only, ou OAuth 2.0 Authorization Code avec PKCE pour authentifier les requêtes adressées à ces endpoints.

[OAuth 1.0a (contexte utilisateur)](/fr/resources/fundamentals/authentication#oauth-1-0a-2) exige d’utiliser vos clés d’API, des jetons d’accès utilisateur et quelques autres paramètres pour [créer un en-tête d’autorisation](/fr/resources/fundamentals/authentication#authorizing-a-request), que vous joindrez ensuite à votre requête. Les jetons d’accès doivent être associés à l’utilisateur pour le compte duquel vous effectuez la requête. Si vous souhaitez générer un ensemble de jetons d’accès pour un autre utilisateur, celui-ci doit autoriser votre application via le [flux OAuth à 3 volets](https://developer-staging.x.com/resources/fundamentals/authentication/obtaining-user-access-tokens).

Veuillez noter qu’OAuth 1.0a peut être difficile à utiliser. Si vous n’êtes pas familier avec cette méthode d’authentification, nous vous recommandons d’utiliser une [bibliothèque](/fr/x-api/tools-and-libraries/overview), un outil comme Postman, ou OAuth 2.0 pour authentifier vos requêtes. Si vous souhaitez récupérer un Post ou des métriques privées depuis ces endpoints, vous devrez utiliser soit OAuth 1.0a (contexte utilisateur), soit OAuth 2.0 Authorization Code avec PKCE, afin de garantir que vous disposez des autorisations appropriées de l’utilisateur propriétaire de ce contenu.

[App only](/fr/resources/fundamentals/authentication#bearer-token-also-known-as-app-only) exige simplement que vous joigniez un [jeton d’accès App only](/fr/resources/fundamentals/authentication#bearer-token-also-known-as-app-only) à votre requête. Vous pouvez générer un jeton d’accès App only directement depuis une application développeur, ou en générer un via l’endpoint [POST oauth2/token](/fr/resources/fundamentals/authentication#post-oauth2-token).

[OAuth 2.0 Authorization Code avec PKCE](/fr/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) offre un meilleur contrôle de la portée d’une application et prend en charge des flux d’autorisation multi-appareils. OAuth 2.0 vous permet de choisir des portées fines spécifiques qui vous confèrent des autorisations précises au nom d’un utilisateur.

Pour activer OAuth 2.0 dans votre application, vous devez l’activer dans les paramètres d’authentification de l’application, disponibles dans la section Paramètres de l’application du portail développeur.

**Veuillez noter**

Si vous demandez les champs suivants, OAuth 1.0a (contexte utilisateur) ou OAuth 2.0 Authorization Code est requis :

- tweet.fields.non\_public\_metrics
- tweet.fields.promoted\_metrics
- tweet.fields.organic\_metrics

<div id="developer-portal-projects-and-developer-apps">
  #### Portail développeur, Projets et applications développeur
</div>

Pour obtenir un jeu d’identifiants d’authentification compatibles avec les endpoints de l’API X v2, vous devez [créer un compte développeur](https://developer.x.com/en/portal/petition/essential/basic-info), configurer un [Projet](/fr/resources/fundamentals/projects) dans ce compte et créer une [application développeur](/fr/resources/fundamentals/developer-apps) dans ce Projet. Vous pourrez ensuite retrouver vos clés et jetons dans votre application développeur. 
 

<div id="rate-limits">
  #### Limitations de débit
</div>

Chaque jour, plusieurs milliers de développeurs envoient des requêtes à l’API X. Pour aider à gérer le volume de ces requêtes, des [limitations de débit](/fr/x-api/fundamentals/rate-limits) sont appliquées à chaque endpoint, ce qui limite le nombre de requêtes que vous pouvez effectuer au nom de votre application ou d’un utilisateur authentifié.

Les endpoints de recherche d’utilisateurs sont soumis à des limitations de débit à la fois au niveau de l’application et au niveau de l’utilisateur. Cependant, l’endpoint de recherche de l’utilisateur authentifié est limité au niveau de l’utilisateur.

La limitation de débit au niveau de l’application signifie que vous, en tant que développeur, ne pouvez effectuer qu’un certain nombre de requêtes vers cet endpoint sur une période donnée depuis n’importe quelle application donnée (déterminée par les clés et les jetons que vous utilisez). La limitation de débit au niveau de l’utilisateur signifie que l’utilisateur authentifié pour lequel vous effectuez la requête ne peut réaliser l’opération qu’un certain nombre de fois, et ce, via n’importe quelle application développeur.

Le tableau ci-dessous présente les limitations de débit pour chaque endpoint.

|     |     |     |
| :--- | :--- | :--- |
| **Endpoint** | **Méthode HTTP** | **Limite de débit / Niveau** |
| /2/users | GET | 900 requêtes par 15 minutes / Application et Utilisateur |
| /2/users/:id | GET | 900 requêtes par 15 minutes / Application et Utilisateur |
| /2/users/by | GET | 900 requêtes par 15 minutes / Application et Utilisateur |
| /2/users/by/username/:username | GET | 900 requêtes par 15 minutes / Application et Utilisateur |
| /2/users/me | GET | 75 requêtes par 15 minutes / Utilisateur |

<div id="fields-and-expansions">
  #### Champs et expansions
</div>

L’API X v2 permet de sélectionner précisément les données à renvoyer via un ensemble d’outils appelés champs et expansions. Le paramètre expansion vous permet d’inclure les objets référencés dans le payload. Par exemple, cet endpoint permet d’utiliser l’expansion pinned\_tweet\_id.

Le paramètre fields vous permet de choisir exactement quels [champs](/fr/x-api/fundamentals/fields) des différents objets de données vous souhaitez recevoir. Ces endpoints renvoient principalement des objets utilisateur. Par défaut, l’objet utilisateur retourne les champs id, name et username. Pour recevoir des champs supplémentaires tels que user.created\_at ou user.location, vous devez les demander explicitement via un paramètre fields. Parmi les champs importants à envisager pour votre intégration figurent les données de sondage des Posts, les métriques, les annotations et l’identifiant de conversation.

Nous avons ajouté un guide sur [l’utilisation des champs et des expansions](/fr/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions) dans notre [dictionnaire de données de l’API X v2](/fr/x-api/fundamentals/data-dictionary).

<div id="edge-cases">
  #### Cas limites
</div>

- Le texte du post est tronqué pour les Retweets. À court terme, vous pouvez développer le post référencé et récupérer le texte complet via l’expansion. Il s’agit d’un bug que nous corrigerons.