---
title: Recherche d’utilisateurs
sidebarTitle: Recherche d’utilisateurs
---

import { Button } from '/snippets/fr/button.mdx';

<div id="getting-started-with-the-users-lookup-endpoints">
  ## Bien démarrer avec les endpoints de recherche d’utilisateurs
</div>

Ce guide de démarrage rapide vous aidera à effectuer votre première requête vers les endpoints de recherche d’utilisateurs avec un ensemble de champs spécifiés à l’aide de [Postman](/fr/tutorials/postman-getting-started).

Si vous souhaitez voir des exemples de code dans différents langages, consultez notre dépôt GitHub [Exemples pour l’API X v2](https://github.com/xdevplatform/Twitter-API-v2-sample-code).

<Note>
  ### Prérequis

  Pour suivre ce guide, vous aurez besoin d’un jeu de [clés et jetons](/fr/resources/fundamentals/authentication) pour authentifier votre requête. Vous pouvez générer ces clés et jetons en suivant ces étapes :

  - [Créez un compte développeur](https://developer.x.com/en/apply-for-access) et obtenez l’approbation.
  - Créez un [Projet](/fr/resources/fundamentals/projects) et une [Application développeur](/fr/resources/fundamentals/developer-apps) associée dans le portail développeur.
  - Accédez à la page « Keys and tokens » de votre application pour générer les identifiants requis. Assurez-vous d’enregistrer tous les identifiants dans un emplacement sécurisé.
</Note>

<div id="steps-to-build-a-users-lookup-request">
  ### Étapes pour créer une requête de recherche d’utilisateurs
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### Première étape : démarrer avec un outil ou une bibliothèque
</div>

Il existe plusieurs outils, exemples de code et bibliothèques que vous pouvez utiliser pour envoyer une requête à cet endpoint, mais nous allons utiliser Postman ici pour simplifier le processus.

Pour charger la collection API X v2 dans votre environnement Postman, veuillez cliquer sur le bouton suivant :

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Ajouter l’API X v2 à Postman
</Button>

Une fois la collection API X v2 chargée dans Postman, accédez à l’endpoint GET /users/by.
 

<div id="step-two-authenticate-your-request">
  #### Deuxième étape : authentifiez votre requête
</div>

Pour effectuer correctement une requête vers l’API X, vous devez vérifier que vous disposez des autorisations nécessaires. Pour ce faire, cet endpoint requiert l’authentification de votre requête via l’une des méthodes suivantes : [App only](/fr/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token), [OAuth 2.0 Authorization Code with PKCE](fr/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) ou [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication).

Par simplicité, nous utiliserons App only pour cette requête, mais vous devrez recourir à l’une des autres méthodes d’authentification si vous souhaitez demander des [mesures](/fr/x-api/fundamentals/metrics) privées ou des utilisateurs.

Pour utiliser App only, vous devez ajouter vos clés et jetons, en particulier le [App Access Token](/fr/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token) (également appelé App only Bearer Token) dans Postman. Pour cela, sélectionnez l’environnement nommé « API X v2 » dans l’angle supérieur droit de Postman et ajoutez vos clés et jetons dans les champs « initial value » et « current value » (en cliquant sur l’icône en forme d’œil à côté du menu déroulant de l’environnement).

Ces variables seront automatiquement renseignées dans l’onglet « Authorization » de la requête si vous avez effectué cette opération correctement.
 

<div id="step-three-identify-and-specify-which-users-you-would-like-to-retrieve">
  #### Étape trois : identifier et préciser les utilisateurs à récupérer
</div>

Vous devez indiquer un utilisateur ou un ensemble d’utilisateurs à retourner dans la requête. Selon l’endpoint utilisateur utilisé, vous pouvez fournir soit un ID utilisateur, soit un nom d’utilisateur. Ici, nous allons utiliser l’[endpoint GET /users/by](/fr/x-api/users/user-lookup-by-usernames), qui permet d’envoyer plusieurs noms d’utilisateur dans une seule requête (plutôt que les endpoints [single-ID](/fr/x-api/users/user-lookup-by-id), [multi-ID](/fr/x-api/users/user-lookup-by-ids) et [single-username](/fr/x-api/users/user-lookup-by-username)) et de passer un ensemble de noms d’utilisateur via le paramètre de requête usernames.

Les noms d’utilisateur correspondent simplement au handle du compte que vous trouvez dans l’URL du profil. Par exemple, le nom d’utilisateur du compte suivant est XDevelopers.

`https://x.com/XDevelopers`

Dans Postman, ouvrez l’onglet « Params » et saisissez ce nom d’utilisateur, ou une liste de noms d’utilisateur séparés par des virgules, dans la colonne « Value » du paramètre username, en veillant à ne pas inclure d’espaces entre les noms et les virgules.

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `username` | XDevelopers,API,adsapi |

<div id="step-four-identify-and-specify-which-fields-you-would-like-to-retrieve">
  #### Quatrième étape : identifier et spécifier les champs que vous souhaitez récupérer
</div>

Si vous cliquez sur le bouton « Send » après l’étape trois, vous recevrez dans votre réponse les champs par défaut de l’[objet user](/fr/x-api/fundamentals/data-dictionary#user) : id, name et username.

Si vous souhaitez recevoir des champs supplémentaires au-delà de id, name et username, vous devez spécifier ces champs dans votre requête à l’aide des paramètres [field](/fr/x-api/fundamentals/fields) et/ou [expansion](/fr/x-api/fundamentals/expansions).

Pour cet exercice, nous allons demander trois ensembles supplémentaires de champs provenant d’objets différents :

1. Le champ supplémentaire user.created\_at dans les objets utilisateur principaux.
2. Les champs par défaut de l’objet Post épinglé associé pour les utilisateurs renvoyés : id et text.
3. Le champ supplémentaire tweet.created\_at dans les objets Post associés.
    

Dans Postman, accédez à l’onglet « Params » et ajoutez la paire clé:valeur suivante au tableau « Query Params » :

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Returned fields** |
| `user.fields` | `created_at` | `user.created_at` |
| `expansions` | `author_id` | tweet.id, tweet.text |
| `tweet.fields` | `created_at` | `includes.users.created_at` |

Vous devriez maintenant voir l’URL suivante à côté du bouton « Send » :

```
      https://api.x.com/2/users/by?usernames=twitterdev,twitterapi,adsapi&user.fields=created_at&expansions=pinned_tweet_id&tweet.fields=author_id,created_at
```

<div id="step-five-make-your-request-and-review-your-response">
  #### Cinquième étape : Envoyer votre requête et examiner la réponse
</div>

Une fois tout configuré, cliquez sur le bouton « Send » et vous recevrez la réponse suivante :

```
{
  "data": [
    {
      "created_at": "2013-12-14T04:35:55.000Z",
      "id": "2244994945",
      "name": "Twitter Dev",
      "pinned_tweet_id": "1255542774432063488",
      "username": "TwitterDev"
    },
    {
      "created_at": "2007-05-23T06:01:13.000Z",
      "id": "6253282",
      "name": "Twitter API",
      "username": "TwitterAPI"
    },
    {
      "created_at": "2013-02-27T20:01:12.000Z",
      "id": "1225933934",
      "name": "Twitter Ads API",
      "username": "AdsAPI"
    }
  ],
  "includes": {
    "tweets": [
      {
        "author_id": "2244994945",
        "created_at": "2020-04-29T17:01:38.000Z",
        "id": "1255542774432063488",
        "text": "During these unprecedented times, what’s happening on Twitter can help the world better understand &amp; respond to the pandemic. \n\nWe're launching a free COVID-19 stream endpoint so qualified devs &amp; researchers can study the public conversation in real-time. https://t.co/BPqMcQzhId"
      }
    ]
  }
}
```