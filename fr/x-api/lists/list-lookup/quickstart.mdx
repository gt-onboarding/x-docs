---
title: Démarrage rapide
sidebarTitle: Démarrage rapide
---

import { Button } from '/snippets/fr/button.mdx';

<div id="getting-started-with-the-list-lookup-endpoint">
  ## Bien démarrer avec l’endpoint de recherche de liste
</div>

Ce guide de démarrage rapide vous aidera à effectuer votre première requête vers l’endpoint de recherche de liste avec Postman.

Veuillez consulter notre dépôt GitHub [Exemples de code pour l’API X v2](https://github.com/xdevplatform/Twitter-API-v2-sample-code) si vous souhaitez voir des exemples de code dans différents langages.

**Remarque :** Dans cet exemple, nous allons effectuer une requête vers l’endpoint _Recherche de liste par ID_, mais vous pouvez appliquer les principes de ce démarrage rapide à d’autres requêtes de recherche également.

<Note>
  ### Prérequis

  Pour suivre ce guide, vous aurez besoin d’un ensemble de [clés et jetons](/fr/resources/fundamentals/authentication) afin d’authentifier votre requête. Vous pouvez générer ces clés et jetons en suivant ces étapes :

  - [Inscrivez-vous à un compte développeur](https://developer.x.com/en/apply-for-access) et obtenez l’approbation.
  - Créez un [projet](/fr/resources/fundamentals/projects) et une [application développeur](/fr/resources/fundamentals/developer-apps) associée dans le portail développeur.
  - Accédez à la page « Keys and tokens » de votre application pour générer les identifiants requis. Assurez-vous d’enregistrer tous les identifiants dans un endroit sécurisé.
</Note>

<div id="steps-to-build-a-list-lookup-request">
  ### Étapes pour créer une requête de recherche de Liste
</div>

**Première étape : commencer avec un outil ou une bibliothèque**

Il existe plusieurs outils, exemples de code et bibliothèques que vous pouvez utiliser pour effectuer une requête vers cet endpoint, mais nous utiliserons ici l’outil Postman pour simplifier le processus.

Pour charger la collection Postman de l’API X v2 dans votre environnement, veuillez cliquer sur le bouton suivant :

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Ajouter l’API X v2 à Postman
</Button>

Une fois la collection API X v2 chargée dans Postman, accédez au dossier “List”, sélectionnez le dossier “List lookup”, puis choisissez “List by ID”.
 

**Deuxième étape : authentifier votre requête**

Pour effectuer correctement une requête vers l’API X, vous devez vérifier que vous disposez des autorisations nécessaires. Pour ce faire avec cet endpoint, vous devez authentifier votre requête avec l’une des méthodes suivantes : [App only](/fr/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token), [OAuth 2.0 Authorization Code with PKCE](fr/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) ou [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication).

Par simplicité, nous allons utiliser App only pour cette requête, mais si vous souhaitez demander des [mesures](/fr/x-api/fundamentals/metrics) privées ou des Listes privées, vous devrez utiliser l’une des autres méthodes d’authentification. 

Pour utiliser App only, vous devez ajouter vos clés et jetons (en particulier le [jeton d’accès App only](/fr/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token)) à Postman en sélectionnant l’environnement nommé “X API v2” (dans le coin supérieur droit de Postman), puis en ajoutant vos clés et jetons dans les champs “initial value” et “current value” (en cliquant sur l’icône en forme d’œil à côté du menu déroulant des environnements).

Si vous avez procédé correctement, ces variables seront automatiquement renseignées dans l’onglet d’autorisation de la requête.
 

**Troisième étape : identifier et spécifier la Liste que vous souhaitez récupérer**

Vous devez spécifier la Liste que vous souhaitez récupérer dans la requête. Vous pouvez trouver l’ID de la Liste en vous rendant sur x.com, en cliquant sur une Liste, puis en regardant l’URL. Par exemple, l’ID de Liste de l’URL suivante est 84839422.

https://x.com/i/lists/84839422

L’ID cible peut être n’importe quel ID de Liste valide. Dans Postman, accédez à l’onglet “Params”, puis saisissez votre ID dans la colonne “Value” de la variable de chemin id. Veillez à ne pas inclure d’espaces avant ou après l’ID.

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| id  | 84839422 (ID de la Liste) |

**Quatrième étape : identifier et spécifier les champs que vous souhaitez récupérer**

Si vous cliquez sur le bouton “Send” après l’étape trois, vous recevrez dans la réponse les champs par défaut du [List object](/fr/x-api/fundamentals/data-dictionary#list) : id, name.

Si vous souhaitez recevoir des champs supplémentaires, vous devrez les spécifier dans votre requête à l’aide des paramètres list.fields et/ou [expansions](/fr/x-api/fundamentals/expansions).

Pour cet exercice, nous demanderons trois ensembles supplémentaires de champs provenant d’objets différents :

- Le champ supplémentaire created\_at dans l’objet principal Lists.
- Le [user object](/fr/x-api/fundamentals/data-dictionary#user) complet en utilisant le paramètre d’expansion.
- Le champ supplémentaire user.created\_at dans l’objet utilisateur associé.

Dans Postman, accédez à l’onglet “Params” et ajoutez la paire clé:valeur suivante au tableau “Query Params” :

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Returned fields** |
| list.fields | created\_at | created\_at |
| expansions | owner\_id | includes.users.id,  <br />includes.users.name,  <br />includes.users.username |
| user.fields | created\_at | includes.users.created\_at |

Vous devriez maintenant voir une URL similaire à côté du bouton “Send” :

`https://api.x.com/2/lists/84839422?list.fields=owner_id&expansions=owner_id&user.fields=created_at`

**Cinquième étape : envoyez votre requête et examinez la réponse**

Une fois tout paramétré, cliquez sur le bouton “Send”, et vous recevrez une réponse similaire à l’exemple suivant :

```
{
  "data": {
    "id": "84839422",
    "name": "Comptes officiels Twitter",
    "owner_id": "783214"
  },
  "includes": {
    "users": [
      {
        "name": "Twitter",
        "created_at": "2007-02-20T14:35:54.000Z",
        "username": "Twitter",
        "id": "783214"
      }
    ]
  }
}
```