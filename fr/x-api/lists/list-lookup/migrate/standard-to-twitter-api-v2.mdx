---
title: de v1 à v2
sidebarTitle: de v1 à v2
---

import { Button } from '/snippets/fr/button.mdx';

<div id="list-lookup-standard-v11-compared-to-x-api-v2">
  ### Recherche de listes : standard v1.1 comparé à l’API X v2
</div>

Si vous avez utilisé les endpoints standard v1.1 [GET lists/show](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/create-manage-lists/api-reference/get-lists-show) et [GET lists/ownerships](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/create-manage-lists/api-reference/get-lists-ownerships), ce guide a pour objectif de vous aider à comprendre les similitudes et les différences entre les endpoints de recherche de listes du standard v1.1 et de l’API X v2.

- **Similarités**
  - Méthodes d’authentification
  - Limites de débit
- **Différences**
  - URL des endpoints
  - Exigences pour les applications et les projets
  - Limites du nombre d’objets de données par requête
  - Formats des données de réponse
  - Paramètres de requête

<div id="similarities">
  #### Similarités
</div>

**Authentification**

Les deux versions d’endpoint prennent en charge [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication#oauth-1-0a-2) et [App only](/fr/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token). Par conséquent, si vous utilisiez l’un des endpoints de recherche de listes standard v1.1, vous pouvez continuer à employer la même méthode d’authentification en migrant vers la version de l’API X v2.

Selon la bibliothèque/le package d’authentification que vous utilisez, l’authentification App only est probablement la plus simple pour démarrer et peut être configurée avec un simple en-tête de requête. Pour savoir comment générer un jeton d’accès App only, consultez [ce guide App only](/fr/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token).

**Limites de débit**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **API X v2** |
| /1.1/lists/show.json<br /><br />75 requêtes par fenêtre de 15 minutes avec OAuth 1.0a User Context<br /><br />75 requêtes par fenêtre de 15 minutes avec App only | /2/lists/:id<br /><br />75 requêtes par fenêtre de 15 minutes avec OAuth 1.0a User Context<br /><br />75 requêtes par fenêtre de 15 minutes avec OAuth 2.0 Authorization Code with PKCE |
| /1.1/lists/ownerships.json<br /><br />15 requêtes par fenêtre de 15 minutes avec OAuth 1.0a User Context<br /><br />15 requêtes par fenêtre de 15 minutes avec App only | /2/users/:id/owned\_lists<br /><br />15 requêtes par fenêtre de 15 minutes avec OAuth 1.0a User Context<br /><br />15 requêtes par fenêtre de 15 minutes avec OAuth 2.0 Authorization Code with PKCE<br /><br />15 requêtes par fenêtre de 15 minutes avec App only |

<div id="differences">
  #### Différences
</div>

**URL des endpoints**

- Endpoints standard v1.1 :
  - GET https://api.x.com/1.1/lists/show.json
    (Rechercher une liste spécifique)
  - GET https://api.x.com/1.1/lists/ownerships.json
    (Rechercher les listes appartenant à l’utilisateur spécifié)
- Endpoint de l’API X v2 :
  - GET https://api.x.com/2/lists/:id
    (Rechercher une liste spécifique)

  - GET https://api.x.com/2/users/:id/owned\_lists
    (Rechercher les listes appartenant à l’utilisateur spécifié)

**Exigences pour l’App et le Projet**

Les endpoints de l’API X v2 exigent d’utiliser des identifiants issus d’une [App développeur](/fr/resources/fundamentals/developer-apps) associée à un [Projet](/fr/resources/fundamentals/projects) lors de l’authentification de vos requêtes. Tous les endpoints de l’API X v1.1 peuvent utiliser des identifiants provenant d’Apps autonomes ou d’Apps associées à un projet.

**Limites d’objets de données par requête**

L’endpoint standard v1.1 /lists/ownerships permet de renvoyer jusqu’à 1000 listes par requête. Les nouveaux endpoints v2 permettent de renvoyer jusqu’à 100 listes par requête. Par défaut, 100 objets utilisateur sont renvoyés ; pour modifier le nombre de résultats, vous devez transmettre un paramètre de requête max\_results= avec une valeur comprise entre 1 et 100 ; vous pouvez ensuite transmettre le next\_token renvoyé dans la charge utile de la réponse au paramètre de requête pagination\_token dans votre requête suivante.

**Format des données de réponse**

L’une des principales différences entre les endpoints standard v1.1 et ceux de l’API X v2 est la façon de sélectionner les champs renvoyés dans la charge utile.

Pour les endpoints standard, de nombreux champs de réponse sont fournis par défaut, avec la possibilité d’utiliser des paramètres pour indiquer quels champs supplémentaires ou ensembles de champs doivent être renvoyés.

La version API X v2 ne fournit par défaut que les champs id et name de la liste. Pour demander des champs ou objets supplémentaires, utilisez les paramètres [fields](/fr/x-api/fundamentals/fields) et [expansions](/fr/x-api/fundamentals/expansions). Tous les champs de liste demandés depuis cet endpoint sont renvoyés dans l’objet principal List. Tout objet et champ Post ou user étendu est renvoyé dans un objet includes au sein de la réponse. Vous pouvez ensuite faire correspondre les objets étendus à l’objet List en faisant correspondre les identifiants présents à la fois dans l’objet user et dans l’objet Post étendu.

Voici des exemples de champs et d’expansions possibles pour les listes :

- created\_at

- follower\_count

- member\_count

- owner\_id

- description

- private

|     |     |
| :--- | :--- |
| **Endpoint** | **Expansion** |
| /2/lists/:id | owner\_id |
| /2/users/:id/owned\_lists | owner\_id |

Nous vous encourageons à en savoir plus sur ces nouveaux paramètres dans leurs guides respectifs, ou en consultant notre guide sur [l’utilisation des fields et expansions](/fr/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions).

Nous avons également rédigé un [guide de migration du format des données](/fr/x-api/migrate/data-format-migration) qui peut vous aider à faire correspondre les champs standard v1.1 aux champs v2 plus récents. Ce guide vous indiquera aussi les paramètres d’expansion et de champ spécifiques à transmettre avec votre requête v2 pour renvoyer des champs particuliers.

En plus des changements de demande de certains champs, l’API X v2 introduit également de nouveaux schémas JSON pour les objets renvoyés par les API, y compris les objets [Post](/fr/x-api/fundamentals/data-dictionary#tweet) et [user](/fr/x-api/fundamentals/data-dictionary#user).

- Au niveau racine du JSON, les endpoints standard renvoient des objets Post dans un tableau statuses, tandis que l’API X v2 renvoie un tableau data.

- Au lieu de faire référence aux « statuses » Retweeted et Quoted, le JSON de l’API X v2 fait référence aux Tweets Retweeted et Quoted. De nombreux champs hérités et obsolètes, tels que contributors et user.translator\_type, sont supprimés.

- Au lieu d’utiliser à la fois favorites (dans l’objet Post) et favourites (dans l’objet user), l’API X v2 utilise le terme like.

- X adopte la convention selon laquelle les valeurs JSON sans valeur (par exemple null) ne sont pas écrites dans la charge utile. Les attributs Post et user ne sont inclus que s’ils ont des valeurs non nulles.

**Paramètres de requête**

Les paramètres de requête standard v1.1 suivants ont des équivalents dans l’API X v2 :

**Recherche de liste par ID**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **API X v2** |
| list\_id | id  |
| slug | Aucun équivalent |
| owner\_screen\_name | Aucun équivalent |
| owner\_id | Demandé avec le paramètre expansions/fields |

**Recherche des listes appartenant à l’utilisateur**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **API X v2** |
| user\_id | id  |
| screen\_name | Aucun équivalent |
| count | max\_results |
| cursor | pagination\_token |