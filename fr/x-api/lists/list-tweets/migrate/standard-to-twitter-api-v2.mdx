---
title: de v1 à v2
sidebarTitle: de v1 à v2
---

import { Button } from '/snippets/fr/button.mdx';

<div id="list-posts-lookup-standard-v11-compared-to-x-api-v2">
  ### Recherche de posts de liste : standard v1.1 comparé à l’API X v2
</div>

Si vous avez travaillé avec l’endpoint standard v1.1 [GET lists/statuses](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/create-manage-lists/api-reference/get-lists-statuses), ce guide a pour objectif de vous aider à comprendre les similitudes et les différences entre les endpoints standard v1.1 et l’API X v2.

- **Similitudes**
  - Méthodes d’authentification
  - Limites de taux
- **Différences**
  - URL des endpoints
  - Exigences pour les applications et les projets
  - Limites d’objets de données par requête
  - Formats de données de réponse
  - Paramètres de requête

<div id="similarities">
  #### Similarités
</div>

**Authentification**

Les deux versions d’endpoint prennent en charge à la fois [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication#oauth-2-0). Par conséquent, si vous utilisiez auparavant l’un des endpoints standard v1.1 de recherche de posts de liste, vous pouvez continuer à utiliser la même méthode d’authentification en migrant vers l’API X v2.

Selon la bibliothèque/le package d’authentification que vous utilisez, l’authentification App only est probablement la manière la plus simple de démarrer et peut être configurée via un simple en-tête de requête. Pour savoir comment générer un jeton d’accès App only, consultez [ce guide App only](/fr/resources/fundamentals/authentication#bearer-token-also-known-as-app-only).

**Limites de débit**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **API X v2** |
| /1.1/lists/statuses.json<br /><br />900 requêtes par fenêtre de 15 minutes avec OAuth 1.0a User Context<br /><br />900 requêtes par fenêtre de 15 minutes avec App only | /2/lists/:id/tweets<br /><br />900 requêtes par fenêtre de 15 minutes avec OAuth 1.0a User Context<br /><br />900 requêtes par fenêtre de 15 minutes avec OAuth 2.0 Authorization Code with PKCE<br /><br />900 requêtes par fenêtre de 15 minutes avec App only |

<div id="differences">
  #### Différences
</div>

**URL d’endpoint**

- Endpoints standard v1.1 :
  - GET https://api.x.com/1.1/lists/statuses.json
    (Récupération de Tweets à partir d’une liste spécifiée)
- Endpoint API X v2 :
  - GET https://api.x.com/2/lists/:id/tweets
    (Récupération de Tweets à partir d’une liste spécifiée)

**Exigences pour les applications et les projets**

Les endpoints de l’API X v2 exigent l’utilisation d’identifiants provenant d’une [application développeur](/fr/resources/fundamentals/developer-apps) associée à un [projet](/fr/resources/fundamentals/projects) lors de l’authentification de vos requêtes. Tous les endpoints de l’API X v1.1 peuvent utiliser des identifiants d’applications autonomes ou d’applications associées à un projet.

**Limites d’objets de données par requête**

L’endpoint standard v1.1 /lists/statuses permet de renvoyer jusqu’à 5 000 Posts par requête. Les nouveaux endpoints v2 permettent de renvoyer jusqu’à 100 Posts par requête. Par défaut, 100 objets utilisateur sont renvoyés ; pour modifier le nombre de résultats, vous devez transmettre un paramètre de requête max\_results= avec une valeur entre 1 et 100 ; vous pouvez ensuite transmettre le next\_token renvoyé dans la charge utile de la réponse au paramètre de requête pagination\_token dans votre requête suivante.

**Format des données de réponse**

L’une des plus grandes différences entre les versions d’endpoint standard v1.1 et API X v2 est la manière dont vous sélectionnez les champs renvoyés dans votre charge utile.

Pour les endpoints standard, vous recevez de nombreux champs de réponse par défaut, puis vous avez la possibilité d’utiliser des paramètres pour identifier les champs supplémentaires ou ensembles de champs à renvoyer dans la charge utile.

La version API X v2 ne renvoie par défaut que les champs id et text du Post. Pour demander des champs ou objets supplémentaires, vous devez utiliser les paramètres [fields](/fr/x-api/fundamentals/fields) et [expansions](/fr/x-api/fundamentals/expansions). Tous les champs de Post demandés depuis cet endpoint sont renvoyés dans l’objet Post principal. Tous les champs d’objets étendus sont renvoyés dans un objet includes au sein de la réponse. Vous pouvez ensuite faire correspondre les objets étendus à l’objet Post principal en faisant correspondre les ID de l’objet principal et des objets étendus. 

Voici des exemples de champs de Post possibles et d’expansions :

- attachments

- author\_id

- context\_annotations

- created\_at

- geo

- lang

|     |     |
| :--- | :--- |
| **Endpoint** | **Expansion** |
| /2/lists/:id/tweets | author\_id |

Nous vous encourageons à en savoir plus sur ces nouveaux paramètres dans leurs guides respectifs, ou en consultant notre guide sur [l’utilisation de fields et expansions](/fr/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions). 

Nous avons également élaboré un [guide de migration du format des données](/fr/x-api/migrate/data-format-migration) pour vous aider à faire correspondre les champs standard v1.1 aux champs v2 plus récents. Ce guide vous fournira aussi le paramètre d’expansion et de champ spécifique que vous devrez transmettre avec votre requête v2 pour renvoyer des champs précis. 

En plus des changements dans la manière de demander certains champs, l’API X v2 introduit également de nouvelles conceptions JSON pour les objets renvoyés par les API, y compris les objets [Post](/fr/x-api/fundamentals/data-dictionary#tweet) et [user](/fr/x-api/fundamentals/data-dictionary#user).

- Au niveau racine JSON, les endpoints standard renvoient des objets Post dans un tableau **statuses**, tandis que l’API X v2 renvoie un tableau **data**. 

- Au lieu de se référer aux « statuses » Retweeted et Quoted, le JSON de l’API X v2 fait référence aux Tweets Retweeted et Quoted. De nombreux champs hérités et obsolètes, tels que **contributors** et **user.translator\_type**, sont supprimés. 

- Au lieu d’utiliser à la fois **favorites** (dans l’objet Post) et **favourites** (dans l’objet user), l’API X v2 utilise le terme **like**.

- X adopte la convention selon laquelle les valeurs JSON sans valeur (par exemple **null**) ne sont pas écrites dans la charge utile. Les attributs de Post et d’utilisateur ne sont inclus que s’ils ont des valeurs non nulles.
   

**Paramètres de requête**

Les paramètres de requête standard v1.1 suivants ont des équivalents dans l’API X v2 :

|     |     |
| :--- | :--- |
| Standard v1.1 | API X v2 |
| list\_id | id  |
| slug | Aucun équivalent |
| owner\_screen\_name | Aucun équivalent |
| owner\_id | Demandé avec le paramètre expansions et la valeur author\_id |
| since\_id | Aucun équivalent |
| max\_id | Aucun équivalent |
| include\_entities | Demandé avec le paramètre tweet.fields et la valeur entities |
| include\_rts | Aucun équivalent |
| count | max\_results |