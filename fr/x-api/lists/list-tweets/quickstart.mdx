---
title: Démarrage
sidebarTitle: Démarrage
---

import { Button } from '/snippets/fr/button.mdx';

<div id="getting-started-with-the-list-posts-lookup-endpoint">
  ## Prise en main de l’endpoint de recherche des posts d’une Liste
</div>

Ce guide de démarrage rapide vous aidera à effectuer votre première requête vers l’endpoint de recherche des posts d’une Liste à l’aide de Postman.

Veuillez consulter notre dépôt GitHub [exemples de code pour l’API X v2](https://github.com/xdevplatform/Twitter-API-v2-sample-code) si vous souhaitez voir des exemples de code dans différents langages.

<Note>
  ### Prérequis

  Pour suivre ce guide, vous aurez besoin d’un ensemble de [clés et jetons](/fr/resources/fundamentals/authentication) pour authentifier votre requête. Vous pouvez générer ces clés et jetons en suivant ces étapes :

  - [Inscrivez-vous à un compte développeur](https://developer.x.com/en/apply-for-access) et obtenez l’approbation.
  - Créez un [Projet](/fr/resources/fundamentals/projects) et une [application développeur](/fr/resources/fundamentals/developer-apps) associée dans le portail développeur.
  - Accédez à la page « Keys and tokens » de votre application pour générer les identifiants requis. Assurez-vous d’enregistrer tous les identifiants dans un emplacement sécurisé.
</Note>

<div id="steps-to-build-a-list-posts-lookup-request">
  ### Étapes pour créer une requête de recherche de posts d’une Liste
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### Première étape : commencer avec un outil ou une bibliothèque
</div>

Il existe plusieurs outils, exemples de code et bibliothèques que vous pouvez utiliser pour envoyer une requête à ce point de terminaison, mais nous utiliserons ici l’outil Postman pour simplifier le processus.

Pour charger la collection Postman de l’API X v2 dans votre environnement, veuillez cliquer sur le bouton suivant :

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Ajouter l’API X v2 à Postman
</Button>

Une fois que vous avez chargé la collection de l’API X v2 dans Postman, accédez au dossier « List », sélectionnez le sous-dossier « List Posts », puis choisissez « List Posts lookup ».
 

<div id="step-two-authenticate-your-request">
  #### Deuxième étape : Authentifier votre requête
</div>

Pour envoyer correctement une requête à l’API X, vous devez vérifier que vous disposez des autorisations nécessaires. Pour ce faire avec cet endpoint, vous devez authentifier votre requête au moyen de l’une des méthodes suivantes : [App only](/fr/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token), [OAuth 2.0 Authorization Code with PKCE](fr/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) ou [OAuth 1.0a User Context](/fr/resources/fundamentals/authentication).

Pour simplifier, nous allons utiliser App only pour cette requête. En revanche, si vous souhaitez accéder à des [mesures](/fr/x-api/fundamentals/metrics) privées ou à des Posts, vous devrez utiliser l’une des autres méthodes d’authentification.

Pour utiliser App only, vous devez ajouter vos clés et jetons (en particulier le [App only Access Token](/fr/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token), également appelé App only Bearer Token) dans Postman, en sélectionnant l’environnement nommé « X API v2 » (dans le coin supérieur droit de Postman), puis en renseignant vos clés et jetons dans les champs « initial value » et « current value » (en cliquant sur l’icône en forme d’œil à côté du menu déroulant des environnements).

Si tout est correctement configuré, ces variables seront automatiquement renseignées dans l’onglet Authorization de la requête.
 

<div id="step-three-identify-and-specify-which-list-you-would-like-to-retrieve-posts-from">
  #### Étape trois : identifier et spécifier la liste depuis laquelle vous souhaitez récupérer des posts
</div>

Vous devez indiquer, dans la requête, la liste dont vous souhaitez recevoir les posts. Vous pouvez trouver l’ID de la liste en allant sur x.com, en cliquant sur une liste, puis en regardant l’URL. Par exemple, l’ID de la liste dans l’URL suivante est 84839422.

https://x.com/i/lists/84839422

L’ID cible peut être n’importe quel ID de liste valide. Dans Postman, ouvrez l’onglet « Params » et saisissez votre ID dans la colonne « Value » de la variable de chemin id. Veillez à ne pas inclure d’espaces avant ou après l’ID.

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| id  | 84839422 (ID de la liste) |

<div id="step-four-identify-and-specify-which-fields-you-would-like-to-retrieve">
  #### Quatrième étape : identifier et préciser les champs que vous souhaitez récupérer
</div>

Si vous cliquez sur le bouton « Send » après l’étape trois, vous recevrez les champs par défaut de l’[objet Post](/fr/x-api/fundamentals/data-dictionary#tweet) dans votre réponse : id et text.

Si vous souhaitez recevoir des champs supplémentaires, vous devrez les indiquer dans votre requête à l’aide des paramètres tweet.fields et/ou [expansions](/fr/x-api/fundamentals/expansions).

Pour cet exercice, nous allons demander trois ensembles supplémentaires de champs provenant d’objets différents :

- Le champ additionnel created\_at dans l’objet Lists principal.

- L’[objet user](/fr/x-api/fundamentals/data-dictionary#user) complet à l’aide du paramètre d’expansion

- Le champ additionnel user.created\_at dans l’objet user associé.

Dans Postman, accédez à l’onglet « Params » et ajoutez la paire clé:valeur suivante au tableau « Query Params » :

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Returned fields** |
| tweet.fields | created\_at | created\_at |
| expansions | author\_id | includes.users.id,  <br />includes.users.name,  <br />includes.users.username |
| user.fields | created\_at | includes.users.created\_at |

Vous devriez maintenant voir une URL similaire à côté du bouton « Send » :

`https://api.x.com/2/lists/84839422/tweets?expansions=author_id&user.fields=created_at&max_results=1`

<div id="step-five-make-your-request-and-review-your-response">
  #### Cinquième étape : effectuez votre requête et examinez la réponse
</div>

Une fois tout configuré, cliquez sur le bouton « Send », et vous recevrez une réponse similaire à l’exemple suivant :

```
{
  "data": [
    {
      "author_id": "4172587277",
      "id": "1458172421115101189",
      "text": "A Alemanha registrou nesta semana um recorde de novos casos de Covid-19. Segundo o governo e especialistas em Saúde, pessoas não vacinadas são responsáveis pela situação \nhttps://t.co/4POyaPwMLu"
    }
  ],
  "includes": {
    "users": [
      {
        "username": "MomentsBrasil",
        "name": "Twitter Moments Brasil",
        "created_at": "2015-11-12T16:46:02.000Z",
        "id": "4172587277"
      }
    ]
  },
  "meta": {
    "result_count": 1,
    "next_token": "7140dibdnow9c7btw3z2vwioavpvutgzrzm9icis4ndix"
  }
}
```

**Veuillez noter :** la réponse de cet endpoint permet d’interroger les 800 derniers posts pour une liste donnée