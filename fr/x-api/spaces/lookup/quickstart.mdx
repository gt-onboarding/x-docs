---
title: Prise en main
sidebarTitle: Prise en main
---

import { Button } from '/snippets/fr/button.mdx';

<div id="getting-started-with-the-spaces-lookup-endpoints">
  ## Premiers pas avec les endpoints de consultation Spaces
</div>

Ce guide de démarrage rapide vous aidera à effectuer votre première requête vers l’un des endpoints de consultation Spaces avec un ensemble de champs spécifiés, à l’aide de Postman.

Si vous souhaitez voir des exemples de code dans différents langages de programmation, veuillez consulter notre dépôt [API X v2 sample code GitHub](https://github.com/xdevplatform/Twitter-API-v2-sample-code).

<Note>
  ### Prérequis

  Pour suivre ce guide, vous aurez besoin d’un ensemble de [clés et jetons](/fr/resources/fundamentals/authentication) pour authentifier votre requête. Vous pouvez générer ces clés et jetons en suivant ces étapes :

  - [Inscrivez-vous à un compte développeur](https://developer.x.com/en/apply-for-access) et obtenez l’approbation.
  - Créez un [projet](/fr/resources/fundamentals/projects) et une [application développeur](/fr/resources/fundamentals/developer-apps) associée dans le portail développeur.
  - Accédez à la page « Keys and tokens » de votre application pour générer les identifiants requis. Assurez-vous d’enregistrer tous les identifiants dans un emplacement sécurisé.
</Note>

<div id="steps-to-build-a-spaces-lookup-request">
  #### Étapes pour créer une requête de recherche de Spaces
</div>

_Pour cet exemple, nous allons effectuer une requête vers le point de terminaison de recherche des Spaces par ID du créateur, mais vous pouvez appliquer les enseignements de ce guide de démarrage rapide à d’autres requêtes de recherche._

**Première étape : commencer avec un outil ou une bibliothèque**

Il existe plusieurs outils, exemples de code et bibliothèques que vous pouvez utiliser pour effectuer une requête vers ce point de terminaison, mais nous allons utiliser l’outil Postman pour simplifier le processus.

Pour charger la collection Postman de l’API X v2 dans votre environnement, cliquez sur le bouton suivant :

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Ajouter l’API X v2 à Postman
</Button>

Une fois la collection de l’API X v2 chargée dans Postman, accédez au dossier Spaces et trouvez la requête "Lookup Spaces created by one or more users".
 

**Deuxième étape : authentifier votre requête**

Pour effectuer correctement une requête vers l’API X, vous devez vérifier que vous disposez de l’autorisation nécessaire. Pour ce faire, ce point de terminaison requiert d’authentifier votre requête avec [OAuth 2.0 App-Only](/fr/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token) ou [OAuth 2.0 Authorization Code with PKCE](fr/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2).

Par simplicité, nous utiliserons OAuth 2.0 App-Only pour cette requête, mais vous devrez utiliser l’une des autres méthodes d’authentification si vous souhaitez demander des [mesures](/fr/x-api/fundamentals/metrics) privées ou des Spaces d’un utilisateur privé.

Pour utiliser OAuth 2.0 App-Only, vous devez ajouter vos clés et jetons, en particulier le [App Access Token](/fr/resources/fundamentals/authentication#using-and-generating-an-app-only-bearer-token) (également appelé App-only Bearer Token) dans Postman. Pour ce faire, sélectionnez l’environnement nommé “API X v2” dans le coin supérieur droit de Postman, puis ajoutez vos clés et jetons dans les champs "initial value" et "current value" (en cliquant sur l’icône en forme d’œil à côté du menu déroulant des environnements).

Ces variables seront automatiquement reprises dans l’onglet d’autorisation de la requête si vous avez procédé correctement.
 

**Troisième étape : identifier et spécifier l’utilisateur dont vous souhaitez récupérer les posts**

Vous devez spécifier un utilisateur pour lequel vous souhaitez récupérer des Spaces en direct ou à venir dans la requête. Dans cet exemple, nous allons passer un seul ID d’utilisateur.

Les ID d’utilisateur sont simplement la valeur numérique qui représente un handle de compte, que vous pouvez trouver dans l’URL du profil du compte. Par exemple, le nom d’utilisateur du compte suivant est XDevelopers.

https://x.com/XDevelopers

Pour convertir ce nom d’utilisateur en ID d’utilisateur, vous devrez utiliser le point de terminaison de recherche d’utilisateur avec le nom d’utilisateur et trouver l’ID utilisateur numérique dans le payload. Dans le cas de @XDevelopers, l’ID utilisateur est 2244994945.

Dans Postman, accédez à l’onglet "Params" et saisissez cet ID utilisateur dans la colonne "Value" du paramètre id.

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| id  | 2244994945 |

**Quatrième étape : identifier et spécifier les champs que vous souhaitez récupérer**

Si vous cliquez sur le bouton "Send" après l’étape trois, vous recevrez un id, qui est le seul champ du [Space object](/fr/x-api/fundamentals/data-dictionary#space) renvoyé par défaut dans votre réponse.

Si vous souhaitez recevoir des champs supplémentaires, vous devrez les spécifier dans votre requête avec les paramètres space.fields ou expansions.

Pour cet exercice, nous demanderons trois ensembles de champs supplémentaires provenant d’objets différents :

- Le champ supplémentaire title dans l’objet Space principal.
- Le [user object](/fr/x-api/fundamentals/data-dictionary#user) complet de l’ID de créateur spécifié
- Le champ supplémentaire user.created\_at dans l’objet utilisateur associé.

Dans Postman, accédez à l’onglet “Params” et ajoutez la paire clé:valeur suivante au tableau “Query Params” :

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Returned fields** |
| space.fields | title | creator\_id |
| expansions | creator\_id | includes.users.id, includes.users.name, includes.users.username |
| user.fields | created\_at | includes.users.created\_at |

Vous devriez maintenant voir l’URL suivante à côté du bouton “Send” :

https://api.x.com/2/spaces/by/creator\_ids?user\_ids=2244994945\&space.fields=creator\_id\&expansions=creator\_id\&user.fields=created\_at

**Cinquième étape : envoyez votre requête et examinez la réponse**

Une fois tout configuré, cliquez sur le bouton « Send » et vous recevrez la réponse suivante :

```
{
   "data": [
    {
        "creator_id": "2244994945",
        "id": "1zqKVXPQhvZJB",
        "title": "Hello world 👋",
        "state": "Running"
   },
   "includes": {
       "users": [
           {
               "created_at": "2013-12-14T04:35:55.000Z",
               "name": "Twitter Dev",
               "id": "2244994945",
               "username": "TwitterDev"
           }
       ]
   }
]
}
```