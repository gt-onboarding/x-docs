---
title: 広告アカウントへのアクセス
---

<div id="user-accounts-vs-ad-accounts">
  # ユーザーアカウントと広告アカウントの違い
</div>

X 広告 API を利用するには、広告アカウントと X ユーザーアカウントという 2 種類のアカウントが関与します。X 広告 API のドキュメント全体では、通常「アカウント」という用語は広告アカウントを指します。

- 広告アカウントは **business.x.com** で登録され、API では account\_id によって識別されます。広告アカウントは資金源に直接ひも付いており、1 つ以上の X ユーザーアカウントのコンテンツを「プロモーション対象ユーザー」として活用します。各広告アカウントは、1 つ以上の X ユーザーアカウントに権限を付与できます。広告アカウント、すなわち「現在のアカウント」は、実行されるほぼすべての URL でインラインの :account\_id パラメータとして表されます。
- X ユーザーアカウント（@AdsAPI など）は、X 広告 API では user\_id によって識別されます。これらのアカウントの 1 つ以上を広告アカウントに関連付けることができます。API でリクエストを行う認証済みの X ユーザーアカウントは「現在のユーザー」と呼ばれます。現在のユーザーがアクセスできる広告アカウントの一覧は [GET accounts](/ja/x-ads-api/campaign-management#accounts) で確認できます。「プロモーション対象ユーザー」とは、特定の広告アカウントがプロモーション可能な X のハンドルを指します。詳細は [Obtaining Ads Account Access](/ja/x-ads-api/introduction) を参照してください。

<div id="methods-for-ad-account-access">
  ## 広告アカウントへのアクセス方法
</div>

広告主のアカウントに対して X 広告 API リクエストを行う方法は、次の2通りあります。

1. 広告主に代わってリクエストする（推奨）
2. [Agency](https://business.x.com/en/blog/agencies-manage-multiple-Twitter-Ads-accounts.html) など、複数アカウントを支援する立場として、広告主のアカウントへのアクセス権が付与された自分のアカウントでリクエストする

本ドキュメントは、これらの選択肢の違いを簡潔にまとめた概要であり、[multi-user login FAQ](https://business.x.com/en/help/troubleshooting/multi-user-login-faq.html) などの他のリソースと併せて参照してください。

[Authorizing a request](/ja/resources/fundamentals/authentication#authorizing-a-request#authorizing-a-request) で説明しているとおり、Ads API へのすべてのリクエストには、[OAuth 1.0a](/ja/resources/fundamentals/authentication) を使用し、[3-legged](/ja/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow)[OAuth](/ja/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) フローで取得したアクセス・トークンを用いた Authorization ヘッダーが必要です。アプリケーションは、[アクセス・トークンの取得](/ja/resources/fundamentals/authentication#oauth-1-0a-2) のために Web ベースの OAuth フローを実装する必要があります。Ads API 開発者は、X 広告主にログイン認証情報の共有を決して求めないでください。

デフォルトで、各 [X developer application](/ja/resources/fundamentals/developer-apps) には、アプリケーションの所有アカウントに対して Ads API リクエストを行うために使用できる静的なアクセストークンが含まれています。これらの認証情報は、3-legged や [PIN-based OAuth](/ja/resources/fundamentals/authentication#pin-based-authorization) といったフローを必要としない単一アカウントのユースケースに最適です。別の X 広告アカウントにアクセスしない場合は、以下の手順ではなく、これらの [single-user](/ja/resources/fundamentals/authentication#oauth-1-0a-2) 認証情報を使用してください。

<div id="levels-of-access">
  ## アクセスレベル
</div>

<div id="app-level-permissions">
  ### アプリレベルの権限
</div>

各ユーザーには、[広告 API の申請](/ja/x-ads-api/getting-started/step-by-step-guide)時にリクエストしたアクセスレベルが付与されます。

- **Conversion Only**: ユーザーは [Mobile](/ja/x-ads-api/measurement/mobile-conversions) および [Web Conversion](/ja/x-ads-api/measurement/web-conversions) の各エンドポイントに、[読み取り・書き込み](/ja/resources/fundamentals/developer-apps) 権限でアクセスできます。
- **Standard Access**: ユーザーは [Analytics](/ja/x-ads-api/analytics)、[Campaign Management](https://developer.x.com/en/docs/twitter-ads-api/campaign-management/overview)、[Creatives](https://developer.x.com/en/docs/twitter-ads-api/creatives/overview)、[Custom Audiences](https://developer.x.com/en/docs/twitter-ads-api/audiences/overview)、および [Conversion](/ja/x-ads-api/measurement/web-conversions) の各エンドポイントに、[読み取り・書き込み](/ja/resources/fundamentals/developer-apps) 権限でアクセスできます。

**注:** 2023年7月以前にアクセスを申請した Ads API 開発者は、アクセスレベルや権限が異なる場合があり、OAuth トークンが最大5個に制限されている可能性があります。既存アプリケーションで追加のエンドポイントへのアクセス付与やトークン制限の解除が必要な場合は、[アクセス拡大](/ja/x-ads-api/getting-started/increasing-access) ガイドをご確認ください。

<div id="ad-account-level-permissions">
  ### 広告アカウントレベルの権限
</div>

Ads アカウントにアクセスできる各ユーザーには、特定のアカウントレベルの権限が割り当てられます：**Account administrator**、**Ad manager**、**Campaign analyst**、**Organic analyst**、**Creative Manager**。アカウントレベルの権限に関する最新のドキュメントは **business.x.com** を参照してください。アプリケーションは、現在認証済みのユーザーがどの API エンドポイントおよび Ads 機能にアクセス可能かを判断するため、[Authenticated User Access](/ja/x-ads-api/campaign-management#authenticated-user-access) API エンドポイントから当該ユーザーの権限を取得する必要があります。

**注:** [Conversion API](/ja/x-ads-api/measurement/web-conversions) を使用するユーザートークンは、**Account administrator** または **Ad manager** のアカウントレベル権限を持つユーザーのものである必要があります。                                                                                                                                              

<div id="methods-of-obtaining-access-tokens">
  ## アクセストークンの取得方法
</div>

<div id="1-obtain-an-advertisers-user-access-token">
  ### 1. 広告主（ユーザー）のアクセストークンを取得する
</div>

広告主の**アクセストークン**を取得する方法は2つあります。最も一般的なのは、Web UI から直接実行する[3-legged OAuth フロー](/ja/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow)です。広告主向けに公開された UI を持たないアプリケーションは、[PIN ベース](/ja/resources/fundamentals/authentication#pin-based-authorization)の OAuth プロセスを実装できます。ユーザーが 3-legged フローを完了すると、あなたのアプリケーションは API を通じてその Ads アカウントにリクエストを行うための認可情報を取得します。

OAuth フローでユーザー認可情報を取得する方法は、広告主アカウントへのアクセスを得るうえで、ほとんどの X 広告 API 開発者に対して**強く推奨**します。これにより、ユーザーを代行して API を呼び出し、そのユーザーとして操作を実行できます。これらのトークンは有効期限がありませんが、ユーザーがいつでも失効させることができます。

<div id="2-obtain-your-developer-access-token">
  ### 2. （開発者向け）アクセス トークンを取得する
</div>

このオプションでは、広告主が business.x.com の X UI から[あなたの @username（または複数の @usernames）にアクセス権を付与](https://business.x.com/en/help/troubleshooting/multi-user-login-faq.html)し、X 広告アカウントへのアクセスを許可する必要があります。あなたのアカウントに対して 3-legged OAuth フローで取得された**アクセス トークン**は、広告主の X 広告アカウントにアクセスできます。

これにより、広告主の OAuth トークンではなく、あなた自身の @username の OAuth トークンを使用して API を呼び出せます。このオプションでの重要なポイントは、あなたの @username に投稿の委任／コンポーザー権限が付与されている場合にのみ、Promoted-Only Post を作成できることです。

アカウント上の `FULL` のプロモート可能ユーザーの代理で Promoted-Only Post を作成するためのアクセス権を得るには、このフローにおいて投稿を作成する権限も付与されている必要があります。これにより、[GET accounts/:account\_id/authenticated\_user\_access](/ja/x-ads-api/campaign-management#accounts) エンドポイントでの `TWEET_COMPOSER` 権限によるアクセスが有効になります。

<div id="differences-between-these-methods">
  ## これらの方法の違い
</div>

|     |     |     |
| :--- | :--- | :--- |
|     | 広告主（ユーザー）OAuth トークン | （開発者）OAuth トークン  <br /> （別アカウントとして @username を追加） |
| 広告アカウントへのアクセス | ✔   | ✔   |
| ユーザーに代わって投稿を作成 | ✔   | ✔\*  |
| キャンペーンの管理 | ✔   | ✔   |
| アナリティクスへのアクセス | ✔   | ✔   |
| ユーザーに代わってカードを作成 | ✔   | ✔   |
| 開発者が X 広告 UI から  <br />アクセス可能 |     | ✔   |
| [レート制限](/ja/x-api/enterprise-gnip-2.0/fundamentals/rate-limits) | 広告主ごとに個別 | 広告主アカウントごとに個別 |

<Note>
  **注:** 詳細は、上記の\*\*[（開発者）アクセストークンを取得する](/ja/x-ads-api/fundamentals/accessing-ads-accounts#2-obtain-your-developer-access-token)\*\*セクションを参照してください。
</Note>

<div id="sample-use-case">
  ## サンプルのユースケース
</div>

<div id="advertisers-access-token-via-oauth-3-legged-web-flow">
  ### 広告主のアクセストークン（OAuth 3-legged Web フロー）
</div>

標準的なフローは Web ベースで、[3-legged authorization](/ja/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) の OAuth フローを使用します。ここで示すスクリーンショットは、[https://github.com/xdevplatform/twauth-web](https://github.com/xdevplatform/twauth-web) でソースを参照できるサンプルの一部です。

アプリケーションの処理の中で、アプリを承認してもらうために X へリダイレクトする必要があります。

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/twauth-web-2.png" alt="image0" />
</Frame>

リクエストトークンを付与して X にリダイレクトすると、ユーザーにアプリの承認が求められます。

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/twauth-web-3.png" alt="image1" />
</Frame>

アプリが承認されると、ユーザーはリクエストトークンを生成した際に指定したコールバック URL にリダイレクトされます。これを用いて当該ユーザーの永続的なアクセストークンを取得し、ローカルに保存します。

<Frame>
  <img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/images/twauth-web-4.png" alt="image" />
</Frame>