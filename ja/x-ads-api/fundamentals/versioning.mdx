---
title: バージョン
---

X 広告 API の過去バージョンに関する最新情報は、以下をご参照ください。

| バージョン | パス    | 提供開始日 | 非推奨日 | サポート終了日 |
|:---------|:---------|:--------------------|:------------------|:-------------------|
| [12.0](#) | /12/    | 2022年10月27日   | 未定              | 未定               |
| [11.0](https://devcommunity.x.com/t/ads-api-version-11/168814) | /11/    | 2022年3月31日    | 未定              | 未定               |
| [10.0](#v9) | /10/    | 2021年8月31日    | 2022年3月31日   | 2022年10月27日  |
| [9.0](#v9)  | /9/     | 2021年3月2日      | 2021年8月31日  | 2022年3月31日    |
| [8.0](#v8)  | /8/     | 2020年9月8日  | 2021年3月2日    | 2021年8月31日    |
| [7.0](#v7)  | /7/     | 2020年3月3日      | 2020年9月1日 | 2021年3月2日     |
| [6.0](#v6)  | /6/     | 2019年8月28日    | 2020年3月3日    | 2020年9月1日 |
| [5.0](#v5)  | /5/     | 2019年2月28日  | 2019年8月28日  | 2020年3月3日     |
| [4.0](#v4)  | /4/     | 2018年8月28日    | 2019年2月28日 | 2019年8月28日   |
| [3.0](#v3)  | /3/     | 2018年2月1日   | 2018年8月28日  | 2019年2月28日 |
| [2.0](#v2)  | /2/     | 2017年7月10日      | 2018年2月1日 | 2018年8月1日    |
| [1.0](#v1)  | /1/     | 2016年3月31日     | 2017年7月7日     | 2018年1月10日  |
| [0.0](#v0)  | /0/     | 2013年2月21日   | 該当なし              | 2016年10月31日  |

<div id="overview">
  ## 概要
</div>

毎月、X 広告 API に変更を加え、複数の新機能をリリースしています。これらの変更はほぼ常に後方互換ですが、年に数件の互換性破壊（ブレイキング）変更が発生することがあります。新機能の実装、非推奨対応、変更のテストにおいて、広告 API の迅速な変更頻度が開発サイクルに与える課題について、開発者の皆様からフィードバックを受けています。私たちは Ads プラットフォームの開発者体験を改善するため、エンドポイントのバージョニングという概念を導入しました。

ここで扱ういくつかの概念の定義は以下のとおりです。

**Version**: 任意の Ads API リクエストの URL パスに含まれるバージョン番号を指します。例: GET /{version_number}/accounts。この方式のバージョニングは URI バージョニングと呼ばれます。

**Breaking Changes**: 互換性破壊（ブレイキング）変更とは、既存機能を維持するために開発リソースを要する変更を指します。実施すべき変更点の調査、非推奨となる機能／エンドポイントの特定、そしてそれらの最終実装にかかるリソースが含まれます。例としては次のようなものがあります。

- API のリクエスト／レスポンスからパラメータを削除する

- パラメータ名やエンドポイント名を変更する

- 値の表現を変更する（preview\_url → card\_uri）

- エンドポイントの動作を変更する（例: 非同期と同期の統計）

- 任意または必須のパラメータを追加／変更する（例: リクエストで name を必須にする）

**Deprecation**: 非推奨となったバージョンまたは製品はサポート対象外となり、開発者はこれらの API の使用を停止することが推奨されます。

**Sunset**: 製品または API がサンセットされると、対応するエンドポイント群は API 経由でアクセスできなくなります。

<div id="versioning-strategy">
  ## バージョニング戦略
</div>

この戦略の主な原則は次のとおりです:

1. すべての破壊的変更は新しいバージョンにまとめてリリースする

2. 新しいバージョンが告知された場合、既存バージョンの非推奨期間は6か月とする

3. いかなる時点でも、API は2つのバージョンからのリクエストを同時に受け付けるが、そのうち古い方はサポート対象外となる

4. 新機能の採用を促進するため、これらは継続的に（バージョニングのサイクルとは別で）リリースする

5. すべての API レスポンスには、API の現在のバージョンを示す `x-current-api-version` が含まれ、非推奨の API エンドポイントを呼び出した場合は `x-api-warn` ヘッダーも付与される。

API に破壊的変更を要する根本的なプロダクト要件の変更（例: 複数の年齢バケットのターゲティングの非推奨）が必要となる場合は、当該破壊的変更を告知する90日間の事前通知を行い、通知の発出から少なくとも90日後にその破壊的変更をデプロイします

<div id="v9">
  ### v9
</div>

本日、2021年3月3日、X 広告 API の Version 9（v9）が利用可能になりました。本リリースは、機能の同等性の向上、キャンペーン作成の簡素化、そして Cards および Mobile App Promotion エンドポイントに対する重要な更新の導入を目的としています。

これまでのバージョンと同様に、v9 への移行期間は 6 か月です。2021年8月31日をもって、既存の Ads API の Version 8（v8）は利用できなくなります。サービス中断を避けるため、可能な限り早期に最新の Ads API バージョンへ移行することを推奨します。

<Note>
  **注:** 本リリース時点で、Ads API の Version 7（v7）はサポート終了となり、利用できなくなりました。
</Note>

詳細は、[開発者フォーラムでの発表](https://devcommunity.x.com/t/ads-api-version-9/150316)をご覧ください。

<div id="v8">
  ### v8
</div>

本日、2020年9月20日、X 広告 API のバージョン 8 をリリースしました。これは新しい Tailored Audiences 機能の導入、ads.x.com との機能整合性の向上、そして開発者エクスペリエンスの改善を目的としています。

これまでのバージョンと同様、v8 への移行期間として 6 か月を設けます。2021-03-02 をもって Ads API のバージョン 7 はご利用いただけなくなります。サービスの中断を避けるため、可能な限り速やかに最新バージョンの API へ移行されることを推奨します。

詳細は、[開発者フォーラムでの告知](https://devcommunity.x.com/t/ads-api-version-8/141914)をご覧ください。

<div id="v7">
  ### v7
</div>

本日、2020年3月20日、X 広告 API のバージョン 7 をリリースしました。これは [ads.x.com](http://ads.x.com/) と機能面での整合性を高めることを目的としています。

以前の[バージョン](https://developer.x.com/en/docs/ads/general/overview/versions)と同様に、v7 への移行には 6 か月の移行期間があります。2020-09-01 をもって Ads API のバージョン 6 は利用できなくなります。サービス中断を避けるため、できるだけ早く最新バージョンの API への移行を推奨します。Ads API のバージョン 5 はサポート終了となっており、すでに利用できません。

詳細は[開発者フォーラムの告知](https://devcommunity.x.com/t/ads-api-version-7/135093)をご覧ください。

<div id="v6">
  ### v6
</div>

本日、2019年8月28日、X は開発者エクスペリエンスの向上と一貫性に重点を置いた Ads API v6 を導入します。

このリリースには、ツイート取得用の新しいエンドポイント、プロモアカウントの統計、名前によるエンティティ検索機能、現在処理中の非同期アナリティクスジョブ数に関する情報が含まれます。さらに、メディアを扱うエンドポイントおよびターゲティング条件のエンドポイントに、一貫性を高める更新を行いました。最後に、一部のパラメータ名とレスポンス属性を小幅に更新し、Scoped Timeline エンドポイントを非推奨とします。

詳細は、[開発者フォーラムでのアナウンス](https://devcommunity.x.com/t/ads-api-version-6/129060)をご覧ください。

<div id="v5">
  ### v5
</div>

本日、2019年2月28日、X はスケールと効率の向上に焦点を当てた更新を含む Ads API v5 をリリースしました。

本リリースには、指定した期間にどのエンティティがアクティブだったかを判定する新しいエンドポイント、Media Creatives（すなわち X Audience Platform 上のインストリーム動画および画像）の統計、カード URI を用いた複数カードの取得機能、さらにターゲティング条件やその他のエンティティ取得に関する柔軟性の向上が含まれます。加えて、いくつかの不具合修正、パラメータ名およびレスポンス属性の更新を実施しました。最後に、非メディアのアプリカードと POST `accounts/:account_id/account_media` エンドポイントは非推奨となりました。

これまでのバージョンと同様、v5 への移行期間は6か月です。**2019-08-28** をもって Ads API バージョン4は利用できなくなります。サービス中断を回避するため、すべてのパートナーに対し、可能な限り速やかに最新バージョンの API へ移行いただくことを推奨します。_Ads API バージョン3はサポート終了となっており、すでに利用できません。_

<div id="new">
  #### 新機能
</div>

**どのエンティティがアクティブだったかの判定**

[アクティブエンティティ](/ja/x-ads-api/analytics#active-entities-2) エンドポイントは、広告エンティティのアナリティクスメトリクスに変更があったかを示します。アナリティクスエンドポイントと併用する前提で設計されており、エンティティ種別と日付範囲（最大90日）を指定すると、プラットフォームがアナリティクスを取得すべきエンティティ ID の配列を返します。返されたもの以外の ID は、その後のアナリティクスリクエストでクエリしないでください。

このエンドポイントは次のエンティティ種別をサポートします：`CAMPAIGN`、`FUNDING_INSTRUMENT`、`LINE_ITEM`、`MEDIA_CREATIVE`、`PROMOTED_TWEET`。

**`MEDIA_CREATIVE` の統計**

X 広告 API のアナリティクスエンドポイントは、Media Creative エンティティのメトリクスを提供するようになりました。Media Creative は、X Audience Platform 上のインストリーム広告や画像を配信・プロモーションするためのエンティティです。X Ads の UI では、Media Creative のメトリクスは「In-stream videos」と「Display creatives」タブに表示されます。[同期](/ja/x-ads-api/analytics#get-stats-accounts-account-id)および[非同期](/ja/x-ads-api/analytics#asynchronous-analytics)の両アナリティクスエンドポイントが `MEDIA_CREATIVE` エンティティの列挙値をサポートします。

**複数カードの取得**

カードの URI 値で単一のカードを取得するために設計されたエンドポイントの[v3 リリース](https://devcommunity.x.com/t/ads-api-version-3/100732)からの改善として、[GET accounts/:account\_id/cards/all](/ja/x-ads-api/creatives#cards-fetch) エンドポイントで\_複数\_のカードを取得できるようになりました。これにより、カードごとにリクエストを送るのではなく、1 回のリクエストで最大 200 枚のカードを取得できます。

注意点は 2 つあります：

1. URL パスは `accounts/:account_id/cards/all` になりました（以前のパスは利用できません）。ID でカードを取得するよう設計された[エンドポイント](/ja/x-ads-api/creatives#cards-fetch)との整合性を保つためです。
2. 必須のリクエストパラメータ名は card\_uris（複数形）になりました。

**取得の柔軟性**

[GET accounts/:account\_id/targeting\_criteria](/ja/x-ads-api/campaign-management#get-accounts-account-id-targeting-criteria) エンドポイントは、複数のラインアイテム ID をサポートするようになりました。最大 200 個の ID を受け付ける line\_item\_ids パラメータが必須です。これまでは単一のラインアイテムしか受け付けず、同期が困難でした。この変更により、より多くのターゲティングを短時間で取得できるようになりました。

以下のエンドポイントも複数のラインアイテム ID をサポートしますが、これらでは line\_item\_ids パラメータは任意です。

- [GET accounts/:account\_id/line\_item\_apps](https://developer.x.com/en/docs/x-ads-api/campaign-management/api-reference/line-item-apps#get-accounts-account-id-line-item-apps)
- [GET accounts/:account\_id/media\_creatives](/ja/x-ads-api/campaign-management#get-accounts-account-id-media-creatives)
- [GET accounts/:account\_id/promoted\_accounts](/ja/x-ads-api/campaign-management#get-accounts-account-id-promoted-accounts)
- [GET accounts/:account\_id/preroll\_call\_to\_actions](/ja/x-ads-api/creatives#preroll-call-to-actions)

<div id="changed">
  #### 変更点
</div>

**ドラフトキャンペーンとラインアイテムの取得**

ドラフトキャンペーンとラインアイテムの取得方法が更新されました。現在は、with\_draft(boolean) パラメータを true に設定すると、ドラフトと非ドラフトのエンティティの両方が返されます。これは削除済みエンティティの取得方法（with\_deleted を使用）と一貫しています。以前は、ドラフトと非ドラフトの両方のエンティティを取得するには少なくとも 2 回のリクエストが必要でしたが、現在は単一の API コールで実行できます。

| **v4** | **v5** |
| :--- | :--- | :--- |
| `draft_only` | `with_draft` |     |

**Network Activation Duration ターゲティング**

X 広告 API で、Network Activation Duration ターゲティングを追加した後、レスポンス内のターゲティングタイプに \_IN\_SEC というサフィックスが含まれてしまう表示上の問題を解消しました。Network Activation Duration は常に月で表されるため、秒を示す参照は混乱のもとでした。本修正により表現が統一され、混乱が軽減されます。

| **v4** | **v5** |
| :--- | :--- | :--- |
| `NETWORK_ACTIVATION_DURATION_IN_SEC` | `NETWORK_ACTIVATION_DURATION` |     |

**合計件数とカーソル**

v5 では、with\_total\_count と cursor は相互排他的です。リクエストで両方を指定すると、EXCLUSIVE\_PARAMETERS エラーコードが返されます。v5 以前は、cursor が指定されている場合、with\_total\_count は無視されていました。本変更により、この関係が明確化されました。

<div id="removed">
  #### 削除
</div>

Ads API のレスポンスから preview\_url、account\_id、parent\_ids の3フィールドを削除します。これら3件に関するエンジニアリング対応は最小限です。

- v4 では、カードの preview\_url レスポンスパラメータは常に null であると告知しました。この移行の最終段階として、すべてのカードのレスポンスから preview\_url を削除します。
- 次のリソースでは、ads アカウント ID が URL と request.params にすでに含まれているため、account\_id レスポンス属性を削除します。（資金手段をこの一覧から除外しているのは意図的です。可能な限り、親 ID はレスポンスオブジェクトに含まれるべきであり、アカウント ID は資金手段の親エンティティにあたるためです。）
  - アカウントメディア
  - アプリイベントプロバイダー
  - アプリイベントタグ
  - キャンペーン
  - カード
  - ラインアイテム
  - プロモート可能ユーザー
  - ターゲティング条件
- [GET accounts/:account\_id/targeting\_criteria](/ja/x-ads-api/campaign-management#get-accounts-account-id-targeting-criteria) リクエストでは、常に空配列であったため parent\_ids フィールドは返しません。

**非メディアのアプリカード**

v5 では非メディアのアプリカードはサポート対象外となります。 [以前](https://devcommunity.x.com/t/deprecation-announcement-app-download-cards/87807)、非メディアのアプリカードの作成および編集機能は廃止済みでしたが、今回、このリソースに関する残りのエンドポイントも非推奨とします。

- 注: これは画像および動画のアプリダウンロードカードには影響しません。

**アカウントメディアの作成**

POST accounts/:account\_id/account\_media エンドポイントは v5 で利用できなくなりました。このリソースの他のエンドポイントは影響を受けません。理由は、[Media Library](/ja/x-ads-api/creatives#media-library) にメディアを追加する際、状況によってはそれらのアセットが自動的にアカウントメディアのエンティティとして作成され、既存アセットをアカウントメディアのリソースに追加しようとするとエラーになるためです。これは次の場合に発生します。

- Media Library に追加された `AMPLIFY_VIDEO` アセットは、クリエイティブタイプ `PREROLL` のアカウントメディアアセットとして自動的に作成されます。
- 特定の寸法の画像を Media Library に追加すると、自動的にアカウントメディアアセットとして作成されます。クリエイティブタイプ（例: `INTERSTITIAL`）は画像の寸法に依存します。（寸法については [Enumerations](/ja/x-ads-api/introduction) ページを参照してください。）

<div id="v4">
  ### v4
</div>

X 広告 API バージョン 4 は本日、2018年8月28日にリリースされます。

このリリースには、より堅牢なオーディエンス処理バックエンドを基盤とする新しい API インターフェースを含む、[Audiences](/ja/x-ads-api/audiences) 製品の改善が含まれます。バージョン 4 には、ユーザー、アカウント、税設定を管理するための一連のエンドポイントも含まれます。さらに、accounts/:account\_id/videos エンドポイントは非推奨となります。本リリースには、いくつかの小規模なパラメータおよびレスポンス名の変更も含まれます。

バージョン 3 と同様に、6 か月の移行期間を提供します。**2019-02-28** 以降、X 広告 API バージョン 3 はご利用いただけなくなります。サービス中断を回避するため、すべてのパートナーの皆さまに、可能な限り速やかに最新バージョンの API への移行を推奨します。バージョン管理方針の詳細は [Versions](/ja/x-ads-api/introduction) ページをご覧ください。

<div id="new">
  #### 新機能
</div>

_**Audience API（オーディエンス API）**_

新しい Audiences API は、堅牢性と信頼性を強化した新しいオーディエンス処理バックエンド上に構築されています。この新エンドポイントにより、パートナーは単一のユーザーに対して複数のユーザー識別子タイプを提供でき、追加のシグナルを用いたマッチングが可能になります。新しい Audience エンドポイントのリファレンスドキュメントは[こちら](/ja/x-ads-api/audiences)をご参照ください。年内を通じて、本プロダクトのアップデートと改善を継続的にリリースしていく予定です。

以下のエンドポイントは、機能が重複するため v4 では利用できなくなります（v3 では引き続き動作し、v3 の提供終了時に完全に**サンセット**されます）。

- TON Upload:
  - GET accounts/:account\_id/tailored\_audience\_changes
  - GET accounts/:account\_id/tailored\_audience\_changes/:tailored\_audience\_change\_id
  - POST accounts/:account\_id/tailored\_audience\_changes
  - PUT accounts/:accounti\_d/tailored\_audiences/global\_opt\_out
- Real Time Audiences:
  - POST tailored\_audience\_memberships

最後に、バージョン 4 では、_すべての_ [Tailored Audiences エンドポイント](/ja/x-ads-api/audiences)のリクエストおよびレスポンスから `list_type` パラメータが削除されます。

_**Settings Endpoints（設定エンドポイント）**_

アカウント管理者は、ユーザー設定、アカウント設定、税務設定を新たに設定・更新できるようになりました。[User settings](/ja/x-ads-api/campaign-management#get-accounts-account-id-user-settings-user-id)は、特定の広告アカウントにおけるユーザー固有の連絡先設定に対応します。[PUT accounts/:account\_id](/ja/x-ads-api/campaign-management#put-accounts-account-id) エンドポイントを使用すると、広告主はアカウント名と業種を更新できます。最後に、[tax settings](/ja/x-ads-api/campaign-management#get-accounts-account-id-tax-settings) エンドポイントにより、付加価値税（VAT）が課される国の広告主は、会社名、住所、VAT ID、アカウントの所有者（広告主本人か、広告主に代わって広告出稿を行う代理店か）といった情報を更新できます。

<div id="changed">
  #### 変更
</div>

_**Universal Lookalike の名称変更**_

[POST accounts/:account\_id/line\_items](/ja/x-ads-api/campaign-management#post-accounts-account-id-line-items) および [PUT accounts/:accountit/line\_items/:line\_item\_id](/ja/x-ads-api/campaign-management#put-accounts-account-id-line-items-line-item-id) エンドポイントの `lookalike_expansion` パラメータにおける列挙値を更新します。

| **v3** | **v4** |
| :--- | :--- |
| `NARROW` | `DEFINED` |
| `BALANCED` | `EXPANDED` |

**あらゆる箇所で `country_code` を使用**

X 広告 API の[一貫性](https://devcommunity.x.com/t/feedback-ads-api-consistency/109145)向上の取り組みの一環として、以下のエンドポイントでパラメータ名を `app_country_code` から `country_code` に変更します。

- [POST accounts/:account\_id/cards/image\_app\_download](https://devcommunity.x.com/t/ads-api-version-11/168814)
- [PUT accounts/:account\_id/cards/image\_app\_download/:card\_id](https://developer.x.com/content/developer-twitterhttps://developer.x.com/en/docs/ads/creatives/api-reference/image-app-download#put-accounts-account-id-cards-image-app-download-card-id)
- [POST accounts/:account\_id/cards/video\_app\_download](https://developer.x.com/content/developer-twitter/en/docs/ads/creatives/api-reference/video-app-download#post-accounts-account-id-cards-video-app-download)
- [PUT accounts/:account\_id/cards/video\_app\_download/:card\_id](https://developer.x.com/content/developer-twitter/en/docs/ads/creatives/api-reference/video-app-download#put-accounts-account-id-cards-video-app-download-card-id)

この変更は名称のみであり、これらのパラメータの動作や受け付け可能な値には影響しません。

**`preview_url` は常に null**

v3 の告知どおり、既存のすべてのカードに `card_uri` が付与されました。結果として、`preview_url` の値は常に `null` になります。

念のためのご案内ですが、`card_uri` の値を使用してカードをツイートに関連付けてください。以下はリクエスト例です。

$ twurl -X POST -H ads-api.x.com "/4/accounts/18ce54d4x5t/tweet?text=Version 4\&card\_uri=card://958225772740714496"

<div id="removed">
  #### 削除
</div>

**Video endpoints**

accounts/:account\_id/videos エンドポイントは v4 では利用できません。このエンドポイントは [Media Library](/ja/x-ads-api/creatives#get-accounts-account-id-media-library) エンドポイントの導入により廃止されました。以下の利用比較をご確認ください。

- v3 videos エンドポイント: `twurl -H ads-api.x.com "/3/accounts/18ce54d4x5t/videos"`

- v4 における動画用 Media Library エンドポイント: `twurl -H ads-api.x.com "/4/accounts/18ce54d4x5t/media_library?media_type=VIDEO"`

Media Library エンドポイントは videos エンドポイントと完全に同等の機能を備えており、画像や GIF の取り扱いなどの追加機能もサポートします。パートナーの皆様は、メディア管理には Media Library のみをご利用ください。

**`as_user_id` in Tweet View**

[GET accounts/:account\_id/tweet/preview/:tweet\_id](/ja/x-ads-api/creatives#get-accounts-account-id-tweets) エンドポイントで利用可能だった `as_user_id` パラメータは、今後受け付けられません。プレビューは常にツイートの投稿者として表示されます。

<div id="v3">
  ### v3
</div>

X 広告 API のバージョン 3 は 2018 年 2 月 1 日に[リリース](https://devcommunity.x.com/t/ads-api-version-3/100732)されました。X 広告 API のバージョン 2 は 2018 年 8 月 1 日にサポート終了となります。

このリリースには、新しい Audience Intelligence 製品、Media Library へのアクセス、カードのワークフロー改善が含まれます。また、[PUT accounts/:account\_id/targeting\_criteria](/ja/x-ads-api/campaign-management#get-accounts-account-id-targeting-criteria) エンドポイントの非推奨化を発表します。最後に、バージョン 3 では、いくつかの軽微なパラメータおよびレスポンスの変更に加え、バッチサイズ上限の引き下げを行っています。

[バージョン 2](https://devcommunity.x.com/t/ads-api-version-2/90360) と同様に、パートナーの皆様には移行期間として**6 か月**を提供します。**2018-08-01** に Ads API v2 は停止されます。すべてのパートナーおよび開発者の皆様には、可能な限り早期の v3 への移行を推奨します。

**Audience Intelligence**

Audience Intelligence は、特定の X オーディエンスに最も関係の深い主要ハッシュタグ、@ハンドル、イベントに関するリアルタイムのインサイトを提供します。例えば、米国の男性 18〜34 歳を入力すると、このオーディエンスで #nintendoswitch、#cardinal、@ricegum がトレンドになっていることがわかります。

Audience Intelligence の[エンドポイント](/ja/x-ads-api/audiences)は、以下の機能を提供します。

- 入力オーディエンスを指定して、関連性の高いハッシュタグ、@ハンドル、イベントの上位を取得する。
- 入力オーディエンスを指定して、年齢、性別、世帯収入などの主要なデモグラフィック情報を取得する。
- キーワードを指定して、投稿ボリュームの時系列を取得する。

**Media Library**

[Media Library](/ja/x-ads-api/creatives#get-accounts-account-id-media-library) は、広告アカウント向けに画像、GIF、動画を管理する機能を提供します。これらのメディアオブジェクトは、投稿で使用したり、カードの作成に利用できます。また、複数のクリエイティブで再利用できるため、同じアセットを繰り返しアップロードする必要がなくなります。

ライブラリ内のオブジェクトは media\_key で識別されます。メディアキーは、例えば 13\_875943225764098048 のような形式の文字列です。Ads API では、すべてのメディアでメディアキーを使用する方向に移行しています。

**カードワークフローの改善**

すべてのカード関連エンドポイントがメディアキーをサポートするようになりました。これにより、Media Library 内のオブジェクトを使用してカードの作成や更新が可能になります。

加えて、[カード詳細の取得](/ja/x-ads-api/creatives#fetching-cards)のための新しいエンドポイントを 2 つ導入します。これらのエンドポイントは、例えば、投稿または予約投稿で使用されているカードを、card\_uri または id のいずれかを指定して検索するために使用できます。以前はこれは不可能でした。

<div id="other-changes">
  #### その他の変更
</div>

これらの新機能に加えて、バージョン 3 には以下の変更を含みます。

**新規**

- [GET insights/keywords/search](/ja/x-ads-api/audiences) エンドポイントのレスポンスに、入力キーワードに関連する用語を30件含む related\_keywords 属性が追加されました。

**変更**

- ターゲティング条件のバッチサイズの上限は 500 になりました。
- レスポンス属性の card\_uri と preview\_url は相互排他的になりました。カードに card\_uri がある場合、preview\_url は null になります。カードに card\_uri がない場合は、preview\_url のみが返されます。
  - 2018-01-29 以降に作成されたすべてのカードには card\_uri が付きます。
  - バージョン 4 までに、既存のすべてのカードに card\_uri が付きます。
- 5:2 画像を用いたカードを新規に作成することはできなくなりました。既存の 5:2 画像ベースのカードは引き続き動作しますが、可能な場合は、パフォーマンスの高い 1.91:1 または 1:1 のアスペクト比への移行を推奨します。

**削除**

- [PUT accounts/:account\_id/targeting\_criteria](/ja/x-ads-api/campaign-management#get-accounts-account-id-targeting-criteria) エンドポイントは提供終了となりました。この変更は、当該エンドポイントの置換動作が広告主に混乱を招き、一度に単一リソースを更新する他の PUT エンドポイントと整合しなかったためです。代わりに、[POST batch/accounts/:account\_id/targeting\_criteria](/ja/x-ads-api/campaign-management#post-batch-accounts-account-id-targeting-criteria) エンドポイントを使用してください。これは、1 回のリクエストでターゲティングの追加と削除の両方を行えるなど、より高い柔軟性を提供します。
- funding instrument に対するレスポンス属性 paused は返されなくなりました。代わりに、funding instrument が一時停止されているかどうかは、レスポンス属性 entity\_status を参照して判断してください。さらに、paused と cancelled が同一の値に対応するため、レスポンスでは cancelled も返されなくなりました。
- [GET accounts/:account\_id/tweet/preview](/ja/x-ads-api/creatives#get-accounts-account-id-tweets) エンドポイントから card\_id パラメータを削除しました。
- 削除済みの Scheduled Tweets は取得できないため、with\_deleted パラメータはサポートされなくなりました。
- 次のエンドポイントから draft\_only パラメータを削除しました。これらのエンティティはドラフト状態になり得ないためです。
  - [GET accounts/:account\_id/targeting\_criteria](/ja/x-ads-api/campaign-management#get-accounts-account-id-targeting-criteria)
  - [GET accounts/:account\_id/promoted\_tweets](/ja/x-ads-api/campaign-management#get-accounts-account-id-promoted-tweets)
  - [GET accounts/:account\_id/promoted\_accounts](/ja/x-ads-api/campaign-management#get-accounts-account-id-promoted-accounts)
  - [GET accounts/:account\_id/media\_creatives](/ja/x-ads-api/campaign-management#get-accounts-account-id-media-creatives)
  - [GET accounts/:account\_id/preroll\_call\_to\_actions](/ja/x-ads-api/creatives#get-accounts-account-id-preroll-call-to-actions)

**注意**

Video Website Cards と Scheduled Tweets はベータ版を終了しました。ローンチ以降に Scheduled Tweets に加えた変更については、[this thread](https://devcommunity.x.com/t/announcement-update-to-scheduled-tweets/94869) を参照してください。これには、Scheduled Tweets の HTML の[プレビュー](https://devcommunity.x.com/t/announcement-tweet-preview-improvements/96577)を生成する機能も含まれます。

<div id="v2">
  ### v2
</div>

X 広告 API のバージョン 2 は 2017 年 7 月 10 日に[launched](https://devcommunity.x.com/t/ads-api-version-2/90360)されました。X 広告 API のバージョン 1 は 2018 年 1 月 10 日にサポート終了（EOL）に達します。

**破壊的変更／非推奨[¶](#breaking-changes-deprecations "Permalink to this headline")**

- `total_count` はレスポンス属性として任意になりました。`with_total_count` が `true` に設定されている場合にのみ返されます

- `line_items` と `campaigns` のリクエストおよびレスポンスオブジェクトにおける `paused` と `draft_only` フィールドは、単一の `entity_status` パラメータに置き換えられました

- [POST accounts/:account\_id/tweet](/ja/x-ads-api/creatives) および [GET accounts/:account\_id/tweet/preview](/ja/x-ads-api/creatives#get-accounts-account-id-tweets) エンドポイントにおいて、`status` パラメータは `text` にリネームされました

- [GET targeting\_criteria/locations](/ja/x-ads-api/campaign-management#get-targeting-criteria-locations) エンドポイントの `location_type` 列挙値は複数形になりました。`COUNTRY` は `COUNTRIES`、`REGION` は `REGIONS` など。唯一の例外として、v2 では `CITY` が `METROS` になり、ロケーションタイプが Designated Market Areas（DMA）または「metros」を指すことを正しく反映します

- PUT accounts/:account\_id/promoted\_tweets エンドポイントでの `display_properties` は非対応になりました。この値はレスポンスにも含まれなくなります

- 前項の結果として、promoted\_tweets エンティティを更新（PUT）することはできなくなりました

- [GET accounts/:account\_id/promoted\_tweets](/ja/x-ads-api/campaign-management#get-accounts-account-id-promoted-tweets) エンドポイントの `line_item_id` パラメータは削除されました

- v2 エンドポイントでは 5:2 Website Cards を作成できなくなります

- `data_type` レスポンス属性は返却されなくなりました

**新機能[¶](#new-features "Permalink to this headline")**

1. Cards v2
2. 下書きキャンペーン／ラインアイテムの作成と有効化
3. 予約投稿（Scheduled Tweets）
4. 非同期ジョブのサマリー

**Cards v2[¶](#cards-v2 "Permalink to this headline")**

- ツイートにカードを関連付ける際は、ツイート本文に `preview_url` を付与するのではなく、`card_uri` リクエストパラメータを使用してください
- レスポンス（カード作成時）で `card_uri` パラメータが返らない場合は、`preview_url` を使用してください
- すべての新しいカードフォーマットは `card_uri` パラメータを活用し、API でネイティブに利用可能になります。

**新しいカードフォーマット：[¶](#new-card-formats "Permalink to this headline")**

- Video Website Cards:

  - [GET accounts/:account\_id/cards/video\_website](https://developer.x.com/en/docs/ads/creatives/api-reference/video-website.html#get-accounts-account-id-cards-video-website)
  - [GET accounts/:account\_id/cards/video\_website/:card\_id](https://developer.x.comhttps://developer.x.com/en/docs/ads/creatives/api-reference/video-website.html#get-accounts-account-id-cards-video-website-card-id)
  - [POST accounts/:account\_id/cards/video\_website](https://developer.x.com/en/docs/ads/creatives/api-reference/video-website.html#post-accounts-account-id-cards-video-website)
  - [PUT accounts/:account\_id/cards/video\_website/:card\_id](https://developer.x.com/en/docs/ads/creatives/api-reference/video-website.html#put-accounts-account-id-cards-video-website-card-id)
  - [DELETE accounts/:account\_id/cards/video\_webiste/:card\_id](https://developer.x.com/en/docs/ads/creatives/api-reference/video-website.html#delete-accounts-account-id-cards-video-website-card-id)

**Draft Campaigns[¶](#draft-campaigns "Permalink to this headline")**

下書きキャンペーンは [GET accounts/:account\_id/campaigns](/ja/x-ads-api/campaign-management#get-accounts-account-id-campaigns) エンドポイントで閲覧可能でした。v2 では、API を通じて下書きキャンペーンを作成／有効化できるようになりました。

- [POST accounts/:account\_id/line\_items](/ja/x-ads-api/campaign-management#post-accounts-account-id-line-items) および [POST accounts/:account\_id/campaigns](/ja/x-ads-api/campaign-management#post-accounts-account-id-campaigns) エンドポイントの `entity_status` パラメータ値を `DRAFT` に設定することで、新規のドラフトキャンペーンまたはラインアイテムを作成できます。
- 新規作成するドラフトで必須のパラメータ:

| ドラフトキャンペーン | ドラフトラインアイテム |
| :--- | :--- |
| `funding_instrument_id` | `campaign_id` |
| `name` | `objective` |
| `start_time` | `product_type` |
|     | `placements` |

**Notes[¶](#notes "Permalink to this headline")**

- ドラフトのラインアイテムまたはキャンペーンは、`entity_status` を `DRAFT` から `PAUSED` または `ACTIVE` にのみ変更できます。
- 複数のラインアイテムを含むキャンペーン全体を有効化するには、キャンペーン配下の各ラインアイテムおよびキャンペーン自体の `entity_status` を `ACTIVE` に設定する必要があります。
- いずれのキャンペーンまたはラインアイテムの `entity_status` を変更する場合は、対応する PUT エンドポイントを使用してください。

**Scheduled Tweets[¶](#scheduled-tweets "Permalink to this headline")**

- Scheduled Tweets は次の新規エンドポイントで構成されます

- Scheduled Tweets:

  - [GET accounts/:account\_id/scheduled\_tweets](/ja/x-ads-api/creatives#get-accounts-account-id-scheduled-tweets)
  - [GET accounts/:account\_id/scheduled\_tweets/:scheduled\_tweet\_id](/ja/x-ads-api/creatives#scheduled-tweets)
  - [POST accounts/:account\_id/scheduled\_tweets](/ja/x-ads-api/creatives#post-accounts-account-id-scheduled-tweets)
  - [PUT accounts/:account\_id/scheduled\_tweets/:scheduled\_tweet\_id](/ja/x-ads-api/creatives#scheduled-tweet-management)
  - [DELETE accounts/:account\_id/scheduled\_tweets/:scheduled\_tweet\_id](/ja/x-ads-api/creatives#scheduled-tweet-management)

- Campaign Management:

  - [GET accounts/:account\_id/scheduled\_promoted\_tweets](/ja/x-ads-api/campaign-management#get-accounts-account-id-scheduled-promoted-tweets)
  - [GET accounts/:account\_id/scheduled\_promoted\_tweets/:scheduled\_promoted\_tweet\_id](/ja/x-ads-api/campaign-management#get-accounts-account-id-scheduled-promoted-tweets-scheduled-promoted-tweet-id)
  - [POST accounts/:account\_id/scheduled\_promoted\_tweets](/ja/x-ads-api/campaign-management#post-accounts-account-id-scheduled-promoted-tweets)
  - [DELETE accounts/:account\_id/scheduled\_promoted\_tweets/:scheduled\_promoted\_tweet\_id](/ja/x-ads-api/campaign-management#delete-accounts-account-id-scheduled-promoted-tweets-scheduled-promoted-tweet-id)

- 新規に作成した予約ツイートは、将来の任意の日付に設定できます。

- 現在、予約ツイートをプレビューする機能はありません。

- `SCHEDULED` 状態の Scheduled Tweets のみ編集・削除できます。

- Scheduled Tweets は、`scheduled_at` の日時まではエンタープライズ Firehose やその他のデータ API に配信されません。

<div id="v1">
  ### v1
</div>

広告 API のバージョン 1 は 2016 年 3 月 31 日にリリースされ、2018 年 1 月 10 日にサポートを終了します。

**バージョン 1 の変更点：[¶](#changes-in-version-1 "Permalink to this headline")**

- [バージョン管理のサポート](https://blog.x.com/2016/versioning-is-coming-to-twitter-s-ads-apis)
- `CUSTOM` の[Objective](/ja/x-ads-api/campaign-management#objective-based-campaigns)はサポート対象外となりました
- [Batch endpoints](/ja/x-ads-api/campaign-management#post-batch-accounts-account-id-campaigns) が一般提供になりました
- [到達推定の変更点](https://developer.x.com/en/docs/ads/campaign-management/api-reference/reach-estimate.html#get-accounts-account-id-reach-estimate):
- より正確なリーチ推定を行うため、本エンドポイントは予算を考慮するようになりました。次のパラメータが必須になりました：
  - \[新規] `campaign_daily_budget_amount_local_micro`
  - `currency`
  - `bid`
  - `objective`
- レスポンスオブジェクトが変更され、レスポンス値の範囲を返すようになりました。
- `infinite_count` は、その用途に関する混乱を避けるために `infinite_bid_count` に名称変更されました
- `count` と `infinite_bid_count` に加えて、次の新たなデータポイントも返されます。
  - `impressions`
  - `engagements`
  - `estimated_daily_spend_local_micro`
- テーラードオーディエンスのデータ型の変更
- すべてのレスポンスにおいて、Tailored Audiences の `data_type` は `tailored_audiences` から `tailored_audience` に変更されました。
- 共有カスタムオーディエンスが、現在はAPI専用のベータ版として提供されています。共有カスタムオーディエンスを使用すると、単一のオーディエンスを複数の広告アカウントで共用できます。広告アカウント間で共有したいカスタムオーディエンスの権限を管理するには、[POST accounts/:account\_id/tailored\_audiences/:tailored\_audience\_id/permissions](/ja/x-ads-api/audiences)（および関連の）エンドポイントを使用してください。
- 広告主アカウントのパフォーマンス[アナリティクス](/ja/x-ads-api/analytics)の収集方法が大きく向上しました。
- 当社の[ベストプラクティス](/ja/x-ads-api/analytics#best-practices)に沿い、[同期統計エンドポイント](/ja/x-ads-api/analytics#get-stats-accounts-account-id)で取得できるデータ期間を最大**7日間**に制限します。
- メトリクスの取得を簡素化するため、`metrics` パラメータを新しい `metric_groups` パラメータに置き換えました。開発者は、特定のリクエストについて返却してほしいメトリクスのグループを指定するだけで済みます。
  - 対象のエンティティに適さないメトリクスを要求した場合、それらはレスポンスから除外され、`null` 値として表示されます。_これらのメトリクスはアナリティクスのコスト上限には算入されません。_
- レスポンスは**大幅に簡素化**され、メトリクスの公開方法が当社のUIとこれまでよりも密接に一致するようになります。
  - 以前は配信面のロケーションごと（Search の Promoted Tweets、Timelines の Promoted Tweets、Profiles & Tweet Details の Promoted Tweets、X Audience Platform）に個別のメトリクスを公開していました。今後は、それぞれについて標準化されたメトリクスセットを返します。つまり、`promoted_tweet_timeline_impressions`、`promoted_tweet_search_impressions`、`promoted_tweets_profile_impressions`、`promoted_tweets_tpn_impressions` といった項目の代わりに、以下のいずれかのカテゴリーでリクエストされた場合、単一のメトリクス `impressions` として公開されます（これはすべてのメトリクスに適用されます）:
  - `ALL_ON_TWITTER`
  - `PUBLISHER_NETWORK`
  - リクエスト時には、UI 上の値と照合しやすくするため、単一の `impressions` メトリクスが返されます。
  - `ALL_ON_TWITTER` と `PUBLISHER_NETWORK` の両方のデータを取得するには、これらは結合できないため、2 回のクエリを発行する必要があります。
- 開発者の皆さまからのフィードバックを受け、[非同期アナリティクスエンドポイント](/ja/x-ads-api/analytics#asynchronous-analytics)が利用可能になりました！
  - 統計情報を非同期でリクエストできる新しいエンドポイント群。即時に不要なデータや履歴データの取得に最適です。
  - 新しい単一のエンドポイントで統計ジョブをキューに投入します。リソース状況に応じて、リクエストどおりにデータを取得します。
  - データの準備完了を確認するために、ジョブステータス用のエンドポイントを照会できます。
  - データが利用可能になったら、同期エンドポイントと同等の内容となるJSONレスポンスをダウンロードするためのピックアップIDを提供します。
  - 1つのジョブで、最大90日分・最大20エンティティまでのデータを照会できます。
- アナリティクス v1 への移行ガイドをご覧ください。v0 のメトリクスから v1 のメトリクスへのマッピングを掲載しています
- Sandbox の改善
  \* Sandbox 環境で[複数のテスト広告アカウントを作成](/ja/x-ads-api/campaign-management#post-accounts)できるようになりました。
  \* Sandbox 環境に限り、テスト広告アカウントで複数の資金手段を作成できるようになりました。これにより、すべての資金手段タイプでのテストが可能になります。以前はテスト可能な資金手段は `CREDIT_CARD` のみでした。
  \* ベータ機能をテストしたい場合は、Sandbox 環境でアカウントの機能をオン／オフ切り替えできるようになり、テスト要件に合わせて調整できます。

<div id="v0">
  ### v0
</div>

Ads API のバージョン 0 は 2013 年 2 月 21 日に正式リリースされ、2016 年 10 月 31 日までサポートされました。

バージョン 0 のすべてのアナリティクスエンドポイントは非推奨となり、2016 年 10 月 31 日以降は提供されません。これらのエンドポイントは、バージョン 1 の 3 つのアナリティクスエンドポイントに置き換えられました。

リーチ推定エンドポイントは、バージョン 1 で新しい挙動になりました。