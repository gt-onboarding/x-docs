---
title: はじめに
sidebarTitle: はじめに
---

import { Button } from '/snippets/ja/button.mdx';

この初期リリースのダイレクトメッセージのルックアップには、次の3つのGETメソッドが含まれます。

- **GET /2/dm\_conversations/with/:participant\_id/dm\_events** - 1対1の会話に関連するダイレクトメッセージイベントを取得します。:participant\_id パスパラメータは、このリクエストを行う認証済みユーザーと会話しているアカウントのユーザーIDです。 
- **GET /2/dm\_conversations/:dm\_conversation\_id/dm\_events** - :dm\_conversation\_id パスパラメータで示される特定の会話IDに関連するダイレクトメッセージイベントを取得します。 
- **GET /2/dm\_events** - ユーザーに関連するダイレクトメッセージイベント（1対1およびグループ会話の両方を含む）を取得します。最大で過去30日前までのイベントが利用可能です。  

ダイレクトメッセージのイベントIDは、v1.1とv2（およびXアプリ）で共通のため、単一イベントを一覧表示するv1.1のメソッドを、これらの新しいv2エンドポイントと併用できます。また、EnterpriseおよびPremiumのAccount Activity APIはv2の1対1メッセージをサポートしていますが、グループ会話はまだサポートしていない点にもご注意ください。   

このリリースでは3つのイベントタイプがサポートされており、これらのエンドポイントはそれらをフィルタリングするためのクエリパラメータをサポートします。

- **MessageCreate** - メッセージが作成されました。 
- **ParticipantsJoin** - 新しい参加者が会話に参加しました。 
- **ParticipantsLeave** - 参加者が会話から退出しました。 

GETメソッドには、15分あたり300リクエストのユーザー単位のレート制限があります。このレート制限は、これらのGETエンドポイント間で共有されます。

ダイレクトメッセージのv2エンドポイントでユーザーに代わってリクエストを行うため、[OAuth 1.0a User Context](/ja/resources/fundamentals/authentication) または [OAuth 2.0 Authorization Code with PKCE](/ja/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-3) のいずれかで、あなたのXアプリを承認したユーザーに紐づくアクセス トークンを使用して認証する必要があります。OAuth 1.0aでこれらのアクセス トークンを生成するには、[3-legged OAuth flow](/ja/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) を使用できます。OAuth 2.0でユーザーのアクセス トークンを生成するには、[Authorization Code with PKCE grant flow](/ja/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) を使用できます。

**アカウントのセットアップ**

これらのエンドポイントにアクセスするには、次が必要です。

- 承認済みの [developer account](https://developer.x.com/en/portal/petition/essential/basic-info)。
- [Project](/ja/resources/fundamentals/projects) 内にある [developer App](/ja/resources/fundamentals/developer-apps) のキーとトークンを用いた認証。 

X API v2 エンドポイントへのアクセス方法の詳細は、[はじめにガイド](/ja/x-api/getting-started/getting-access)をご覧ください。

<div className="flex space-x-2">
  <Button href="/ja/x-api/direct-messages/lookup/quickstart">
    クイックスタート
  </Button>

  <Button href="https://github.com/xdevplatform/Twitter-API-v2-sample-code">
    サンプルコード
  </Button>

  <Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
    Postman で実行
  </Button>

  <Button href="https://developer.x.com/apitools/api?endpoint=/2/tweets&method=get">
    API Explorer で試す
  </Button>
</div>
