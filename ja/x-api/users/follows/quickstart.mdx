---
title: クイックスタート
sidebarTitle: クイックスタート
---

import { Button } from '/snippets/ja/button.mdx';

<div id="getting-started-with-the-manage-follows-endpoints">
  ## manage follows エンドポイントの使い方を始める
</div>

このクイックスタートガイドでは、[Postman](/ja/tutorials/postman-getting-started) を使用して manage follows エンドポイントへ最初のリクエストを送信する方法を説明します。

各種言語のサンプルコードは、[X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) の GitHub リポジトリをご覧ください。

<Note>
  ### 前提条件

  このガイドを完了するには、リクエストを認証するための [keys and tokens](/ja/resources/fundamentals/authentication) 一式が必要です。以下の手順でキーとトークンを生成できます。

  - [開発者アカウントに登録](https://developer.x.com/en/apply-for-access) し、承認を受ける。
  - 開発者ポータルで [Project](/ja/resources/fundamentals/projects) と、それに関連付けられた [developer App](/ja/resources/fundamentals/developer-apps) を作成する。
  - アプリの「Keys and tokens」ページに移動して、必要な認証情報を生成する。すべての認証情報は安全な場所に保存すること。
</Note>

<div id="steps-to-build-a-manage-follows-request">
  ### フォロー管理リクエストを構築する手順
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### ステップ1：ツールまたはライブラリから始める
</div>

このエンドポイントにリクエストするために利用できるツール、コード例、ライブラリはいくつかありますが、ここでは手順を簡素化するために Postman を使用します。

X API v2 の Postman コレクションを環境に読み込むには、次のボタンをクリックしてください。

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  X API v2 を Postman に追加
</Button>

Postman に X API v2 コレクションを読み込んだら、「Follows」フォルダーに移動し、「Follow a user ID」を選択します。
 

<div id="step-two-authenticate-your-request">
  #### ステップ2：リクエストを認証する
</div>

X API に正しくリクエストするには、権限があることを検証する必要があります。このエンドポイントでは、[OAuth 1.0a User Context](/ja/resources/fundamentals/authentication) または [OAuth 2.0 Authorization Code with PKCE](ja/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) のいずれかでリクエストを認証する必要があります。

この例では、OAuth 1.0a User Context を使用します。

API Key、API Secret Key、OAuth 1.0a user Access Token、OAuth 1.0a user Access Token Secret を Postman に追加します。Postman 右上の「X API v2」という環境（environment）を選択し、「initial value」と「current value」欄にキーとトークンを入力します（環境ドロップダウン横の目のアイコンをクリック）。

これらの変数は、正しく設定されていれば、リクエストの Authorization タブに自動的に反映されます。
 

<div id="step-three-specify-who-is-going-to-follow-whom">
  #### ステップ3：誰が誰をフォローするかを指定する
</div>

Manage follows エンドポイントは 2 つの ID を受け取ります。1 つはソースユーザー（他のユーザーをフォローまたはフォロー解除したいユーザー）の ID、もう 1 つはターゲットユーザー（フォローまたはフォロー解除されるユーザー）の ID です。ソースユーザーの ID は、認証中のユーザーのユーザー ID と一致している必要があります。この場合は、自分自身のユーザーに紐づく ID を指定できます。自分の ID は次の 2 つの方法で確認できます。

1. [ユーザー名によるユーザー参照](/ja/x-api/users/user-lookup-by-id) エンドポイントを使用して、ユーザー名を渡すと id フィールドが返されます。 
2. Access Token を確認すると、数値部分が自分のユーザー ID です。
    

ターゲット ID には任意の有効なユーザー ID を指定できます。例えば、@XDevelopers のユーザー ID は 2244994945 です。

Postman で「Params」タブに移動し、id パス変数の「Value」列に自分の ID を入力します。次に「Body」タブに移動し、target\_user\_id パラメータの値として 2244994945（@XDevelopers のユーザー ID）を入力します。いずれの ID の前後にもスペースを入れないようにしてください。

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | (your user ID) |
| target\_user\_id | 2244994945 |

「Send」ボタンをクリックすると、関係のステータスを含むレスポンスオブジェクトが返されます。

- "following": true を受け取った場合、その id は target\_user\_id を正常にフォローしています。
- "pending": true を受け取った場合、target\_user\_id は非公開で、あなたのフォローリクエストの承認が必要です。

####

ステップ4: リクエストを送信し、レスポンスを確認する

すべての設定が完了したら、Send ボタンを押すと、次のレスポンスが返ってきます:

```{
    "data": {
        "following": true,
        "pending_follow": false
    }
}
```

同様に、ユーザーのフォロー解除を行う場合は、同じ Postman コレクション内の「Unfollow a user ID」リクエストを使用します。ただし、source\_user\_id と target\_user\_id の両パラメータは、unfollow エンドポイントでパス変数として渡す必要があります。 