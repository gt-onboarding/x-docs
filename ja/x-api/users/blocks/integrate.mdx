---
title: 統合ガイド
sidebarTitle: 統合ガイド
---

import { Button } from '/snippets/ja/button.mdx';

このページでは、ブロック関連エンドポイントをシステムに統合する際に把握しておくべき各種ツールと主要な概念を説明します。内容は以下のセクションに分かれています。

- [役立つツール](#helpful)
- 主要な概念
- [認証](#authentication)
- [Developer portal、プロジェクトとアプリ](#portal)
- [レート制限](#limits)
- [フィールドとエクスパンション](#fields)
- [ページネーション](#pagination)

<div id="helpful-tools">
  ### 便利なツール
</div>

このエンドポイントを統合するうえで役立つ主要な概念に入る前に、次の内容に慣れておくことをおすすめします。

<div id="postman">
  #### Postman
</div>

Postman は、エンドポイントのテストに役立つ優れたツールです。各 Postman リクエストには、利用可能な項目を素早く把握できるよう、すべてのパスおよびボディパラメータが含まれています。Postman コレクションの詳細は、["Using Postman"](/ja/tutorials/postman-getting-started) のページをご覧ください。 

<div id="code-samples">
  #### コードサンプル
</div>

お好みのプログラミング言語でこのエンドポイントのセットアップ方法をお探しですか？出発点としてご利用いただけるコードサンプルを複数、[GitHub ページ](https://github.com/xdevplatform/Twitter-API-v2-sample-code)で提供しています。

<div id="third-party-libraries">
  #### サードパーティ製ライブラリ
</div>

コミュニティが提供する[サードパーティ製ライブラリ](/ja/x-api/tools-and-libraries/overview)を活用して、スムーズに使い始めましょう。適切なバージョンタグを確認すれば、v2 エンドポイントに対応するライブラリを見つけられます。

<div id="key-concepts">
  ### 主要な概念
</div>

<div id="authentication">
  #### 認証
</div>

すべての X API v2 エンドポイントでは、キーやトークンと呼ばれる認証情報を用いてリクエストを認証する必要があります。これらのエンドポイントへのリクエスト認証には、OAuth 1.0a User Context か OAuth 2.0（PKCE）を使用できます。 

[OAuth 1.0a User Context](/ja/resources/fundamentals/authentication) では、API キー、ユーザーのアクセス・トークン、その他いくつかのパラメータを使用して [Authorization ヘッダーを作成](/ja/resources/fundamentals/authentication#authorizing-a-request) し、それをリクエストに付与します。アクセス・トークンは、あなたが代理してリクエストを実行するユーザーに紐づいている必要があります。別のユーザー向けにアクセス・トークンを生成する場合は、そのユーザーが [3-legged OAuth フロー](https://developer-staging.x.com/resources/fundamentals/authentication/obtaining-user-access-tokens) を用いてあなたのアプリを承認する必要があります。 

OAuth 1.0a は扱いが難しい場合があります。この認証方式に不慣れな場合は、[ライブラリ](/ja/x-api/tools-and-libraries/overview) を利用するか、Postman のようなツールを使うか、またはリクエスト認証に OAuth 2.0 を使用することを推奨します。

[OAuth 2.0 Authorization Code with PKCE](/ja/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-3) は、アプリケーションのスコープに対するより細かな制御や、複数デバイスにまたがる認可フローを可能にします。OAuth 2.0 では、ユーザーに代わって特定の権限を付与するための、よりきめ細かなスコープを選択できます。 

あなたのアプリで OAuth 2.0 を有効化するには、Developer Portal の App settings セクションにある authentication settings で有効にしてください。

<div id="developer-portal-projects-and-developer-apps">
  #### Developer portal、プロジェクト、開発者アプリ
</div>

X API v2 のエンドポイントで機能する認証情報一式を取得するには、[開発者アカウントに登録](https://developer.x.com/en/portal/petition/essential/basic-info)し、そのアカウント内で[プロジェクト](/ja/resources/fundamentals/projects)を作成し、さらにそのプロジェクト内で[開発者アプリ](/ja/resources/fundamentals/developer-apps)を作成する必要があります。キーとトークンは開発者アプリ内で確認できます。
 

<div id="rate-limits">
  #### レート制限
</div>

毎日、数千人の開発者が X API にリクエストを送信しています。これらのリクエストの膨大な量を管理するため、各エンドポイントには[レート制限](/ja/x-api/fundamentals/rate-limits)が設けられており、アプリまたは認証済みユーザーの代理として実行できるリクエスト数が制限されます。 

これらのエンドポイントはユーザーレベルでレート制限されています。つまり、あなたが代理でリクエストを行う認証済みユーザーは、どの開発者用アプリからであっても、そのエンドポイントを呼び出せる回数が一定数に限られます。POST および DELETE メソッドでは、各エンドポイントにつき 15 分あたり 50 リクエストのユーザーレート制限があります。一方、GET メソッドでは 15 分あたり 15 リクエストのみです。
 

<div id="fields-and-expansions">
  #### フィールドとエクスパンション
</div>

X API v2 の GET エンドポイントでは、フィールドとエクスパンションと呼ばれる一連の機能を使って、API から返すデータを正確に指定できます。`expansions` パラメータを使用すると、ペイロード内で参照されているオブジェクトを展開できます。たとえば、このエンドポイントでは次の [expansions](/ja/x-api/fundamentals/expansions) を取得できます:

- pinned\_tweet\_id

`fields` パラメータを使用すると、受け取りたい各種データオブジェクト内の正確な [fields](/ja/x-api/fundamentals/fields) を選択できます。これらのエンドポイントは主に Post オブジェクトを返します。既定では、Post オブジェクトは **id** と **text** フィールドを返します。**tweet.created\_at** や **tweet.entities** のような追加フィールドを受け取るには、**fields** パラメータで明示的にリクエストする必要があります。統合での利用を検討すべき重要なフィールドとしては、投票データ、メトリクス、Post アノテーション、会話 ID などがあります。

[X API v2 データ辞書](/ja/x-api/fundamentals/data-dictionary)に、[fields と expansions の使い方](/ja/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions)に関するガイドを追加しました。

<div id="pagination">
  #### ページネーション
</div>

ブロックのルックアップは大量のデータを返す場合があります。1回の応答で過剰な結果を返さないよう、ページネーションを使用しています。結果の[ページング方法](/ja/x-api/fundamentals/pagination)について詳しくご覧ください。