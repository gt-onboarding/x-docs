---
title: ミュートの参照
sidebarTitle: ミュートの参照
---

import { Button } from '/snippets/ja/button.mdx';

<div id="getting-started-with-the-mutes-lookup-endpoint">
  ## mutes lookup エンドポイントのはじめ方
</div>

このクイックスタートガイドでは、Postman を使用して mutes lookup エンドポイントへ最初のリクエストを送信する方法を説明します。

各種言語のサンプルコードを確認したい場合は、GitHub リポジトリの [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) をご覧ください。

<Note>
  **前提条件**

  このガイドを完了するには、リクエストを認証するための [keys and tokens](/ja/resources/fundamentals/authentication) が必要です。以下の手順に従って、これらのキーとトークンを生成できます。

  - [開発者アカウントを登録](https://developer.x.com/en/apply-for-access) し、承認を受けます。
  - 開発者ポータルで [Project](/ja/resources/fundamentals/projects) と関連する [developer App](/ja/resources/fundamentals/developer-apps) を作成します。
  - アプリの「Keys and tokens」ページに移動し、必要なクレデンシャルを生成します。すべてのクレデンシャルは安全な場所に保存してください。
</Note>

<div id="steps-to-build-a-mutes-lookup-request">
  ### ミュートのルックアップリクエストを作成する手順
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### ステップ1: ツールまたはライブラリから始める
</div>

このエンドポイントにリクエストを送る方法として使えるツール、コード例、ライブラリはいくつかありますが、ここでは手順を簡潔にするために Postman を使用します。

X API v2 の Postman コレクションを環境に読み込むには、次のボタンをクリックしてください:

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Postman に X API v2 を追加
</Button>

Postman に X API v2 コレクションを読み込んだら、「Mutes」フォルダに移動し、「Mutes lookup」を選択します。
 

<div id="step-two-authenticate-your-request">
  #### ステップ2：リクエストの認証
</div>

X API に正しくリクエストするには、自分に権限があることを確認する必要があります。このエンドポイントでは、[OAuth 1.0a User Context](/ja/resources/fundamentals/authentication) または [OAuth 2.0 Authorization Code with PKCE](ja/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) のいずれかでリクエストを認証する必要があります。

この例では、OAuth 1.0a User Context を使用します。

API Key、API Secret Key、OAuth 1.0a のユーザー Access Token、OAuth 1.0a のユーザー Access Token Secret を Postman に追加してください。Postman の右上で「X API v2」という名前の環境を選択し、環境ドロップダウンの横にある目のアイコンをクリックして表示される "initial value" と "current value" の各フィールドにキーとトークンを入力します。

正しく設定されていれば、これらの変数はリクエストの Authorization タブに自動的に反映されます。
 

<div id="step-three-specify-a-user">
  #### ステップ3：ユーザーを指定する
</div>

このエンドポイントでは、あなた自身または認証済みユーザーがミュートしている相手を確認するために、あなたのユーザーIDまたは認証済みユーザーのIDを指定する必要があります。

Postman では「Params」タブに移動し、「Path Variables」（このセクションの下部）にある id の「Value」列に認証済みユーザーの ID を入力し、ID の前後にスペースを入れないようにしてください。

「Path Variables」セクションの上には、追加可能な任意の「Query Params」があります。この例では、変数 max\_results を選択し、値として 5 を入力します。

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Parameter Type** |
| `id` | （あなたのユーザーID） | Path |
| max\_results | 5   | Query |

<div id="step-four-identify-and-specify-which-fields-you-would-like-to-retrieve">
  #### ステップ4：取得したいフィールドを特定して指定する
</div>

ステップ3の後に「Send」ボタンをクリックすると、レスポンスにはデフォルトの[user object](/ja/x-api/fundamentals/data-dictionary#user)のフィールド（id、name、username）が含まれます。

id、name、username 以外のフィールドも受け取りたい場合は、リクエストで[fields](/ja/x-api/fundamentals/fields)や[expansions](/ja/x-api/fundamentals/expansions)パラメータを使って、そのフィールドを明示的に指定してください。

この演習では、異なるオブジェクトから次の3つの追加フィールドセットをリクエストします:

1. プライマリユーザーオブジェクトにおける追加の user.created\_at フィールド。
2. 返されたユーザーに関連付けられた固定表示ポスト（pinned Posts）のオブジェクトのデフォルトフィールド：id と text。
3. 関連するポスト（Post）オブジェクトにおける追加の tweet.created\_at フィールド。

Postmanで「Params」タブに移動し、「Query Params」テーブルに次の key:value ペアを追加します:

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Returned fields** |
| user.fields | created\_at | user.created\_at |
| expansions | pinned\_tweet\_id | tweet.id, tweet.text |
| tweet.fields | created\_at | includes.tweets.created\_at |

「Send」ボタンの横に、例のIDではなく自分のユーザーIDを含む、同様のURLが表示されるはずです:

`https://api.x.com/2/users/1324848235714736129/muting?user.fields=created_at&expansions=pinned_tweet_id&tweet.fields=created_at&max_results=5`

<div id="step-five-make-your-request-and-review-your-response">
  #### ステップ5：リクエストを送信し、レスポンスを確認する
</div>

セットアップが完了したら「Send」ボタンをクリックします。すると、次の例に示すものと同様のレスポンスが返ってきます。

```
{
  "data": [
    {
      "username": "TwitterDev",
      "created_at": "2013-12-14T04:35:55.000Z",
      "id": "2244994945",
      "name": "Twitter Dev",
      "pinned_tweet_id": "1430984356139470849"
    }
  ],
  "includes": {
    "tweets": [
      {
        "created_at": "2021-08-26T20:03:51.000Z",
        "id": "1430984356139470849",
        "text": "Help us build a better Twitter Developer Platform!\n \nTake the annual developer survey &gt;&gt;&gt; https://t.co/9yTbEKlJHH https://t.co/fYIwKPzqua"
      }
    ]
  },
  "meta": {
    "result_count": 1
  }
}
```

<div id="step-six-paginate-through-your-results">
  #### ステップ6：結果をページングする
</div>

レスポンスの末尾に meta オブジェクトがあることに気づくかもしれません。next\_token を受け取った場合は、取得可能な次の結果ページが存在することを示します。次ページの結果を取得するには、next\_token フィールドの値を取り出し、追加の pagination\_token クエリパラメータの値としてリクエストに追加します。
 

|     |     |
| :--- | :--- |
| **キー** | **値** |
| pagination\_token | 1710819323648428707 |

この追加パラメータを付けてリクエストを送信すると、ステップ3で max\_results を 5 に指定したため、次の 5 件の結果が後続のペイロードで返されます。すべての結果が返されるまでこの手順を繰り返せますが、max\_results パラメータを使って 1 回のリクエストで最大 1000 ユーザーまで要求することもできるため、何度もページングする必要はありません。