---
title: ミュートの管理
sidebarTitle: ミュートの管理
---

import { Button } from '/snippets/ja/button.mdx';

<div id="getting-started-with-the-manage-mutes-endpoints">
  ## ミュート管理エンドポイントのはじめ方
</div>

このクイックスタートガイドでは、[Postman](/ja/tutorials/postman-getting-started) を使用してミュート管理エンドポイントへ最初のリクエストを送信する方法を説明します。

各種言語のサンプルコードをご覧になりたい場合は、GitHub の [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) リポジトリをご参照ください。

<Note>
  **前提条件**

  このガイドを完了するには、リクエストを認証するための [keys and tokens](/ja/resources/fundamentals/authentication) が一式必要です。これらの keys と tokens は、以下の手順で生成できます。

  - [開発者アカウントに登録](https://developer.x.com/en/apply-for-access)し、承認を受ける。
  - 開発者ポータルで [プロジェクト](/ja/resources/fundamentals/projects) と関連する [開発者アプリ](/ja/resources/fundamentals/developer-apps) を作成する。
  - アプリの「Keys and tokens」ページに移動して、必要な認証情報を生成する。すべての認証情報は安全な場所に保存してください。
</Note>

<div id="steps-to-build-a-manage-mutes-request">
  ### ミュート管理リクエストを構築する手順
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### ステップ1: ツールまたはライブラリから始める
</div>

このエンドポイントにリクエストするために使えるツール、コード例、ライブラリはいくつかありますが、ここでは手順を簡略化するために Postman を使用します。

X API v2 の Postman コレクションを環境に読み込むには、次のボタンをクリックしてください。

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  X API v2 を Postman に追加
</Button>

Postman に X API v2 コレクションを読み込んだら、「Mutes」フォルダに移動し、「Mute a user’s ID」を選択します。
 

<div id="step-two-authenticate-your-request">
  #### ステップ2：リクエストを認証する
</div>

X API に正しくリクエストするには、権限があることを確認する必要があります。このエンドポイントで実行するには、[OAuth 1.0a User Context](/ja/resources/fundamentals/authentication) または [OAuth 2.0 Authorization Code with PKCE](ja/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) のいずれかでリクエストを認証する必要があります。

この例では、OAuth 1.0a User Context を使用します。

API Key、API Secret Key、OAuth 1.0a ユーザー Access Token、OAuth 1.0a ユーザー Access Token Secret を Postman に追加する必要があります。Postman 右上の環境で「X API v2」を選択し、環境ドロップダウン横の目のアイコンをクリックして、“initial value” と “current value” の各フィールドにキーとトークンを入力します。

正しく設定されていれば、これらの変数はリクエストの Authorization タブに自動的に反映されます。
 

<div id="step-three-specify-who-is-going-to-mute-whom">
  #### ステップ3：誰が誰をミュートするかを指定する
</div>

Manage mutes エンドポイントには 2 つの ID が必要です。1 つはユーザー（他のユーザーをミュートまたはミュート解除しようとしているユーザー）用、もう 1 つは対象ユーザー（ミュートまたはミュート解除されるユーザー）用です。ユーザーの ID は認証済みユーザーの ID と一致している必要があります。つまり、リクエストの認証時には、そのユーザー ID に紐づく Access Token を渡す必要があります。この場合、自分のユーザーの ID を指定できます。自分の ID は次の 2 つの方法で取得できます。

1. [user lookup](/ja/x-api/users/lookup/introduction) の username エンドポイントを使用してユーザー名を渡すと、id フィールドが返されます。
2. Access Token を確認すると、数値部分があなたのユーザー ID です。

対象 ID は有効なユーザー ID であればどれでも構いません。Postman で「Params」タブに移動し、`id` パス変数の「Value」列にあなたの ID を入力します。続いて「Body」タブに移動し、ミュートしたいユーザーの ID を target\_user\_id パラメータの値として入力します。いずれの ID にも前後の空白を含めないでください。

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | 認証済みユーザーの ID |
| target\_user\_id | ミュートしたいユーザーの ID |

<div id="step-four-make-your-request-and-review-your-response">
  #### ステップ4：リクエストを送信し、レスポンスを確認する
</div>

すべての設定が完了したら、「Send」ボタンを押します。次の例のようなレスポンスが返ってきます。

```
      { "data": { "muting": true } }
```

"muting": true が返ってきた場合、id は target\_user\_id を正常にミュートしています。

同じユーザーのミュートを解除するには、Postman に読み込んだ X API v2 コレクションの「Mutes」フォルダー内にある「Unmute a user ID」リクエストを使用します。source\_user\_id にはあなたのユーザー ID を、target\_user\_id にはミュート解除するユーザーの ID を指定してください。これは JSON ボディとして追加する必要はないため、source\_user\_id と target\_user\_id の必須クエリパラメータを追加していることを確認してください。

ミュート解除が成功すると、次の例のようなレスポンスが返ってきます。

```
      { "data": { "muting": false } }
```