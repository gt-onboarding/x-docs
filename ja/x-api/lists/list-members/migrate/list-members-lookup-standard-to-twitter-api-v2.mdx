---
title: リストメンバーの検索
sidebarTitle: リストメンバーの検索
---

import { Button } from '/snippets/ja/button.mdx';

<div id="list-members-lookup-standard-v11-compared-to-x-api-v2">
  ### リストメンバーのルックアップ：Standard v1.1 と X API v2 の比較
</div>

標準 v1.1 の [GET lists/members](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/create-manage-lists/api-reference/get-lists-members) および [GET lists/memberships](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/create-manage-lists/api-reference/get-lists-memberships) エンドポイントを使用してきた場合、このガイドは、標準 v1.1 と X API v2 のリストメンバー関連エンドポイントの共通点と相違点を理解するうえで役立ちます。

- **共通点**
  - 認証方法
- **相違点**
  - エンドポイント URL
  - レート制限
  - アプリおよびプロジェクトの要件
  - リクエストあたりのデータオブジェクト数の上限
  - レスポンスデータ形式
  - リクエストパラメータ

<div id="similarities">
  #### 共通点
</div>

**認証**

両バージョンのエンドポイントは、[OAuth 1.0a User Context](/ja/resources/fundamentals/authentication#oauth-1-0a-2) と [App only](/ja/resources/fundamentals/authentication#oauth-2-0) の両方をサポートします。したがって、以前に標準の v1.1 の List members エンドポイントのいずれかを使用していた場合でも、X API v2 版へ移行しても同じ認証方法を引き続き利用できます。

利用する認証ライブラリ／パッケージによっては、App only 認証が最も手軽で、簡単なリクエストヘッダーの設定だけで開始できます。App only アクセストークンの生成方法については、[こちらの App only ガイド](/ja/resources/fundamentals/authentication#bearer-token-also-known-as-app-only)を参照してください。

<div id="differences">
  #### 相違点
</div>

**エンドポイント URL**

- Standard v1.1 エンドポイント:
  - GET https://api.x.com/1.1/lists/members.json
    （指定した List のメンバーを取得）
  - GET https://api.x.com/1.1/lists/memberships.json
    （ユーザーが所属している List を取得）
- X API v2 エンドポイント:
  - GET https://api.x.com/2/lists/:id/members
    （指定した List のメンバーを取得）

  - GET https://api.x.com/2/users/:id/list\_memberships
    （ユーザーが所属している List を取得）

**レート制限**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **X API v2** |
| /1.1/lists/members.json<br /><br />OAuth 1.0a User Context で 15 分あたり 900 リクエスト<br /><br />App only で 15 分あたり 15 リクエスト | /2/lists/:id/members<br /><br />OAuth 1.0a User Context で 15 分あたり 900 リクエスト<br /><br />OAuth 2.0 Authorization Code with PKCE で 15 分あたり 900 リクエスト<br /><br />App only で 15 分あたり 900 リクエスト |
| /1.1/lists/memberships.json<br /><br />OAuth 1.0a User Context で 15 分あたり 15 リクエスト<br /><br />App only で 15 分あたり 15 リクエスト | /2/users/:id/list\_memberships<br /><br />OAuth 1.0a User Context で 15 分あたり 15 リクエスト<br /><br />OAuth 2.0 Authorization Code with PKCE で 15 分あたり 15 リクエスト<br /><br />App only で 15 分あたり 15 リクエスト |

**アプリとプロジェクトの要件**

X API v2 のエンドポイントでは、リクエストの認証時に [developer App](/ja/resources/fundamentals/developer-apps) の認証情報を使用し、その App が [Project](/ja/resources/fundamentals/projects) に関連付けられている必要があります。X API v1.1 のすべてのエンドポイントは、プロジェクトに関連付けられていない単体の App、またはプロジェクトに関連付けられた App の認証情報を使用できます。

**リクエストあたりのデータオブジェクト上限**

standard v1.1 の /1.1/lists/members エンドポイントでは、1 回のリクエストで最大 5,000 ユーザーを返せます。新しい v2 のエンドポイントでは、1 回のリクエストで最大 100 ユーザーを返せます。デフォルトでは 100 件のユーザーオブジェクトが返されます。結果数を変更するには、1〜100 の数値を指定してクエリパラメータ max\_results= を渡してください。続いて、レスポンスペイロードで返される next\_token を、次のリクエストの pagination\_token クエリパラメータに渡します。

さらに、/1.1/lists/memberships エンドポイントでは、1 回のリクエストで最大 1,000 の List を返せます。v2 の代替エンドポイントでは、1 回のリクエストで最大 100 の List を返せます。デフォルトでは 100 件の List オブジェクトが返されます。結果数を変更するには、/1.1/lists/members と同様に、クエリパラメータ max\_results= および pagination\_token を使用してください。

**レスポンスデータ形式**

standard v1.1 と X API v2 のエンドポイントでの最大の違いの一つは、ペイロードで返すフィールドの選択方法です。

standard エンドポイントでは、多くのレスポンスフィールドがデフォルトで返され、必要に応じてパラメータを使い、追加で返すフィールドやフィールドセットを指定できます。

X API v2 の /users/:id/list\_memberships では、デフォルトで List の id と name フィールドが返されます。追加のフィールドやオブジェクトを要求するには、[fields](/ja/x-api/fundamentals/fields) と [expansions](/ja/x-api/fundamentals/expansions) パラメータを使用します。このエンドポイントで要求した List の各フィールドは、プライマリの List オブジェクト内で返されます。展開されたオブジェクトとフィールドは、レスポンス内の includes オブジェクトに返されます。プライマリと展開オブジェクトの双方に含まれる ID を突き合わせることで、展開オブジェクトをプライマリの List オブジェクトに対応付けられます。

以下は、想定される List フィールドと expansion の例です:

- created\_at

- follower\_count

- member\_count

- owner\_id

- description

- private

|     |     |
| :--- | :--- |
| **エンドポイント** | **Expansion** |
| /2/lists/:id/members | pinned\_tweet\_id |
| /2/users/:id/list\_memberships | owner\_id |

これらの新しいパラメータの詳細は、それぞれのガイド、または[fields と expansions の使用方法](/ja/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions)のガイドをご参照ください。 

また、標準の v1.1 フィールドを新しい v2 フィールドにマッピングするのに役立つ[データ形式移行ガイド](/ja/x-api/migrate/data-format-migration)も用意しています。このガイドでは、特定のフィールドを返すために v2 リクエストで指定すべき具体的な expansion と fields パラメータも示しています。 

特定のフィールドのリクエスト方法の変更に加え、X API v2 では、[Post](/ja/x-api/fundamentals/data-dictionary#tweet) オブジェクトや [user](/ja/x-api/fundamentals/data-dictionary#user) オブジェクトなど、API が返すオブジェクトの新しい JSON 設計も導入しています。

- JSON のルートレベルでは、標準のエンドポイントは Post オブジェクトを statuses 配列で返しますが、X API v2 は data 配列を返します。 

- Retweeted および Quoted の「statuses」と呼ぶ代わりに、X API v2 の JSON では Retweeted および Quoted Tweets と表記します。contributors や user.translator\_type などの多くのレガシー／非推奨フィールドは削除されています。 

- Post オブジェクト内の favorites と user オブジェクト内の favourites の双方を使う代わりに、X API v2 では like という用語を使用します。 

- X では、値が存在しない JSON の値（例: null）はペイロードに出力しないという慣例を採用しています。Post および user の属性は、非 null の値がある場合にのみ含まれます。

**リクエストパラメータ**

次の標準 v1.1 のリクエストパラメータには、X API v2 における同等物があります。

**List members lookup**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **X API v2** |
| list\_id | id  |
| slug | 対応なし |
| owner\_screen\_name | 対応なし |
| owner\_id | 対応なし |
| count | max\_results |
| cursor | pagination\_token |
| include\_entities | 対応なし |
| skip\_status | 対応なし |

**List membership lookup**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **X API v2** |
| user\_id | id  |
| screen\_name | 対応なし |
| count | max\_results |
| cursor | pagination\_token |