---
title: インテグレーションガイド
sidebarTitle: インテグレーションガイド
---

import { Button } from '/snippets/ja/button.mdx';

このページでは、List lookup エンドポイントをシステムに統合する際に押さえておくべき複数のツールと重要な概念について説明します。ページは次のセクションで構成されています。

- [役立つツール](#helpful)
- 重要な概念
- [認証](#authentication)
- [開発者ポータル、プロジェクトとアプリ](#portal)
- [レート制限](#limits)
- [フィールドと展開](#fields)
- [ページネーション](#pagination)

<div id="helpful-tools">
  ### 便利なツール
</div>

このエンドポイントを統合するうえで役立つ主要な概念に入る前に、次の内容に慣れておくことをおすすめします。

<div id="postman">
  #### Postman
</div>

Postman は、エンドポイントのテストに使える優れたツールです。各 Postman リクエストには、利用可能な項目をすばやく把握できるよう、すべてのパスおよびボディパラメータが含まれています。Postman コレクションの詳細については、["Using Postman"](/ja/tutorials/postman-getting-started) のページをご覧ください。 

<div id="code-samples">
  #### コードサンプル
</div>

お好みのプログラミング言語でこのエンドポイントをセットアップするためのコードをお探しですか？出発点として利用できるさまざまなコードサンプルを、[GitHub ページ](https://github.com/xdevplatform/Twitter-API-v2-sample-code)で提供しています。

<div id="third-party-libraries">
  #### サードパーティ製ライブラリ
</div>

コミュニティが提供する[サードパーティ製ライブラリ](/ja/x-api/tools-and-libraries/overview)を活用して、スムーズに開始しましょう。適切なバージョンタグを確認すれば、v2 エンドポイントに対応するライブラリを見つけられます。

<div id="key-concepts">
  ### 主要な概念
</div>

<div id="authentication">
  #### 認証
</div>

すべての X API v2 エンドポイントでは、キーやトークンと呼ばれる一連のクレデンシャルでリクエストを認証する必要があります。これらのエンドポイントへのリクエスト認証には、OAuth 1.0a User Context、App only、または OAuth 2.0（PKCE）を使用できます。 

[OAuth 1.0a User Context](/ja/resources/fundamentals/authentication#oauth-1-0a-user-context) では、リクエストを成功させるために API Key とユーザー Access Token のセットを使用する必要があります。Access Token は、あなたが代理でリクエストを行うユーザーに関連付けられている必要があります。別のユーザーのために Access Token を生成する場合、そのユーザーは [3-legged OAuth flow](/ja/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) を用いてあなたの App を認可する必要があります。

OAuth 1.0a は扱いが難しい場合があります。この認証方式に不慣れな場合は、[ライブラリ](/ja/x-api/tools-and-libraries/overview) を使用するか、Postman などのツールを使うか、OAuth 2.0 でリクエストを認証することを推奨します。

[OAuth 2.0 Authorization Code with PKCE](/ja/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) は、アプリケーションのスコープに対するより細かな制御や、複数デバイスにまたがる認可フローを可能にします。OAuth 2.0 では、ユーザーに代わって特定の権限を付与するきめ細かなスコープを選択できます。 

あなたの App で OAuth 2.0 を有効にするには、developer portal の App settings セクションにある App の authentication settings で有効化してください。

[App only](/ja/resources/fundamentals/authentication#bearer-token-also-known-as-app-only) は、リクエストに [App only Access Token](/ja/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token) を付与するだけで利用できます。App only トークンは、developer App 内から直接生成するか、[POST oauth2/token](/ja/resources/fundamentals/authentication#post-oauth2-token) エンドポイントを使用して生成できます。

<div id="developer-portal-projects-and-developer-apps">
  #### Developer portal、プロジェクト、開発者アプリ
</div>

X API v2 のエンドポイントで使用できる認証情報一式を取得するには、[開発者アカウントに登録](https://developer.x.com/en/portal/petition/essential/basic-info)し、そのアカウント内に[プロジェクト](/ja/resources/fundamentals/projects)を設定し、そのプロジェクト内に[開発者アプリ](/ja/resources/fundamentals/developer-apps)を作成する必要があります。キーやトークンは、開発者アプリ内で確認できます。
 

<div id="rate-limits">
  #### レート制限
</div>

毎日、何千もの開発者が X API にリクエストを送信しています。これらの膨大なリクエストを適切に管理するため、各エンドポイントには[レート制限](/ja/x-api/fundamentals/rate-limits)が設定されており、アプリまたは認証済みユーザーごとに送信できるリクエスト数を制限しています。

これらのエンドポイントには、アプリレベルとユーザーレベルの両方のレート制限が適用されます。アプリのレート制限は、開発者であるあなたが、特定の期間内に任意のアプリ（API Key と API Secret Key、または App only Access Token を使用する想定）から当該エンドポイントに送信できるリクエスト数に上限があることを意味します。ユーザーのレート制限は、あなたが代行してリクエストを送る認証済みユーザーが、開発者のどのアプリを利用する場合でも、List のルックアップを実行できる回数に上限があることを意味します。

以下の表は、各エンドポイントのレート制限を示しています。

|     |     |     |
| :--- | :--- | :--- |
| **Endpoint** | **HTTP method** | **Rate limit** |
| /2/lists/:id | GET | 15 分あたり 75 リクエスト |
| /2/users/:id/owned\_lists | GET | 15 分あたり 15 リクエスト |

Fields と expansions

X API v2 の GET エンドポイントでは、`fields` と `expansions` と呼ばれる機能を使って、API から返すデータを正確に選択できます。`expansions` パラメータを使用すると、ペイロード内で参照されているオブジェクトを展開できます。たとえば、ID で List を取得する場合、次の[expansions](/ja/x-api/fundamentals/expansions)を指定できます。

- `owner_id`

`fields` パラメータを使用すると、各種データオブジェクト内で受け取りたい[fields](/ja/x-api/fundamentals/fields)を正確に選択できます。これらのエンドポイントは主に List オブジェクトを返します。デフォルトでは、List オブジェクトは `id` と `name` フィールドを返します。`list.created_at` や `list.follower_count` などの追加フィールドを受け取るには、list.fields パラメータで明示的にリクエストする必要があります。

[X API v2 データディクショナリ](/ja/x-api/fundamentals/data-dictionary)に、[fields と expansions](/ja/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions)を組み合わせて使用するためのガイドを追加しました。

以下の表は、このエンドポイントグループで利用可能な fields と expansions を示しています。

|     |     |     |
| :--- | :--- | :--- |
| **Endpoint** | **Fields** | **Expansions** |
| /2/lists/:id | `list.fields`<br /><br />`user.fields` | `owner_id` |
| /2/users/:id/owned\_lists | `list.fields`<br /><br />`user.fields` | `owner_id` |

<div id="pagination">
  #### ページネーション
</div>

ユーザーが所有するリストの検索では、大量のデータが返される場合があります。常に一貫性があり高性能な結果を返すために、ページネーションを使用します。ページネーションは、単一のレスポンスで返しきれない量の結果を返す X API v2 のエンドポイントに備わる機能です。該当する場合、データは一連の「ページ」に分割して返されます。結果の[ページネーション方法の詳細はこちら](/ja/x-api/fundamentals/pagination)をご覧ください。