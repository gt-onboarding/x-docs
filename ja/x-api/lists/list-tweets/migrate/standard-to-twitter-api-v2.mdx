---
title: v1 から v2 へ
sidebarTitle: v1 から v2 へ
---

import { Button } from '/snippets/ja/button.mdx';

<div id="list-posts-lookup-standard-v11-compared-to-x-api-v2">
  ### リスト投稿の取得: Standard v1.1 と X API v2 の比較
</div>

標準 v1.1 の [GET lists/statuses](https://developer.x.com/en/docs/twitter-api/v1/accounts-and-users/create-manage-lists/api-reference/get-lists-statuses) エンドポイントを利用している方に向けて、本ガイドでは標準 v1.1 と X API v2 の各エンドポイントの共通点と相違点を解説します。

- **共通点**
  - 認証方法
  - レート制限
- **相違点**
  - エンドポイント URL
  - アプリおよびプロジェクトの要件
  - リクエストあたりのデータオブジェクトの上限
  - レスポンスデータ形式
  - リクエストパラメータ

<div id="similarities">
  #### 類似点
</div>

**認証**

両方のエンドポイントバージョンは [OAuth 1.0a User Context](/ja/resources/fundamentals/authentication#oauth-2-0) に対応しています。したがって、これまで標準の v1.1 の List Posts ルックアップエンドポイントを使用していた場合でも、X API v2 版へ移行して同じ認証方式を引き続き利用できます。

利用する認証ライブラリ／パッケージによっては、App only 認証が最も手軽に始められ、シンプルなリクエストヘッダーで設定できます。App only Access Token の生成方法は、[App only ガイド](/ja/resources/fundamentals/authentication#bearer-token-also-known-as-app-only)を参照してください。

**レート制限**

|     |     |
| :--- | :--- |
| **Standard v1.1** | **X API v2** |
| /1.1/lists/statuses.json<br /><br />OAuth 1.0a User Context で 15 分あたり 900 リクエスト<br /><br />App only で 15 分あたり 900 リクエスト | /2/lists/:id/tweets<br /><br />OAuth 1.0a User Context で 15 分あたり 900 リクエスト<br /><br />OAuth 2.0 Authorization Code with PKCE で 15 分あたり 900 リクエスト<br /><br />App only で 15 分あたり 900 リクエスト |

<div id="differences">
  #### 相違点
</div>

**エンドポイント URL**

- Standard v1.1 エンドポイント:
  - GET https://api.x.com/1.1/lists/statuses.json
    （指定したリストの投稿を取得）
- X API v2 エンドポイント:
  - GET https://api.x.com/2/lists/:id/tweets
    （指定したリストの投稿を取得）

**アプリとプロジェクトの要件**

X API v2 のエンドポイントでは、リクエスト認証時に [developer App](/ja/resources/fundamentals/developer-apps) の認証情報のうち、[Project](/ja/resources/fundamentals/projects) に関連付けられているものを使用する必要があります。X API v1.1 のすべてのエンドポイントでは、スタンドアロンのアプリ、またはプロジェクトに関連付けられたアプリの認証情報を使用できます。

**リクエストごとのデータオブジェクト上限**

標準の v1.1 /lists/statuses エンドポイントでは、リクエストごとに最大 5,000 件の投稿を返せます。新しい v2 エンドポイントでは、リクエストごとに最大 100 件の投稿を返せます。デフォルトでは 100 個の user オブジェクトが返されます。結果数を変更するには、クエリパラメータ max\_results= に 1〜100 の数値を指定してください。次のリクエストでは、レスポンスペイロードで返される next\_token を pagination\_token クエリパラメータに渡せます。

**レスポンスデータ形式**

標準 v1.1 と X API v2 のエンドポイントの大きな違いのひとつは、ペイロードにどのフィールドを返すかの選択方法です。

標準のエンドポイントでは、多くのレスポンスフィールドがデフォルトで返され、さらにパラメータでペイロードに含める追加フィールドやフィールドセットを指定できます。

X API v2 では、デフォルトで投稿の id と text フィールドのみが返されます。追加のフィールドやオブジェクトを要求するには、[fields](/ja/x-api/fundamentals/fields) と [expansions](/ja/x-api/fundamentals/expansions) パラメータを使用する必要があります。このエンドポイントで要求した投稿フィールドは、プライマリの投稿オブジェクトに含まれます。展開されたオブジェクトのフィールドは、レスポンス内の includes オブジェクトに含まれます。次に、プライマリオブジェクトの ID と展開オブジェクト内の ID を突き合わせて、展開オブジェクトをプライマリの投稿オブジェクトに対応付けられます。 

以下は、指定可能な投稿フィールドと expansions の例です:

- attachments

- author\_id

- context\_annotations

- created\_at

- geo

- lang

|     |     |
| :--- | :--- |
| **エンドポイント** | **Expansion** |
| /2/lists/:id/tweets | author\_id |

これらの新しいパラメータの詳細は、それぞれのガイド、または[fields と expansions の使い方](/ja/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions)のガイドをご覧ください。 

また、標準 v1.1 のフィールドを新しい v2 のフィールドにマッピングするのに役立つ [データ形式移行ガイド](/ja/x-api/migrate/data-format-migration) も用意しています。このガイドでは、特定のフィールドを返すために v2 リクエストで指定すべき具体的な expansion と field パラメータも示しています。 

特定フィールドの要求方法の変更に加え、X API v2 では API が返すオブジェクト（[Post](/ja/x-api/fundamentals/data-dictionary#tweet) や [user](/ja/x-api/fundamentals/data-dictionary#user) オブジェクトなど）に対して新しい JSON 設計も導入しています。

- JSON のルートレベルでは、標準エンドポイントは投稿オブジェクトを **statuses** 配列で返しますが、X API v2 は **data** 配列で返します。 

- Retweeted と Quoted を「statuses」と呼ぶ代わりに、X API v2 の JSON では Retweeted と Quoted Tweets と表現します。**contributors** や **user.translator\_type** といった多くのレガシー／非推奨フィールドは削除されています。 

- **favorites**（投稿オブジェクト内）と **favourites**（user オブジェクト内）の両方の代わりに、X API v2 では **like** という用語を使用します。

- 値を持たない JSON 値（例えば **null**）はペイロードに含めない、という規約を X は採用しています。投稿と user の属性は、非 null の値を持つ場合にのみ含まれます。
   

**リクエストパラメータ**

以下の標準 v1.1 リクエストパラメータには、X API v2 に相当するものがあります:

|     |     |
| :--- | :--- |
| Standard v1.1 | X API v2 |
| list\_id | id  |
| slug | 対応なし |
| owner\_screen\_name | 対応なし |
| owner\_id | expansions パラメータで author\_id を指定して要求 |
| since\_id | 対応なし |
| max\_id | 対応なし |
| include\_entities | tweet.fields パラメータで entities を指定して要求 |
| include\_rts | 対応なし |
| count | max\_results |