---
title: 統合ガイド
sidebarTitle: 統合ガイド
---

import { Button } from '/snippets/ja/button.mdx';

このページでは、List Posts ルックアップエンドポイントをシステムに統合する際に把握しておくべき、いくつかのツールと重要な概念を紹介します。ページは次のセクションに分かれています。

- [役立つツール](#helpful)
- 主要な概念
- [認証](#authentication)
- [Developer portal、プロジェクトとアプリ](#portal)
- [レート制限](#limits)
- [フィールドとエクスパンション](#fields)
- [ページネーション](#pagination)

<div id="helpful-tools">
  ### 役立つツール
</div>

このエンドポイントを統合するうえで有用な主要概念に入る前に、次の内容に慣れておくことをおすすめします。

<div id="postman">
  #### Postman
</div>

Postman は、エンドポイントのテストに役立つ優れたツールです。各 Postman リクエストには、利用可能な内容を素早く把握できるよう、すべてのパスおよびボディパラメータが含まれています。Postman コレクションの詳細は、["Using Postman"](/ja/tutorials/postman-getting-started) ページをご覧ください。 

<div id="code-samples">
  #### コードサンプル
</div>

お使いのプログラミング言語でこのエンドポイントをセットアップしたい方へ。出発点としてご利用いただける各種コードサンプルを、[GitHub ページ](https://github.com/xdevplatform/Twitter-API-v2-sample-code)で提供しています。

<div id="third-party-libraries">
  #### サードパーティ製ライブラリ
</div>

コミュニティ提供の[サードパーティ製ライブラリ](/ja/x-api/tools-and-libraries/overview)を活用して、スムーズに始めましょう。v2 のエンドポイントに対応するライブラリは、適切なバージョンタグを確認して見つけられます。

<div id="key-concepts">
  ### 重要な概念
</div>

<div id="authentication">
  #### 認証
</div>

すべての X API v2 エンドポイントでは、キーやトークンと呼ばれる認証情報一式でリクエストに認証を付与する必要があります。このエンドポイントへのリクエストの認証には、OAuth 1.0a User Context、App only、または OAuth 2.0（PKCE）を使用できます。

[OAuth 1.0a User Context](/ja/resources/fundamentals/authentication#oauth-1-0a-2) は、API Key とユーザーの Access Token のセットを用いてリクエストを行う方式です。Access Token は、あなたが代理してリクエストを行う対象ユーザーに関連付けられている必要があります。別ユーザー向けの Access Token を生成する場合、そのユーザーは [3-legged OAuth flow](/ja/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) を用いてあなたのアプリを承認する必要があります。

OAuth 1.0a は取り扱いが難しい場合があります。この認証方式に不慣れな場合は、[ライブラリ](/ja/x-api/tools-and-libraries/overview) を利用する、Postman のようなツールを使う、あるいは OAuth 2.0 または App only を用いて認証することを推奨します。

[OAuth 2.0 Authorization Code with PKCE](/ja/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2) は、アプリケーションのスコープや複数デバイス間の認可フローをより細かく制御できます。OAuth 2.0 では、ユーザーに代わる特定の権限を付与するきめ細かなスコープを選択できます。

アプリで OAuth 2.0 を有効化するには、開発者ポータルの App settings セクションにある認証設定で有効にしてください。

[App only](/ja/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token) は、リクエストに [App only Access Token](/ja/resources/fundamentals/authentication#app-only-authentication-and-oauth-2-0-bearer-token) を付与するだけで利用できます。App only Access Token は、開発者用アプリ内で直接生成するか、[POST oauth2/token](/ja/resources/fundamentals/authentication#post-oauth2-token) エンドポイントを使って生成できます。

<div id="developer-portal-projects-and-developer-apps">
  #### Developer Portal、プロジェクト、開発者アプリ
</div>

X API v2 のエンドポイントで使用できる認証情報一式を取得するには、[開発者アカウントに登録](https://developer.x.com/en/portal/petition/essential/basic-info)し、そのアカウント内で[プロジェクト](/ja/resources/fundamentals/projects)を作成し、さらにそのプロジェクト内に[開発者アプリ](/ja/resources/fundamentals/developer-apps)を作成する必要があります。鍵とトークンは開発者アプリ内で確認できます。
 

<div id="rate-limits">
  #### レート制限
</div>

毎日、何千人もの開発者が X API にリクエストを送信しています。これら大量のリクエストを管理するため、各エンドポイントには[レート制限](https://developer.x.com/x-api/fundamentals/rate-limits)が設けられており、アプリまたは認証済みユーザーの代理として行えるリクエスト数が制限されています。 

このエンドポイントには、アプ​​リレベルとユーザーレベルの両方でレート制限が適用されます。アプリのレート制限は、開発者であるあなたが、特定の期間内に任意のアプリ（API Key と API Secret Key、または Bearer Token を使用する想定）からこのエンドポイントに対して行えるリクエスト数が制限されることを意味します。ユーザーのレート制限は、あなたが代理してリクエストを行う認証済みユーザーが、任意の開発者アプリをまたいで一定回数までしか List の投稿の参照を実行できないことを意味します。

以下の表は、各エンドポイントのレート制限を示します。

|     |     |     |
| :--- | :--- | :--- |
| **Endpoint** | **HTTP method** | **Rate limit** |
| /2/lists/:id/tweets | GET | 15 分あたり 900 リクエスト |

Fields と Expansions

X API v2 の GET エンドポイントでは、`fields` と `expansions` というツールを使って、API から返すデータを正確に選択できます。`expansions` パラメータは、ペイロード内で参照されているオブジェクトを展開します。たとえば、List の投稿を参照する場合、次の [expansions](/ja/x-api/fundamentals/expansions) を取得できます。

- `author_id`

`fields` パラメータでは、受け取りたい各種データオブジェクト内のどの[フィールド](/ja/x-api/fundamentals/fields)を返すかを指定できます。このエンドポイントは主に Post オブジェクトを返します。デフォルトでは、Post オブジェクトは `id` と `text` フィールドを返します。`tweet.created_at` や `tweet.lang` などの追加フィールドを受け取るには、fields パラメータで明示的に指定する必要があります。 

[X API v2 データ辞書](/ja/x-api/fundamentals/data-dictionary)に、[fields と expansions](/ja/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions)を組み合わせて使用するためのガイドを追加しました。

以下の表は、lookup エンドポイントで使用可能な fields と expansions を示します。

|     |     |     |
| :--- | :--- | :--- |
| **Endpoint** | **Fields** | **Expansions** |
| /2/lists/:id/tweets | `tweet.fields`<br /><br />`user.fields` | `author_id` |

ページネーション

List の投稿を参照すると、大量のデータが返される場合があります。常に一貫性があり高いパフォーマンスの結果を返すため、ページネーションを使用しています。ページネーションは、単一のレスポンスで返せる件数を超える結果を返す X API v2 のエンドポイントに備わる機能です。その場合、データは一連の「ページ」として返されます。結果を[ページネートする方法](/ja/x-api/fundamentals/pagination)の詳細をご覧ください。