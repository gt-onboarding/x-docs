---
title: ピン留めリストのルックアップ
sidebarTitle: ピン留めリストのルックアップ
---

import { Button } from '/snippets/ja/button.mdx';

<Note>
  **ご注意:** このガイドは、[クイックスタート概要](/ja/x-api/lists/pinned-lists#getting-started-with-the-pinned-list-endpoint-group)の前提条件を完了していることを前提としています。
</Note>

<div id="steps-to-build-a-pinned-list-lookup-request">
  ### ピン留めリスト参照リクエストを作成する手順
</div>

**ステップ1：PostmanでListエンドポイントコレクションを選択**

PostmanにX API v2コレクションを読み込んだら、「List」フォルダーに移動し、次に「Pinned Lists」フォルダーを選択して、「User's pinned Lists」を選びます。
 

**ステップ2：ユーザーを特定して指定**

ユーザーのピン留めリストを取得するには、リクエスト内でそのユーザーIDを指定する必要があります。ユーザーIDは認証済みユーザーのIDと一致している必要があり、つまりリクエストの認証時にはそのユーザーIDに紐づくAccess Tokenを渡す必要があります。この例では、ご自身のユーザーに属するIDを指定できます。IDは次の2つの方法で確認できます。

1. [users lookup](/ja/x-api/users/lookup/introduction) のusernameエンドポイントを使用して、ユーザー名を渡すとidフィールドが返ってきます。
2. Access Tokenを確認すると、数値部分がユーザーIDです。

Postmanで「Params」タブに移動し、このユーザーIDを`id`パラメータの「Value」列に入力します。

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | 2244994945（user ID） |

**ステップ3：取得したいフィールドを特定して指定**

「Send」ボタンをクリックすると、レスポンスにはデフォルトの[Listオブジェクト](/ja/x-api/fundamentals/data-dictionary#list)のフィールドである`id`と`name`が含まれます。

`id`と`name`以外の追加フィールドを受け取りたい場合は、リクエストで[`field`](/ja/x-api/fundamentals/fields) および／または[`expansion`](/ja/x-api/fundamentals/expansions)パラメータを使用してそれらのフィールドを指定する必要があります。

この演習では、異なるオブジェクトから3つの追加フィールドセットをリクエストします。

- 主要なListオブジェクトの追加フィールド`follower_count`
- expansionパラメータを使って取得する[userオブジェクト](/ja/x-api/fundamentals/data-dictionary#user)全体
- 関連するuserオブジェクトの追加フィールド`tweet.created_at`

Postmanで「Params」タブに移動し、「Query Params」テーブルに以下のキーと値のペアを追加します。

|     |     |     |
| :--- | :--- | :--- |
| Key | Value | Returned fields |
| list.fields | follower\_count | `follower_count` |
| expansions | owner\_id | `includes.users.id,  <br/>includes.users.name,  <br/>includes.users.username` |
| user.fields | created\_at | `includes.users.created_at` |

これで「Send」ボタンの横に、次のようなURLが表示されるはずです。

`https://api.x.com/2/users/2244994945/pinned_lists?expansions=owner_id&list.fields=follower_count&user.fields=created_at`

**ステップ4：リクエストを送信し、レスポンスを確認**

準備ができたら「Send」ボタンを押すと、次の例に類似したレスポンスが返ってきます。

```
{
  "data": [
    {
      "follower_count": 0,
      "id": "1454155907651158017",
      "name": "test list",
      "owner_id": "2244994945"
    }
  ],
  "includes": {
    "users": [
      {
        "username": "TwitterDev",
        "id": "2244994945",
        "created_at": "2013-12-14T04:35:55.000Z",
        "name": "Twitter Dev"
      }
    ]
  },
  "meta": {
    "result_count": 1
  }
}
```