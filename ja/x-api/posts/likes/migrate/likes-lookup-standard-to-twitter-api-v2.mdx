---
title: いいねの検索
sidebarTitle: いいねの検索
---

<div id="likes-lookup-standard-v11-compared-to-x-api-v2">
  ### いいねの参照: Standard v1.1 と X API v2 の比較
</div>

標準 v1.1 の [GET favorites/list](https://developer.x.com/en/docs/x-api/v1/tweets/post-and-engage/api-reference/get-favorites-list) エンドポイントを利用してきた方に向けて、本ガイドでは Standard v1.1 と X API v2 の「いいね」参照エンドポイントの共通点と相違点を解説します。

v2 では、特定の投稿に「いいね」したユーザー情報を取得できる新しい liked users エンドポイントも導入しました。

- **共通点**
  - 認証
  - レート制限
- **相違点**
  - エンドポイント URL

  - リクエストの制約

  - アプリとプロジェクトの要件

  - リクエストパラメータ

  - 新しい JSON 形式

<div id="similarities">
  #### 類似点
</div>

**認証**

標準 v1.1 と X API v2 の Likes ルックアップの両エンドポイントは、[OAuth 1.0a User Context](/ja/resources/fundamentals/authentication#oauth-1-0a-2) または [OAuth 2.0 Bearer Token](/ja/resources/fundamentals/authentication#bearer-token-also-known-as-app-only) を使用します。したがって、以前に標準 v1.1 の [GET favorites/list エンドポイント](https://developer.x.com/en/docs/x-api/v1/tweets/post-and-engage/api-reference/get-favorites-list) を使用していた場合、X API v2 版に移行しても、希望すれば同じ認証方式を引き続き使用できます。 

利用する認証ライブラリ／パッケージによっては、Bearer Token 認証が最も手軽に始められ、単純なリクエストヘッダーで設定できます。Bearer Token の生成方法については、[OAuth 2.0 Bearer Token ガイド](/ja/resources/fundamentals/authentication#bearer-token-also-known-as-app-only) を参照してください。 
 

**レート制限**

標準 v1.1 の GET favorites/list エンドポイントには、ユーザーごとに 15 分あたり 75 リクエストのレート制限があります。v2 の対応する liked Posts エンドポイントにも同じレート制限があります。さらに、この v2 エンドポイントには、アプリごとに 15 分あたり 75 リクエストという追加のレート制限もあります。

<div id="differences">
  #### 相違点
</div>

**エンドポイント URL**

- Standard v1.1 エンドポイント:
  - GET https://api.x.com/1.1/favorites/list.json
    （指定したユーザーによる投稿の一覧）
  - v2 の liking users エンドポイントに相当する v1.1 のエンドポイントはありません
- X API v2 エンドポイント:
  - GET https://api.x.com/2/users/:id/liked\_tweets
    （指定したユーザー ID が「いいね」した投稿の一覧）
  - GET https://api.x.com/2/tweets/:id/liking\_users
    （指定した投稿 ID に「いいね」したユーザーの一覧）

**リクエストの制限事項**

v2 の liked Posts エンドポイントでは、1 リクエストあたり 5〜100 件の投稿を取得できますが、ページネーショントークンを使用して特定の投稿に対するすべての「いいね」を取得できます。v1.1 の GET favorites/list エンドポイントでもすべての「いいね」を取得できますが、1 リクエストあたり 20〜200 件の投稿を取得できます。

v2 の liking users エンドポイントでは、1 つの投稿につき取得できる「いいね」したユーザーは最大 100 人に制限されています。 
 

**アプリとプロジェクトの要件**

X API v2 の各エンドポイントでは、リクエストの認証時に [developer App](/ja/resources/fundamentals/developer-apps) の認証情報を使用する必要があり、そのアプリは [Project](/ja/resources/fundamentals/developer-apps) に関連付けられている必要があります。X API v1.1 のすべてのエンドポイントは、スタンドアロンのアプリまたはプロジェクトに関連付けられたアプリの認証情報を使用できます。

**リクエストパラメータ**

以下の Standard v1.1 のリクエストでは、2 つのクエリパラメータ（user\_id または screen\_name）を受け付けていました。X API v2 では数値のユーザー ID のみを受け付け、エンドポイントのパスの一部として渡す必要があります。

Standard v1.1 と X API v2 のエンドポイントの大きな違いの 1 つは、ペイロードにどのフィールドを返すかの指定方法です。Standard エンドポイントでは、返却するフィールドやフィールドセットを指定するための複数のパラメータがありましたが、X API v2 ではこれらを [fields](/ja/x-api/fundamentals/fields) と [expansions](/ja/x-api/fundamentals/expansions) に統一して簡素化しています。 
 

**新しい JSON 形式**

X API v2 では、API が返すオブジェクト（[Post](/ja/x-api/fundamentals/data-dictionary#tweet) および [user](/ja/x-api/fundamentals/data-dictionary#user) オブジェクトを含む）に対して新しい JSON 設計を導入しています。

- JSON のルートレベルでは、Standard エンドポイントは statuses 配列内にユーザーオブジェクトを返しますが、X API v2 は data 配列を返します。 
- Retweeted や Quoted を「statuses」と呼ぶ代わりに、X API v2 の JSON では Retweeted および Quoted Tweets と表現します。contributors や user.translator\_type などの多くのレガシー／非推奨フィールドは削除されます。 
- Post オブジェクトの favorites と user オブジェクトの favourites の両方を使う代わりに、X API v2 では like という用語を使用します。 
- X では、値が存在しない JSON 値（たとえば null）はペイロードに書き込まないという規約を採用しています。Post および user の属性は、非 null の値がある場合にのみ含まれます。
   

新しい JSON 形式への変更に加えて、Post オブジェクトに次のような新しいフィールドセットも導入しました。

- [conversation\_id](/ja/x-api/fundamentals/conversation-id)
- 2 つの新しい [Post annotations](/ja/x-api/fundamentals/post-annotations) フィールド（context と entities を含む）
- 複数の新しい [metrics](/ja/x-api/fundamentals/metrics) フィールド 