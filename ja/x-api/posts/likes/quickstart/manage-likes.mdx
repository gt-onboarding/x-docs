---
title: いいねを管理
sidebarTitle: いいねを管理
---

import { Button } from '/snippets/ja/button.mdx';

<div id="getting-started-with-the-manage-likes-endpoints">
  ### いいね管理エンドポイントのはじめ方
</div>

このクイックスタートガイドでは、[Postman](/ja/tutorials/postman-getting-started) を使用して、いいね管理エンドポイントへの最初のリクエストを送信する手順を説明します。

各種言語のサンプルコードをご覧になりたい場合は、GitHub の [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) リポジトリをご参照ください。 

<div id="prerequisites">
  #### 前提条件
</div>

このガイドを完了するには、以下の手順で生成できる一連の[キーとトークン](/ja/resources/fundamentals/authentication)が必要です。

1. [開発者アカウントに申請](https://developer.x.com/en/apply-for-access)し、承認を受ける。

2. 開発者ポータルで[プロジェクト](/ja/resources/fundamentals/projects)と、それに紐づく[開発者アプリ](/ja/resources/fundamentals/developer-apps)を作成する。

3. アプリの「Keys and tokens」ページに移動し、API Key、Access Token、Bearer Token をパスワードマネージャーに保存する。

<div id="steps-to-build-a-manage-likes-request">
  #### いいね管理リクエストを作成する手順
</div>

**ステップ1：ツールまたはライブラリから始める**

このエンドポイントにリクエストするために使用できるツール、コード例、ライブラリはいくつかありますが、ここではプロセスを簡素化するために Postman を使用します。

X API v2 の Postman コレクションを環境に読み込むには、次のボタンをクリックしてください。

[![](https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/m1_vnext/carat.svg)<br />X API v2 を Postman に追加](https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400)

Postman に X API v2 コレクションを読み込んだら、「Likes」フォルダに移動し、「Like a Post」を選択します。

**ステップ2：リクエストを認証する**

このエンドポイントに対してリクエストを成功させるには、[OAuth 1.0a User Context](/ja/resources/fundamentals/authentication) を使用する必要があります。そのためには、「X API v2」という名前の環境を選択し、初期値と現在値のフィールドに次の変数を追加して、以下のキーとトークンを Postman に設定してください。

- consumer\_key に API Key
- consumer\_secret に API Key Secret
- access\_token に Access Token
- token\_secret に Access Token Secret
   

**ステップ3：いいねする対象の Post を指定する**

いいね管理エンドポイントには 2 つの ID が必要です。1 つはユーザー（Post にいいねしたいユーザー）の ID、もう 1 つはユーザーがいいねまたはいいね解除しようとしている Post の ID（Post ID）です。

ユーザーの ID は認証ユーザーの ID と一致している必要があります。つまり、リクエスト認証時には、そのユーザー ID に関連付けられた[Access Tokens](/ja/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow)を渡す必要があります。今回は、自分自身のユーザー ID を指定できます。ID の確認方法は次の 2 通りです。

1. [user lookup by username](/ja/x-api/users/user-lookup-by-id) エンドポイントでユーザー名を渡すと、id フィールドを取得できます。
2. Access Token の数値部分がユーザー ID です。
    

また、いいねしたい Post も指定する必要があります。x.com で対象の Post を開き、URL を確認すると Post ID を取得できます。たとえば、次の URL の Post ID は 1228393702244134912 です。

https://x.com/TwitterDev/status/1228393702244134912

Postman で「Params」タブに移動し、パス変数 id の「Value」列にあなたの ID を入力します。次に「Body」タブに移動し、いいねしたい Post の ID を tweet\_id パラメータの値として入力します。いずれの ID の前後にも空白を含めないでください。

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | (あなたのユーザー ID) |
| tweet\_id | (いいねしたい Post の ID) |

「Send」ボタンをクリックすると、関係ステータスを含むレスポンスオブジェクトが返されます。

- "liked": true が返ってきた場合、id は tweet\_id に正常にいいねしています。
   

**ステップ4：リクエストを送信し、レスポンスを確認する**

すべての設定が完了したら、「Send」ボタンを押すと次のレスポンスを受け取ります。

```
{
    "data": {
        "liked": true
    }
}
```

同じ Post のいいねを解除したい場合は、Postman の X API v2 コレクション内の「Likes」フォルダにある “Unlike a Post” リクエストを使用できます。id と tweet\_id の扱いは前の例と同じです。いいねを解除する場合は JSON ボディの追加は不要なため、id と tweet\_id の必須クエリパラメータを設定していることを確認してください。