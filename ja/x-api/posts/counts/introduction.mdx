---
title: 概要
sidebarTitle: 概要
---

import { Button } from '/snippets/ja/button.mdx';

v2 の Post counts エンドポイントは、特定のクエリに対するデータ量を把握・取得するための機能を提供します。これは次のような理由で有用です。

- キーワードの投稿量を把握し、トレンドラインなどの可視化を作成する。

- あるイベントや会話が起きた期間を把握し、クエリで関連データを確実に取得できるようにする。

- 検索クエリで返される投稿数を把握し、最近の検索や全アーカイブ検索エンドポイントを使う前にクエリを洗練させる。
  **ご注意:** 検索エンドポイントは counts エンドポイントでは実施しない追加のコンプライアンス処理を経るため、counts が検索エンドポイントの結果と常に一致するとは限りません。

- 実際に生データを取得して月間の[投稿上限](/ja/x-api/fundamentals/post-cap)にカウントさせることなく、特定トピックをめぐる会話の規模を把握する。

クエリを作成する際は、[アクセスレベル](/ja/x-api/getting-started/about-x-api)に基づき、クエリ長や使用できるオペレーターに制限があります。

- Pro アクセスのプロジェクトを使用している場合、利用可能なすべてのオペレーターを使用でき、クエリ長は最大 1024 文字です。

- Enterprise アクセスのプロジェクトを使用している場合、利用可能なすべてのオペレーターを使用でき、クエリ長は最大 4096 文字です。

また、粒度（day、hour、minute）および必要な Post counts の期間（start\_time と end\_time パラメータを使用）を指定できます。このエンドポイントの既定の時間粒度は hour で、粒度パラメータを指定しない場合、直近 7 日間について 1 時間ごとの Post counts が返されます。

<Note>
  **アカウント設定**

  これらのエンドポイントにアクセスするには、次が必要です。

  - 承認済みの[開発者アカウント](https://developer.x.com/en/portal/petition/essential/basic-info)。
  - [プロジェクト](/ja/resources/fundamentals/projects)内にある[開発者アプリ](/ja/resources/fundamentals/developer-apps)のキーとトークンを用いた認証。

  X API v2 エンドポイントへのアクセス方法の詳細は、[はじめにガイド](/ja/x-api/getting-started/getting-access)をご覧ください。
</Note>

<div id="recent-post-counts">
  ### 直近の投稿数
</div>

直近の投稿数エンドポイントは、過去7日間について、指定したクエリに一致する投稿の件数をプログラムから取得できます。このエンドポイントは、[プロジェクト](/ja/resources/fundamentals/projects)内の[アプリ](/ja/resources/fundamentals/developer-apps)に関連付けられたキーとトークンを使用する方ならどなたでも利用でき、認証には[OAuth 2.0 App-Only](/ja/resources/fundamentals/authentication#bearer-token-also-known-as-app-only)を使用します。

<div id="full-archive-post-counts">
  ### 全アーカイブの投稿数
</div>

全アーカイブの投稿数エンドポイントは、公開投稿の全アーカイブに対してクエリに一致する投稿件数をプログラムで取得できます。現在、このエンドポイントは、[Academic Research または Enterprise アクセス](/ja/x-api/getting-started/about-x-api)の承認を受け、認証に [OAuth 2.0 App-Only](/ja/resources/fundamentals/authentication#bearer-token-also-known-as-app-only) を使用している方のみが利用できます。

例: 2017年8月から9月の間、ハッシュタグ #SOSHurricaneHarvey の1日ごとの投稿数を確認するために、この全アーカイブの投稿数エンドポイントを利用できます。

注意: counts エンドポイントは1レスポンスあたり31日分でページネーションされます。たとえば、day の粒度を設定すると、1ページあたり31日分の1日ごとの件数が返されます。hour の粒度を設定すると、1ページあたり744時間分（31日 × 24時間）の1時間ごとの件数が返されます。粒度と期間を指定しない場合、このエンドポイントは直近30日間について、クエリごとの1時間あたりの投稿数を返します。

<div className="flex space-x-4">
  <Button href="/ja/x-api/posts/search/quickstart/full-archive-search">
    クイックスタート
  </Button>

  <Button href="https://github.com/xdevplatform/Twitter-API-v2-sample-code">
    サンプルコード
  </Button>

  <Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
    Postman で実行
  </Button>

  <Button href="https://developer.x.com/apitools/api?endpoint=/2/tweets/search/recent&method=get">
    API Explorer で試す
  </Button>
</div>