---
title: 概要
sidebarTitle: 概要
---

<div id="how-to-integrate-with-the-posts-counts-endpoints">
  ## 投稿数エンドポイントとの統合方法
</div>

このページでは、最新または全アーカイブの投稿数エンドポイントをシステムに統合する際に把握しておくべき、各種ツールと主要な概念について説明します。ページは次のセクションに分かれています。

- [便利なツール](#helpful-tools)
- 主要な概念
  - [認証](#authentication)
  - [Developer Portal、プロジェクト、アプリ](#developer-portal)
  - [レート制限](#rate-limits)
  - [クエリの作成](#queries)
  - [ページネーション](#pagination)

<div id="helpful-tools">
  ### 便利なツール
</div>

主要な概念を見ていく前に、これらのエンドポイントの動作をテストし始めるために、次のツールまたはコードサンプルのいずれかをご利用ください。

<div id="code-samples">
  #### コードサンプル
</div>

お好みのプログラミング言語でこれらのエンドポイントをセットアップするコードは必要ですか？[GitHub ページ](https://github.com/xdevplatform/Twitter-API-v2-sample-code)に、[Python クライアント](https://github.com/xdevplatform/search-tweets-python)を含む、導入の出発点として利用できる複数のコードサンプルを用意しています。

<div id="libraries">
  #### ライブラリ
</div>

作業の立ち上げに役立つ、数多くの[コミュニティ提供のサードパーティ製ライブラリ](/ja/x-api/tools-and-libraries/overview)をご活用ください。適切なバージョンタグを確認すれば、v2 エンドポイントに対応するライブラリを見つけられます。

<div id="postman">
  #### Postman
</div>

Postman は、これらのエンドポイントのテストに最適なツールです。各 Postman リクエストには、そのエンドポイントで利用できるすべてのパラメータが含まれており、何が使えるかをすばやく把握できます。Postman コレクションの詳細は、[Using Postman](/ja/tutorials/postman-getting-started) ページをご覧ください。
 

<div id="key-concepts">
  ### 重要な概念
</div>

<div id="authentication">
  #### 認証
</div>

すべての X API v2 エンドポイントでは、キーやトークンとも呼ばれる一式のクレデンシャルによる[認証](/ja/resources/fundamentals/authentication)が必要です。本エンドポイントでは[OAuth 2.0 Bearer Token](/ja/resources/fundamentals/authentication#oauth-2-0)の使用が必須であり、リクエストを成功させるには[Bearer Token](/ja/resources/fundamentals/authentication#bearer-token-also-known-as-app-only)を送信する必要があります。Bearer Token は、開発者用アプリ内で直接生成するか、[POST oauth2/token](/ja/resources/fundamentals/authentication#post-oauth2-token) エンドポイントを使用して生成できます。

<div id="developer-portal-projects-and-developer-apps">
  #### Developer portal、プロジェクト、開発者アプリ
</div>

X API v2 の任意のエンドポイントを利用するには、[開発者アカウント](/ja/resources/fundamentals/developer-portal)を取得し、そのアカウント内に[プロジェクト](/ja/resources/fundamentals/projects)を設定し、そのプロジェクト内に[開発者アプリ](/ja/resources/fundamentals/developer-apps)を作成する必要があります。作成した開発者アプリのキーとトークンは、最新の投稿数エンドポイントで使用できます。全アーカイブの投稿数エンドポイントを使用する、または高度なオペレーターやより長いクエリ長を利用したい場合は、エンタープライズアクセスの承認が必要です。

詳細はエンタープライズアクセスのセクションをご覧ください。

<div id="rate-limits">
  #### レート制限
</div>

毎日、数多くの開発者が X API にリクエストを送信しています。リクエスト量を管理するため、各エンドポイントには[レート制限](/ja/x-api/fundamentals/rate-limits)が設けられており、アプリまたは認証済みユーザーの代理として各開発者が行えるリクエスト数が制限されています。

このエンドポイントはアプリレベルでレート制限されています。つまり、使用している認証情報で特定される任意のアプリから、一定期間内にこのエンドポイントへ送信できるリクエスト数には上限があります。 

<div id="building-queries">
  #### クエリの構築
</div>

これらのエンドポイントの主な機能は、単一のクエリで投稿をフィルタリングし、配信される件数集計を生成する点にあります。クエリは、メッセージのキーワード、ハッシュタグ、URL など、投稿やユーザーの属性にマッチするオペレーターで構成されます。オペレーターは、ブールロジックや括弧と組み合わせてクエリ化でき、マッチングの挙動をより細かく調整できます。

[クエリの構築方法](/ja/x-api/posts/counts/integrate/build-a-query)のガイドをご参照ください。

<div id="pagination">
  #### ページネーション
</div>

直近の投稿数では `next_token` は返されません。つまり、粒度に関係なく、1 回の API コールで過去 7 日間の投稿ボリュームを取得できます。

全アーカイブの投稿数では過去 30 日間のデータが返されます。30 日より前のデータについては、追加データを取得するためにページネーションに使用できる `next_token` が返されます。 

<div id="building-queries-for-post-counts">
  ### 投稿数クエリの作成
</div>

Post counts エンドポイントは、GET リクエストで単一のクエリを受け取り、そのクエリに一致する履歴の投稿数を返します。クエリは、さまざまな投稿属性にマッチさせるためのオペレーターで構成されます。 

<div id="table-of-contents">
  #### 目次
</div>

- [クエリの構築](#build)
- [クエリの制限事項](#limits)
- [オペレーターの利用可否](#availability)
- [オペレーターの種類：単独使用／結合必須](#types)
- [ブール演算子とグルーピング](#boolean)
- [演算の優先順位](#order-of-operations)
- [句読点、ダイアクリティカルマーク、大文字小文字の区別](#punctuation)
- [具体性と効率性](#specificity)
- [引用ポストのマッチング動作](#quote-tweets)
- [クエリを反復的に構築する](#iterative)
- [リクエストにクエリを追加する](#adding-a-query)
- [クエリ例](#examples)
- [オペレーター一覧](#list)