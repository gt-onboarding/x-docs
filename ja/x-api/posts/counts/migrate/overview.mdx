---
title: 概要
sidebarTitle: 概要
---

<div id="comparing-x-apis-post-counts-endpoints">
  ## X API の投稿数エンドポイントの比較
</div>

v2 の投稿数エンドポイントは、最終的に [enterprise Search API の counts エンドポイント](/ja/x-api/enterprise-gnip-2.0/fundamentals/search-api#counts-requests-post-count) に置き換わる予定です。既存のコード、アプリ、またはツールで旧バージョンの投稿数エンドポイントを使用しており、X API v2 の新しいエンドポイントへの移行を検討している場合は、本ガイドをご利用ください。

このページには、次の比較表が含まれます。

- [最近の投稿数](#recent)
- [全アーカイブの投稿数](#full-archive)
- [フィルタリング演算子の比較](#operator)

<div id="recent-post-counts-comparison">
  ### 直近の投稿数の比較
</div>

エンタープライズ版の投稿数エンドポイントでは、30日分または全アーカイブからのカウントを取得できます。したがって、7日間を対象とする v2 の直近投稿数エンドポイントは、前述のいずれのエンドポイントの直接的な代替にはなりません。

ただし、比較のために、v2 の直近投稿数エンドポイントがエンタープライズの30日エンドポイントとどのように異なるかを見ていきます。

次の表は、各種の直近投稿数エンドポイントを比較したものです。

| **説明** | **Enterprise** | **X API v2** |
| :--- | :--- | :--- |
| ホストドメイン | https://gnip-api.x.com | https://api.x.com |
| エンドポイントパス | /search/30day/accounts/:account\_name/:label/counts.json | /2/tweets/counts/recent |
| [認証](/ja/resources/fundamentals/authentication) | Basic authentication | OAuth 2.0 Bearer Token |
| タイムスタンプ形式 | YYYYMMDDhhmm | YYYY-MM-DDTHH:mm:ssZ  <br />[ISO 8601 / RFC 3339](https://tools.ietf.org/html/rfc3339#section-5.6) |
| カウント対象となる投稿の最大過去期間 | 31日 | 7日 |
| サポートする HTTP メソッド | GET | GET |
| 既定のリクエストレート制限 | 1秒あたり20リクエスト（検索データとカウントリクエストの合算）  <br />1分あたりのレート制限は、契約に定められたとおりパートナーごとに異なります。 | 15分あたりユーザーごとに180リクエスト  <br />15分あたりアプリごとに450リクエスト |
| [annotations](/ja/x-api/fundamentals/post-annotations) を使ったフィルタリングのサポート |     | ✔   |
| [conversation\_id](/ja/x-api/fundamentals/conversation-id) を使ったフィルタリングのサポート |     | ✔   |
| 投稿データ配列の JSON キー名 | results | data |
| 時間の粒度 | 日、時、分 | 日、時、分 |
| タイムゾーン | UTC | UTC |
| 期間指定のリクエストパラメータ | fromDate  <br />toDate | start\_time  <br />end\_time |
| 投稿 ID によるナビゲーション用リクエストパラメータ |     | since\_id  <br />until\_id |
| [プロジェクト](/ja/resources/fundamentals/projects) に関連付けられた [developer App](/ja/resources/fundamentals/developer-apps) のクレデンシャルの使用が必要 |     | ✔   |

<div id="full-archive-post-counts-comparison">
  ### 全アーカイブ投稿数の比較
</div>

次の表は、各種の全アーカイブ検索エンドポイントの比較です。

| 説明 | Enterprise | X API v2 |
| :--- | :--- | :--- |
| ホストドメイン | https://gnip-api.x.com | https://api.x.com |
| エンドポイントパス | /search/fullarchive/accounts/:account\_name/:label/counts | /2/tweets/counts/all |
| [認証](/ja/resources/fundamentals/authentication) | Basic認証 | OAuth 2.0 ベアラートークン |
| タイムスタンプ形式 | YYYYMMDDHHMM | YYYY-MM-DDTHH:mm:ssZ  <br />[ISO 8601 / RFC 3339](https://tools.ietf.org/html/rfc3339#section-5.6) |
| 返される投稿数の対象範囲（最古） | 2006年3月以降の全アーカイブ | 2006年3月以降の全アーカイブ |
| 対応HTTPメソッド | GET  <br />POST | GET |
| 既定のリクエストレート制限 | 1分あたりのレート制限は、契約で定められたパートナーごとに異なります。  <br />毎秒20リクエスト | アプリごとに15分あたり300リクエスト  <br />アプリごとに毎秒1リクエスト |
| 粒度 | 日、時間、分 | 日、時間、分 |
| [annotations](/ja/x-api/fundamentals/post-annotations) によるフィルタリング |     | ✔   |
| [conversation\_id](/ja/x-api/fundamentals/conversation-id) によるフィルタリング |     | ✔   |
| 投稿データ配列のJSONキー名 | results | data |
| 期間指定のリクエストパラメータ | fromDate  <br />toDate | start\_time  <br />end\_time |
| 投稿IDでのナビゲーション用リクエストパラメータ |     | since\_id  <br />until\_id |
| ページネーションのJSONキー名 | next | meta.next\_token |
| ページネーションのリクエストパラメータ | next\_token | next\_token または pagination\_token |
| タイムゾーン | UTC | UTC |
| [プロジェクト](/ja/resources/fundamentals/projects) に関連付けられた [developer App](/ja/resources/fundamentals/developer-apps) の認証情報を使用し、[Academic Research access](/ja/x-api/getting-started/about-x-api) を有している必要がある |     | ✔   |

<div id="filtering-operator-comparison">
  ### フィルタリング演算子の比較
</div>

Post counts の 2 つのバージョン（Enterprise と v2）は、使用可能な演算子が異なり、各バージョン内でも演算子の提供レベルが異なります。以下で説明します。

Enterprise

- Enterprise 演算子にサブティアはありません。すべての Enterprise ユーザーがすべての Enterprise 演算子を利用できます。

X API v2

- **Core:** これらの演算子はすべての v2 ユーザーが利用できます。
- **Advanced:** これらの演算子は Academic Research アクセスが承認されたユーザーのみ利用できます。

各演算子セットの詳細は、それぞれのガイドをご覧ください。

- [Enterprise operators](/ja/x-api/enterprise-gnip-2.0/fundamentals/search-api#building-search-queries)
- [X API v2 operators](/ja/x-api/posts/search/integrate/build-a-query)

X API v2 におけるこれらの演算子レベルを理解したところで、Post counts の演算子提供状況を示す表を以下に示します（セルが空欄の場合、その演算子は利用できません）。

|     | Enterprise | v2  |
| :--- | :--- | :--- |
| keyword | Available | Core |
| emoji | Available | Core |
| “exact phrase” | Available | Core |
| #   | Available | Core |
| $   | Available | Advanced |
| @   | Available | Core |
| from: | Available | Core |
| to: | Available | Core |
| url: | Available | Core |
| retweets\_of: | Available | Core |
| context: |     | Core |
| entity: |     | Core - Only available with recent search |
| conversation\_id: |     | Core |
| place: | Available | Advanced |
| place\_country: | Available | Advanced |
| point\_radius: | Available | Advanced |
| bounding\_box: | Available | Advanced |
| is:retweet | Available | Core |
| is:reply | Available | Core |
| is:quote | Available | Core |
| is:verified | Available | Core |
| -is:nullcast | Available | Advanced |
| has:hashtags | Available | Core |
| has:cashtags | Available | Advanced |
| has:links | Available | Core |
| has:mentions | Available | Core |
| has:media | Available | Core |
| has:images | Available | Core |
| has:videos | Available | Core |
| has:geo | Available | Advanced |
| lang: | Available | Core |
| list: |     | Advanced |
| has:profile\_geo | Available |     |
| profile\_country | Available |     |
| profile\_locality | Available |     |
| profile\_region | Available |     |
| proximity | Available |     |

**その他の移行リソース**

[X API migration hub](/ja/x-api/migrate/overview)

[これらのエンドポイントのサンプルコードを見る](https://github.com/xdevplatform/Twitter-API-v2-sample-code "これらのエンドポイントのサンプルコードを見る")

[Post counts: Enterprise から X API v2 へ](/ja/x-api/posts/counts/migrate/overview)