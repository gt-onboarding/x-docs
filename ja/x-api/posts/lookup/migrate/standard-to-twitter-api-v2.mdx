---
title: v1 から v2 へ
sidebarTitle: v1 から v2 へ
---

<div id="standard-v11-compared-to-x-api-v2">
  ## Standard v1.1 と X API v2 の比較
</div>

標準の v1.1 の GET statuses/show および GET statuses/lookup を使用してきた方に向けて、このガイドでは、Standard と X API v2 の投稿参照エンドポイント間の共通点と相違点を解説します。

[X API v1.1 のデータ形式](/ja/x-api/fundamentals/data-dictionary)と [X API v2 の形式](/ja/x-api/fundamentals/data-dictionary)の違いを素早く確認できる[ビジュアルデータ形式移行ツール](/ja/x-api/migrate/data-format-migration)もあわせてご活用ください。

- **共通点**
  - OAuth 1.0a ユーザーコンテキスト
  - リクエストあたりの投稿数上限
  - 投稿の編集履歴およびメタデータのサポート

- **相違点**
  - エンドポイント URL
  - アプリおよびプロジェクトの要件
  - レスポンスデータ形式
  - リクエストパラメータ

<div id="similarities">
  ### 類似点
</div>

<div id="oauth-10a-user-context-authentication-method">
  #### OAuth 1.0a ユーザーコンテキスト認証方式
</div>

標準のエンドポイントは [OAuth 1.0a ユーザーコンテキスト](/ja/resources/fundamentals/authentication) をサポートしており、新しい X API v2 の投稿ルックアップエンドポイントは OAuth 1.0a ユーザーコンテキストと [OAuth 2.0 App-Only](/ja/resources/fundamentals/authentication) の両方をサポートします。したがって、以前に標準の v1.1 の投稿ルックアップエンドポイントのいずれかを使用していた場合は、X API v2 版に移行しても同じ認証方式を引き続き利用できます。

App-Only 認証は、導入時の最も簡便な方法である可能性が高いです。アプリアクセストークンの生成方法については、[OAuth 2.0 App-Only ガイド](/ja/resources/fundamentals/authentication)を参照してください。

<div id="posts-per-request-limits">
  #### リクエストあたりの投稿数の上限
</div>

v1.1 の [GET statuses/lookup](https://developer.x.com/en/docs/twitter-api/v1/tweets/post-and-engage/api-reference/get-statuses-lookup) エンドポイントでは、1 リクエストで最大 100 件の投稿を指定できます。これは GET /tweets エンドポイントにも適用されます。100 件をフルに指定するには、クエリパラメータとして `ids` を使用し、[投稿 ID](/ja/resources/fundamentals/x-ids) をカンマ区切りで指定してください。

**投稿の編集履歴とメタデータのサポート**

両バージョンとも、編集履歴を示すメタデータを提供します。詳細は Post lookup API リファレンスおよび[投稿の編集の基本](/ja/x-api/fundamentals/edit-posts)をご参照ください。

<div id="differences">
  ### 違い
</div>

<div id="endpoint-urls">
  #### エンドポイント URL
</div>

- **Standard v1.1 のエンドポイント:**
  - `https://api.x.com/1.1/statuses/show`
  - `https://api.x.com/1.1/statuses/lookup`

- **X API v2 のエンドポイント:**
  - `https://api.x.com/2/tweets`
  - `https://api.x.com/2/tweets/:id`

<div id="app-and-project-requirements">
  #### アプリとプロジェクトの要件
</div>

X API v2 のエンドポイントでは、認証のために [developer App](/ja/resources/fundamentals/developer-apps) と、それに紐づく [Project](/ja/resources/fundamentals/projects) の認証情報が必要です。X API v1.1 のエンドポイントでは、スタンドアロンのアプリ、またはプロジェクトに紐づくアプリの認証情報を使用できます。

<div id="response-data-format">
  #### レスポンスデータ形式
</div>

標準の v1.1 と X API v2 の各エンドポイントの大きな違いは、ペイロード内でのフィールドの選択方法です。

標準エンドポイントでは、多くのレスポンスフィールドがデフォルトで含まれており、パラメータで追加のフィールドを指定できます。

一方、X API v2 ではデフォルトで返されるのは Post の `id` と `text` フィールドのみです。追加のフィールドやオブジェクトを取得するには、[fields](/ja/x-api/fundamentals/fields) および [expansions](/ja/x-api/fundamentals/expansions) パラメータを使用します。展開されたフィールドはレスポンス内の `includes` オブジェクトで返され、ID を突き合わせることで主たる Post オブジェクトと対応付けられます。

fields と expansions の使い方は、[fields と expansions の使用ガイド](/ja/x-api/fundamentals/data-dictionary)を参照してください。[データ形式の移行ガイド](/ja/x-api/fundamentals/fields)では、標準の v1.1 フィールドを新しい v2 フィールドにマッピングしています。

さらに、X API v2 では、Post や [user](/ja/x-api/fundamentals/data-dictionary#user) オブジェクトを含む新しい JSON 設計が導入されています。

- 標準エンドポイントは Post オブジェクトを `statuses` 配列で返しますが、X API v2 では `data` 配列を使用します。
- X API v2 では、Retweeted と Quoted Tweets という用語が「statuses」に代わります。
- `like` といった新しい用語が、`favorites` や `favourites` といった用語に置き換わりました。
- 値のない属性（例：`null`）は、X API v2 のペイロードには含まれません。

X API v2 の Post オブジェクトには、次のような新しいフィールドが含まれます。

- `conversation_id`
- 新しい 2 つの [annotations](/ja/x-api/fundamentals/post-annotations) フィールド（`context` と `entities`）
- 新しい [metrics](/ja/x-api/fundamentals/metrics) フィールド
- 特定の Post に誰が返信できるかを示す `reply_setting` フィールド

<div id="request-parameters">
  #### リクエストパラメータ
</div>

以下の標準 v1.1 リクエストパラメータには、X API v2 に相当するものがあります：

| Standard | X API v2 |
|:----------|:----------|
| `id`     | `ids`    |

一部の標準 v1.1 パラメータは X API v2 ではサポートされていません：

| Standard            | Comment                                                                                                                      |
|:---------------------|:------------------------------------------------------------------------------------------------------------------------------|
| `tweet_mode`        | fields と expansions の機能に置き換えられました。                                                                             |
| `trim_user`         | fields と expansions に置き換えられました。ユーザーデータには `author_id` の expansion と `user.fields` を使用してください。                               |
| `include_my_retweet`| 認証ユーザーがリツイートした投稿について、元の投稿の ID を返します。                                          |
| `include_entities`  | ペイロード内のエンティティは fields と expansions で制御してください。                                                               |
| `include_ext_alt_text` | 代替テキストが存在する場合、メディアエンティティに `ext_alt_text` フィールドを追加します。                                                         |
| `include_card_uri`  | 広告カードが添付されている場合に `card_uri` を追加します。                                                                               |
| `map`               | v1.1 の null 化されたフィールドとは異なり、X API v2 では利用できない投稿に対して投稿 ID とエラーメッセージを返します。            |

<div id="curl-requests">
  ### CURL リクエスト
</div>

以下の cURL リクエストは、標準的な v1.1 のエンドポイントと、それに対応する v2 のエンドポイントを示しています。ヘッダー内の `ACCESS_TOKEN` はアプリのアクセス トークンに置き換えてください。v2 のエンドポイントでは、そのトークンは [Project](/ja/resources/fundamentals/projects/overview) 内の [developer App](/ja/resources/fundamentals/developer-apps/overview) に属している必要があります。

v1.1 と v2 ではレスポンス ペイロードが異なります。v2 では、[fields](/ja/x-api/fundamentals/fields) と [expansions](/ja/x-api/fundamentals/expansions) パラメータを使用して、取得するフィールドを指定できます。

**標準的な v1.1 `GET statuses/lookup` と v2 `GET /tweets` のエンドポイント**

```bash
curl --request GET \
  --url 'https://api.x.com/1.1/statuses/lookup.json?id=1460323737035677698%2C1460323743339741184' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```

```
  curl --request GET \
  --url 'https://api.x.com/2/tweets?ids=1460323737035677698%2C1460323743339741184&tweet.fields=created_at&expansions=author_id&user.fields=created_at' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```

**標準的な v1.1 `GET statuses/show/:id` と v2 `GET /tweets/:id` のエンドポイント**

```
curl --request GET \
  --url 'https://api.x.com/1.1/statuses/show.json?id=1460323737035677698' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```

```
curl --request GET \
  --url 'https://api.x.com/2/tweets/1460323737035677698?tweet.fields=created_at&expansions=author_id&user.fields=created_at' \
  --header 'Authorization: Bearer $ACCESS_TOKEN'
```