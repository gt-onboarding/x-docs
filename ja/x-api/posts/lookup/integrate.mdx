---
title: 連携ガイド
sidebarTitle: 連携ガイド
---

import { Button } from "/snippets/ja/button.mdx"

このページでは、Posts lookup エンドポイントをシステムに統合する際に役立つ、いくつかのツールと主要な概念に関する情報を提供します。ページは次のセクションで構成されています:

- [役立つツール](#helpful)
- 主要な概念
  - [認証](#authentication)
  - [Developer portal、プロジェクトとアプリ](#portal)
  - [レート制限](#limits)
  - [フィールドとエクスパンション](#fields)
  - [投稿の編集](#edits)
  - [エッジケース](#edge)

<div id="helpful-tools">
  ## 便利なツール
</div>

いくつかの重要な概念に入る前に、次のツールに慣れておくことをおすすめします。

**Postman**\
Postman は、利用可能な内容を把握するために、すべてのパスやボディパラメータを含めてエンドポイントを試せる優れたツールです。詳しくは、[Postman スタートガイド](/ja/tutorials/postman-getting-started)をご覧ください。

**コードサンプル**\
お使いのプログラミング言語向けのコードサンプルは、[GitHub ページ](https://github.com/xdevplatform/Twitter-API-v2-sample-code)でご確認ください。

**サードパーティライブラリ**\
v2 エンドポイントに対応したコミュニティ製の[サードパーティライブラリ](/ja/resources/tools-and-libraries)をご活用ください。

<div id="key-concepts">
  ## 重要な概念
</div>

<div id="authentication">
  ### 認証
</div>

すべての X API v2 エンドポイントでは、認証済みリクエストが必要です。次のいずれかで認証できます:

- [OAuth 1.0a ユーザーコンテキスト](/ja/resources/fundamentals/authentication)：API キー、アクセス・トークン、追加パラメータを使用して[認可ヘッダーを作成](/ja/resources/fundamentals/authentication#authorizing-a-request)します。
- [OAuth 2.0 アプリ専用](/ja/resources/fundamentals/authentication#oauth-2-0)：リクエストに[アプリ・アクセス・トークン](/ja/resources/fundamentals/authentication)を付与します。
- [OAuth 2.0 認可コード（PKCE）](/ja/resources/fundamentals/authentication)：アプリのスコープや複数デバイスでの認可をより細かく制御できます。

<Note>
  OAuth 1.0a は実装が難しい場合があります。未経験の場合は、[ライブラリ](/ja/resources/tools-and-libraries)の利用、または OAuth 2.0 の使用を検討してください。非公開メトリクスや投稿を扱う場合は、OAuth 1.0a ユーザーコンテキストまたは OAuth 2.0 認可コード（PKCE）を使用してください。
</Note>

<Tip>
  **ご注意ください**

  > 次のフィールドをリクエストする場合は、OAuth 1.0a ユーザーコンテキストまたは OAuth 2.0 認可コードが必要です:
  >
  > - `tweet.fields.non_public_metrics`
  > - `tweet.fields.promoted_metrics`
  > - `tweet.fields.organic_metrics`
  > - `media.fields.non_public_metrics`
  > - `media.fields.promoted_metrics`
  > - `media.fields.organic_metrics`
</Tip>

<div id="developer-portal-projects-and-apps">
  ### Developer Portal、プロジェクトとアプリ
</div>

X API v2 の認証情報を取得するには、以下が必要です。

1. 承認済みの[開発者アカウント](/ja/resources/fundamentals/developer-portal)。
2. その開発者アカウント内の[プロジェクト](/ja/resources/fundamentals/projects)。
3. そのプロジェクト内の[開発者アプリ](/ja/resources/fundamentals/developer-apps)（キーとトークンをここで確認できます）。

<div id="rate-limits">
  ### レート制限
</div>

X API のリクエストには、トラフィックを管理するための[レート制限](/ja/resources/fundamentals/rate-limits)が適用されます。制限はアプリレベルとユーザーレベルの両方に適用されます：

- **アプリレベル**: 任意のアプリが各期間内に行えるリクエスト数を制限します。
- **ユーザーレベル**: 認証済みユーザーが開発者用アプリをまたいで投稿のルックアップを実行できる頻度を制限します。

<div id="fields-and-expansions">
  ### フィールドとエクスパンション
</div>

X API v2 では、`fields` と `expansions` を使用して特定のデータフィールドを選択できます。

- **Expansions（エクスパンション）**: 関連する追加オブジェクトの取得を有効にします。サポートされるエクスパンションには次が含まれます。
  - `edit_history_tweet_ids`
  - `attachments.poll_ids`
  - `attachments.media_keys`
  - `author_id`
  - `entities.mentions.username`
  - `geo.place_id`
  - `in_reply_to_user_id`
  - `referenced_tweets.id`
  - `referenced_tweets.id.author_id`

- **Fields（フィールド）**: 追加データを返すために、オブジェクト内のデータフィールドを指定します。Post オブジェクトのデフォルトは `id`、`text`、`edit_history_tweet_ids` です。`tweet.created_at` や `tweet.entities` などのその他のオプションは、明示的にリクエストする必要があります。

詳細は、[X API v2 データ辞書](/ja/x-api/fundamentals/data-dictionary)の「フィールドとエクスパンション」ガイドを参照してください。

<div id="post-edits">
  ### 投稿の編集
</div>

対象の投稿は、公開後30分以内であれば最大5回まで編集できます。Posts lookup エンドポイントは常に最新の投稿バージョンを返します。準リアルタイムのユースケースでは、この時間枠に留意してください。詳細は[「投稿の編集」の基礎](/ja/x-api/fundamentals/edit-posts)を参照してください。

<div id="edge-cases">
  ### 例外的なケース
</div>

- **プロモーションメトリクス**: プロモーションされていない投稿に対してプロモーションメトリクスをリクエストすると、空のレスポンスが返されます。
- **テキストの省略**: リポストでは投稿テキストが省略されます。全文を取得するには、参照元の投稿を展開してください。