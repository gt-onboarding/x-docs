---
title: 概要
---

import { Button } from "/snippets/ja/button.mdx"

X API v2 の最新バージョンは大きなアップデートです。そのため、この移行セクションは次のいくつかのパートに分割しています。

| X API v2 の新機能    	| X API v2 に追加された新しいエンドポイントや機能について学べます。                                  	|
|:-----------------------------	|:-------------------------------------------------------------------------------------------------------------------	|
| 移行の準備はできていますか？        	| 一連のガイドと手順で移行を開始しましょう。                                            	|
| データ形式移行ガイド 	| これまで標準 v1.1 やエンタープライズのデータ形式に対応していたデータパーサーの移行方法をご紹介します。 	|
| X API エンドポイントマップ          	| 標準 v1.1 やエンタープライズの各エンドポイントが新しい X API v2 のエンドポイントにどのように対応するかをご確認ください。                                	|

---

<div id="what-is-the-x-api-v2">
  ## X API v2 とは？
</div>

X API v2 は現在、主要な X API であり、製品投資とイノベーションの重点領域です。私たちは開発者と連携し、X API の次世代を構築して、多様な開発者コミュニティにより良く貢献できるようにしました。開発者からのフィードバックに基づき、より幅広いニーズに応えるべく API を再設計し、新しい機能やエンドポイントを導入し、開発者エクスペリエンスを改善しました。

X API v2 は現在、主要な X API であり、製品投資とイノベーションの重点領域です。ここ数年、私たちは開発者と連携し、より幅広いニーズに応えるために API を再設計し、新機能とエンドポイントを導入し、開発者エクスペリエンスを向上させてきました。私たちはオープンな開発者プラットフォームを今後も築き続けることを約束しており、X API v2 を使って皆さんが何を生み出すのかを楽しみにしています。

<div id="why-migrate">
  ## なぜ移行するのか
</div>

X API v2 は、最新かつより持続可能な基盤の上に構築されており、標準の v1.1 とエンタープライズ製品に対する改良版の代替エンドポイントに加えて、新機能も備えています。レガシー API（v1.1 およびエンタープライズ）のご利用者には、最終的にこれらを非推奨とする予定のため、v2 への移行開始を強く推奨します。X API を活用して公開の会話を収集・分析し、X 上の人々と対話し、イノベーションを推進してください。

このセクションでは、エンドポイントと機能について説明します。

<div id="v2-endpoints">
  ## V2 エンドポイント
</div>

以下のガイドで、v2 エンドポイントの全一覧と v2 以前の対応エンドポイントを確認できます。

<Button href="/ja/x-api/migrate/x-api-endpoint-map">
  X API Endpoint Map
</Button>

X API v2 のエンドポイントの多くは既存の置き換えですが、いくつかの新しいエンドポイントも導入しています。以下は v2 で新たに公開したエンドポイントの例です。

- [Spaces エンドポイント](/ja/x-api/spaces/introduction)：X Spaces をより活用できるようにし、開発者が音声会話の未来の形づくりに寄与できるよう支援します。
- [返信を非表示](/ja/x-api/posts/hide-replies/introduction)：虐待的、妨害的、または誤解を招く返信の影響を大規模に抑制するためのツールを構築できます。
- 新しい Lists エンドポイント： [Lists の固定／固定解除](/ja/x-api/lists/pinned-lists/introduction)や、特定ユーザーの固定済み Lists の取得が可能です。
- 新しい[バッチコ ンプライアンスエンドポイント](/ja/x-api/compliance/batch-compliance/introduction)：保存しているユーザーおよび投稿データがコンプライアンスに準拠していることを確保できます。

<div id="new-functionality">
  ## 新機能
</div>

X API v2 には、X API をより有効に活用できる新機能が含まれています。多くの新要素は皆さまからのフィードバックに基づいており、従来はエンタープライズのお客様に限定されていた機能も含まれます。

API の改善点には次のものがあります:

- [エンドポイント間で一貫した設計](/ja/x-api/fundamentals/consistency)
- [レスポンスのペイロードで返すフィールドやオブジェクトを指定する機能](/ja/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions)
- [新規かつより詳細なデータオブジェクト](/ja/x-api/fundamentals/data-dictionary)
- [投稿アノテーションを活用した新たなコンテキスト情報によるデータの受信・フィルタリング](/ja/x-api/fundamentals/post-annotations)
- [新しいメトリクスへのアクセス](/ja/x-api/fundamentals/metrics)
- [返信スレッドに属する会話の容易な特定とフィルタリング](/ja/x-api/fundamentals/conversation-id)
- [学術研究者向けの高度な機能とデータアクセスの拡充](https://developer.x.com/content/developer-twitter/en/products/twitter-api/academic-research)
- [ストリーミングエンドポイントの復旧および冗長化機能](/ja/x-api/posts/filtered-stream/integrate/recovery-and-redundancy-features)
- [クエリに一致する投稿件数を簡単に取得](/ja/x-api/posts/counts/introduction)
- [編集済み投稿（Edit Posts）のサポート](/ja/x-api/fundamentals/edit-posts)
- 高精度なスパムフィルタリング
- 短縮 URL を完全に展開し、より効果的なフィルタリングと分析を実現
- 非推奨フィールドの削除とラベルの最新化による JSON レスポンスオブジェクトの簡素化
- 検索クエリで一致する公開かつ利用可能な投稿を 100% 返却
- 接続を維持したまま変更できるストリーミングの「ルール」
- 検索投稿、投稿件数、フィルタードストリーム向けの、より表現力の高いクエリ言語
- 新しいライブラリの構築や変更の透明性の高い追跡を可能にする OpenAPI 仕様

<div id="discover-new-and-updated-response-objects">
  ### 新規および更新されたレスポンスオブジェクトの紹介
</div>

以下の6つのデータオブジェクトが v2 エンドポイントで利用可能です:

| Object | Description |
|:--------|:-------------|
| [Tweet](/ja/x-api/fundamentals/data-dictionary#tweet) | Tweet オブジェクトには、`id`、`text`、`created_at` などのルートレベルのフィールドが多数あります。Tweet オブジェクトは `user`、`media`、`poll`、`place` など複数の子オブジェクトの親オブジェクトでもあります。 |
| [User](/ja/x-api/fundamentals/data-dictionary#user) | User オブジェクトには、参照されているユーザーを記述する X ユーザーアカウントのメタデータが含まれます。 |
| [Spaces](/ja/x-api/fundamentals/data-dictionary#space) | Space オブジェクトは、`state`、`host_id`、`is_ticketed`、`lang` などのフィールドで構成されます。 |
| [Lists](/ja/x-api/fundamentals/data-dictionary#list) | List オブジェクトには、`description`、`member_count`、`owner_id` など、要求されたリストに関する基本情報が含まれます。 |
| [Media](/ja/x-api/fundamentals/data-dictionary#media) | Tweet にメディア（画像など）が含まれている場合、`media.fields` パラメータを使用して Media オブジェクトをリクエストでき、`media_key`、`type`、`url`、`preview_image_url` などのフィールドを取得できます。 |
| [Poll](/ja/x-api/fundamentals/data-dictionary#poll) | Tweet に含まれる投票は、いずれのエンドポイントでも一次オブジェクトではありませんが、Tweet オブジェクト内で参照・展開できます。 |
| [Place](/ja/x-api/fundamentals/data-dictionary#place) | Place オブジェクトは、`place_id`、`geo` オブジェクト、`country_code` などのフィールドで構成されます。この情報は、Tweet の特定や所在地別の分析に利用できます。 |

[フィールドとエクスパンションの使い方](/ja/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions)の詳細をご覧ください。

<div id="flexibility-to-choose-which-objects-and-fields-you-receive">
  ### 受け取るオブジェクトとフィールドを選べる柔軟性
</div>

GET エンドポイントにリクエストすると、そのエンドポイントに対応する主要なデータオブジェクトが返され、既定のフィールドが含まれます。たとえば、Tweet オブジェクトは既定で `id` と `text` フィールドを返します。

追加のフィールドを取得するには、[fields](/ja/x-api/fundamentals/fields) と [expansions](/ja/x-api/fundamentals/expansions) パラメータを使用します。expansions パラメータは、ユーザーの固定ツイートやメディアオブジェクトなどの関連データオブジェクトを取得できるようにし、fields 演算子は、既定以外の返却オブジェクト内から特定のフィールドを指定して要求できるようにします。

以下は、各種 X API v2 エンドポイントでリクエスト可能な expansions の一覧です。

| Object / Resource | Available Expansions |
|:-------------------|:----------------------|
| Tweets            | `author_id`, `edit_history_tweet_ids`, `entities.mentions.username`, `in_reply_to_user_id`, `referenced_tweets.id`, `referenced_tweets.id.author_id`, `attachments.poll_ids`, `attachments.media_keys`, `geo.place_id` |
| Users             | `pinned_tweet_id` |
| Spaces            | `invited_user_ids`, `speaker_ids`, `creator_id`, `host_ids`, `topic_ids` |

[fields と expansions の使い方](/ja/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions)の詳細をご覧ください。

<div id="new-metrics-available-within-tweets-users-spaces-and-media-objects">
  ## ツイート、ユーザー、スペース、メディアオブジェクトで利用可能な新しいメトリクス
</div>

ツイート、ユーザー、Spaces、リスト、メディアの各オブジェクトで参照できるメトリクスが拡充されました。これらのメトリクスには公開と非公開があり、一部はツイート広告におけるオーガニックとプロモーションのコンテキストで内訳表示が可能です。

利用可能な[メトリクス](/ja/x-api/fundamentals/metrics)の詳細をご確認ください。

| オブジェクト  | 利用可能なメトリクス      | 公開メトリクス | 非公開メトリクス | オーガニックメトリクス | プロモーションメトリクス |
|:---------|:-------------------------|:----------------|:-----------------|:-----------------|:------------------|
| tweets  | retweet\_count           | ✔️             |                 | ✔️              | ✔️               |
|         | quote\_count             | ✔️             |                 |                 |                  |
|         | like\_count              | ✔️             |                 | ✔️              | ✔️               |
|         | reply\_count             | ✔️             |                 | ✔️              | ✔️               |
|         | impression\_count        |               | ✔️              | ✔️              | ✔️               |
|         | url\_profile\_clicks      |               | ✔️              | ✔️              | ✔️               |
|         | url\_link\_clicks         |               | ✔️              | ✔️              | ✔️               |
| user    | follower\_count          | ✔️             |                 |                 |                  |
| user    | following\_count         | ✔️             |                 |                 |                  |
| media   | view\_count              |               | ✔️              |                 |                  |
| media   | playback\_0\_count        |               | ✔️              |                 |                  |
| space   | participant\_count       | ✔️             |                 |                 |                  |

<div id="edit-tweets">
  ## 投稿の編集
</div>

X API v2 のエンドポイントは、編集済み投稿のメタデータを提供します。_投稿の編集_ 機能は 2022 年 9 月 1 日に X 従業員を対象としたテストとして初めて導入されました。この日以降、対象の投稿は 30 分間、最大 5 回まで編集可能です。詳しくは [投稿の編集](/ja/x-api/fundamentals/edit-posts) を参照してください。
X API v2 を使用すると、開発者は次のことを把握できます。

- 作成時点で投稿が編集対象だったかどうか。投票を含む投稿や予約投稿など、一部の投稿は編集できません。
- 投稿は 30 分間編集可能で、最大 5 回まで編集できます。編集可能な投稿については、編集可能な残り時間と、あと何回編集できるかを確認できます。
- 編集済みの投稿バージョンを表示しているかどうか（多くの場合、API は投稿の最新バージョンを返します。特定の過去バージョンが投稿 ID で要求されている場合を除きます）。
- 投稿の編集履歴全体。
- 各バージョンの投稿に帰属するエンゲージメント。

<div id="track-threaded-conversations">
  ## スレッド化された会話を追跡する
</div>

新しい Tweet フィールドによって、ある Tweet が属する会話スレッドを特定できます。conversation ID は、その会話を開始した Tweet の Tweet ID です。詳しくは[会話の追跡](/ja/x-api/fundamentals/conversation-id)をご覧ください。

<div id="ready-to-migrate">
  ## 移行の準備ができたら
</div>

v2 のエンドポイントを利用するには、以下が必要です。

- [開発者アカウント](https://developer.x.com/en/portal/petition/essential/basic-info)
- [プロジェクト](ja/resources/fundamentals/projects)内で作成された[開発者アプリ](https://developer.x.com/en/apps)
- そのプロジェクトの開発者アプリで発行された[キーとトークン](ja/resources/fundamentals/authentication)

必ずプロジェクト内のアプリで発行されたキーとトークンを使用してください。プロジェクト外のアプリのキーとトークンでは、v2 エンドポイントにリクエストできません。

開発者アカウントを取得したら、上記はすべて[開発者ポータル](https://developer.x.com/en/portal/petition/essential/basic-info)で設定できます。

<div id="authentication">
  ### 認証
</div>

新しい Twitter API では、異なるエンドポイントにアクセスするために、OAuth 1.0a User Context と OAuth 2.0 Bearer Token の2種類の認証パターンを使用します。各パターンは、エンドポイントへのリクエストにおいて異なる目的を持ちます。

Twitter ユーザーの代理としてリクエストを行う場合は、OAuth 1.0a User Context が必要です
開発者のアプリの代理としてリクエストを行う場合は、OAuth 2.0 Bearer Token が必要です

<div id="tools-and-code">
  ## ツールとコード
</div>

新しいエンドポイントや機能に素早く慣れて使い始められるよう、作業の立ち上げを支援するいくつかの選択肢を用意しています。

- Postman クライアントで各エンドポイントにリクエストして接続できる Twitter の[Postman コレクション](https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400)があります。認証の検証やエンドポイントの試行を手軽に行う方法です。
- また、Ruby、Python、Node、Java などに対応した、Twitter がサポートするものおよびサードパーティ製ライブラリの一覧も提供しています。詳しくは[ツールとライブラリ](/ja/x-api/tools-and-libraries/overview)のページをご覧ください。

<div id="migrating-to-updated-endpoints">
  ## 更新エンドポイントへの移行
</div>

新しい Twitter v2 エンドポイントの利用を開始するにあたり、各更新エンドポイントの機能を旧バージョンと比較できる詳細な移行ガイドをご用意しています。

- **ツイート**
  - [ツイートの参照](/ja/x-api/posts/lookup/integrate)
  - [ツイートの管理](/ja/x-api/posts/manage-tweets/migrate/overview)
  - [タイムライン](/ja/x-api/posts/timelines/migrate/overview)
  - [ツイートの検索](/ja/x-api/posts/search/migrate/overview)
  - [ツイート数](/ja/x-api/posts/counts/migrate/overview)
  - [フィルタードストリーム](/ja/x-api/posts/filtered-stream/migrate/overview)
  - サンプルストリーム
  - [リツイート](/ja/x-api/posts/retweets/migrate/overview)
  - [いいね](/ja/x-api/posts/likes/migrate/likes-lookup-standard-to-twitter-api-v2)
  - [返信の非表示](/ja/x-api/posts/hide-replies/migrate)
- **ユーザー**
  - [ユーザーの参照](/ja/x-api/users/lookup/migrate/overview)
  - [フォロー](/ja/x-api/users/follows/migrate/standard-to-twitter-api-v2)
  - [ブロック](/ja/x-api/users/blocks/migrate)
  - [ミュート](/ja/x-api/users/mutes/migrate/manage-mutes-standard-to-twitter-api-v2)
- **リスト**
  - [リストの参照](/ja/x-api/lists/list-lookup/migrate/overview)
  - [リストの管理](/ja/x-api/lists/manage-lists/migrate/overview)
  - [リストのツイート参照](/ja/x-api/lists/list-tweets/migrate/overview)
  - [リストメンバー](/ja/x-api/lists/list-members/migrate/overview)

<div id="migrating-to-the-new-data-format">
  ## 新しいデータ形式への移行
</div>

v1.1 または Enterprise から v2 へ移行する際は、データの提供形式が大きく変わっている点を理解することが重要です。新規フィールドの追加、フィールド順序の変更に加え、場合によっては要素の削除も行われています。

これらの変更の詳細について把握いただけるよう、pre-v2 のデータ形式の各フィールドを新しいフィールドに対応付け、さらに新しいフィールドの要求方法を説明する一連のガイドを作成しています。

この移行ハブの[data formats migration](/ja/x-api/migrate/data-format-migration)セクション、または以下の各データ形式ガイドをご覧ください。

- [Native format から X API v2（Standard v1.1）](/ja/x-api/migrate/data-format-migration#migrating-from-standard-v1-1s-data-format-to-v2)
- [Native Enriched から X API v2（Enterprise）](/ja/x-api/migrate/data-format-migration#migrating-from-native-enriched-data-format-to-v2)
- [Activity Streams から X API v2（Enterprise）](/ja/x-api/migrate/data-format-migration#migrating-from-activity-streams-data-format-to-v2)

<div id="whats-next">
  ## 次は？
</div>

このプラットフォームを使い続けてこられた方なら、多くの新しいエンドポイントが既存の[standard v1.1](https://developer.x.com/en/docs/twitter-api/v1)や[enterprise](/ja/x-api/enterprise-gnip-2.0/enterprise-gnip)のエンドポイントに整合していることにお気づきかと思います。実際、将来的にはこれらが3つのバージョンすべてを置き換える予定です。

[X API エンドポイントのマッピング](/ja/x-api/migrate/x-api-endpoint-map)が過去のバージョンとどのように対応しているかをご理解いただくため、対応表をご用意しました。

今後の予定については、[プロダクトロードマップ](https://trello.com/b/myf7rKwV/twitter-developer-platform-roadmap)をご覧ください。

また、これまでにリリースした内容は[変更履歴](https://developer.x.com/en/updates/changelog)でご確認いただけます。

<div id="what-should-we-build-next">
  ### 次に何を開発すべきでしょうか？
</div>

X API v2 の機能拡充を進めるにあたり、引き続き皆さまの声をお聞きしたいと考えています。ぜひ[フィードバック](https://twitterdevfeedback.uservoice.com/)をお寄せください。

すでに投稿されているアイデアをご覧いただき、ニーズに合うものへ支持を示すとともに、ぜひご意見もお寄せください。