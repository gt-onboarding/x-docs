---
title: "ルールとフィルタリング：エンタープライズ"
---

<div id="getting-started-with-enterprise-rules-and-queries">
  ## エンタープライズ向けルールとクエリの概要
</div>

エンタープライズオペレーターを利用するプロダクトは、設定したフィルタリングルールに基づいてソーシャルデータを提供します。ルールは1つ以上の「句」から成り、句とはキーワード、完全一致のフレーズ、または各種エンタープライズオペレーターのいずれかです。エンタープライズオペレーターでルールを作成する前に、以下の構文を確認し、利用可能なオペレーター一覧に目を通し、ルール作成における制約を理解してください。また、「[演算の順序](#orderofoperations)」セクションで、ルールが論理的にどのように評価されるかの細かな挙動も把握しておくとよいでしょう。

複数の句は、"and" と "or" の両方のロジックで組み合わせられます。

注意: "And" ロジックは句と句の間のスペースで指定し、or ロジックは大文字の `OR` で指定します。

各ルールは最大2,048文字までで、ポジティブな句（マッチまたはフィルタしたい対象）とネガティブな句（除外してマッチさせたくない対象）の数に制限はありません。
 

<div id="building-rules-and-queries">
  ### ルールとクエリの作成
</div>

**キーワード一致**

キーワード一致は検索インターフェースのクエリに似ています。たとえば、次のエンタープライズ向けオペレーターのルールは、本文に「social」という語を含むアクティビティに一致します。

`social`

**空白による AND 結合**

キーワードを追加すると、その分だけ一致条件が増えます。たとえば、このルールはテキストに「social」と「media」の両方が含まれるアクティビティにのみ一致し、順序は問いません（語と語の間のスペースはブール AND として機能します）。ルールに明示的な AND を含めると、rules エンドポイントで拒否されます。

`social media`

**大文字の OR による OR 結合**

多くの状況ではブール OR が必要になりますが、これも簡単に指定できます。なお、OR 演算子は大文字でなければならず、小文字の「or」は通常のキーワードとして扱われます。

`social OR data`

**用語の否定**

特定のキーワードを含む結果を除外したい場合（ブール NOT）があります。たとえば、「happy」を含み、本文に「birthday」を含むものは除外する、といったケースです。

`social -personality`

**丸括弧によるグループ化**

これらのロジックは丸括弧でグループ化して組み合わせることができ、より複雑なクエリへ拡張できます。

`(social OR data) (academic OR research) -personality -information -university`

これはほんの始まりに過ぎません。上記の例はキーワードのトークン化に基づく一致のみを利用していますが、エンタープライズ製品ではテキストに対して異なる種類のマッチングを行うための演算子も提供しています。

**完全一致**

`"social media research"`

**部分文字列一致**

`contains:info`

**近接一致**

`"social media research"~3`

さらに、テキスト以外にも、ソーシャルデータ特有の側面でフィルタリングできる演算子があります。

**投稿しているユーザー**

`from:XDeveloeprs`

**米国コロラド州ボルダーの Pearl St. から半径 10 マイルの位置情報付きツイート**

`point_radius:[-105.27346517 40.01924738 10.0mi]`

**すべてを組み合わせる**

これらは、前述と同じ種類のロジックでテキストフィルターと組み合わせられます。

`(social OR data) (academic OR research OR "social media research") point_radius:[-105.27346517 40.01924738 10.0mi] lang:en -personality -information -university`

<div id="boolean-syntax">
  ### ブール構文
</div>

前節の例では、さまざまな種類のブールロジックとグルーピングを使用しました。各項目の構文と要件の詳細は、以下の表を参照してください。

|     |     |     |
| :--- | :--- | :--- |
| **ロジックの種類** | **演算子の構文** | 説明 |
| AND | social data | 2つの演算子の間に空白を入れると、それらの間に AND ロジックが適用されます。  <br />  <br />両方のキーワード（"social"、"data"）を含むアクティビティに一致します。  <br />  <br />**ルール内で AND を明示的に使用しないでください。空白のみを使用してください。明示的な AND は通常のキーワードとして扱われます。** |
| OR  | social OR data | 2つの演算子を OR で結合するには、両側を空白で囲んだ大文字の OR を挿入します。  <br />  <br />いずれかのキーワード（"social" または "data"）を含むアクティビティに一致します。  <br />  <br />1つのルールで OR と AND の機能を組み合わせる場合は、「[Order of operations](#OrderOfOperations)」セクションで説明する演算の優先順位を理解し、期待どおりに動作させるために、以下の説明どおり括弧で否定していない演算子をグループ化することを検討してください。  <br />  <br />ルールでは大文字の "OR" を使用する必要があります。小文字の "or" は通常のキーワードとして扱われます。 |
| NOT | social data  <br />-apple -android -phone | 演算子または演算子のグループの直前に `-` 文字を挿入します。  <br />  <br />示された例のルールは、キーワード "social" を含むアクティビティに一致しますが、キーワード "data" を含むものは除外します。  <br />  <br />「否定の OR」は、ルールが「否定以外のすべてを firehose から取得する」ことになる場合は許可されません。たとえば、`apple OR -ipad` は "ipad" に言及しないすべてのアクティビティに一致してしまうため無効です。 |
| グルーピング | (social OR data) -XDevelopers -api | 複数の演算子を括弧で囲むと、機能的な「グループ」を作成します。<br /><br />グループは、空白（AND）または OR により、単一の節と同様に他の節へ接続できます。ただし、ベストプラクティスとして、否定記号 - をグループ全体に適用して否定をまとめることは避けてください。代わりに、各演算子を個別に否定し、空白（AND）で連結してください。<br /><br />たとえば、-(iphone OR imac OR macbook) を使う代わりに、次のようにします: -iphone -imac -macbook  <br />  <br />グルーピングは、ルールの評価に用いられる演算の優先順位のため、1つのルールで AND と OR の機能を組み合わせる場合に特に重要です。詳細は以下を参照してください。 |

**注意:** 演算子は肯定または否定のいずれかです。

**肯定演算子** は、結果に**含めたい**ものを定義します。例えば、`has:hashtags` 演算子は「ハッシュタグを含むアクティビティが必要」という意味です。

**否定演算子** は、結果から**除外したい**ものを定義し、上記のブール NOT ロジックで作成します。例えば、`-has:hashtags` は「ハッシュタグを含むアクティビティは、ルールの他の条件に一致しても除外する」という意味です。

Premium 演算子製品では、最大長 2,048 文字の制限内で、肯定および否定の節の数に制限はありません。
 

<div id="order-of-operations">
  #### 演算の順序
</div>

単一のルール内で AND と OR を組み合わせる場合、評価は次の順序で行われます。

1. AND ロジックで接続された演算子が先に結合される
2. 次に OR ロジックで接続された演算子が適用される

**例:**

- `apple OR iphone ipad` は `apple OR (iphone ipad)` と評価されます
- `ipad iphone OR android` は `(iphone ipad) OR android` と評価されます

曖昧さを避け、意図どおりに評価されるよう、適切な箇所では括弧で用語をグループ化してください。例えば:

- `(apple OR iphone) ipad`
- `iphone (ipad OR android)`

<div id="punctuation-diacritics-and-case-sensitivity">
  #### 句読点、ダイアクリティカルマーク、大小文字の区別
</div>

エンタープライズ向けオペレーターで、アクセントやダイアクリティカルマークを含むキーワードまたはハッシュタグのルールを指定した場合、投稿テキスト内の該当箇所（ハッシュタグやキーワード）について、そのダイアクリティカルマークを考慮して照合します。たとえば、キーワード `Diacr**í**tica` またはハッシュタグ `#cumplea**ñ**os` のルールは「Diacr**í**tica」や「#cumplea**ñ**os」にはマッチしますが、チルダ付きの **í** やエニェ（**ñ**）がない「Diacritica」や「#cumpleanos」にはマッチしません。

アクセントやダイアクリティカルマークを持つ文字は通常の文字と同様に扱われ、単語境界とは見なされません。たとえば、cumplea**ñ**os のルールは、単語 cumpleaños を含むアクティビティにのみマッチし、cumplea、cumplean、または os を含むアクティビティにはマッチしません。

すべてのオペレーターは大文字小文字を区別せずに評価されます。たとえば、ルール `Cat` は次のすべてにマッチします: "cat", "CAT", "Cat".

<div id="powertrack-rule-tags">
  #### PowerTrack ルールタグ
</div>

「[Matching rules](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments#matching-rules)」ページで説明しているとおり、各ルールにはタグを付けて作成できます。これらのタグはフィルタリングには影響しませんが、アプリ内でルールを論理的にグループ化するために使用できます。各ルールに付与できるタグは1つのみで、最大255文字です。タグは API を介して作成する際に、JSON 形式のルールに含めて指定します（詳細は「Matching rules」ページを参照）。

<div id="putting-rules-in-json-format">
  #### ルールを JSON 形式にする
</div>

API 経由でストリームに対してルールを追加または削除するには、ルールは JSON 形式である必要があります。基本的には、各ルールを次の構造に収めます。

`{"value":"insert_rule_here"}`

**二重引用符を含むルール**

ルールに完全一致やその他のオペレーターで用いる二重引用符（`"`）が含まれる場合、JSON 構造内の引用符と区別できるようにバックスラッシュでエスケープする必要があります。

`"social data" @XDevelopers`

JSON 形式では次のようになります。

`{"value":"\"social data\" @XDevelopers"}`

**二重引用符の文字列リテラルを含むルール**

完全一致内で二重引用符そのものを文字列として含める場合は、二重にエスケープする必要があります。たとえば、正確なフレーズ "Toys “R” Us" に一致させ、"R" の両側の二重引用符も含める場合、プレーンテキストでの表現は次のとおりです。

`"Toys \"R\" Us"`

これを JSON 形式に変換する際は、次の構造を使用します。

`{"value":"\"Toys \\\"R\\\" Us\""}`

**タグを含むルール**

上記のとおり、ルールに任意のタグを付けるには、ルールの値に `tag` フィールドを追加します。

`{"value":"\"social data\" @XDevelopers","tag":"RULE-TAG-01"}`

**API リクエストのフォーマット**

API 経由でストリームからルールを追加または削除する場合、複数の JSON 形式のルールはカンマで区切り、以下のように JSON の "rules" 配列でラップします。

`{"rules":[{"value":"from:XDevelopers"},{"value":"\"social data\" @XDevelopers","tag":"RULE-TAG-01"}]}`

<div id="operators-that-match-quote-tweets">
  #### 引用投稿に一致するオペレーター
</div>

[PowerTrack API](/ja/x-api/enterprise-gnip-2.0/powertrack-api) および Historical PowerTrack API を使用する場合、以下のオペレーターは、引用された元の投稿と新しい引用投稿の双方の内容に一致します。

ただし、[Search API](/ja/x-api/enterprise-gnip-2.0/fundamentals/search-api) を使用している場合、これらのオペレーターは引用投稿の内容にのみ一致し、引用された元の投稿の内容には一致しません。

- `Keywords`
- `Phrases`
- `Proximity`
- `#hashtags`
- `@mentions`
- `$cashtags`
- `url:`
- `url_contains:`
- `has:links`
- `has:mentions`
- `has:hashtags`
- `has:media`
- `has:symbols`
- `is:quote`
- `is:reply`

<div id="enterprise-operators">
  ## エンタープライズ向けオペレーター
</div>

以下は、PowerTrack と Historical PowerTrack で利用可能なオペレーターです。これらの一部は、30-Day および 全アーカイブ検索 API でも利用できます。製品ごとの利用可能なオペレーター一覧は[この表](/ja/x-api/enterprise-gnip-2.0/fundamentals/rules-filtering#operators-by-product)を参照してください。 

| Operator                  | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|:---------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| keyword                   | 投稿の本文またはURL内のキーワードに一致します。キーワードは数字（0-9）または句読点以外の任意の文字で始まる必要があります。<br />キーワードの一致はトークン化され、投稿本文のトークン化されたテキストに対して照合されます。<br />句読点を含む文字列（例：「coca-cola」）は、引用符で囲んだ「完全一致」を使用してください。<br />例: `(social OR pizza OR wildfire) -planet`                                                                                                                                                       |
| emoji                     | 投稿本文内の絵文字に一致します。句読点、記号／絵文字、区切り文字に基づくトークン化マッチングを使用します。<br />絵文字にバリアントがある場合は、完全一致のために引用符を使用してください。<br />例: `(🍕 OR 💜 OR 🐢) -🤖`                                                                                                                                                                                                                                                                                                                                                               |
| "exact phrase match"      | 投稿本文内のフレーズに完全一致します。句読点は空白として扱われます。<br />例: `("social media" OR "developer.x.com" OR "wildfire911" OR "coca-cola") -"planet earth"`                                                                                                                                                                                                                                                                                                                                                                                                 |
| #                         | 指定したハッシュタグを含む投稿に一致します。これは完全一致であり、`#2016` は `#2016` を含む投稿には一致しますが、`#2016election` には一致しません。<br />例: `(#social OR #pizza OR #2016election) -#planet`                                                                                                                                                                                                                                                                                                                                                                                           |
| @                         | 指定したユーザー名に言及した投稿に一致します。<br />例: `(@XDevelopers OR @api OR @twittereng) -@jack`                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| "keyword1 keyword2"~N     | キーワード同士がNトークン以内にある投稿に一致する近接演算子です。<br />逆順のキーワードはN-2トークン以上離れることはできません。Nは6を超えられません。<br />例: `"social media"~5 OR "API"~3`                                                                                                                                                                                                                                                                                                                                                               |
| contains:                 | 本文内に指定した部分文字列を含む投稿を、トークン化に関係なく部分一致で検索します。<br />空白や句読点を含む部分文字列には二重引用符を使用してください。<br />例: `(contains:social OR contains:"wikipedia.com") -contains:"buy now"`                                                                                                                                                                                                                                                                                                                                         |
| from:                     | 特定のユーザーからの投稿に一致します（Xの数値アカウントIDまたはユーザー名（`@`を除く）で指定）。<br />例: `(from:2244994945 OR from:api OR from:twittereng) -from:jack`                                                                                                                                                                                                                                                                                                                                                                                                                           |
| to:                       | 特定のユーザーへの返信に一致します（Xの数値アカウントIDまたはユーザー名（`@`を除く）で指定）。<br />例: `(to:2244994945 OR to:api OR to:twittereng) -to:jack`                                                                                                                                                                                                                                                                                                                                                                                                                            |
| url:                      | 展開された投稿のURLに対してトークン化（キーワード／フレーズ）で一致します。<br />例: `@XDevelopers url:"developer.x.com"`                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| url\_title:                | 展開されたURLのHTMLタイトルメタデータに対してキーワード／フレーズ一致を行います。<br />PowerTrackおよびHistorical PowerTrackでのみ利用可能です。                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| url\_description:          | 展開されたページの説明メタデータに対してキーワード／フレーズ一致を行います。<br />PowerTrackおよびHistorical PowerTrackでのみ利用可能です。                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| url\_contains:             | 指定したフレーズまたはキーワードを含むURLを持つ投稿に一致します。<br />句読点を含む検索語は引用符で囲んでください。<br />例: `(url_contains:"developer.x.com" OR url_contains:wildfire) -url_contains:reddit`                                                                                                                                                                                                                                                                                                                                                                         |
| bio:                      | 投稿のユーザープロフィール文（description）内のキーワードまたはフレーズに一致します。これは[User object](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-user-object)のdescriptionフィールドにおけるトークン化一致です。<br />例: `(bio:engineer OR bio:"wordpress.com" OR bio:🚀) -bio:troll`<br />注: PowerTrackおよびHistorical PowerTrackでのみ利用可能です。                                                                                                                            |
| bio\_name:                 | 投稿のユーザープロフィール名（name）内のキーワードに一致します。これは[User object](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-user-object)のnameフィールドにおけるトークン化一致です。<br />注: PowerTrackおよびHistorical PowerTrackでのみ利用可能です。                                                                                                                                                                                                                                                       |
| bio\_location:             | 指定したキーワードまたはフレーズがユーザーオブジェクトの所在地に含まれる投稿に一致します。<br />このオペレーターは、メッセージ本文の通常のキーワードルールと同様に、トークン化によるマッチを行います。<br />この所在地は[ユーザーオブジェクト](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-user-object)の一部で、アカウントの「ホーム」所在地を指します。<br />※注: PowerTrack および Historical PowerTrack でのみ利用可能です。                                |
| statuses\_count:           | 著者が指定範囲内の件数のステータスを投稿している場合、その投稿に一致します。<br />単一の数値を指定した場合は、その値以上の任意の数に一致します。<br />範囲を指定すると、その範囲内の任意の数に一致します（例: `statuses_count:1000..10000`）。<br />例: `to:api statuses_count:10`<br />※注: PowerTrack および Historical PowerTrack でのみ利用可能です。                                                                                                                           |
| followers\_count:          | 著者のフォロワー数が指定範囲内の場合、その投稿に一致します。<br />単一の数値を指定した場合は、その値以上の任意の数に一致します。<br />範囲を指定すると、その範囲内の任意の数に一致します（例: `followers_count:1000..10000`）。<br />※注: PowerTrack および Historical PowerTrack でのみ利用可能です。                                                                                                                                                                          |
| friends\_count:            | 著者のフォロー数（フォローしているユーザー数）が指定範囲内の場合、その投稿に一致します。<br />単一の数値を指定した場合は、その値以上の任意の数に一致します。<br />範囲を指定すると、その範囲内の任意の数に一致します（例: `friends_count:1000..10000`）。<br />※注: PowerTrack および Historical PowerTrack でのみ利用可能です。                                                                                                                                              |
| listed\_count:             | 著者が X のリストに、指定範囲内の回数だけ追加されている場合、その投稿に一致します。<br />単一の数値を指定した場合は、その値以上の任意の数に一致します。<br />範囲を指定すると、その範囲内の任意の数に一致します（例: `listed_count:10..100`）。<br />※注: PowerTrack および Historical PowerTrack でのみ利用可能です。                                                                                                                                                    |
| $                         | 指定した「キャッシュタグ」エンティティを含む投稿に一致します。<br />例: `($TWTR OR $TSLA OR $BRK.A) -$F`<br />※注: キャッシュタグ演算子は、本文からの抽出ではなく、X の「symbols」エンティティ抽出に基づいてキャッシュタグに一致させます。                                                                                                                                                                                                                                                          |
| retweets\_of:              | 指定したユーザーのリツイートである投稿に一致します。<br />ユーザー名と数値の X アカウント ID の両方を受け付けます（投稿のステータス ID ではありません）。<br />例: `(retweets_of:2244994945 OR retweets_of:api OR retweets_of:twittereng) -retweets_of:jack`                                                                                                                                                                                                                                                                                                               |
| retweets\_of\_status\_id:    | 指定した投稿の明示的なリツイートのみを配信します。元の投稿の ID を使用し、リツイートの ID は使用しないでください。<br />例: `retweets_of_status_id:1293593516040269825`<br />※注: PowerTrack および Historical PowerTrack でのみ利用可能です。                                                                                                                                                                                                                                                                                                               |
| in\_reply\_to\_status\_id:    | 指定した投稿への明示的な返信のみを配信します。<br />例: `in_reply_to_status_id:1293593516040269825`<br />※注: PowerTrack および Historical PowerTrack でのみ利用可能です。                                                                                                                                                                                                                                                                                                                             |
| sample:                   | ルールに一致する投稿のランダムサンプルを返します。サンプルの割合は 1～100 の整数である必要があります。<br />この演算子はスコープを X% に絞り、そのサンプルサブセットに対してルール／フィルターを適用します。<br />例: `#happybirthday sample:5`<br />`"happy birthday"~5 sample:80`<br />※注: PowerTrack および Historical PowerTrack でのみ利用可能です。                                                                                                                            |
| source:                   | 指定したソースアプリケーションによって生成された投稿に一致します。値にはアプリケーション名またはアプリケーションの URL を指定できます。<br />例: `#happybirthday source:"X for iPhone"`<br />`"This is a test X from my TestingApp" source:MyTestAppName`<br />※注: source 演算子は投稿の source 属性を検索対象とし、単独では使用できません。                                                                                                                 |
| lang:                     | X により特定の言語と分類された投稿に一致します。投稿は現在 1 つの言語にのみ分類されるため、複数の言語を指定しても結果は返りません。単独での使用は推奨しません。                                                                                                                                                                                                                                                                                                                                                     |

以下の一覧は、現在サポートされている言語と、それに対応する BCP 47 言語識別子を示します。

|     |     |     |     |
| :--- | :--- | :--- | :--- |
| Amharic: am | German: de | Malayalam: ml | Slovak: sk |
| Arabic: ar | Greek: el | Maldivian: dv | Slovenian: sl |
| Armenian: hy | Gujarati: gu | Marathi: mr | Sorani Kurdish: ckb |
| Basque: eu | Haitian Creole: ht | Nepali: ne | Spanish: es |
| Bengali: bn | Hebrew: iw | Norwegian: no | Swedish: sv |
| Bosnian: bs | Hindi: hi | Oriya: or | Tagalog: tl |
| Bulgarian: bg | Latinized Hindi: hi-Latn | Panjabi: pa | Tamil: ta |
| Burmese: my | Hungarian: hu | Pashto: ps | Telugu: te |
| Croatian: hr | Icelandic: is | Persian: fa | Thai: th |
| Catalan: ca | Indonesian: in | Polish: pl | Tibetan: bo |
| Czech: cs | Italian: it | Portuguese: pt | Traditional Chinese: zh-TW |
| Danish: da | Japanese: ja | Romanian: ro | Turkish: tr |
| Dutch: nl | Kannada: kn | Russian: ru | Ukrainian: uk |
| English: en | Khmer: km | Serbian: sr | Urdu: ur |
| Estonian: et | Korean: ko | Simplified Chinese: zh-CN | Uyghur: ug |
| Finnish: fi | Lao: lo | Sindhi: sd | Vietnamese: vi |
| French: fr | Latvian: lv | Sinhala: si | Welsh: cy |
| Georgian: ka | Lithuanian: lt |     |

例:

(@XDevelopers OR to:XDevelopers) lang:es

注意: 言語オペレーターは、X が判定して Post の lang 属性に設定する特定の投稿言語に一致します。X Entities の JSON 属性の詳細は[こちら](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary)をご覧ください。投稿の言語を分類できない場合、Post の lang は「und」（未定義）に設定されます。

| 演算子                 | 説明                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|:--------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| place                    | 指定した場所名または X のプレイス ID がタグ付けされた投稿に一致します。<br />複数語の場所名は引用符で囲んでください。<br />例: `(place:London OR place:"Great Britain") -place:USA`<br />`place:fd70c22040963ac7`<br />注: X のプレイス ID の取得方法は、公開 API エンドポイント [GET geo/search](https://developer.x.com/en/docs/x-api/v1/geo/places-near-location/api-reference/get-geo-search) を参照してください。<br />注: リポストや引用ポストには一致しません。リポストの場所情報は元の投稿に付随します。 |
| place\_country            | タグ付けされた場所／ロケーションに関連付けられた国コードが、指定した ISO アルファベット2文字コードに一致する投稿にマッチします。<br />例: `place_country:GB OR place_country:AU OR place_country:CA`<br />注: リポストや引用ポストには一致しません。リポストの場所情報は元の投稿に付随します。<br />有効な ISO コード: [ISO 3166-1 alpha-2](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)。                                                                                                                                      |
| point\_radius:\[lon lat radius] | 投稿の厳密な位置（x,y）または指定した半径内にある「プレイス」の地理ポリゴンに一致します。<br />・半径: 25mi 未満<br />・対応単位: mi, km<br />・経度: ±180<br />・緯度: ±90<br />座標は十進度です。<br />引数は角括弧で囲み、スペース区切りです。<br />例: `point_radius:[-105.27346517 40.01924738 0.5mi]`<br />例: `point_radius:[2.355128 48.861118 16km]`<br />注: リポストや引用ポストには一致しません。                             |
| bounding\_box:\[west\_long south\_lat east\_long north\_lat] | 厳密な位置、またはバウンディングボックス内に完全に含まれる「プレイス」の地理ポリゴンに一致します。<br />引数は角括弧で囲み、スペース区切りです。<br />座標: 十進度（経度 ±180、緯度 ±90）。<br />幅と高さは 25mi 未満である必要があります。<br />例: `bounding_box:[-105.301758 39.964069 -105.178505 40.09455]`<br />注: リポストや引用ポストには一致しません。                                                                                                                                                    |
| profile\_country          | 投稿者のプロフィールの地理情報における国コードが、指定した ISO 3166-1 alpha-2 の2文字コードに一致する投稿にマッチします。                                                                                                                                                                                                                                                                                                                                                                                                    |
| profile\_region           | 投稿者のプロフィールの地理拡張における「region」フィールドに対して一致します。完全一致の文字列です。<br />空白や句読点を含む部分文字列には二重引用符を使用してください。<br />例: `profile_region:"New York"`                                                                                                                                                                                                                                                                                |
| profile\_locality         | 投稿者のプロフィールの地理拡張における「locality」フィールドに対して一致します。完全一致の文字列です。<br />空白や句読点を含む部分文字列には二重引用符を使用してください。<br />例: `profile_locality:"San Francisco"`                                                                                                                                                                                                                                                                             |
| profile\_subregion        | 投稿者のプロフィールの地理拡張における「subRegion」フィールドに対して一致します。特定の郡や都市圏を含みます。<br />完全一致の文字列です。<br />例: `profile_subregion:"Santa Clara County"`                                                                                                                                                                                                                                                                                               |
| has:geo                  | X 由来の投稿固有の地理位置データ（緯度経度の「geo」や、表示名と地理ポリゴンを持つ「プレイス」ロケーションデータ）を含む投稿に一致します。<br />注: Search API では、`is:` または `has:` 以外の演算子と組み合わせる必要があります。                                                                                                                                                                                                                                                                           |
| has:profile\_geo          | 値に関係なく、任意のプロフィール地理メタデータを含む投稿に一致します。<br />利用可能なエイリアス: `has:derived_user_geo`。<br />注: Search API では、`is:` または `has:` 以外の演算子と組み合わせる必要があります。                                                                                                                                                                                                                                                                                                            |
| has:links                | ペイロードの "text" オブジェクト内にリンクまたは参照メディア（メディアや引用ポストを含む）がある投稿に一致します。<br />注: Search API では、`is:` または `has:` 以外の演算子と組み合わせる必要があります。                                                                                                                                                                                                                                                                                                      |
| is:retweet               | 明示的なリツイートのみを返します。否定することでリツイートを除外し、元のコンテンツのみを取得できます。<br />このオペレーターは引用ポストではなく、実際のリツイートだけを対象にします。<br />**注意:** Search API では、`is:` または `has:` 以外のオペレーターと組み合わせる必要があります。                                                                                                                                                                                                                                               |
| is:reply                 | 明示的な返信のみを返します。否定して返信を除外できます。<br />PowerTrack は元のポストへの返信、引用ポスト内の返信、リツイート内の返信に一致します。<br />Search API は元のポストへの返信のみに一致します。<br />_例:_ `@XDevelopers -is:reply`                                                                                                                                                                                                                                         |
| is:quote                 | 他のポストを参照する引用ポストのみを返します。<br />否定して引用ポストを除外できます。<br />_例:_ `@XDevelopers is:quote`                                                                                                                                                                                                                                                                                                                                                            |
| is:verified              | 「認証済み」作者によるポストのみを返します。否定して認証済みの作者からのポストを除外できます。<br />_例:_ `@XDevelopers is:verified`                                                                                                                                                                                                                                                                                                                                                                 |
| has:mentions             | 他の X ユーザーへのメンションを含むポストに一致します。<br />**注意:** Search API では、`is:` または `has:` 以外のオペレーターと組み合わせる必要があります。                                                                                                                                                                                                                                                                                                                                                                                 |
| has:hashtags             | ハッシュタグを含むポストに一致します。<br />**注意:** Search API では、`is:` または `has:` 以外のオペレーターと組み合わせる必要があります。                                                                                                                                                                                                                                                                                                                                                                                       |
| has:media                | X により分類されたメディア URL（例: pic.x.com）を含むポストに一致します。<br />利用可能なエイリアス: `has:media_link`。<br />**注意:** Search API では、`is:` または `has:` 以外のオペレーターと組み合わせる必要があります。                                                                                                                                                                                                                                                                                                           |
| has:images               | メディア URL（例: pic.x.com）を含むポストに一致します。<br />**注意:** Search API では、`is:` または `has:` 以外のオペレーターと組み合わせる必要があります。                                                                                                                                                                                                                                                                                                                                                                  |
| has:videos               | X にアップロードされたネイティブな X 動画を含むポストに一致します。<br />利用可能なエイリアス: `has:video_link`。<br />このオペレーターは YouTube、Periscope、その他の動画ホスティングサイトの動画には一致しません。<br />**注意:** Search API では、`is:` または `has:` 以外のオペレーターと組み合わせる必要があります。                                                                                                                                                                                                                            |
| has:symbols              | キャッシュタグ（例: $TWTR）を含むポストに一致します。<br />**注意:** Search API では、`is:` または `has:` 以外のオペレーターと組み合わせる必要があります。                                                                                                                                                                                                                                                                                                                                                                 |

<div id="operators-by-product">
  ## 製品別オペレーター
</div>

<div id="rules-and-filtering-enterprise">
  ### ルールとフィルタリング：エンタープライズ
</div>

すべてのエンタープライズ向けオペレーターは、PowerTrack および Historical PowerTrack API で利用可能です。ただし、このページに記載のとおり、エンタープライズ向け Search API で利用できるオペレーターは一部に限られます。

濃紺のタグは、各エンタープライズ製品でどのオペレーターが利用可能かを示します。

PowerTrack Search

| 演算子 | 製品 | 説明 | ペイロード要素での一致対象 |
| :--- | :--- | :--- | :--- |
| "完全一致フレーズ" | PowerTrack<br /><br />Search | 投稿本文内のフレーズに完全一致します。<br /><br />検索演算子へ変換可能なコンポーネントは単語として扱われます。つまり、<br /><br />\* `"#hashtag"` は `hashtag` には一致しますが、`#hashtag` には一致しません（実際のハッシュタグに一致させるには、引用符なしで [hashtag 演算子](#hashtag-operator) を使用してください）<br />\* `"$TWTR"` は単語 `TWTR` には一致しますが、キャッシュタグ `$TWTR` には一致しません（実際のキャッシュタグに一致させるには、引用符なしで [cashtag 演算子](#cashtag-operator) を使用してください）<br /><br />**注:** 30 日検索および全アーカイブ検索（Enterprise と Premium）では、句読点はトークン化されず、空白として扱われます。 | `text` |
| @   | PowerTrack<br /><br />Search | 指定したユーザー名に言及している投稿に一致します。値はユーザー名（`@` 文字を除く）か、ユーザーの数値 ID（例：[GET users/lookup](https://developer.x.com/en/docs/x-api/v1/accounts-and-users/follow-search-get-users/api-reference/get-users-lookup) エンドポイントで取得）を指定できます。 | `entities.user_mentions` |
| #   | PowerTrack<br /><br />Search | 指定したハッシュタグを含む投稿に一致します。<br /><br />この演算子は厳密一致です。例えば、ルール `#1989` は正確に `#1989` というハッシュタグを含む投稿に一致しますが、`#TaylorSwift1989` というハッシュタグを含む投稿には一致しません。<br /><br />**注:** この演算子は、本文からハッシュタグを抽出するのではなく、X のエンティティ抽出に基づいてハッシュタグに一致させます。エンティティの JSON 属性の詳細は [X Entities](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary) を参照してください。 | `entities.hashtags` |
| $   | PowerTrack<br /><br />Search | 先頭文字が `$` のトークンである指定のキャッシュタグを含む投稿に一致します。<br /><br />**注:** この演算子は、本文からリンクを抽出するのではなく、X のエンティティ抽出に基づいてリンクに一致させます。エンティティの JSON 属性の詳細は [X Entities](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary) を参照してください。 | `entities.symbols` |
| bio: | PowerTrack | 利用可能なエイリアス: user\_bio:<br /><br />投稿者の自己紹介文内のキーワード（トークン化一致）またはフレーズに一致します。フレーズに一致させるには二重引用符を使用します。つまり、<br /><br />\* `bio:software engineer` は、自己紹介に `software` という語があり、かつキーワード `engineer` を含むユーザーからの投稿に一致します<br />\* `bio:"software engineer"` は、自己紹介に `software engineer` というフレーズがあるユーザーによる投稿すべてに一致します | `user.description` |
| bio\_location: | PowerTrack | 利用可能なエイリアス: user\_bio\_location:<br /><br />[ユーザーオブジェクト](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-user-object) の location に、指定したキーワード（トークン化一致）またはフレーズが含まれる投稿に一致します。<br /><br />この location は正規化されていない、ユーザーが入力する自由形式の文字列であり、投稿の位置情報（利用可能な場合）とは異なります。 | `user.location` |
| bio\_name: | PowerTrack | [ユーザーオブジェクト](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-user-object) の name に、指定したキーワード（トークン化一致）またはフレーズが含まれる投稿に一致します。 | `user.name` |
| bounding\_box: | PowerTrack<br /><br />Search | _使用可能な別名_: geo\_bounding\_box:<br /><br />投稿の正確な位置情報（経度・緯度、存在する場合）およびジオポリゴン（Place が定義した領域に完全に内包される場合）に一致します。<br /><br />\* west\_long と south\_lat はバウンディングボックスの南西隅を示し、west\_long はその点の経度、south\_lat は緯度です。<br />\* east\_long と north\_lat はバウンディングボックスの北東隅を示し、east\_long はその点の経度、north\_lat は緯度です。<br />\* バウンディングボックスの幅と高さは 25mi 未満である必要があります。<br />\* 経度は ±180 の範囲です。<br />\* 緯度は ±90 の範囲です。<br />\* すべての座標は小数度（decimal degrees）です。<br />\* ルール引数は角括弧内にスペース区切りで指定します。<br /><br />**注:** place（投稿のジオ）に基づくオペレーターは元の投稿のみを対象とします。リポストには place データが含まれません。 | `place` (original Posts only) |
| contains: | PowerTrack | 投稿本文に、トークン化に関係なく指定した部分文字列を含むものに一致します。言い換えると、純粋な部分一致であり、単語境界は考慮しません。<br /><br />空白や句読点を含む部分文字列に一致させるには、二重引用符を使用してください。 | `text` |
| \<emoji> | PowerTrack<br /><br />Search | 投稿本文内の絵文字に一致します。<br /><br />これはトークン化に基づく一致で、指定した絵文字は投稿本文のトークン化されたテキストと照合されます。トークン化は、句読点、記号／絵文字、区切りの Unicode 基本多言語面の文字に基づきます。例えば、「I like 🍕」というテキストの投稿は次のトークンに分割されます: I, like, 🍕。これらのトークンが、ルールで使用した絵文字と比較されます。<br /><br />**注:** 絵文字にバリアントがある場合は、ルールに追加する際に二重引用符を使用する必要があります。 | `text` |
| followers\_count: | PowerTrack | 著者のフォロワー数が指定した範囲内にある投稿に一致します。<br /><br />\* 単一の数値（例: `followers_count:42`）は、指定値以上の任意の数値に一致します。<br />\* 範囲（例: `followers_count:42..1337`）は、指定した範囲内の任意の数値に一致します。 | `user.followers_count` |
| friends\_count: | PowerTrack | _使用可能な別名_: following\_count:<br /><br />著者のフレンド数（フォローしているユーザー数）が指定した範囲内にある投稿に一致します。<br /><br />\* 単一の数値（例: `followers_count:42`）は、指定値以上の任意の数値に一致します。<br />\* 範囲（例: `followers_count:42..1337`）は、指定した範囲内の任意の数値に一致します。 | `user.friends_count` |
| from: | PowerTrack<br /><br />Search | 特定のユーザーからの投稿に一致します。値には、ユーザー名（`@` なし）またはユーザーの数値 ID（例: [GET users/lookup](https://developer.x.com/en/docs/x-api/v1/accounts-and-users/follow-search-get-users/api-reference/get-users-lookup) エンドポイントで取得）を指定できます。 | `user.id`, `user.id_str` (if using User ID)<br /><br />`user.screen_name` (if using username) |
| has:geo | PowerTrack<br /><br />Search | X から提供される投稿固有の位置情報を持つ投稿に一致します。これは「geo」の緯度・経度座標、または表示名、ジオポリゴン、その他のフィールドを持つ X の [Place](https://dev.x.com/overview/api/places) 形式の「location」のいずれかです。<br /><br />単独のオペレーターとしては使用できません。<br /><br />**注:** place（投稿のジオ）に基づくオペレーターは元の投稿のみを対象とします。リポストには place データが含まれません。 | `place` (original Tweets only) |
| has:hashtags | PowerTrack<br /><br />Search | 少なくとも 1 つのハッシュタグを含む投稿に一致します。<br /><br />単独のオペレーターとしては使用できません。 | `entities.hashtags` |
| has:images | PowerTrack<br /><br />Search | 少なくとも 1 つの分類済み画像 URL を含む投稿に一致します。<br /><br />単独のオペレーターとしては使用できません。 | `entities.media` |
| has:lang | PowerTrack | X によって特定の言語として分類された投稿に一致します。<br /><br />投稿が分類されていない場合、このオペレーターは一致しません。各投稿は現在 1 つの言語にのみ分類されるため、複数の言語を AND で組み合わせても結果は得られません。<br /><br />単独のオペレーターとしては使用できません。 | `lang` の値が `und` でない場合 |
| has:links | PowerTrack<br /><br />Search | このオペレーターは、本文にリンクを含む投稿に一致します。<br /><br />単独のオペレーターとしては使用できません。<br /><br />注意: このオペレーターは本文から直接リンクを抽出するのではなく、X のエンティティ抽出に基づいてリンクに一致させます。エンティティ由来の JSON 属性の詳細は、[X Entities](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary) を参照してください。 | `entities.urls` |
| has:media | PowerTrack<br /><br />Search | 利用可能なエイリアス: has:media\_link<br /><br />少なくとも 1 つの分類済みメディア URL を含む投稿に一致します。<br /><br />単独のオペレーターとしては使用できません。 | `entities.media` |
| has:mentions | PowerTrack<br /><br />Search | 他の X ユーザーへのメンションを含む投稿に一致します。<br /><br />単独のオペレーターとしては使用できません。 | `entities.user_mentions` |
| has:profile\_geo | PowerTrack<br /><br />Search | 利用可能なエイリアス: has:derived\_user\_geo<br /><br />実際の値に関わらず、[Profile Geo](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments#profile-geo) メタデータを持つ投稿に一致します。<br /><br />単独のオペレーターとしては使用できません。 | `user.location` |
| has:symbols | PowerTrack<br /><br />Enterprise | キャッシュタグ（例: `$TWTR`）を含む投稿に一致します。<br /><br />単独のオペレーターとしては使用できません。 | `entities.symbols` |
| has:videos | PowerTrack<br /><br />Search | 利用可能なエイリアス: has:video\_link<br /><br />少なくとも 1 つの分類済みメディア URL を含む投稿に一致します。<br /><br />単独のオペレーターとしては使用できません。 | `entities.media` |
| in\_reply\_to\_status\_id: | PowerTrack | 利用可能なエイリアス: in\_reply\_to\_tweet\_id:<br /><br />指定した投稿への明示的な返信のみを配信します。 | 対象の投稿の `id`、`id_str` |
| is:quote | PowerTrack | ルールに一致する引用投稿のみを配信します。<br /><br />否定形（`-is:quote`）も使用でき、ルールに一致する引用投稿を配信から除外できます。<br /><br />単独のオペレーターとしては使用できません。 | `is_quote_status`（`true` の場合） |
| is:reply | PowerTrack<br /><br />Search | ルールに一致する返信のみを配信します。<br /><br />否定形（`-is:reply`）も使用でき、指定したルールに一致する返信の配信を除外できます。<br /><br />PowerTrack では、このオペレーターは次に一致します:<br /><br />\* 元の投稿への返信<br />\* 引用投稿内の返信<br />\* リツイート内の返信<br /><br />  <br />Search API と併用する場合、このオペレーターは元の投稿への返信に一致しますが、引用投稿内の返信およびリツイート内の返信は除外されます。<br /><br />`is:retweet` および `is:quote` と組み合わせることで、元の投稿への返信のみを配信できます。<br /><br />Search API では単独のオペレーターとしては使用できません。<br /><br />注意: Premium では、このオペレーターは Sandbox の開発環境では利用できません。 | 返信要素（例: `in_reply_to_status_id`） |
| is:retweet | PowerTrack<br /><br />Search | ルールに一致する明示的なリツイートのみを配信します。<br /><br />否定形（`-is:retweet`）も使用でき、ルールに一致するリツイートを配信から除外し、オリジナルコンテンツのみを配信します。<br /><br />このオペレーターは真のリツイート（リツイートボタンを使用して投稿されたリツイート）のみを検出します。引用投稿や、X のリツイート機能を使用していない改変投稿には一致しません。<br /><br />単独のオペレーターとしては使用できません。 | リツイート要素（例: `retweeted_status`） |
| is:verified | PowerTrack<br /><br />Search | 著者が X によって認証済みの投稿のみを配信します。<br /><br />否定して、著者が認証済みの投稿を除外することもできます。<br /><br />単独のオペレーターとしては使用できません。 | `user.verified` |
| keyword | PowerTrack<br /><br />Search | 投稿本文内のキーワードに一致します。<br /><br />これはトークン化に基づく照合で、指定したキーワード文字列は投稿本文のトークン化されたテキストと照合されます。トークン化は、句読点、記号／絵文字、区切りの Unicode 基本多言語面の文字に基づきます。例えば、本文が “I like coca-cola” の投稿は次のトークンに分割されます: `I`、`like`、`coca`、`cola`。これらのトークンが、ルールで使用したキーワード文字列と比較されます。句読点（例: coca-cola）、記号、または区切り文字を含む文字列に一致させるには、[完全一致](#exact-match) オペレーターを使用する必要があります。 | `text` |
| lang: | PowerTrack<br /><br />Search | X によって特定の言語と分類された投稿に一致します（投稿が分類されている場合に限ります）。各投稿は 1 つの言語にのみ分類されるため、複数の言語を AND で組み合わせても結果は得られません。<br /><br />**注:** 言語分類ができない場合、提供される結果は `und`（未定義）です。<br /><br />このオペレーターは、サポート対象の言語にのみ一致します。その他の値（`und` を含む）を指定すると、このオペレーターは無視されます（つまり、このオペレーターによるフィルタリングは行われません）。以下は、現在サポートされている言語と対応する BCP 47 言語識別子です。<br /><br />`am` Amharic<br /><br />`hu` Hungarian<br /><br />`pt` Portuguese<br /><br />`ar` Arabic<br /><br />`is` Icelandic<br /><br />`ro` Romanian<br /><br />`hy` Armenian<br /><br />`in` Indonesian<br /><br />`ru` Russian<br /><br />`bn` Bengali<br /><br />`it` Italian<br /><br />`sr` Serbian<br /><br />`bg` Bulgarian<br /><br />`ja` Japanese<br /><br />`sd` Sindhi<br /><br />`my` Burmese<br /><br />`kn` Kannada<br /><br />`si` Sinhala<br /><br />`zh` Chinese<br /><br />`km` Khmer<br /><br />`sk` Slovak<br /><br />`cs` Czech<br /><br />`ko` Korean<br /><br />`sl` Slovenian<br /><br />`da` Danish<br /><br />`lo` Lao<br /><br />`ckb` Sorani Kurdish<br /><br />`nl` Dutch<br /><br />`lv` Latvian<br /><br />`es` Spanish<br /><br />`en` English<br /><br />`lt` Lithuanian<br /><br />`sv` Swedish<br /><br />`et` Estonian<br /><br />`ml` Malayalam<br /><br />`tl` Tagalog<br /><br />`fi` Finnish<br /><br />`dv` Maldivian<br /><br />`ta` Tamil<br /><br />`fr` French<br /><br />`mr` Marathi<br /><br />`te` Telugu<br /><br />`ka` Georgian<br /><br />`ne` Nepali<br /><br />`th` Thai<br /><br />`de` German<br /><br />`no` Norwegian<br /><br />`bo` Tibetan<br /><br />`el` Greek<br /><br />`or` Oriya<br /><br />`tr` Turkish<br /><br />`gu` Gujarati<br /><br />`pa` Panjabi<br /><br />`uk` Ukrainian<br /><br />`ht` Haitian<br /><br />`ps` Pashto<br /><br />`ur` Urdu<br /><br />`iw` Hebrew<br /><br />`fa` Persian<br /><br />`ug` Uyghur<br /><br />`hi` Hindi<br /><br />`pl` Polish<br /><br />`vi` Vietnamese<br /><br />`cy` Welsh | `lang` when value is not `und` |
| listed\_count: | PowerTrack | _利用可能なエイリアス_: user\_in\_lists\_count:<br /><br />投稿者が X 上のリストに追加された回数が、指定した範囲内にある場合に一致します。<br /><br />\* 単一の数値（例: `listed_count:42`）は、指定値以上の任意の数値に一致します。<br />\* 範囲（例: `listed_count:42..1337`）は、指定した範囲内の任意の数値に一致します。 | `user.listed_count` |
| place\_country: | PowerTrack<br /><br />検索 | タグ付けされた[場所／ロケーション](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-dictionary#native-enriched-geo-objects)に関連付けられた国コードが、指定した[ISO アルファ2文字コード](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)に一致する投稿にマッチします。<br /><br />**注:** 場所（投稿ジオ）にマッチするオペレーターは、オリジナルの投稿のみを対象とします。リポストには場所データが含まれません。 | `place`（オリジナルの投稿のみ） |
| place: | PowerTrack<br /><br />検索 | 指定した場所名または [X place ID](https://developer.x.com/en/docs/x-api/v1/geo/places-near-location/api-reference/get-geo-search) がタグ付けされた投稿に一致します。複数語の地名は引用符で囲んでください（例: `place:"San Francisco"`）。<br /><br />**注:** 場所（投稿ジオ）にマッチするオペレーターは、オリジナルの投稿のみを対象とします。リポストには場所データが含まれません。 | `place`（オリジナルの投稿のみ） |
| point\_radius: | PowerTrack<br /><br />検索 | **注:** 場所（投稿ジオ）にマッチするオペレーターは、オリジナルの投稿のみを対象とします。リポストには場所データが含まれません。 | `place`（オリジナルの投稿のみ） |
| profile\_bounding\_box:\[west\_long south\_lat east\_long north\_lat] | PowerTrack | [プロフィールジオ拡張](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments)でのユーザーの正確な位置（経度・緯度）に対して、指定した領域内に場所が完全に含まれる場合に一致します。<br /><br />\* west\_long と south\_lat はバウンディングボックスの南西端を表し、west\_long はその点の経度、south\_lat は緯度です。<br />\* east\_long と north\_lat はバウンディングボックスの北東端を表し、east\_long はその点の経度、north\_lat は緯度です。<br />\* バウンディングボックスの幅と高さは 25mi 未満である必要があります。<br />\* 経度の範囲は ±180。<br />\* 緯度の範囲は ±90。<br />\* すべての座標は 10 進度です。<br />\* ルール引数は角括弧内に記述し、スペース区切りにします。<br /><br />**注:** 場所（投稿ジオ）にマッチするオペレーターは、オリジナルの投稿のみを対象とします。リポストには場所データが含まれません。 | `user.derived.locations.geo.coordinates` |
| profile\_country: | PowerTrack<br /><br />検索 | [プロフィールジオ拡張](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments)の国コードへの厳密一致です。<br /><br />[ISO-3166-1-alpha-2 仕様](http://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)に基づく正規化された2文字の国コードを使用します。<br /><br />簡潔さのため、住所オブジェクトの country フィールド用オペレーターの代わりに、このオペレーターを提供しています。<br /><br />**注:** 場所（投稿ジオ）にマッチするオペレーターは、オリジナルの投稿のみを対象とします。リポストには場所データが含まれません。 | `user.derived.locations.country_code` |
| profile\_locality: | PowerTrack<br /><br />検索 | [プロフィールジオ拡張](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments)の Locality フィールドへの厳密一致です。<br /><br />これは文字列全体の厳密一致です。<br /><br />バックスラッシュで文字をエスケープする必要はありません。たとえばスラッシュに一致させる場合は `one/two` を使用します。<br /><br />空白や句読点を含む部分文字列に一致させるには、二重引用符を使用してください（例: `profile_locality:"Lower East Side"`）。 | `user.derived.locations.locality` |
| profile\_point\_radius:\[lon lat radius] | PowerTrack | ユーザーの[プロフィール Geo エンリッチメント](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments)の厳密な位置（x, y）に対して照合します。<br /><br />※ サポートされる半径の単位はマイル（mi）とキロメートル（km）です。<br />※ 半径は 25mi 未満である必要があります。<br />※ 経度は ±180 の範囲です。<br />※ 緯度は ±90 の範囲です。<br />※ すべての座標は小数（度）で指定します。<br />※ ルール引数は角括弧内に記述し、スペースで区切ります。<br /><br />注意: place（投稿のジオ）で照合するオペレーターは、元の投稿のみを対象とします。リツイートには place データは含まれません。 | `user.derived.locations.geo` |
| profile\_region: | PowerTrack<br /><br />Search | [プロフィール Geo エンリッチメント](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments)の Region フィールドに対する厳密一致。<br /><br />これは文字列全体の厳密一致です。<br /><br />バックスラッシュでエスケープする必要はありません。たとえばスラッシュを含むものに一致させる場合は、`one/two` を使用します。<br /><br />空白や句読点を含む部分文字列に一致させるには、二重引用符を使用します（例: `profile_locality:"New York"`）。 | `user.derived.locations.region` |
| profile\_subregion: | PowerTrack | [プロフィール Geo エンリッチメント](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments)の Subregion フィールドに対する厳密一致。<br /><br />これは文字列全体の厳密一致です。<br /><br />バックスラッシュでエスケープする必要はありません。たとえばスラッシュを含むものに一致させる場合は、`one/two` を使用します。<br /><br />空白や句読点を含む部分文字列に一致させるには、二重引用符を使用します（例: `profile_locality:"Kings County"`）。 | `user.derived.locations.sub_region` |
| "keyword1 keyword2"~N | PowerTrack<br /><br />Search | 一般に近接（プロキシミティ）オペレーターと呼ばれ、キーワード同士が互いに N トークン以内にある投稿に一致します。<br /><br />キーワードが逆順の場合は、互いに N-2 トークン以内である必要があります。<br /><br />引用符内には任意の数のキーワードを含められます。<br /><br />N は 6 を超えられません。 | `text` |
| retweets\_of\_status\_id: | PowerTrack | 利用可能なエイリアス: retweets\_of\_tweet\_id:<br /><br />指定した元投稿の明示的なリツイートのみを配信します。 | `retweeted_status.id`, `retweeted_status.id_str` |
| retweets\_of: | PowerTrack<br /><br />Search | 利用可能なエイリアス: retweets\_of\_user:<br /><br />指定したユーザーのリツイートである投稿に一致します。値はユーザー名（`@` を除く）またはユーザーの数値 ID（例: [GET users/lookup](https://developer.x.com/en/docs/x-api/v1/accounts-and-users/follow-search-get-users/api-reference/get-users-lookup) エンドポイントで取得）を指定できます。 | `retweeted_status.id` (if present) |
| sample: | PowerTrack | ルールに一致する投稿の全量ではなく、ランダムな割合のサンプルを返します。割合は 1 から 100 の整数で指定する必要があります。<br /><br />このオペレーターはルール全体に適用され、OR 条件はすべてグループ化が必要です。<br /><br />注意: sample オペレーターは最初にファイアホースの範囲を X% に絞り、その後にルール／フィルターをそのサンプル集合へ適用します。たとえば `sample:10` を使用する場合、各投稿がサンプルに含まれる確率は 10% です。<br /><br />注意: サンプリングは決定的であり、履歴データを取得する場合と同じデータサンプルがリアルタイムでも得られます。 |     |
| source: | PowerTrack | 指定したソースアプリケーションによって生成された投稿に一致します。値はアプリケーション名またはアプリケーションの URL のいずれかである必要があります。<br /><br />単独のオペレーターとしては使用できません。 | `source` |
| statuses\_count: | PowerTrack | _利用可能な別名_: tweets\_count:<br /><br />著者の投稿総数が指定した範囲内にある場合に投稿と一致します。<br /><br />\* 単一の数値（例: `statuses_count:42`）は、指定した値以上の任意の数値に一致します。<br />\* 範囲（例: `statuses_count:42..1337`）は、指定された範囲内の任意の数値に一致します。 | `user.statuses_count` |
| to: | PowerTrack<br /><br />Search | 特定のユーザーへの返信である任意の投稿に一致します。値はユーザー名（`@` を除く）またはユーザーの数値 ID（例: [GET users/lookup](https://developer.x.com/en/docs/x-api/v1/accounts-and-users/follow-search-get-users/api-reference/get-users-lookup) エンドポイントで取得）を指定できます。 | `text` |
| url: | PowerTrack<br /><br />Search | 投稿の展開済み URL に対してトークン化マッチを実行します。句読点や特殊文字を含むトークンやフレーズは二重引用符で囲む必要があります（例: `url:"/developer"`）。<br /><br />一般的には推奨しませんが、演算子で特定のプロトコルを指定してマッチさせることもできます。二重引用符で囲んでください（例: `url:"https://developer.x.com"`）。 | `entities.urls.expanded_url` |
| url\_contains: | PowerTrack | （新規）[展開済み URL タイトルのメタデータ拡張](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments)に対してキーワード／フレーズマッチを実行します。 | `entities.urls.expanded_url` |
| url\_description: | PowerTrack | _利用可能な別名_: within\_url\_description:<br /><br />（新規）[展開済みページ説明のメタデータ拡張](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments)に対してキーワード／フレーズマッチを実行します。 | `entities.urls.unwound.description` |
| url\_title: | PowerTrack | _利用可能な別名_: within\_url\_title:<br /><br />（新規）[展開済み URL タイトルのメタデータ拡張](/ja/x-api/enterprise-gnip-2.0/fundamentals/data-enrichments)に対してキーワード／フレーズマッチを実行します。 | `entities.urls.title` |