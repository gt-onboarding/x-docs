---
title: OAuth 1.0a
sidebarTitle: 概要
---

import { Button } from "/snippets/ja/button.mdx";

<div id="oauth-10a">
  ## OAuth 1.0a
</div>

X Developer Platform の多くのエンドポイントは、X アカウントを代理して操作したり API リクエストを行うために OAuth 1.0a を使用します。たとえば、X の開発者向けアプリをお持ちであれば、ユーザーがアプリを認可した場合に限り、任意の X アカウントを代理して API リクエストを行うことができます。

注意: HMAC-SHA1 やパーセントエンコーディングといった概念に不慣れな場合は、認証プロセスを大幅に簡素化できる API クライアントを紹介している下記の「便利なツール」セクションをご確認いただくことをおすすめします。

<div id="key-concepts">
  ### 重要なキーポイント
</div>

<div id="signing-a-request-with-keys-and-tokens">
  #### キーとトークンでリクエストに署名する
</div>

各 API リクエストには、生成した複数のキーとトークンを認可ヘッダーに渡して署名する必要があります。まずは、[X 開発者アプリ](/ja/resources/fundamentals/developer-apps)の詳細ページで、次のキーとトークンを生成できます。

|     |     |
| :--- | :--- |
| API key と secret:<br /><br />`oauth_consumer_key`<br /><br />`oauth_consumer_secret` | これらは、API リクエスト時にあなたの X 開発者アプリを表すユーザー名とパスワードのようなものです。 |
| Access token と secret:<br /><br />`oauth_token`<br /><br />`oauth_token_secret` | Access token と access token secret は、OAuth 1.0a API リクエストの認証に用いられるユーザー固有の認証情報です。リクエストをどの X アカウントの代理で実行するかを指定します。<br /><br />あなたの開発者アカウントに紐づくのと同じ X アカウントの代理でアプリがリクエストを行う場合は、詳細ページで自身の access token と token secret を生成できます。<br /><br />別のユーザーの access token を生成したい場合は、以下の「ユーザーの代理でリクエストを行う」を参照してください。 |

<div id="making-requests-on-behalf-of-users">
  #### ユーザーの代理でリクエストを行う
</div>

署名を作成するには、代理でリクエストを行う対象ユーザーを表す一組のアクセス用トークンが必要です。

X 開発者アプリの所有者である X アカウントを表すアクセス用トークンのセットは、[アプリの詳細ページ](https://developer.x.com/content/developer-twitter/en/apps)から生成できます。別の X アカウントの代理でリクエストを行う場合は、そのアカウントの所有者が、[3-legged OAuth フロー](/ja/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow)の一環として自分のアカウントにサインインし、あなたにアクセスを付与する必要があります。このプロセスの結果として、OAuth 1.0a リクエストに使用できる一組のアクセス用トークン（oauth\_token と oauth\_token\_secret）が得られます。

これらのキーとトークンを取得したら、[署名の作成](/ja/resources/fundamentals/authentication#creating-a-signature)を一から行うこともできます。十分に理解している場合を除き、または以下のツールのいずれかを用いて OAuth 1.0a を要するエンドポイントにリクエストする場合を除き、これは推奨しません。

参考までに、生成したすべてのトークンを Authorization ヘッダーで渡す署名付き cURL リクエストの例を示します。

```bash
curl --request POST \
  --url 'https://api.x.com/1.1/statuses/update.json?status=Hello%20world' \
  --header 'authorization: OAuth oauth_consumer_key="CONSUMER_API_KEY", oauth_nonce="OAUTH_NONCE", oauth_signature="OAUTH_SIGNATURE", oauth_signature_method="HMAC-SHA1", oauth_timestamp="OAUTH_TIMESTAMP", oauth_token="ACCESS_TOKEN", oauth_version="1.0"' \
```

<Note>
  **Note:** ユーザーアクセス用トークンは機微情報であり、厳重に保護する必要があります。アクセス用トークンが生成されるということは、それが表すユーザーが、あなたのアプリケーションがそれらを安全に管理することを信頼していることを意味します。API キーとユーザーアクセス用トークンの両方のセキュリティが侵害された場合、あなたのアプリケーションは非公開情報やアカウント機能へのアクセスを露出させるおそれがあります。[キーとアクセス用トークンの保護](/ja/resources/fundamentals/developer-apps)について、ぜひ理解を深めてください。
</Note>

<div id="useful-tools">
  ### 便利なツール
</div>

[リクエストへの署名](/ja/resources/fundamentals/authentication#creating-a-signature)のプロセスは複雑です。認証トークンの大部分を自動生成してくれる API クライアントライブラリの使用を推奨します。

|     |     |
| :--- | :--- |
| [Postman](https://www.getpostman.com/) | REST API リクエストを作成・送信できる API クライアントです。詳しくは、このツールの概要を説明した「[Postman を使い始める](/ja/tutorials/postman-getting-started)」チュートリアルをご覧ください。 |
| [Insomnia](https://insomnia.rest/) | Insomnia は、Cookie 管理、環境変数、コード生成、認証機能を備えた、Mac・Windows・Linux 向けの REST API クライアントです。 |