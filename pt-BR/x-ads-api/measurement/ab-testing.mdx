---
title: Teste A/B
---

import { Button } from '/snippets/pt-BR/button.mdx';

<div id="overview">
  ## Visão geral
</div>

<div id="introduction">
  ### Introdução
</div>

Os testes A/B permitem que os anunciantes segmentem os usuários alcançados no X para entender como otimizar o desempenho da campanha e extrair aprendizados que orientem suas estratégias de marketing.

Esses segmentos — chamados de divisões de grupos de usuários — são aleatórios e mutuamente exclusivos. Com a randomização, os fatores que influenciam os resultados são distribuídos de forma equilibrada. Em outras palavras, não há diferenças inerentes entre os grupos ou em seus comportamentos esperados. Por isso, quando uma única variação é aplicada a um grupo de usuários e não aos demais, a diferença no desempenho da campanha pode ser atribuída a essa variação.

Embora seja possível testar várias variações ao mesmo tempo, recomendamos fortemente testar apenas uma variação por vez. Isso isola o fator causal da diferença observada no desempenho da campanha.

As variações são definidas no nível da campanha. Por exemplo, se o anunciante quiser testar a eficácia de uma nova peça criativa, deverá criar duas campanhas idênticas em que a única diferença seja a peça criativa. No futuro, planejamos oferecer suporte a variações no nível do item de linha.

<div id="use-cases">
  ### Casos de uso
</div>

O teste A/B é mais frequentemente utilizado para dar suporte a (1) casos de otimização para clientes focados em performance, que querem entender o que funciona melhor no X para otimizar seu investimento, e (2) casos de aprendizado para anunciantes de marca, que querem usar esses aprendizados para orientar sua estratégia de marketing.

A API oferecerá suporte a testes A/B para qualquer variável de campanha, incluindo:

- Criativo

- Segmentação

- Tipo de lance

- Unidade de lance

<div id="ab-testing">
  ## Teste A/B
</div>

O Teste A/B permite que anunciantes segmentem os usuários alcançados no X para entender como otimizar o desempenho da campanha e obter aprendizados que orientem suas estratégias de marketing.

Esses segmentos — chamados de divisões de grupos de usuários — são randomizados e mutuamente exclusivos. Com a randomização, os fatores que influenciam os resultados são distribuídos de forma equilibrada. Em outras palavras, não há diferenças inerentes entre os grupos ou em seus comportamentos esperados. Por isso, quando uma única variação é aplicada a um grupo de usuários e não aos demais, a diferença no desempenho da campanha pode ser atribuída a essa variação.

Embora seja possível testar muitas variações ao mesmo tempo, recomendamos fortemente testar uma única variação por vez. Isso isola o fator causal da diferença observada no desempenho da campanha.

As variações são definidas no nível da campanha ou no nível do grupo de anúncios. O grupo de anúncios é definido por meio de [line item](https://developer.x.com/en/docs/twitter-ads-api/campaign-management/api-reference/line-items) na API de Anúncios do X. Como exemplo de uma variação no nível do grupo de anúncios, se o anunciante quiser testar a eficácia de uma nova peça criativa, ele deve criar uma campanha com 2 grupos de anúncios idênticos em que a única diferença seja a peça criativa.

<div id="use-cases">
  ### Casos de uso
</div>

O teste A/B é mais usado para: (1) casos de otimização, para clientes de performance que desejam entender o que funciona melhor no X a fim de otimizar seus investimentos; e (2) casos de aprendizado, para anunciantes de marca que querem usar esses aprendizados para orientar sua estratégia de marketing.

A API oferece suporte a testes A/B para qualquer variável de campanha, incluindo:

- Criativo

- Segmentação

- Tipo de lance

- Unidade de lance

<div id="attributes">
  ### Atributos
</div>

Testes A/B são representados como estruturas aninhadas. Há campos de nível superior para o próprio teste A/B e um array de objetos de grupos de usuários, cada um com um conjunto de campos descritivos.

Em termos gerais, todo teste A/B deve incluir as seguintes informações:

- A duração do teste, representada pelos campos start\_time e end\_time

- O nível em que a divisão ocorrerá, representado pelo campo entity\_type

- Pelo menos dois (e no máximo 30) grupos de usuários, cada um representado como um objeto no array user\_groups

Cada grupo de usuários deve incluir as seguintes informações:

- A porcentagem de usuários a ser alocada ao grupo, representada pelo campo size

- As IDs de campanha/IDs de item de linha que devem compor o conjunto de usuários para o grupo, representadas pelo array entity\_ids

Opcionalmente, é possível definir valores de name e description para testes A/B e para grupos de usuários. Informações sobre regras de validação e outras restrições podem ser encontradas abaixo.

Outros metadados, como o ID ou o horário de criação, também estão incluídos, mas são definidos automaticamente pelo X.

A seguir, um exemplo de entidade de teste A/B no nível de campanha.

```json
{
  "created_at": "2020-12-01T00:00:00Z",
  "created_by": {
    "user_id": "756201191646691328",
    "username": "apimctestface"
  },
  "deleted": false,
  "description": "documentation example",
  "end_time": "2020-12-05T01:00:00Z",
  "entity_type": "CAMPAIGN",
  "id": "hr7l0",
  "name": "first AB test",
  "start_time": "2020-12-01T01:00:00Z",
  "status": "SCHEDULED",
  "user_groups": [
    {
      "id": "p1bcx",
      "name": "first group",
      "description": null,
      "size": "50.0",
      "entity_ids": [
        "f2qcw",
        "f2tht"
      ]
    },
    {
      "id": "p1bcy",
      "name": "second group",
      "description": "second AB test group",
      "size": 50,
      "entity_ids": [
        "f2rqi",
        "f2tws"
      ]
    }
  ],
  "updated_at": "2020-12-01T00:00:00Z",
  "updated_by": {
    "user_id": "756201191646691328",
    "username": "apimctestface"
  }
}
```

A seguir, um exemplo de entidade de teste A/B no nível de item de linha.

```json
{
   "created_by":{
      "user_id":"756201191646691328",
      "username":"apimctestface"
   },
   "name":"Test2e",
   "start_time":"2022-08-15T00:00:00Z",
   "updated_by":{
      "user_id":"756201191646691328",
      "username":"apimctestface"
   },
   "description":"My Second AB test",
   "entity_type":"LINE_ITEM",
   "end_time":"2022-08-30T00:00:00Z",
   "id":"1ul",
   "user_groups":[
      {
         "name":"first group",
         "size":"50.0",
         "description":"first group description",
         "entity_ids":[
            "ij9dh"
         ],
         "id":"4xe"
      },
      {
         "name":"second group",
         "size":"50.0",
         "description":"second group description",
         "entity_ids":[
            "ihng8"
         ],
         "id":"4xf"
      }
   ],
   "status":"SCHEDULED",
   "created_at":"2022-08-11T00:10:50Z",
   "updated_at":"2022-08-11T00:10:50Z",
   "deleted":false
}
```

<div id="usage">
  ### Uso
</div>

As subseções abaixo descrevem a criação e a atualização de Testes A/B. A leitura e a exclusão funcionam da mesma forma que em todos os outros endpoints da API de Anúncios do X.

<div id="creating">
  #### Criação
</div>

Crie um teste A/B usando o endpoint [POST accounts/:account\_id/ab\_tests](https://developer.x.com/en/docs/x-ads-api/measurement/api-reference/ab-tests). O endpoint aceita apenas corpos de requisição POST em JSON. O Content-Type deve ser definido como application/json.

Depois que o anunciante configurar duas ou mais campanhas, é possível criar um teste A/B. Como mencionado acima, testes A/B _devem_ incluir: duração do teste, nível de divisão e pelo menos dois grupos de usuários. Cada grupo de usuários deve declarar a porcentagem de usuários que será alocada a ele, bem como os IDs das campanhas que comporão seu conjunto de usuários. Cada um desses itens é descrito em mais detalhes abaixo.

Duração do teste:

- Os valores start\_time e end\_time devem

  - Estar no futuro (em relação ao momento da criação do teste A/B)

  - Sobrepor as datas de veiculação da campanha/line item

- O teste deve durar pelo menos um dia para campanhas não baseadas em app e pelo menos cinco dias para campanhas baseadas em app

Nível de divisão:

- O entity\_type pode ser definido como CAMPAIGN ou LINE\_ITEM

Grupos de usuários:

- Cada grupo de usuários é representado como um objeto no array user\_groups

  - É necessário no mínimo dois grupos de usuários

  - É permitido no máximo 30 grupos de usuários

- O tamanho de cada grupo de usuários é definido usando uma string que representa um valor numérico entre 1.00 e 99.00

  - **Observação**: Os valores de tamanho _entre os objetos_ **devem** somar 100.00

- Os IDs de campanha devem ser especificados no array entity\_ids de cada grupo de usuários

Opcionalmente, defina o nome e a descrição do teste A/B ou de um ou mais grupos de usuários.

A solicitação a seguir cria um teste A/B no nível de campanha que dura quatro dias e tem dois grupos de usuários com 50% dos usuários em cada grupo. O primeiro grupo de usuários é baseado nas campanhas f2qcw e f2tht; o segundo grupo de usuários é baseado nas campanhas f2rqi e f2tws. A solicitação também adiciona nomes e descrições a algumas partes da entidade.

twurl -X POST -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab\_tests" -d '\{"end\_time": "2020-12-05T01:00:00Z", "entity\_type" : "CAMPAIGN", "start\_time": "2020-12-01T01:00:00Z", "user\_groups": \[\{"entity\_ids": \["f2qcw", "f2tht"], "size": "50.00", "name": "first group"},\{"entity\_ids": \["f2rqi", "f2tws"], "size": "50.00", "name": "second group", "description": "second AB test group"}], "name": "first AB test", "description": "documentation example"}'

```json
twurl -X POST -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab_tests" -d '{"end_time": "2020-12-05T01:00:00Z", "entity_type" : "CAMPAIGN", "start_time": "2020-12-01T01:00:00Z", "user_groups": [{"entity_ids": ["f2qcw", "f2tht"], "size": "50.00", "name": "first group"},{"entity_ids": ["f2rqi", "f2tws"], "size": "50.00", "name": "second group", "description": "second AB test group"}], "name": "first AB test", "description": "documentation example"}'

{
  "request": {
    "params": {
      "account_id": "18ce54d4x5t",
      "end_time": "2020-12-05T01:00:00Z",
      "entity_type": "CAMPAIGN",
      "start_time": "2020-12-01T01:00:00Z",
      "user_groups": [
        {
          "entity_ids": [
            "f2qcw",
            "f2tht"
          ],
          "size": "50.0",
          "name": "first group"
        },
        {
          "entity_ids": [
            "f2rqi",
            "f2tws"
          ],
          "size": "50.0",
          "name": "second group",
          "description": "second AB test group"
        }
      ],
      "name": "first AB test",
      "description": "documentation example"
    }
  },
  "data": {
    "created_at": "2020-12-01T00:00:00Z",
    "created_by": {
      "user_id": "756201191646691328",
      "username": "apimctestface"
    },
    "deleted": false,
    "description": "documentation example",
    "end_time": "2020-12-05T01:00:00Z",
    "entity_type": "CAMPAIGN",
    "id": "hr7l0",
    "name": "first AB test",
    "start_time": "2020-12-01T01:00:00Z",
    "status": "SCHEDULED",
    "user_groups": [
      {
        "id": "p1bcx",
        "name": "first group",
        "description": null,
        "size": "50.0",
        "entity_ids": [
          "f2qcw",
          "f2tht"
        ]
      },
      {
        "id": "p1bcy",
        "name": "second group",
        "description": "second AB test group",
        "size": "50.0",
        "entity_ids": [
          "f2rqi",
          "f2tws"
        ]
      }
    ],
    "updated_at": "2020-12-01T00:00:00Z",
    "updated_by": {
      "user_id": "756201191646691328",
      "username": "apimctestface"
    }
  }
}
```

Para testes A/B no nível de item de linha

A principal diferença entre os testes A/B nos níveis de campanha e de item de linha é o entity\_type. Para testes A/B no nível de item de linha, é necessário definir ‘entity\_type’ = ‘LINE\_ITEM’. Isso se aplica a todas as ações em um teste A/B já criado abaixo.

Requisitos:

1. Todos os itens de linha da campanha usada no teste A/B devem ser incluídos no teste dividido.
2. No nível de item de linha, somente divisão igual é permitida.
3. O número de itens de linha dos grupos de usuários permitido em 1 teste dividido deve ser menor ou igual a 5.
4. Apenas 1 item de linha por grupo de usuários.

<div id="updating">
  ### Atualizando
</div>

Atualize um Teste A/B usando o endpoint [PUT accounts/:account\_id/ab\_tests/:ab\_test\_id](https://developer.x.com/en/docs/x-ads-api/measurement/api-reference/ab-tests). Esse endpoint requer o envio de um JSON no corpo da solicitação. O Content-Type deve ser definido como application/json.

Como outros endpoints de atualização, o endpoint [PUT accounts/:account\_id/ab\_tests/:ab\_test\_id](/pt-BR/x-ads-api/measurement/ab-testing#get-accounts-account-id-ab-tests) exige que o ID do Teste A/B seja referenciado na URL. Em geral, Testes A/B só podem ser atualizados quando o status é SCHEDULED. Há uma exceção: é possível atualizar o end\_time do Teste A/B enquanto ele está LIVE.

Este endpoint oferece suporte a JSON parcial com IDs de objeto. Aplicam-se os seguintes princípios:

- Para adicionar ou remover objetos ou elementos, envie o array inteiro (e suas subestruturas); trata-se de uma operação de **substituição**

- Caso contrário, modifique (altere, adicione, remova) _campos_ existentes referenciando nomes de chave ou IDs

  - Para remover um campo, defina seu valor como null

  - Campos que não são enviados não são modificados

Por exemplo, para adicionar um terceiro grupo de usuários ao Teste A/B criado anteriormente, é necessário enviar o array user\_groups com os dois objetos de grupo de usuários existentes e também com o novo que você deseja adicionar. Pense nisso como _recriar_ o array user\_groups; envie os dados como se estivesse criando-o desde o início (não envie IDs de objetos de grupo de usuários). O array user\_groups na solicitação de atualização poderia ser representado da seguinte forma.

```json
[
  {
    "entity_ids": [
      "f2qcw",
      "f2tht"
    ],
    "size": "30.0",
    "name": "first group"
  },
  {
    "entity_ids": [
      "f2rqi",
      "f2tws"
    ],
    "size": "30.0",
    "name": "second group",
    "description": "second AB test group"
  },
  {
    "entity_ids": [
      "i1vwr",
      "i1xre"
    ],
    "size": "40.0"
  }
]
```

Observe que os valores de size nos objetos ainda somam 100,00. Se não os tivéssemos atualizado para os dois primeiros objetos — anteriormente definidos como 50,00 cada — a solicitação teria falhado.

Se, em vez disso, quiséssemos apenas adicionar uma descrição ao primeiro grupo de usuários, o array user\_groups na solicitação de atualização seria representado da seguinte forma.

```json
[
  {
    "id": "p1bcx",
    "description": "updated using a PUT request"
  }
]
```

Referenciamos o objeto do grupo de usuários pelo ID e incluímos apenas o campo que desejamos modificar.

<div id="request-examples">
  #### Exemplos de requisição
</div>

Esta seção fornece exemplos adicionais de solicitações de atualização. Considere que elas são chamadas sequencialmente. Os blobs JSON estão formatados para facilitar a leitura. As respostas foram omitidas.

Para fazer as seguintes modificações, a requisição seria representada da seguinte forma. (É a mesma do exemplo usado anteriormente.)

1. Adiciona um terceiro grupo de usuários sem nome ou descrição

2. Altera a porcentagem de usuários em cada grupo de usuários

twurl -X PUT -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab\_tests/hr7l0" -d '

```json
twurl -X PUT -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab_tests/hr7l0" -d '
{
  "user_groups": [
    {
      "entity_ids": [
        "f2qcw",
        "f2tht"
      ],
      "size": "30.00",
      "name": "first group"
    },
    {
      "entity_ids": [
        "f2rqi",
        "f2tws"
      ],
      "size": "30.00",
      "name": "second group",
      "description": "second AB test group"
    },
    {
      "entity_ids": [
        "i1vwr",
        "i1xre"
      ],
      "size": "40.00"
    }
  ]
}'
```

Para fazer as seguintes modificações, a requisição seria representada da seguinte forma.

1. Remove a descrição do teste A/B

2. Adiciona uma descrição ao primeiro grupo de usuários

3. Adiciona um ID de entidade (f2syz) ao segundo grupo de usuários

twurl -X PUT -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab\_tests/hr7l0" -d '

```json
twurl -X PUT -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab_tests/hr7l0" -d '
{
  "description": null,
  "user_groups": [
    {
      "id": "p1bcx",
      "description": "first AB test group"
    },
    {
      "id": "p1bcy",
      "entity_ids": [
        "f2rqi",
        "f2tws",
        "f2syz"
      ]
    }
  ]
}'
```

A terceira modificação exige que enviemos os dois IDs de entidade existentes junto com o novo. Observe que nenhuma alteração foi feita no terceiro grupo de usuários.

Para fazer as seguintes modificações, a requisição seria representada da seguinte forma.

1. Remove o segundo grupo de usuários

2. Altera a porcentagem de usuários em cada grupo de usuários

```json
twurl -X PUT -H ads-api.x.com "/8/accounts/18ce54d4x5t/ab_tests/hr7l0" -d '
{
  "user_groups": [
    {
      "entity_ids": [
        "f2qcw",
        "f2tht"
      ],
      "size": "55.00",
      "name": "first group"
    },
    {
      "entity_ids": [
        "i1vwr",
        "i1xre"
      ],
      "size": "45.00"
    }
  ]
}'
```

<div id="api-reference">
  ## Referência da API
</div>

<div id="ab-tests">
  ### Testes A/B
</div>

[]()

<Button href="https://app.getpostman.com/run-collection/1d12b9fc623b8e149f87">
  Executar no Postman
</Button>

#### GET accounts/:account\_id/ab\_tests

Recupere detalhes de alguns ou de todos os testes A/B.

<div id="resource-url">
  ##### URL do recurso
</div>

`https://ads-api.x.com/12/accounts/:account_id/ab_tests`

<div id="parameters">
  ##### Exemplo de requisição
</div>

`GET https://ads-api.x.com/12/accounts/18ce54d4x5t/ab_tests`

<div id="example-request">
  ##### Exemplo de resposta
</div>

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t"
        }
      },
      "data": [
        {
          "created_at": "2022-05-25T00:00:00Z",
          "created_by": {
            "user_id": "756201191646691328",
            "username": "apimctestface"
          },
          "deleted": false,
          "description": "exemplo de documentação",
          "end_time": "2022-05-30T01:00:00Z",
          "entities": [
            {
              "id": "p1bcx",
              "account_id": "18ce54d4x5t"
            },
            {
              "id": "p1bcy",
              "account_id": "18ce54d4x5t"
            }
          ],
          "entity_type": "CAMPAIGN",
          "id": "hr7l0",
          "name": "primeiro teste A/B",
          "start_time": "2022-05-25T01:00:00Z",
          "status": "SCHEDULED",
          "user_groups": [
            {
              "id": "p1bcx",
              "name": "primeiro grupo",
              "description": null,
              "size": "50.0",
              "entity_ids": [
                "f2qcw",
                "f2tht"
              ]
            },
            {
              "id": "p1bcy",
              "name": "segundo grupo",
              "description": "segundo grupo do teste A/B",
              "size": "50.0",
              "entity_ids": [
                "f2rqi",
                "f2tws"
              ]
            }
          ],
          "updated_at": "2022-05-25T00:00:00Z",
          "updated_by": {
            "user_id": "756201191646691328",
            "username": "apimctestface"
          }
        }
      ],
      "next_cursor": null
    }
```

#### POST accounts/:account\_id/ab\_tests

Crie um novo teste A/B.

Todos os parâmetros são enviados no corpo da requisição e é necessário usar `Content-Type: application/json`.

<div id="resource-url">
  ##### URL do recurso
</div>

`https://ads-api.x.com/12/accounts/:account_id/ab_tests`

<div id="resource-url">
  ##### Parâmetros
</div>

| Nome | Descrição |
| :--- | :--- |
| account\_id  <br />_obrigatório_ | O identificador da conta utilizada. Aparece no caminho do recurso e geralmente é um parâmetro obrigatório para todas as solicitações da API de Anúncios do X, exceto [GET accounts](/pt-BR/x-ads-api/campaign-management#accounts). A conta especificada deve estar associada ao usuário autenticado.<br /><br />Tipo: string<br /><br />Exemplo: `18ce54d4x5t` |
| end\_time  <br />_obrigatório_ | O horário, em ISO 8601, em que o teste A/B terminará.<br /><br />Tipo: string<br /><br />Exemplo: `2020-10-02T00:00:00Z` |
| entity\_type  <br />_obrigatório_ | O tipo de entidade a ser usado para as divisões dos grupos de usuários.<br /><br />Tipo: enum<br /><br />Valores possíveis: `CAMPAIGN`, `LINE_ITEM` |
| start\_time  <br />_obrigatório_ | O horário, em ISO 8601, em que o teste A/B começará.<br /><br />Tipo: string<br /><br />Exemplo: `2022-05-30T00:00:00Z` |
| user\_groups  <br />_obrigatório_ | Descreve os grupos de usuários. Mais informações na tabela abaixo. É possível especificar entre 2 e 30 grupos de usuários.<br /><br />Tipo: array of objects |
| description  <br />_opcional_ | A descrição do teste A/B. Comprimento máximo: 1.024 caracteres.<br /><br />Tipo: string<br /><br />Exemplo: `documentation example` |
| name  <br />_opcional_ | O nome do teste A/B. Comprimento máximo: 255 caracteres.<br /><br />Tipo: string<br /><br />Exemplo: `first AB test` |

#### Grupos de usuários

| Nome | Descrição |
| :--- | :--- |
| entity\_ids  <br />_obrigatório_ | Uma matriz de IDs de entidades.<br /><br />**Observação**: As entidades só podem ser associadas a um único teste A/B.<br /><br />Tipo: array<br /><br />Exemplo: `["dxi0l", "e66bl"]` |
| size  <br />_obrigatório_ | A porcentagem de usuários a ser alocada para este grupo de usuários. É um valor numérico representado como string, com no máximo duas casas decimais. Por exemplo, represente 40% como: 40, 40.0 ou 40.00.<br /><br />**Observação**: Os valores de tamanho entre os _objetos_ **devem** somar 100.00.<br /><br />Tipo: array<br /><br />Mín., Máx.: `1.00`, `99.00` |
| description  <br />_opcional_ | A descrição do grupo de usuários. Comprimento máximo: 1.024 caracteres.<br /><br />Tipo: string<br /><br />Exemplo: `segundo grupo de teste A/B` |
| name  <br />_opcional_ | O nome do grupo de usuários. Comprimento máximo: 255 caracteres.<br /><br />Tipo: string<br /><br />Exemplo: `primeiro grupo` |

### Exemplo de requisição

`POST https://ads-api.x.com/12/accounts/18ce54d4x5t/ab_tests -d '{"end_time": "2022-05-30T01:00:00Z", "entity_type" : "CAMPAIGN", "start_time": "2022-05-25T01:00:00Z", "user_groups": [{"entity_ids": ["f2qcw", "f2tht"], "size": "50.00", "name": "first group"},{"entity_ids": ["f2rqi", "f2tws"], "size": "50.00", "name": "second group", "description": "second AB test group"}], "name": "first AB test", "description": "documentation example"}'`

<div id="example-request">
  ### Exemplo de resposta
</div>

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "end_time": "2022-05-30T01:00:00Z",
          "entity_type": "CAMPAIGN",
          "start_time": "2022-05-25T01:00:00Z",
          "user_groups": [
            {
              "entity_ids": [
                "f2qcw",
                "f2tht"
              ],
              "size": "50.0",
              "name": "first group"
            },
            {
              "entity_ids": [
                "f2rqi",
                "f2tws"
              ],
              "size": "50.0",
              "name": "second group",
              "description": "second AB test group"
            }
          ],
          "name": "first AB test",
          "description": "documentation example"
        }
      },
      "data": {
        "created_at": "2022-05-25T00:00:00Z",
        "created_by": {
          "user_id": "756201191646691328",
          "username": "apimctestface"
        },
        "deleted": false,
        "description": "documentation example",
        "end_time": "2022-05-30T01:00:00Z",
        "entities": [
          {
            "id": "p1bcx",
            "account_id": "18ce54d4x5t"
          },
          {
            "id": "p1bcy",
            "account_id": "18ce54d4x5t"
          }
        ],
        "entity_type": "CAMPAIGN",
        "id": "hr7l0",
        "name": "first AB test",
        "start_time": "2022-05-25T01:00:00Z",
        "status": "SCHEDULED",
        "user_groups": [
          {
            "id": "p1bcx",
            "name": "first group",
            "description": null,
            "size": "50.0",
            "entity_ids": [
              "f2qcw",
              "f2tht"
            ]
          },
          {
            "id": "p1bcy",
            "name": "second group",
            "description": "second AB test group",
            "size": "50.0",
            "entity_ids": [
              "f2rqi",
              "f2tws"
            ]
          }
        ],
        "updated_at": "2022-05-25T00:00:00Z",
        "updated_by": {
          "user_id": "756201191646691328",
          "username": "apimctestface"
        }
      }
    }
```

#### PUT accounts/:account\_id/ab\_tests/:ab\_test\_id

Atualize o Teste A/B especificado.

Todos os parâmetros são enviados no corpo da requisição e é necessário definir o `Content-Type` como `application/json`.

Este endpoint oferece suporte a JSON parcial com IDs de objetos. Aplicam-se os seguintes princípios:

- Para adicionar ou remover objetos ou elementos, envie o array inteiro (e suas subestruturas); esta é uma operação de **substituição**
  - Pense nisso como recriar o array
- Caso contrário, modifique (altere, adicione, remova) os campos existentes referenciando nomes de chave ou IDs
  - Para remover um campo, defina seu valor como `null`
  - Campos que não forem enviados não serão modificados

Em geral, Testes A/B só podem ser atualizados enquanto o `status` for `SCHEDULED`. Há uma exceção: é possível atualizar o `end_time` do Teste A/B enquanto estiver `LIVE`.

<div id="resource-url">
  ##### URL do recurso
</div>

`https://ads-api.x.com/12/accounts/18ce54d4x5t/:ab_test_id`

<div id="resource-url">
  ##### Parâmetros
</div>

| Nome | Descrição |
| :--- | :--- |
| account\_id  <br />_obrigatório_ | O identificador da conta utilizada. Aparece no caminho do recurso e geralmente é um parâmetro obrigatório para todas as solicitações da API de Anúncios, exceto [GET accounts](/pt-BR/x-ads-api/campaign-management#accounts). A conta especificada deve estar associada ao usuário autenticado.<br /><br />Tipo: string<br /><br />Exemplo: `18ce54d4x5t` |
| ab\_test\_id  <br />_obrigatório_ | Uma referência ao Teste A/B usado na solicitação.<br /><br />Tipo: string<br /><br />Exemplo: `hr7l0` |
| description  <br />_opcional_ | A descrição do Teste A/B. Tamanho máximo: 1.024 caracteres.<br /><br />**Observação**: Só pode ser atualizada enquanto o `status` do Teste A/B estiver como `SCHEDULED`.<br /><br />Tipo: string<br /><br />Exemplo: `documentation example` |
| end\_time  <br />_opcional_ | O horário, em ISO 8601, em que o Teste A/B terminará.<br /><br />**Observação**: Só pode ser atualizada enquanto o `status` do Teste A/B estiver como `SCHEDULED` ou `LIVE`.<br /><br />Tipo: string<br /><br />Exemplo: `2020-10-02T00:00:00Z` |
| name  <br />_opcional_ | O nome do Teste A/B. Tamanho máximo: 255 caracteres.<br /><br />**Observação**: Só pode ser atualizado enquanto o `status` do Teste A/B estiver como `SCHEDULED`.<br /><br />Tipo: string<br /><br />Exemplo: `first AB test` |
| start\_time  <br />_opcional_ | O horário, em ISO 8601, em que o Teste A/B começará.<br /><br />**Observação**: Só pode ser atualizada enquanto o `status` do Teste A/B estiver como `SCHEDULED`.<br /><br />Tipo: string<br /><br />Exemplo: `2022-05-30T00:00:00Z` |
| user\_groups  <br />_obrigatório_ | Descreve os grupos de usuários. Mais informações na tabela abaixo.<br /><br />**Observação**: Só pode ser atualizado enquanto o `status` do Teste A/B estiver como `SCHEDULED`.<br /><br />Tipo: array de objetos |

#### Grupos de usuários

| Nome | Descrição |
| :--- | :--- |
| id  <br />_às vezes obrigatório_ | Uma referência ao objeto de grupo de usuários com o qual você está operando na solicitação.<br /><br />**Observação**: Obrigatório ao modificar (alterar, adicionar ou remover) _campos_ do objeto de grupo de usuários.<br /><br />**Observação**: Não especifique um ID ao adicionar ou remover objetos de grupo de usuários inteiros.<br /><br />Tipo: string<br /><br />Exemplo: `p1bcx` |
| description  <br />_opcional_ | A descrição do grupo de usuários. Comprimento máximo: 1.024 caracteres.<br /><br />**Observação**: Remova definindo o campo com o valor `null`.<br /><br />Tipo: string<br /><br />Exemplo: `second AB test group` |
| entity\_ids  <br />_opcional_ | Um array de IDs de entidades.<br /><br />**Observação**: Esta é uma operação de substituição. Ela sobrescreve o que foi definido anteriormente.<br /><br />**Observação**: As entidades só podem estar associadas a um teste A/B.<br /><br />Tipo: array<br /><br />Exemplo: `["dxi0l", "e66bl"]` |
| name  <br />_opcional_ | O nome do grupo de usuários. Comprimento máximo: 255 caracteres.<br /><br />**Observação**: Remova definindo o campo com o valor `null`.<br /><br />Tipo: string<br /><br />Exemplo: `first group` |
| size  <br />_opcional_ | A porcentagem de usuários a alocar para este grupo de usuários. É um valor numérico representado como string com no máximo duas casas decimais. Por exemplo, represente 40% como: 40, 40.0 ou 40.00.<br /><br />**Observação**: Os valores de tamanho entre _objetos_ **devem** somar 100.00.<br /><br />Tipo: string<br /><br />Mín., máx.: `1.00`, `99.00` |

<div id="parameters">
  ##### Exemplo de requisição
</div>

Esta requisição faz as seguintes modificações.

1. Remove a descrição do teste A/B
2. Altera o horário de término
3. Adiciona uma descrição ao primeiro grupo de usuários
4. Altera a porcentagem de usuários em cada grupo de usuários
5. Adiciona um ID de entidade (`f2syz`) ao segundo grupo de usuários

`PUT https://ads-api.x.com/12/accounts/18ce54d4x5t/ab_tests/hr7l0 -d '{"description": null, "end_time": "2022-06-01T01:00:00Z", "user_groups": [{"id": "p1bcx", "description": "first AB test group", "size": "60.00"},{"id": "p1bcy", "size": "40.00", "entity_ids": ["f2rqi", "f2tws", "f2syz"]}]}'`

<div id="example-request">
  ##### Exemplo de resposta
</div>

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "ab_test_id": "hr7l0",
          "description": null,
          "end_time": "2022-06-01T01:00:00Z",
          "user_groups": [
            {
              "id": "p1bcx",
              "description": "primeiro grupo do teste A/B",
              "size": "60.0"
            },
            {
              "id": "p1bcy",
              "size": "40.0",
              "entity_ids": [
                "f2rqi",
                "f2tws",
                "f2syz"
              ]
            }
          ]
        }
      },
      "data": {
        "created_at": "2020-05-25T00:00:00Z",
        "created_by": {
          "user_id": "756201191646691328",
          "username": "apimctestface"
        },
        "deleted": false,
        "description": null,
        "end_time": "2022-06-01T01:00:00Z",
        "entities": [
          {
            "id": "p1bcx",
            "account_id": "18ce54d4x5t"
          },
          {
            "id": "p1bcy",
            "account_id": "18ce54d4x5t"
          }
        ],
        "entity_type": "CAMPAIGN",
        "id": "hr7l0",
        "name": "primeiro teste A/B",
        "start_time": "2022-05-25T01:00:00Z",
        "status": "SCHEDULED",
        "user_groups": [
          {
            "id": "p1bcx",
            "name": "primeiro grupo",
            "description": "primeiro grupo do teste A/B",
            "size": "60.0",
            "entity_ids": [
              "f2qcw",
              "f2tht"
            ]
          },
          {
            "id": "p1bcy",
            "name": "segundo grupo",
            "description": "segundo grupo do teste A/B",
            "size": "40.0",
            "entity_ids": [
              "f2rqi",
              "f2tws",
              "f2syz"
            ]
          }
        ],
        "updated_at": "2022-05-25T00:17:23Z",
        "updated_by": {
          "user_id": "756201191646691328",
          "username": "apimctestface"
        }
      }
    }
```

#### DELETE accounts/:account\_id/ab\_tests/:ab\_test\_id

Exclui o teste A/B especificado.

**Observação**: A exclusão de um teste A/B é irreversível e tentativas subsequentes de excluir o recurso retornarão HTTP 404.

<div id="resource-url">
  ##### URL do recurso
</div>

`https://ads-api.x.com/12/accounts/:account_id/ab_tests/:ab_test_id`

<div id="resource-url">
  ##### Parâmetros
</div>

| Nome | Descrição |
| :--- | :--- |
| ab\_test\_id  <br />_obrigatório_ | Referência ao teste A/B usado na solicitação.<br /><br />Tipo: string<br /><br />Exemplo: `hr7l0` |

<div id="parameters">
  ##### Exemplo de requisição
</div>

`DELETE https://ads-api.x.com/12/accounts/18ce54d4x5t/ab_tests/hr7l0`

<div id="example-request">
  ### Exemplo de resposta
</div>

```json
    {
      "request": {
        "params": {
          "account_id": "18ce54d4x5t",
          "ab_test_id": "hr7l0"
        }
      },
      "data": {
        "created_at": "2022-05-25T00:00:00Z",
        "created_by": {
          "user_id": "756201191646691328",
          "username": "apimctestface"
        },
        "deleted": true,
        "description": null,
        "end_time": "2022-06-01T01:00:00Z",
        "entities": [
          {
            "id": "p1bcx",
            "account_id": "18ce54d4x5t"
          },
          {
            "id": "p1bcy",
            "account_id": "18ce54d4x5t"
          }
        ],
        "entity_type": "CAMPAIGN",
        "id": "hr7l0",
        "name": "first AB test",
        "start_time": "2022-05-25T01:00:00Z",
        "status": "SCHEDULED",
        "user_groups": [
          {
            "id": "p1bcx",
            "name": "first group",
            "description": "first AB test group",
            "size": "60.0",
            "entity_ids": [
              "f2qcw",
              "f2tht"
            ]
          },
          {
            "id": "p1bcy",
            "name": "second group",
            "description": "second AB test group",
            "size": "40.0",
            "entity_ids": [
              "f2rqi",
              "f2tws",
              "f2syz"
            ]
          }
        ],
        "updated_at": "2022-06-02T00:18:31Z",
        "updated_by": {
          "user_id": "756201191646691328",
          "username": "apimctestface"
        }
      }
    }
```