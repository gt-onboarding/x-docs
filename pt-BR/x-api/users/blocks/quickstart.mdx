---
title: Guia rápido
sidebarTitle: Guia rápido
---

import { Button } from '/snippets/pt-BR/button.mdx';

<div id="getting-started-with-the-blocks-lookup-endpoint">
  ## Introdução ao endpoint de consulta de bloqueios
</div>

Este guia de início rápido ajudará você a fazer sua primeira solicitação ao endpoint de consulta de bloqueios usando o [Postman](/pt-BR/tutorials/postman-getting-started).

Se você quiser ver exemplos de código em diferentes linguagens, visite nosso repositório no GitHub com o [código de exemplo da API do X v2](https://github.com/xdevplatform/Twitter-API-v2-sample-code).

<Note>
  ### Pré-requisitos

  Para concluir este guia, você precisará de um conjunto de [chaves e tokens](/pt-BR/resources/fundamentals/authentication) para autenticar sua solicitação. Você pode gerar essas chaves e tokens seguindo estas etapas:

  - [Inscreva-se para uma conta de desenvolvedor](https://developer.x.com/en/apply-for-access) e aguarde a aprovação.
  - Crie um [Projeto](/pt-BR/resources/fundamentals/projects) e um [App de desenvolvedor](/pt-BR/resources/fundamentals/developer-apps) associado no portal do desenvolvedor.
  - Acesse a página “Chaves e tokens” do seu App para gerar as credenciais necessárias. Certifique-se de salvar todas as credenciais em um local seguro.
</Note>

<div id="steps-to-build-a-blocks-lookup-request">
  ### Etapas para criar uma solicitação de consulta de bloqueios
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### Passo 1: Comece com uma ferramenta ou biblioteca
</div>

Há várias ferramentas, exemplos de código e bibliotecas que você pode usar para fazer uma solicitação a este endpoint, mas aqui usaremos o Postman para simplificar o processo.

Para carregar a coleção da API do X v2 no seu ambiente do Postman, clique no botão a seguir:

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Adicionar API do X v2 ao Postman
</Button>

Depois de carregar a coleção da API do X v2 no Postman, navegue até a pasta “Blocks” e selecione “Blocks Lookup”.
 

<div id="step-two-authenticate-your-request">
  #### Etapa dois: autentique sua solicitação
</div>

Para fazer uma solicitação corretamente à API do X, você precisa confirmar que tem permissão. Para isso, neste endpoint, você deve autenticar sua solicitação usando [OAuth 1.0a User Context](/pt-BR/resources/fundamentals/authentication) ou [OAuth 2.0 Authorization Code with PKCE](pt-BR/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2).

Neste exemplo, usaremos OAuth 1.0a User Context.

Você deve adicionar suas chaves e tokens — especificamente sua API Key, API Secret Key, OAuth 1.0a User Access Token e OAuth 1.0a User Access Token Secret — ao Postman. Você pode fazer isso selecionando o ambiente chamado “API do X v2” no canto superior direito do Postman e adicionando suas chaves e tokens nos campos “initial value” e “current value” (clicando no ícone de olho ao lado do menu suspenso de ambientes).

Essas variáveis serão automaticamente carregadas na guia de autorização da solicitação se você tiver feito isso corretamente.
 

<div id="step-three-specify-a-user">
  #### Etapa três: especifique um usuário
</div>

Com este endpoint, você deve informar seu ID de usuário ou o ID de um usuário autenticado para ver quem você bloqueou.

No Postman, vá até a aba "Params" e insira esse nome de usuário na coluna "Value" da variável de caminho id (na parte inferior da seção), certificando-se de não incluir espaços antes ou depois dos nomes de usuário.
 

|     |     |
| :--- | :--- |
| **Key** | **Value** |
| `id` | (seu ID de usuário) |
| max\_results | 5   |

<div id="step-four-identify-and-specify-which-fields-you-would-like-to-retrieve">
  #### Etapa quatro: identifique e especifique quais campos você deseja recuperar
</div>

Se você clicar no botão "Send" após a etapa três, receberá os campos padrão do [objeto de usuário](/pt-BR/x-api/fundamentals/data-dictionary#user) na sua resposta: id, name e username.

Se quiser receber campos adicionais além de id, name e username, será necessário especificá-los na sua solicitação com os parâmetros [fields](/pt-BR/x-api/fundamentals/fields) e/ou [expansions](/pt-BR/x-api/fundamentals/expansions).

Para este exercício, solicitaremos três conjuntos adicionais de campos de diferentes objetos:

1. O campo adicional user.created\_at nos objetos de usuário principais.
2. Os campos padrão do objeto dos Posts fixados associados para os usuários retornados: id e text.
3. O campo adicional tweet.created\_at nos objetos de Post associados.

No Postman, vá até a aba "Params" e adicione o seguinte par chave:valor à tabela "Query Params":

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Returned fields** |
| user.fields | created\_at | user.created\_at |
| expansions | pinned\_tweet\_id | tweet.id, tweet.text |
| tweet.fields | created\_at | includes.tweets.created\_at |

Agora você deverá ver uma URL semelhante, com o seu próprio ID de usuário em vez do do TwitterDev, ao lado do botão "Send":

```
      https://api.x.com/2/users/2244994945/blocking?user.fields=created_at&expansions=pinned_tweet_id&tweet.fields=created_at
```

<div id="step-five-make-your-request-and-review-your-response">
  #### Passo cinco: Envie sua requisição e analise a resposta
</div>

Quando tudo estiver configurado, clique no botão "Send" e você receberá uma resposta semelhante ao exemplo a seguir:

```
    {
  "data": [
    {
      "created_at": "2008-12-04T18:51:57.000Z",
      "id": "17874544",
      "username": "TwitterSupport",
      "name": "Twitter Support"
    },
    {
      "created_at": "2007-02-20T14:35:54.000Z",
      "id": "783214",
      "username": "Twitter",
      "name": "Twitter"
    },
    {
      "pinned_tweet_id": "1389270063807598594",
      "created_at": "2018-11-21T14:24:58.000Z",
      "id": "1065249714214457345",
      "username": "TwitterSpaces",
      "name": "Spaces"
    },
    {
      "pinned_tweet_id": "1293595870563381249",
      "created_at": "2007-05-23T06:01:13.000Z",
      "id": "6253282",
      "username": "XAPI",
      "name": "X API"
    }
  ],
  "includes": {
    "tweets": [
      {
        "created_at": "2021-05-03T17:26:09.000Z",
        "id": "1389270063807598594",
        "text": "now, everyone with 600 or more followers can host a Space.\n\nbased on what we've learned, these accounts are likely to have a good experience hosting because of their existing audience. before bringing the ability to create a Space to everyone, we’re focused on a few things. 🧵"
      },
      {
        "created_at": "2020-08-12T17:11:04.000Z",
        "id": "1293595870563381249",
        "text": "X API v2: Early Access released\n\nToday we announced Early Access to the first endpoints of the new Twitter API!\n\n#TwitterAPI #EarlyAccess #VersionBump https://t.co/g7v3aeIbtQ"
      }
    ]
  }
```

<div id="step-six-paginate-through-your-results">
  #### Etapa seis: paginar os resultados
</div>

Você pode notar que há um objeto meta na parte inferior da resposta. Se você recebeu um next\_token, isso indica que há outra página de resultados que pode ser recuperada. Para obter a próxima página, capture o valor do campo next\_token e adicione-o à solicitação como valor de um parâmetro adicional chamado pagination\_token.
 

|     |     |
| :--- | :--- |
| **Chave** | **Valor** |
| pagination\_token | 1D3PU6DRII9HEZZZ |

Se você enviar a solicitação após adicionar esse parâmetro, os próximos cinco resultados serão entregues na carga útil subsequente, já que definimos max\_results como 5 na etapa três. Você pode continuar repetindo esse processo até que todos os resultados sejam retornados, mas também pode usar o parâmetro max\_results para solicitar até 1000 usuários por solicitação, reduzindo a necessidade de paginação.