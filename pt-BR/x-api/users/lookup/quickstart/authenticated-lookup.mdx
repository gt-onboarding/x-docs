---
title: Consulta de usuário autenticado
sidebarTitle: Consulta de usuário autenticado
---

import { Button } from '/snippets/pt-BR/button.mdx';

<div id="getting-started-with-the-authenticated-user-lookup-endpoint">
  ## Introdução ao endpoint de consulta do usuário autenticado
</div>

Este guia de início rápido ajudará você a fazer sua primeira solicitação ao endpoint de consulta do usuário autenticado usando o Postman.

Visite nosso repositório no GitHub de [X API v2 sample code](https://github.com/xdevplatform/Twitter-API-v2-sample-code) se quiser ver exemplos de código em diferentes linguagens.

<Note>
  ### Pré-requisitos

  Para concluir este guia, você precisará de um conjunto de [keys and tokens](/pt-BR/resources/fundamentals/authentication) para autenticar sua solicitação. Você pode gerar essas keys and tokens seguindo estas etapas:

  - [Inscreva-se para uma conta de desenvolvedor](https://developer.x.com/en/apply-for-access) e aguarde a aprovação.
  - Crie um [Project](/pt-BR/resources/fundamentals/projects) e um [developer App](/pt-BR/resources/fundamentals/developer-apps) associado no portal do desenvolvedor.
  - Acesse a página “Keys and tokens” do seu App para gerar as credenciais necessárias. Certifique-se de salvar todas as credenciais em um local seguro.
</Note>

<div id="steps-to-build-an-authenticated-user-lookup-request">
  ### Etapas para criar uma requisição de consulta de usuário autenticado
</div>

<div id="step-one-start-with-a-tool-or-library">
  #### Etapa 1: comece com uma ferramenta ou biblioteca
</div>

Há várias ferramentas, exemplos de código e bibliotecas que você pode usar para fazer uma solicitação a este endpoint, mas aqui usaremos o Postman para simplificar o processo.

Para adicionar a coleção da API do X v2 ao seu ambiente no Postman, clique no botão a seguir:

<Button href="https://app.getpostman.com/run-collection/9956214-784efcda-ed4c-4491-a4c0-a26470a67400">
  Adicionar API do X v2 ao Postman
</Button>

Depois de carregar a coleção da API do X v2 no Postman, navegue até a pasta “Authenticated User Lookup” e selecione “Lookup an Authenticated User”.

<div id="step-two-authenticate-your-request">
  #### Etapa dois: autentique sua solicitação
</div>

Para fazer uma solicitação corretamente à API do X, você precisa verificar que tem permissão. Para isso, neste endpoint, você deve autenticar sua solicitação usando [OAuth 1.0a User Context](/pt-BR/resources/fundamentals/authentication) ou [OAuth 2.0 Authorization Code with PKCE](pt-BR/resources/fundamentals/authentication#oauth-2-0-authorization-code-flow-with-pkce-2).

Neste exemplo, usaremos OAuth 1.0a User Context.

Você deve adicionar suas chaves e tokens — especificamente sua API Key, API Secret Key, OAuth 1.0a user Access Token e OAuth 1.0a user Access Token Secret — ao Postman. Você pode fazer isso selecionando o ambiente chamado “API do X v2” no canto superior direito do Postman e adicionando suas chaves e tokens nos campos “initial value” e “current value” (clicando no ícone de olho ao lado do menu suspenso de ambientes).

Essas variáveis serão preenchidas automaticamente na aba de autorização da solicitação se você tiver feito isso corretamente.
 

<div id="step-three-determine-which-user-fields-you-want-to-retrieve">
  ##### Etapa três: determine quais campos de usuário você deseja recuperar
</div>

Se você clicar no botão "Send" após a etapa três, receberá os campos padrão do [objeto de usuário](/pt-BR/x-api/fundamentals/data-dictionary#user) na resposta: id, name e username.

Se quiser receber campos adicionais além de id, name e username, será necessário especificá-los na solicitação com os parâmetros [field](/pt-BR/x-api/fundamentals/fields) e/ou [expansion](/pt-BR/x-api/fundamentals/expansions).

Para este exercício, solicitaremos três conjuntos adicionais de campos de objetos diferentes:

1. O campo adicional user.created\_at nos objetos de usuário primários.

2. Os campos padrão do objeto dos Posts fixados associados para os usuários retornados: id e text.

3. O campo adicional tweet.created\_at nos objetos de Post associados.

No Postman, acesse a aba "Params" e adicione o seguinte par chave:valor à tabela "Query Params":

|     |     |     |
| :--- | :--- | :--- |
| **Key** | **Value** | **Returned fields** |
| user.fields | created\_at | user.created\_at |
| expansions | pinned\_tweet\_id | includes.tweets.id,  <br />includes.tweets.text |
| tweet.fields | created\_at, author\_id | includes.tweets.created\_at, includes\_tweets.author\_id |

Agora você deve ver uma URL semelhante ao lado do botão "Send":

```
      https://api.x.com/2/users/me?user.fields=created_at&expansions=pinned_tweet_id&tweet.fields=author_id,created_at
```