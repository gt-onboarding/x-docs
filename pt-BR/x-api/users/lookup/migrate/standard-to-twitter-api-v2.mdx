---
title: v1 para v2
sidebarTitle: v1 para v2
---

import { Button } from '/snippets/pt-BR/button.mdx';

<div id="standard-v11-compared-to-x-api-v2">
  ### Padrão v1.1 em comparação com a API do X v2
</div>

Se você tem trabalhado com os endpoints padrão v1.1 GET users/show e GET users/lookup, o objetivo deste guia é ajudar você a entender as semelhanças e diferenças entre os endpoints de consulta de usuários do padrão e da API do X v2.

- **Semelhanças**
  - Contexto de usuário OAuth 1.0a
  - Limites de usuários por requisição
- **Diferenças**
  - URLs de endpoint
  - Requisitos de App e Projeto
  - Formato dos dados de resposta
  - Parâmetros de requisição

<div id="similarities">
  #### Semelhanças
</div>

**Método de autenticação OAuth 1.0a User Context**

O endpoint padrão oferece suporte a [OAuth 1.0a User Context](/pt-BR/resources/fundamentals/authentication#oauth-1-0a-2), enquanto os novos endpoints de busca de usuários da API do X v2 oferecem suporte tanto a OAuth 1.0a User Context quanto a [App only](/pt-BR/resources/fundamentals/authentication#oauth-2-0). Portanto, se você usava anteriormente um dos endpoints padrão v1.1 de busca de usuários, pode continuar usando o mesmo método de autenticação ao migrar para a versão da API do X v2.

Dependendo da sua biblioteca/pacote de autenticação preferido, a autenticação App only provavelmente é a forma mais simples de começar e pode ser configurada com um cabeçalho de requisição simples. Para saber como gerar um Access Token App only, consulte [este guia de App only](/pt-BR/resources/fundamentals/authentication#bearer-token-also-known-as-app-only).

**Limites de usuários por requisição**

O endpoint padrão v1.1 GET users/lookup permite especificar 100 usuários por requisição. Isso também vale para os endpoints GET /users e GET /users/by. Para especificar 100 usuários, você precisará passar o parâmetro ids (GET /users) ou o parâmetro username (GET /users/by) como parâmetro de consulta e incluir a lista de IDs de usuário/nomes de usuário em uma lista separada por vírgulas. 
 

<div id="differences">
  #### Diferenças
</div>

**URLs de endpoints**

- Endpoints padrão v1.1:
  - https://api.x.com/1.1/users/show (consulta por ID único ou nome de usuário)
  - https://api.x.com/1.1/users/lookup (consulta por múltiplos IDs ou nomes de usuário)
- Endpoints da API do X v2:
  - https://api.x.com/2/users (consulta por múltiplos IDs)
  - https://api.x.com/2/users/:id (consulta por ID único)
  - https://api.x.com/2/users/by (consulta por múltiplos nomes de usuário)
  - https://api.x.com/2/users/by/username/:username (consulta por nome de usuário único)

**Requisitos de App e Project**

Os endpoints da API do X v2 exigem o uso de credenciais de um [developer App](/pt-BR/resources/fundamentals/developer-apps) associado a um [Project](/pt-BR/resources/fundamentals/projects) ao autenticar suas solicitações. Todos os endpoints da API do X v1.1 podem usar credenciais de Apps independentes ou Apps associados a um projeto.

**Formato dos dados de resposta**

Uma das maiores diferenças entre os endpoints padrão v1.1 e a API do X v2 é como você seleciona quais campos serão retornados no payload.

Nos endpoints padrão, muitos campos da resposta são retornados por padrão, e você tem a opção de usar parâmetros para indicar quais campos ou conjuntos de campos devem ser incluídos no payload.

A API do X v2 retorna apenas os campos user id, name e username por padrão. Para solicitar campos ou objetos adicionais, você precisará usar os parâmetros [fields](/pt-BR/x-api/fundamentals/fields) e [expansions](/pt-BR/x-api/fundamentals/expansions). Quaisquer campos de usuário solicitados a partir desse endpoint serão retornados no objeto de usuário principal. Qualquer objeto Post expandido e seus campos serão retornados em um objeto includes dentro da sua resposta. Você pode então relacionar quaisquer objetos expandidos ao objeto de usuário correspondendo os IDs presentes tanto no usuário quanto no objeto Post expandido.

Recomendamos ler mais sobre esses novos parâmetros em seus respectivos guias ou consultar nosso guia sobre [como usar fields e expansions](/pt-BR/x-api/fundamentals/data-dictionary#how-to-use-fields-and-expansions).

Também preparamos um [guia de migração de formato de dados](/pt-BR/x-api/migrate/data-format-migration#migrating-from-standard-v1-1s-data-format-to-v2) que pode ajudar você a mapear campos padrão v1.1 para os novos campos v2. Esse guia também fornece o parâmetro específico de expansion e field que você precisará passar na sua solicitação v2 para retornar campos específicos.

Além das mudanças na forma de solicitar certos campos, a API do X v2 também está introduzindo novos designs JSON para os objetos retornados pelas APIs, incluindo os objetos [Post](/pt-BR/x-api/fundamentals/data-dictionary#tweet) e [user](/pt-BR/x-api/fundamentals/data-dictionary#user).

- No nível raiz do JSON, os endpoints padrão retornam objetos Post em um array statuses, enquanto a API do X v2 retorna um array data.
- Em vez de se referir a “statuses” Retweeted e Quoted, o JSON da API do X v2 se refere a Retweeted e Quoted Tweets. Muitos campos legados e obsoletos, como contributors e user.translator\_type, estão sendo removidos.
- Em vez de usar tanto favorites (no objeto Post) quanto favourites (no objeto user), a API do X v2 usa o termo like.
- O X está adotando a convenção de que valores JSON sem valor (por exemplo, null) não são escritos no payload. Atributos de Post e user só são incluídos se tiverem valores não nulos.

Também introduzimos um novo conjunto de campos no [objeto Post](/pt-BR/x-api/fundamentals/data-dictionary#tweet), incluindo:

- Um campo [conversation\_id](/pt-BR/x-api/fundamentals/conversation-id)
- Dois novos campos de [annotations](/pt-BR/x-api/fundamentals/post-annotations), incluindo context e entities
- Vários novos campos de [metrics](/pt-BR/x-api/fundamentals/metrics)
- Um novo campo reply\_setting, que mostra quem pode responder a um determinado Post

**Parâmetros de solicitação**

Os seguintes parâmetros de solicitação padrão v1.1 têm equivalentes na API do X v2:

|     |     |
| :--- | :--- |
| **Padrão** | **API do X v2** |
| user\_id | ids |
| screen\_name | username |

Há também um conjunto de parâmetros de solicitação de consulta de usuários padrão **não** suportados na API do X v2:

| Padrão | Comentário |
| :--- | :--- |
| include\_entities | Este parâmetro é usado para remover o nó entities do payload de Post. Ele foi substituído pela funcionalidade de campos adicionais e expansões. |