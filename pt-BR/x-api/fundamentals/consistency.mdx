---
title: Consistência
---

<div id="consistency-across-the-x-api-v2-endpoints">
  ## Consistência entre os endpoints da API do X v2
</div>

Um dos principais aspectos da nova versão v2 da API do X é a consistência entre os endpoints. Isso significa que os objetos retornados, os recursos e os comportamentos da API são uniformes em endpoints semelhantes.

Você pode esperar que os seguintes elementos sejam iguais em todos os endpoints:

<div id="path-naming">
  ### Nomeação de caminhos
</div>

A nomeação de caminhos sempre inclui a [versão](/pt-BR/x-api/fundamentals/versioning) do endpoint, seguida do **recurso**. Além disso, o caminho pode conter um **ID** relacionado ao recurso anterior, um **verbo de seleção** que ajuda a determinar quais dados retornar (por exemplo, `search` ou `sample`), um **verbo de entrega** que ajuda a determinar como os dados serão entregues (por exemplo, `stream`) ou outros recursos que têm uma **relação** com o recurso principal (por exemplo, `/user/12/tweets`). Por fim, você pode acrescentar um **parâmetro de consulta** ao final se o endpoint incluir parâmetros de consulta.

Aqui estão alguns exemplos de como esses itens de caminho e de consulta podem ser organizados:

`/version/resource/id?param1=value&param2=value /version/resource/delivery/selection?param1=value&param2=value`

Exemplos de solicitações reais:

`/2/tweets/1067094924124872705?expansions=attachments.media_keys&tweet.fields=author_id /2/users/2244994945?user.fields=created_at,description /2/tweets/search/stream /2/tweets/search/recent?query=snow`

<div id="json-schema">
  ### Esquema JSON
</div>

As respostas às requisições são definidas usando o [JSON Schema](http://json-schema.org/). Isso significa que as requisições retornam, de forma consistente, conjuntos de objetos em arrays, com cada elemento tendo um ID. As requisições não retornam mapas com IDs como chaves.

<div id="response-object-and-parameters">
  ### Objeto de resposta e parâmetros
</div>

O objeto padrão retornado é o mesmo para cada endpoint desse tipo de objeto:

- Objetos `id` são sempre strings.
- Parâmetros e campos de resposta usam consistentemente a grafia do inglês americano.
- Os campos ficam vazios ou não são retornados se não houver valor.
- O objeto `entities` contém apenas entidades extraídas do texto do Post: isso inclui `urls`, `hashtags`, `mentions` e `cashtags`.
- Todas as informações relacionadas a cards, incluindo os campos `media_keys` e `poll_ids`, são retornadas no objeto `attachments`.

Veja a seguir um exemplo de objeto de resposta do endpoint de [consulta de Post único](/pt-BR/x-api/posts/post-lookup-by-post-id) (com o parâmetro [tweet.fields](/pt-BR/x-api/fundamentals/data-dictionary#tweet) definido como `author_id`, `entities`):

```json
{
   "data": {
       "id": "1278747501642657792",
       "text": "It's been a year since Twitter's Developer Labs launched.\n\nAs we build towards the next generation of the #TwitterAPI (coming VERY soon), see what we've learned and changed along the way. https://t.co/WvjuEWCa6G",
       "author_id": "2244994945",
       "entities": {
           "urls": [
               {
                   "start": 188,
                   "end": 211,
                   "url": "https://t.co/WvjuEWCa6G",
                   "expanded_url": "https://blog.x.com/developer/en_us/topics/tools/2020/a-year-with-twitter-developer-labs.html",
                   "display_url": "blog.x.com/developer/en_u…",
                   "images": [
                       {
                           "url": "https://pbs.twimg.com/news_img/1278747527043362816/7HQRkQeV?format=jpg&name=orig",
                           "width": 1600,
                           "height": 600
                       },
                       {
                           "url": "https://pbs.twimg.com/news_img/1278747527043362816/7HQRkQeV?format=jpg&name=150x150",
                           "width": 150,
                           "height": 150
                       }
                   ],
                   "status": 200,
                   "title": "A year with Twitter Developer Labs: What we've learned and changed",
                   "description": "Labs has been invaluable in helping us understand what works well and what doesn’t, what you liked and what you didn’t.",
                   "unwound_url": "https://blog.x.com/developer/en_us/topics/tools/2020/a-year-with-twitter-developer-labs.html"
               }
           ],
           "hashtags": [
               {
                   "start": 106,
                   "end": 117,
                   "tag": "TwitterAPI"
               }
           ]
       }
   }
}
```

<div id="authentication">
  ### Autenticação
</div>

Todos os endpoints da API do X v2 exigem autenticação. Muitos deles aceitam o método [OAuth 2.0 Bearer Token](/pt-BR/resources/fundamentals/authentication#oauth-2-0), que requer o envio de um Bearer Token na chamada ao endpoint para que a solicitação seja bem-sucedida.

Para endpoints que exigem autorização para criar, manipular ou recuperar dados em nome de outro usuário, use o [OAuth 1.0a User Context](/pt-BR/resources/fundamentals/authentication). Isso significa fornecer as [chaves e tokens da sua App de desenvolvedor](/pt-BR/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) [API keys and tokens](/pt-BR/resources/fundamentals/authentication#api-key-and-secret) , bem como um conjunto de [Access Tokens](/pt-BR/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) do usuário que você gera para o usuário em cujo nome está fazendo a solicitação. O [fluxo de OAuth em 3 etapas](/pt-BR/resources/fundamentals/authentication#obtaining-access-tokens-using-3-legged-oauth-flow) pode ajudar você a obter os Access Tokens. Use uma [ferramenta ou biblioteca](/pt-BR/x-api/tools-and-libraries/overview) que monte automaticamente esse cabeçalho de autorização.

Mais informações estão disponíveis em nossa documentação sobre [autenticação](/pt-BR/resources/fundamentals/authentication).

---

<div id="fields">
  ### Campos
</div>

O objeto retornado em cada endpoint é resumido. Para permitir maior personalização na resposta obtida da API, use o parâmetro [`fields`](/pt-BR/x-api/fundamentals/fields) para solicitar os campos desejados. Os campos permanecem consistentes entre endpoints. O objeto Post retornará os mesmos campos em todos os endpoints em que for retornado. O mesmo conjunto de campos pode ser consultado em endpoints semelhantes.

Por exemplo, é possível consultar os mesmos campos de Post em [Posts lookup](/pt-BR/x-api/posts/lookup/introduction) e no Post fixado expandido em [Users lookup](/pt-BR/x-api/users/lookup/introduction).

<div id="expansions">
  ### Expansions
</div>

Quando apropriado, as [expansions](/pt-BR/x-api/fundamentals/expansions) estão disponíveis para todos os campos de ID aninhados (por exemplo, todos os campos nomeados `*_id`, como `author_id`). As expansions também estão disponíveis para todos os campos que tenham um ID que não seja o identificador de nível superior do objeto atual. Por exemplo, em [Posts lookup](/pt-BR/x-api/posts/lookup/introduction), o Post é o objeto atual, com o campo `id` como identificador de nível superior. Os campos `author_id` ou `referenced_tweets.id` podem ser expandidos em objetos completos de usuário ou Post adicionando esses valores, separados por vírgula, ao parâmetro `expansions`.

[Relate quaisquer inconsistências](https://twitterdevfeedback.uservoice.com/) que você notar relacionadas a esses campos.