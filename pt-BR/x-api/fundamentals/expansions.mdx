---
title: Expansões
---

Com expansões, desenvolvedores podem expandir objetos referenciados no payload. Os objetos disponíveis para expansão são referenciados por ID. Por exemplo, os campos `referenced_tweets.id` e `author_id` retornados no payload de [Posts lookup](/pt-BR/x-api/posts/lookup/introduction) podem ser expandidos em objetos completos. Se você quiser solicitar campos relacionados ao usuário que publicou esse Post ou à mídia, enquete (poll) ou lugar incluídos nesse Post, será necessário passar o parâmetro de consulta de expansão correspondente na sua solicitação para receber esses dados na sua resposta. Atualmente, os endpoints v2 que retornam Posts, Usuários, Listas, Spaces e eventos de Mensagens Diretas oferecem suporte a expansões (veja os exemplos abaixo).

Ao incluir uma expansão na sua solicitação, incluiremos os campos padrão do objeto expandido na mesma resposta. Isso ajuda a retornar dados adicionais sem a necessidade de solicitações separadas. Se você quiser solicitar [campos](/pt-BR/x-api/fundamentals/fields) adicionais relacionados ao objeto expandido, poderá incluir o parâmetro de campos associado a esse objeto, juntamente com uma lista de campos separada por vírgulas que você deseja receber na sua resposta. Observe que os campos nem sempre são retornados na mesma ordem em que foram solicitados na consulta.

O payload de Post abaixo contém IDs de referência para objetos complementares que podemos expandir, incluindo o `author_id` de quem publicou o Post, o `id` de um Post referenciado e uma `media_key` para um anexo de mídia.

```json
{
    "data": {
        "attachments": {
            "media_keys": ["16_1211797899316740096"]
        },
        "author_id": "2244994945",
        "id": "1212092628029698048",
        "referenced_tweets": [
            {
                "type": "replied_to",
                "id": "1212092627178287104"
            }
        ],
        "text": "We believe the best future version of our API will come from building it with YOU. Here’s to another great year with everyone who builds on the Twitter platform. We can’t wait to continue working with you in the new year. https://t.co/yvxdK6aOo2"
    }
}
```

<div id="available-expansions-for-post-payloads">
  ### Expansões disponíveis para payloads de Post
</div>

| Expansion                      | Description                                                                        |
|:--------------------------------|:------------------------------------------------------------------------------------|
| `author_id`                    | Retorna um objeto de usuário que representa o autor do Post                        |
| `referenced_tweets.id`         | Retorna um objeto de Post ao qual este Post faz referência (como Retweet, Post citado ou resposta) |
| `edit_history_tweet_ids`       | Retorna objetos de Post que fazem parte do histórico de edições de um Post         |
| `in_reply_to_user_id`          | Retorna um objeto de usuário que representa o autor do Post ao qual este Post solicitado é uma resposta |
| `attachments.media_keys`       | Retorna um objeto de mídia que representa as imagens, vídeos e GIFs incluídos no Post |
| `attachments.poll_ids`         | Retorna um objeto de enquete contendo metadados da enquete incluída no Post        |
| `geo.place_id`                 | Retorna um objeto de local contendo metadados do local marcado no Post             |
| `entities.mentions.username`   | Retorna um objeto de usuário do usuário mencionado no Post                         |
| `referenced_tweets.id.author_id` | Retorna um objeto de usuário do autor do Post referenciado                         |

<div id="available-expansion-for-user-payloads">
  ### Expansão disponível para payloads de usuário
</div>

| Expansão          | Descrição                                               |
|:--------------------|:-----------------------------------------------------------|
| `pinned_tweet_id`  | Retorna um objeto Post que representa o post fixado no topo do perfil do usuário |

<div id="available-expansions-for-direct-message-event-payloads">
  ### Expansões disponíveis para payloads de eventos de Mensagem Direta
</div>

| Expansão                 | Descrição                                                                |
|:--------------------------|:-------------------------------------------------------------------------|
| `attachments.media_keys` | Retorna um objeto Media que foi anexado a uma Mensagem Direta            |
| `referenced_tweets.id`   | Retorna um objeto Post que foi referenciado em uma Mensagem Direta       |
| `sender_id`              | Retorna um objeto User que representa o autor de uma Mensagem Direta e quem convidou um participante para entrar em uma conversa |
| `participant_ids`        | Retorna um objeto User que representa um participante que entrou ou saiu de uma conversa |

<div id="available-expansions-for-spaces-payloads">
  ### Expansões disponíveis para payloads de Spaces
</div>

| Expansion          | Description                                               |
|:--------------------|:-----------------------------------------------------------|
| `invited_user_ids` | Retorna objetos User que representam as contas convidadas |
| `speaker_ids`      | Retorna objetos User que representam as contas que falaram durante um Space |
| `creator_id`       | Retorna um objeto User que representa a conta que criou o Space |
| `host_ids`         | Retorna objetos User que representam as contas definidas como anfitriãs |
| `topics_ids`       | Retorna descrições de tópicos definidas pelo criador |

<div id="available-expansion-for-lists-payloads">
  ### Expansões disponíveis para payloads de Listas
</div>

| Expansão   | Descrição                                                    |
|:-------------|:----------------------------------------------------------------|
| `owner_id`  | Retorna um objeto User que representa a conta que criou e mantém a Lista |

<div id="expanding-the-media-object">
  ## Expandindo o objeto Media
</div>

Na solicitação a seguir, estamos pedindo a expansão `geo.place_id` para incluir junto com os campos padrão de Post:

**Exemplo de solicitação**

```
{`curl 'https://api.x.com/2/tweets/:ID?expansions=geo.place_id' --header 'Authorization: Bearer $ACCESS_TOKEN'`}
```

**Exemplo de resposta**

```
{`{
  "data": {
      "geo": {
          "place_id": "01a9a39529b27f36"
      },
      "id": "ID",
      "text": "Test"
  },
  "includes": {
      "places": [
          {
              "full_name": "Manhattan, NY",
              "id": "01a9a39529b27f36"
          }
      ]
  }
}`}

```

<div id="expanding-the-poll-object">
  ## Expandindo o objeto de enquete
</div>

Na solicitação a seguir, estamos pedindo a expansão `attachments.poll_ids` para incluir, junto com os campos padrão de post:

**Exemplo de solicitação**

<CodeBlock language="bash">
  {`curl 'https://api.x.com/2/tweets/1199786642791452673?expansions=attachments.poll_ids' --header 'Authorization: Bearer $ACCESS_TOKEN'`}
</CodeBlock>

**Exemplo de resposta**

```
{`{
  "data": {
      "attachments": {
          "poll_ids": ["1199786642468413448"]
      },
      "id": "1199786642791452673",
      "text": "C#"
  },
  "includes": {
      "polls": [
          {
              "id": "1199786642468413448",
              "options": [
                  {
                      "position": 1,
                      "label": "“C Sharp”",
                      "votes": 795
                  },
                  {
                      "position": 2,
                      "label": "“C Hashtag”",
                      "votes": 156
                  }
              ]
          }
      ]
  }
}`}
```

<div id="expanding-the-place-object">
  ## Expandindo o objeto Place
</div>

Na solicitação a seguir, estamos pedindo a expansão `geo.place_id` para incluir, junto com os campos padrão de Post:

**Exemplo de solicitação**

<CodeBlock language="bash">
  {`curl 'https://api.x.com/2/tweets/:ID?expansions=geo.place_id' --header 'Authorization: Bearer $ACCESS_TOKEN'`}
</CodeBlock>

**Exemplo de resposta**

```s
{`{
  "data": {
      "geo": {
          "place_id": "01a9a39529b27f36"
      },
      "id": "ID",
      "text": "Test"
  },
  "includes": {
      "places": [
          {
              "full_name": "Manhattan, NY",
              "id": "01a9a39529b27f36"
          }
      ]
  }
}`}
```