---
title: v1 para v2 (Enterprise)
sidebarTitle: v1 para v2 (Enterprise)
---

<div id="enterprise-compared-to-x-api-v2">
  ### Enterprise em comparação com a API do X v2
</div>

**Semelhanças**

- Granularidade
- Paginação
- Fuso horário

**Diferenças**

- URLs de endpoints
- Requisito de App e Projeto
- Períodos disponíveis
- Formato dos dados da resposta
- Métodos HTTP
- Formatos de data/hora na requisição
- Parâmetros da requisição
- Operadores de filtragem

<div id="similarities">
  #### Semelhanças
</div>

**Granularidade**

Embora o parâmetro para selecionar a granularidade dos dados retornados seja diferente (`bucket` para a versão enterprise e `granularity` para a versão v2), os valores que você pode passar nesse parâmetro são os mesmos, assim como o comportamento padrão:

- `day`
- `hour` (padrão)
- `minute`

**Paginação**

Embora a v2 tenha recursos adicionais de paginação (novos parâmetros que permitem navegar usando IDs de Post com `since_id` e `until_id`), tanto a enterprise quanto a v2 permitem paginar pelo tempo (`fromDate` e `toDate` na enterprise, e `start_time` e `end_time` na v2).

Se você estiver usando a versão enterprise, utilizará o parâmetro `next` para paginar; o próximo token será chamado `next` e estará localizado na raiz da resposta.

Se você estiver usando a v2, pode usar os parâmetros `next_token` ou `pagination_token` para paginar, e o próximo token estará localizado em `meta.next_token` na resposta.
 

**Fuso horário**

Conforme observado na seção de paginação, é possível navegar por diferentes páginas de dados usando o tempo tanto na enterprise quanto na v2. Em ambos os casos, você usará UTC como fuso horário ao utilizar esses parâmetros.

<div id="differences">
  #### Diferenças
</div>

**URLs dos endpoints**

- Endpoints enterprise:
  - 30 dias - `http://gnip-api.x.com/search/30day/accounts/:account_name/:label/counts.json`
  - Busca em todo o arquivo - `http://gnip-api.x.com/search/fullarchive/accounts/:account_name/:label/counts.json`
- Endpoints da API do X v2
  - Recentes (7 dias) - `https://api.x.com/2/tweets/counts/recent`
  - Busca em todo o arquivo - `https://api.x.com/2/tweets/counts/all`

**Requisito de App e Projeto**

Os endpoints da API do X v2 exigem que você use credenciais de um [App de desenvolvedor](/pt-BR/resources/fundamentals/developer-apps) associado a um [Projeto](/pt-BR/resources/fundamentals/developer-apps) ao autenticar suas solicitações. Todos os endpoints da X API v1.1 podem usar credenciais de Apps independentes ou Apps associados a um Projeto.
 

**Períodos disponíveis**

Tanto a API enterprise quanto a API do X v2 oferecem endpoints que permitem recuperar dados de volume de posts para todo o arquivo de posts.

No entanto, a API do X v2 não oferece um endpoint para período de 30 dias como a API enterprise. Em vez disso, oferece a já mencionada busca em todo o arquivo ou um período de 7 dias, que se alinham aos [endpoints de Busca de Posts v2](/pt-BR/x-api/posts/search/introduction).
 

**Formato de dados da resposta**

Há algumas pequenas diferenças no formato dos dados que você receberá via enterprise e API do X v2:

- As contagens da enterprise estão localizadas dentro de um objeto `results`, enquanto as contagens da v2 ficam dentro de um objeto `data`.
- Os campos de contagens da enterprise são `timePeriod` (hora de início) e `count`, enquanto a v2 separa o período em `start` e `end` (que usam um formato de data/hora diferente do enterprise, explicado em formatos de hora da solicitação) e renomeia o campo de contagem para `tweet_count`.
- Os metadados da enterprise incluem `totalCount`, `next` e o objeto `requestParameters` no nível raiz. Já a v2 não inclui o objeto `requestParameters` e move/renomeia o seguinte para um objeto `meta` no nível raiz: `total_tweet_count` e `next_token`.
   

**Métodos HTTP**

A versão enterprise da API permite enviar a solicitação como um método HTTP POST com corpo JSON ou como um método HTTP GET com string de consulta.

A v2 permite apenas o método HTTP GET com string de consulta.
 

**Formatos de hora da solicitação**

A versão enterprise deste endpoint usa o seguinte formato de data/hora tanto nos parâmetros de paginação quanto no campo de resposta `timePeriod`: `YYYYMMDDHHmm`

O endpoint v2 usa o formato de data/hora ISO 8601/RFC 3339 tanto nos parâmetros de paginação quanto nos campos de resposta `start` e `end`: `YYYY-MM-DDTHH:mm:ssZ`

**Parâmetros de solicitação**

A seguir está uma tabela dos parâmetros de solicitação para enterprise e API do X v2:

| Enterprise | Busca de Posts v2 |
| :--- | :--- |
| query | query |
| bucket | granularity |
| fromDate (YYMMDDHHmm) | start\_time (YYYY-MM-DDTHH:mm:ssZ) |
| toDate (YYMMDDHHmm) | end\_time (YYYY-MM-DDTHH:mm:ssZ) |
|     | since\_id |
|     | until\_id |
| next | next\_token e pagination\_token |

**Operadores de filtragem**

Embora os operadores entre enterprise e API do X v2 sejam em sua maioria os mesmos, há diferenças na disponibilidade e alguns novos operadores introduzidos apenas na API do X v2.

Para ver uma tabela completa dos operadores disponíveis para a API do X v2, enterprise e até premium, visite a [página de migração de contagens de posts](/pt-BR/x-api/posts/counts/migrate/overview).

<div id="api-reference-index">
  ## Índice da referência da API
</div>

Para ver a referência completa da API, selecione um endpoint abaixo.

<div id="recent-post-counts">
  ### Contagens recentes de Posts
</div>

|     |     |
| :--- | :--- |
| **Obtenha a contagem de Posts que correspondem a uma consulta nos últimos 7 dias** | `[GET /2/tweets/counts/recent](/x-api/posts/tweet-counts#api-reference-index/get-tweets-counts-recent)` |

<div id="full-archive-post-counts">
  ### Contagens de posts em todo o arquivo
</div>

Disponível apenas para quem tem [acesso Pro e Enterprise](/pt-BR/x-api/getting-started/about-x-api)

|     |     |
| :--- | :--- |
| **Receba a contagem de posts que correspondem a uma consulta** | `[GET /2/tweets/counts/all](/x-api/posts/tweet-counts#api-reference-index/get-tweets-counts-all)` |